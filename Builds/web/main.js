/*! For license information please see main.js.LICENSE.txt */
(()=>{var __webpack_modules__={4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}}))}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),o=0;o<64;)i[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(e,t,n){for(var i,o=null,a=[],s=0,c=0;t<n;){var l=e[t++];switch(c){case 0:a[s++]=r[l>>2],i=(3&l)<<4,c=1;break;case 1:a[s++]=r[i|l>>4],i=(15&l)<<2,c=2;break;case 2:a[s++]=r[i|l>>6],a[s++]=r[63&l],c=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=r[i],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(e,t,n){for(var r,o=n,s=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&s>1)break;if(void 0===(l=i[l]))throw Error(a);switch(s){case 0:r=l,s=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,s=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,s=3;break;case 3:t[n++]=(3&r)<<6|l,s=0}}if(1===s)throw Error(a);return n-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},5124:e=>{"use strict";function t(e,n){"string"==typeof e&&(n=e,e=void 0);var r=[];function i(e){if("string"!=typeof e){var n=o();if(t.verbose&&console.log("codegen: "+n),n="return "+n,e){for(var a=Object.keys(e),s=new Array(a.length+1),c=new Array(a.length),l=0;l<a.length;)s[l]=a[l],c[l]=e[a[l++]];return s[l]=n,Function.apply(null,s).apply(null,c)}return Function(n)()}for(var u=new Array(arguments.length-1),d=0;d<u.length;)u[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=u[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),d!==u.length)throw Error("parameter count mismatch");return r.push(e),i}function o(t){return"function "+(t||n||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=o,i}e.exports=t,t.verbose=!1},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},9054:(e,t,n)=>{"use strict";e.exports=o;var r=n(4537),i=n(7199)("fs");function o(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):o.xhr(e,t,n):r(o,this,e,t)}o.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function a(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,i,o+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function a(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+o;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},8626:(e,t)=>{"use strict";var n=t,r=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),i="";n&&(i=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):n?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return i+t.join("/")};n.resolve=function(e,t,n){return n||(t=i(t)),r(t)?t:(n||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},6662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},4586:e=>{"use strict";function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n(e,n,r){const i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,a=t(o,i,e+1/3),s=t(o,i,e),c=t(o,i,e-1/3);return Math.round(255*a)<<24|Math.round(255*s)<<16|Math.round(255*c)<<8}const r="[-+]?\\d*\\.?\\d+",i=r+"%";function o(...e){return"\\(\\s*("+e.join(")\\s*,?\\s*(")+")\\s*\\)"}function a(...e){return"\\(\\s*("+e.slice(0,e.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+e[e.length-1]+")\\s*\\)"}function s(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}let c;function l(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function u(e){return(parseFloat(e)%360+360)%360/360}function d(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function h(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}e.exports=function(e){if("number"==typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!=typeof e)return null;const p=(void 0===c&&(c={rgb:new RegExp("rgb"+o(r,r,r)),rgba:new RegExp("rgba("+s(r,r,r,r)+"|"+a(r,r,r,r)+")"),hsl:new RegExp("hsl"+o(r,i,i)),hsla:new RegExp("hsla("+s(r,i,i,r)+"|"+a(r,i,i,r)+")"),hwb:new RegExp("hwb"+o(r,i,i)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),c);let f;if(f=p.hex6.exec(e))return parseInt(f[1]+"ff",16)>>>0;const m=function(e){switch(e){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}(e);return null!=m?m:(f=p.rgb.exec(e))?(l(f[1])<<24|l(f[2])<<16|l(f[3])<<8|255)>>>0:(f=p.rgba.exec(e))?void 0!==f[6]?(l(f[6])<<24|l(f[7])<<16|l(f[8])<<8|d(f[9]))>>>0:(l(f[2])<<24|l(f[3])<<16|l(f[4])<<8|d(f[5]))>>>0:(f=p.hex3.exec(e))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+"ff",16)>>>0:(f=p.hex8.exec(e))?parseInt(f[1],16)>>>0:(f=p.hex4.exec(e))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+f[4]+f[4],16)>>>0:(f=p.hsl.exec(e))?(255|n(u(f[1]),h(f[2]),h(f[3])))>>>0:(f=p.hsla.exec(e))?void 0!==f[6]?(n(u(f[6]),h(f[7]),h(f[8]))|d(f[9]))>>>0:(n(u(f[2]),h(f[3]),h(f[4]))|d(f[5]))>>>0:(f=p.hwb.exec(e))?(255|function(e,n,r){if(n+r>=1){const e=Math.round(255*n/(n+r));return e<<24|e<<16|e<<8}const i=t(0,1,e+1/3)*(1-n-r)+n,o=t(0,1,e)*(1-n-r)+n,a=t(0,1,e-1/3)*(1-n-r)+n;return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*a)<<8}(u(f[1]),h(f[2]),h(f[3])))>>>0:null}},8518:(e,t,n)=>{"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:()=>i,n:()=>r})},1422:(e,t,n)=>{"use strict";n.d(t,{KV:()=>i,l$:()=>o});var r=n(8518);function i(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}e=n.hmd(e)},1170:(e,t,n)=>{"use strict";n.d(t,{ph:()=>u,yW:()=>l});var r=n(1422),i=n(1235);e=n.hmd(e);const o=(0,i.Rf)(),a={nowSeconds:()=>Date.now()/1e3},s=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=o;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===s?a:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},l=a.nowSeconds.bind(a),u=c.nowSeconds.bind(c);let d;(()=>{const{performance:e}=o;if(!e||!e.now)return void(d="none");const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,s=e.timing&&e.timing.navigationStart,c="number"==typeof s?Math.abs(s+n-r):t;a||c<t?i<=c?(d="timeOrigin",e.timeOrigin):d="navigationStart":d="dateNow"})()},1235:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:()=>o,YO:()=>a,n2:()=>i});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return i}function a(e,t,n){const r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},8424:function(e,t,n){e.exports=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},t=function(e){try{return!!e()}catch(e){return!0}},r=!t((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),i=r,o=Function.prototype,a=o.bind,s=o.call,c=i&&a.bind(s,s),l=i?function(e){return e&&c(e)}:function(e){return e&&function(){return s.apply(e,arguments)}},u=l({}.isPrototypeOf),d=function(e){return e&&e.Math==Math&&e},h=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof e&&e)||function(){return this}()||Function("return this")(),p=r,f=Function.prototype,m=f.apply,v=f.call,g="object"==typeof Reflect&&Reflect.apply||(p?v.bind(m):function(){return v.apply(m,arguments)}),y=function(e){return"function"==typeof e},b={},E=!t((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),_=r,S=Function.prototype.call,A=_?S.bind(S):function(){return S.apply(S,arguments)},w={},T={}.propertyIsEnumerable,C=Object.getOwnPropertyDescriptor,R=C&&!T.call({1:2},1);w.f=R?function(e){var t=C(this,e);return!!t&&t.enumerable}:T;var I,O,k=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},N=l,x=N({}.toString),P=N("".slice),D=function(e){return P(x(e),8,-1)},L=l,M=t,F=D,U=h.Object,j=L("".split),V=M((function(){return!U("z").propertyIsEnumerable(0)}))?function(e){return"String"==F(e)?j(e,""):U(e)}:U,B=h.TypeError,z=function(e){if(null==e)throw B("Can't call method on "+e);return e},G=V,H=z,q=function(e){return G(H(e))},W=y,Z=function(e){return"object"==typeof e?null!==e:W(e)},K={},Y=K,Q=h,J=y,X=function(e){return J(e)?e:void 0},$=function(e,t){return arguments.length<2?X(Y[e])||X(Q[e]):Y[e]&&Y[e][t]||Q[e]&&Q[e][t]},ee=$("navigator","userAgent")||"",te=h,ne=ee,re=te.process,ie=te.Deno,oe=re&&re.versions||ie&&ie.version,ae=oe&&oe.v8;ae&&(O=(I=ae.split("."))[0]>0&&I[0]<4?1:+(I[0]+I[1])),!O&&ne&&(!(I=ne.match(/Edge\/(\d+)/))||I[1]>=74)&&(I=ne.match(/Chrome\/(\d+)/))&&(O=+I[1]);var se=O,ce=se,le=t,ue=!!Object.getOwnPropertySymbols&&!le((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ce&&ce<41})),de=ue&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,he=$,pe=y,fe=u,me=de,ve=h.Object,ge=me?function(e){return"symbol"==typeof e}:function(e){var t=he("Symbol");return pe(t)&&fe(t.prototype,ve(e))},ye=h.String,be=function(e){try{return ye(e)}catch(e){return"Object"}},Ee=y,_e=be,Se=h.TypeError,Ae=function(e){if(Ee(e))return e;throw Se(_e(e)+" is not a function")},we=Ae,Te=function(e,t){var n=e[t];return null==n?void 0:we(n)},Ce=A,Re=y,Ie=Z,Oe=h.TypeError,ke={exports:{}},Ne=h,xe=Object.defineProperty,Pe="__core-js_shared__",De=h[Pe]||function(e,t){try{xe(Ne,e,{value:t,configurable:!0,writable:!0})}catch(n){Ne[e]=t}return t}(Pe,{}),Le=De;(ke.exports=function(e,t){return Le[e]||(Le[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:"pure",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"});var Me=z,Fe=h.Object,Ue=function(e){return Fe(Me(e))},je=Ue,Ve=l({}.hasOwnProperty),Be=Object.hasOwn||function(e,t){return Ve(je(e),t)},ze=l,Ge=0,He=Math.random(),qe=ze(1..toString),We=function(e){return"Symbol("+(void 0===e?"":e)+")_"+qe(++Ge+He,36)},Ze=h,Ke=ke.exports,Ye=Be,Qe=We,Je=ue,Xe=de,$e=Ke("wks"),et=Ze.Symbol,tt=et&&et.for,nt=Xe?et:et&&et.withoutSetter||Qe,rt=function(e){if(!Ye($e,e)||!Je&&"string"!=typeof $e[e]){var t="Symbol."+e;Je&&Ye(et,e)?$e[e]=et[e]:$e[e]=Xe&&tt?tt(t):nt(t)}return $e[e]},it=A,ot=Z,at=ge,st=Te,ct=rt,lt=h.TypeError,ut=ct("toPrimitive"),dt=function(e,t){if(!ot(e)||at(e))return e;var n,r=st(e,ut);if(r){if(void 0===t&&(t="default"),n=it(r,e,t),!ot(n)||at(n))return n;throw lt("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&Re(n=e.toString)&&!Ie(r=Ce(n,e)))return r;if(Re(n=e.valueOf)&&!Ie(r=Ce(n,e)))return r;if("string"!==t&&Re(n=e.toString)&&!Ie(r=Ce(n,e)))return r;throw Oe("Can't convert object to primitive value")}(e,t)},ht=ge,pt=function(e){var t=dt(e,"string");return ht(t)?t:t+""},ft=Z,mt=h.document,vt=ft(mt)&&ft(mt.createElement),gt=function(e){return vt?mt.createElement(e):{}},yt=gt,bt=!E&&!t((function(){return 7!=Object.defineProperty(yt("div"),"a",{get:function(){return 7}}).a})),Et=E,_t=A,St=w,At=k,wt=q,Tt=pt,Ct=Be,Rt=bt,It=Object.getOwnPropertyDescriptor;b.f=Et?It:function(e,t){if(e=wt(e),t=Tt(t),Rt)try{return It(e,t)}catch(e){}if(Ct(e,t))return At(!_t(St.f,e,t),e[t])};var Ot=t,kt=y,Nt=/#|\.prototype\./,xt=function(e,t){var n=Dt[Pt(e)];return n==Mt||n!=Lt&&(kt(t)?Ot(t):!!t)},Pt=xt.normalize=function(e){return String(e).replace(Nt,".").toLowerCase()},Dt=xt.data={},Lt=xt.NATIVE="N",Mt=xt.POLYFILL="P",Ft=xt,Ut=Ae,jt=r,Vt=l(l.bind),Bt=function(e,t){return Ut(e),void 0===t?e:jt?Vt(e,t):function(){return e.apply(t,arguments)}},zt={},Gt=E&&t((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ht=h,qt=Z,Wt=Ht.String,Zt=Ht.TypeError,Kt=function(e){if(qt(e))return e;throw Zt(Wt(e)+" is not an object")},Yt=E,Qt=bt,Jt=Gt,Xt=Kt,$t=pt,en=h.TypeError,tn=Object.defineProperty,nn=Object.getOwnPropertyDescriptor;zt.f=Yt?Jt?function(e,t,n){if(Xt(e),t=$t(t),Xt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=nn(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return tn(e,t,n)}:tn:function(e,t,n){if(Xt(e),t=$t(t),Xt(n),Qt)try{return tn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw en("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var rn=zt,on=k,an=E?function(e,t,n){return rn.f(e,t,on(1,n))}:function(e,t,n){return e[t]=n,e},sn=h,cn=g,ln=l,un=y,dn=b.f,hn=Ft,pn=K,fn=Bt,mn=an,vn=Be,gn=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return cn(e,this,arguments)};return t.prototype=e.prototype,t},yn=function(e,t){var n,r,i,o,a,s,c,l,u=e.target,d=e.global,h=e.stat,p=e.proto,f=d?sn:h?sn[u]:(sn[u]||{}).prototype,m=d?pn:pn[u]||mn(pn,u,{})[u],v=m.prototype;for(i in t)n=!hn(d?i:u+(h?".":"#")+i,e.forced)&&f&&vn(f,i),a=m[i],n&&(s=e.noTargetGet?(l=dn(f,i))&&l.value:f[i]),o=n&&s?s:t[i],n&&typeof a==typeof o||(c=e.bind&&n?fn(o,sn):e.wrap&&n?gn(o):p&&un(o)?ln(o):o,(e.sham||o&&o.sham||a&&a.sham)&&mn(c,"sham",!0),mn(m,i,c),p&&(vn(pn,r=u+"Prototype")||mn(pn,r,{}),mn(pn[r],i,o),e.real&&v&&!v[i]&&mn(v,i,o)))},bn=Math.ceil,En=Math.floor,_n=function(e){var t=+e;return t!=t||0===t?0:(t>0?En:bn)(t)},Sn=_n,An=Math.min,wn=function(e){return function(e){return e>0?An(Sn(e),9007199254740991):0}(e.length)},Tn=Ae,Cn=Ue,Rn=V,In=wn,On=h.TypeError,kn=function(e){return function(t,n,r,i){Tn(n);var o=Cn(t),a=Rn(o),s=In(o),c=e?s-1:0,l=e?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=l;break}if(c+=l,e?c<0:s<=c)throw On("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=l)c in a&&(i=n(i,a[c],c,o));return i}},Nn={left:kn(!1),right:kn(!0)},xn=t,Pn=function(e,t){var n=[][e];return!!n&&xn((function(){n.call(null,t||function(){throw 1},1)}))},Dn="process"==D(h.process),Ln=Nn.left,Mn=se,Fn=Dn;yn({target:"Array",proto:!0,forced:!Pn("reduce")||!Fn&&Mn>79&&Mn<83},{reduce:function(e){var t=arguments.length;return Ln(this,e,t,t>1?arguments[1]:void 0)}});var Un=K,jn=function(e){return Un[e+"Prototype"]},Vn=jn("Array").reduce,Bn=u,zn=Vn,Gn=Array.prototype,Hn=function(e){var t=e.reduce;return e===Gn||Bn(Gn,e)&&t===Gn.reduce?zn:t},qn=Hn;let Wn=!0,Zn=!0;function Kn(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function Yn(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};const o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function Qn(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Wn=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Jn(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Zn=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Xn(){if("object"==typeof window){if(Wn)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function $n(e,t){Zn&&console.warn(e+" is deprecated, please use "+t+" instead.")}function er(e){return"[object Object]"===Object.prototype.toString.call(e)}function tr(e){var t;return er(e)?qn(t=Object.keys(e)).call(t,(function(t,n){const r=er(e[n]),i=r?tr(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})}),{}):e}function nr(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach((i=>{i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach((n=>{e(t,t.get(n),r)}))})))}(e,n,i)}))})),i}var rr=ke.exports,ir=We,or=rr("keys"),ar=function(e){return or[e]||(or[e]=ir(e))},sr=!t((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),cr=h,lr=Be,ur=y,dr=Ue,hr=sr,pr=ar("IE_PROTO"),fr=cr.Object,mr=fr.prototype,vr=hr?fr.getPrototypeOf:function(e){var t=dr(e);if(lr(t,pr))return t[pr];var n=t.constructor;return ur(n)&&t instanceof n?n.prototype:t instanceof fr?mr:null},gr=h,yr=y,br=gr.String,Er=gr.TypeError,_r=l,Sr=Kt,Ar=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=_r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Sr(n),function(e){if("object"==typeof e||yr(e))return e;throw Er("Can't set "+br(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),wr={},Tr=_n,Cr=Math.max,Rr=Math.min,Ir=function(e,t){var n=Tr(e);return n<0?Cr(n+t,0):Rr(n,t)},Or=q,kr=Ir,Nr=wn,xr=function(e){return function(t,n,r){var i,o=Or(t),a=Nr(o),s=kr(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Pr={includes:xr(!0),indexOf:xr(!1)},Dr={},Lr=Be,Mr=q,Fr=Pr.indexOf,Ur=Dr,jr=l([].push),Vr=function(e,t){var n,r=Mr(e),i=0,o=[];for(n in r)!Lr(Ur,n)&&Lr(r,n)&&jr(o,n);for(;t.length>i;)Lr(r,n=t[i++])&&(~Fr(o,n)||jr(o,n));return o},Br=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zr=Vr,Gr=Br.concat("length","prototype");wr.f=Object.getOwnPropertyNames||function(e){return zr(e,Gr)};var Hr={};Hr.f=Object.getOwnPropertySymbols;var qr=$,Wr=wr,Zr=Hr,Kr=Kt,Yr=l([].concat),Qr=qr("Reflect","ownKeys")||function(e){var t=Wr.f(Kr(e)),n=Zr.f;return n?Yr(t,n(e)):t},Jr=Be,Xr=Qr,$r=b,ei=zt,ti={},ni=Vr,ri=Br,ii=Object.keys||function(e){return ni(e,ri)},oi=E,ai=Gt,si=zt,ci=Kt,li=q,ui=ii;ti.f=oi&&!ai?Object.defineProperties:function(e,t){ci(e);for(var n,r=li(t),i=ui(t),o=i.length,a=0;o>a;)si.f(e,n=i[a++],r[n]);return e};var di,hi=$("document","documentElement"),pi=Kt,fi=ti,mi=Br,vi=Dr,gi=hi,yi=gt,bi=ar("IE_PROTO"),Ei=function(){},_i=function(e){return"<script>"+e+"<\/script>"},Si=function(e){e.write(_i("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ai=function(){try{di=new ActiveXObject("htmlfile")}catch(e){}var e,t;Ai="undefined"!=typeof document?document.domain&&di?Si(di):((t=yi("iframe")).style.display="none",gi.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(_i("document.F=Object")),e.close(),e.F):Si(di);for(var n=mi.length;n--;)delete Ai.prototype[mi[n]];return Ai()};vi[bi]=!0;var wi=Object.create||function(e,t){var n;return null!==e?(Ei.prototype=pi(e),n=new Ei,Ei.prototype=null,n[bi]=e):n=Ai(),void 0===t?n:fi.f(n,t)},Ti=l("".replace),Ci=String(Error("zxcasd").stack),Ri=/\n\s*at [^:]*:[^\n]*/,Ii=Ri.test(Ci),Oi=Z,ki=an,Ni={},xi=Ni,Pi=rt("iterator"),Di=Array.prototype,Li=function(e){return void 0!==e&&(xi.Array===e||Di[Pi]===e)},Mi={};Mi[rt("toStringTag")]="z";var Fi="[object z]"===String(Mi),Ui=h,ji=Fi,Vi=y,Bi=D,zi=rt("toStringTag"),Gi=Ui.Object,Hi="Arguments"==Bi(function(){return arguments}()),qi=ji?Bi:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Gi(e),zi))?n:Hi?Bi(t):"Object"==(r=Bi(t))&&Vi(t.callee)?"Arguments":r},Wi=qi,Zi=Te,Ki=Ni,Yi=rt("iterator"),Qi=function(e){if(null!=e)return Zi(e,Yi)||Zi(e,"@@iterator")||Ki[Wi(e)]},Ji=A,Xi=Ae,$i=Kt,eo=be,to=Qi,no=h.TypeError,ro=function(e,t){var n=arguments.length<2?to(e):t;if(Xi(n))return $i(Ji(n,e));throw no(eo(e)+" is not iterable")},io=A,oo=Kt,ao=Te,so=function(e,t,n){var r,i;oo(e);try{if(!(r=ao(e,"return"))){if("throw"===t)throw n;return n}r=io(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return oo(r),n},co=Bt,lo=A,uo=Kt,ho=be,po=Li,fo=wn,mo=u,vo=ro,go=Qi,yo=so,bo=h.TypeError,Eo=function(e,t){this.stopped=e,this.result=t},_o=Eo.prototype,So=function(e,t,n){var r,i,o,a,s,c,l,u=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),f=co(t,u),m=function(e){return r&&yo(r,"normal",e),new Eo(!0,e)},v=function(e){return d?(uo(e),p?f(e[0],e[1],m):f(e[0],e[1])):p?f(e,m):f(e)};if(h)r=e;else{if(!(i=go(e)))throw bo(ho(e)+" is not iterable");if(po(i)){for(o=0,a=fo(e);a>o;o++)if((s=v(e[o]))&&mo(_o,s))return s;return new Eo(!1)}r=vo(e,i)}for(c=r.next;!(l=lo(c,r)).done;){try{s=v(l.value)}catch(e){yo(r,"throw",e)}if("object"==typeof s&&s&&mo(_o,s))return s}return new Eo(!1)},Ao=qi,wo=h.String,To=function(e){if("Symbol"===Ao(e))throw TypeError("Cannot convert a Symbol value to a string");return wo(e)},Co=To,Ro=k,Io=!t((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Ro(1,7)),7!==e.stack)})),Oo=yn,ko=h,No=u,xo=vr,Po=Ar,Do=wi,Lo=an,Mo=k,Fo=So,Uo=Io,jo=rt("toStringTag"),Vo=ko.Error,Bo=[].push,zo=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=No(Go,this);Po?n=Po(new Vo,i?xo(this):Go):(n=i?this:Do(Go),Lo(n,jo,"Error")),void 0!==t&&Lo(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:Co(e)}(t)),Uo&&Lo(n,"stack",function(e,t){if(Ii&&"string"==typeof e)for(;t--;)e=Ti(e,Ri,"");return e}(n.stack,1)),function(e,t){Oi(t)&&"cause"in t&&ki(e,"cause",t.cause)}(n,r);var o=[];return Fo(e,Bo,{that:o}),Lo(n,"errors",o),n};Po?Po(zo,Vo):function(e,t,n){for(var r=Xr(t),i=ei.f,o=$r.f,a=0;a<r.length;a++){var s=r[a];Jr(e,s)||n&&Jr(n,s)||i(e,s,o(t,s))}}(zo,Vo,{name:!0});var Go=zo.prototype=Do(Vo.prototype,{constructor:Mo(1,zo),message:Mo(1,""),name:Mo(1,"AggregateError")});Oo({global:!0},{AggregateError:zo});var Ho=y,qo=De,Wo=l(Function.toString);Ho(qo.inspectSource)||(qo.inspectSource=function(e){return Wo(e)});var Zo,Ko,Yo,Qo=qo.inspectSource,Jo=y,Xo=Qo,$o=h.WeakMap,ea=Jo($o)&&/native code/.test(Xo($o)),ta=h,na=l,ra=Z,ia=an,oa=Be,aa=De,sa=ar,ca=Dr,la="Object already initialized",ua=ta.TypeError,da=ta.WeakMap;if(ea||aa.state){var ha=aa.state||(aa.state=new da),pa=na(ha.get),fa=na(ha.has),ma=na(ha.set);Zo=function(e,t){if(fa(ha,e))throw new ua(la);return t.facade=e,ma(ha,e,t),t},Ko=function(e){return pa(ha,e)||{}},Yo=function(e){return fa(ha,e)}}else{var va=sa("state");ca[va]=!0,Zo=function(e,t){if(oa(e,va))throw new ua(la);return t.facade=e,ia(e,va,t),t},Ko=function(e){return oa(e,va)?e[va]:{}},Yo=function(e){return oa(e,va)}}var ga,ya,ba,Ea={set:Zo,get:Ko,has:Yo,enforce:function(e){return Yo(e)?Ko(e):Zo(e,{})},getterFor:function(e){return function(t){var n;if(!ra(t)||(n=Ko(t)).type!==e)throw ua("Incompatible receiver, "+e+" required");return n}}},_a=E,Sa=Be,Aa=Function.prototype,wa=_a&&Object.getOwnPropertyDescriptor,Ta=Sa(Aa,"name"),Ca={EXISTS:Ta,PROPER:Ta&&"something"===function(){}.name,CONFIGURABLE:Ta&&(!_a||_a&&wa(Aa,"name").configurable)},Ra=an,Ia=function(e,t,n,r){r&&r.enumerable?e[t]=n:Ra(e,t,n)},Oa=t,ka=y,Na=wi,xa=vr,Pa=Ia,Da=rt("iterator"),La=!1;[].keys&&("next"in(ba=[].keys())?(ya=xa(xa(ba)))!==Object.prototype&&(ga=ya):La=!0);var Ma=null==ga||Oa((function(){var e={};return ga[Da].call(e)!==e}));ka((ga=Ma?{}:Na(ga))[Da])||Pa(ga,Da,(function(){return this}));var Fa={IteratorPrototype:ga,BUGGY_SAFARI_ITERATORS:La},Ua=qi,ja=Fi?{}.toString:function(){return"[object "+Ua(this)+"]"},Va=Fi,Ba=zt.f,za=an,Ga=Be,Ha=ja,qa=rt("toStringTag"),Wa=function(e,t,n,r){if(e){var i=n?e:e.prototype;Ga(i,qa)||Ba(i,qa,{configurable:!0,value:t}),r&&!Va&&za(i,"toString",Ha)}},Za=Fa.IteratorPrototype,Ka=wi,Ya=k,Qa=Wa,Ja=Ni,Xa=function(){return this},$a=function(e,t,n,r){var i=t+" Iterator";return e.prototype=Ka(Za,{next:Ya(+!r,n)}),Qa(e,i,!1,!0),Ja[i]=Xa,e},es=yn,ts=A,ns=$a,rs=vr,is=Wa,os=Ia,as=Ni,ss=Ca.PROPER,cs=Fa.BUGGY_SAFARI_ITERATORS,ls=rt("iterator"),us="keys",ds="values",hs="entries",ps=function(){return this},fs=function(e,t,n,r,i,o,a){ns(n,t,r);var s,c,l,u=function(e){if(e===i&&m)return m;if(!cs&&e in p)return p[e];switch(e){case us:case ds:case hs:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,p=e.prototype,f=p[ls]||p["@@iterator"]||i&&p[i],m=!cs&&f||u(i),v="Array"==t&&p.entries||f;if(v&&(s=rs(v.call(new e)))!==Object.prototype&&s.next&&(is(s,d,!0,!0),as[d]=ps),ss&&i==ds&&f&&f.name!==ds&&(h=!0,m=function(){return ts(f,this)}),i)if(c={values:u(ds),keys:o?m:u(us),entries:u(hs)},a)for(l in c)(cs||h||!(l in p))&&os(p,l,c[l]);else es({target:t,proto:!0,forced:cs||h},c);return a&&p[ls]!==m&&os(p,ls,m,{name:i}),as[t]=m,c},ms=q,vs=Ni,gs=Ea;zt.f;var ys=fs,bs="Array Iterator",Es=gs.set,_s=gs.getterFor(bs);ys(Array,"Array",(function(e,t){Es(this,{type:bs,target:ms(e),index:0,kind:t})}),(function(){var e=_s(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),vs.Arguments=vs.Array;var Ss=h.Promise,As=Ia,ws=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:As(e,r,t[r],n);return e},Ts=$,Cs=zt,Rs=E,Is=rt("species"),Os=u,ks=h.TypeError,Ns=function(e,t){if(Os(t,e))return e;throw ks("Incorrect invocation")},xs=rt("iterator"),Ps=!1;try{var Ds=0,Ls={next:function(){return{done:!!Ds++}},return:function(){Ps=!0}};Ls[xs]=function(){return this},Array.from(Ls,(function(){throw 2}))}catch(e){}var Ms=l,Fs=t,Us=y,js=qi,Vs=Qo,Bs=function(){},zs=[],Gs=$("Reflect","construct"),Hs=/^\s*(?:class|function)\b/,qs=Ms(Hs.exec),Ws=!Hs.exec(Bs),Zs=function(e){if(!Us(e))return!1;try{return Gs(Bs,zs,e),!0}catch(e){return!1}},Ks=function(e){if(!Us(e))return!1;switch(js(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ws||!!qs(Hs,Vs(e))}catch(e){return!0}};Ks.sham=!0;var Ys,Qs,Js,Xs,$s=!Gs||Fs((function(){var e;return Zs(Zs.call)||!Zs(Object)||!Zs((function(){e=!0}))||e}))?Ks:Zs,ec=$s,tc=be,nc=h.TypeError,rc=Kt,ic=rt("species"),oc=function(e,t){var n,r=rc(e).constructor;return void 0===r||null==(n=rc(r)[ic])?t:function(e){if(ec(e))return e;throw nc(tc(e)+" is not a constructor")}(n)},ac=l([].slice),sc=/(?:ipad|iphone|ipod).*applewebkit/i.test(ee),cc=h,lc=g,uc=Bt,dc=y,hc=Be,pc=t,fc=hi,mc=ac,vc=gt,gc=sc,yc=Dn,bc=cc.setImmediate,Ec=cc.clearImmediate,_c=cc.process,Sc=cc.Dispatch,Ac=cc.Function,wc=cc.MessageChannel,Tc=cc.String,Cc=0,Rc={};try{Ys=cc.location}catch(e){}var Ic=function(e){if(hc(Rc,e)){var t=Rc[e];delete Rc[e],t()}},Oc=function(e){return function(){Ic(e)}},kc=function(e){Ic(e.data)},Nc=function(e){cc.postMessage(Tc(e),Ys.protocol+"//"+Ys.host)};bc&&Ec||(bc=function(e){var t=mc(arguments,1);return Rc[++Cc]=function(){lc(dc(e)?e:Ac(e),void 0,t)},Qs(Cc),Cc},Ec=function(e){delete Rc[e]},yc?Qs=function(e){_c.nextTick(Oc(e))}:Sc&&Sc.now?Qs=function(e){Sc.now(Oc(e))}:wc&&!gc?(Xs=(Js=new wc).port2,Js.port1.onmessage=kc,Qs=uc(Xs.postMessage,Xs)):cc.addEventListener&&dc(cc.postMessage)&&!cc.importScripts&&Ys&&"file:"!==Ys.protocol&&!pc(Nc)?(Qs=Nc,cc.addEventListener("message",kc,!1)):Qs="onreadystatechange"in vc("script")?function(e){fc.appendChild(vc("script")).onreadystatechange=function(){fc.removeChild(this),Ic(e)}}:function(e){setTimeout(Oc(e),0)});var xc,Pc,Dc,Lc,Mc,Fc,Uc,jc,Vc={set:bc,clear:Ec},Bc=h,zc=/ipad|iphone|ipod/i.test(ee)&&void 0!==Bc.Pebble,Gc=/web0s(?!.*chrome)/i.test(ee),Hc=h,qc=Bt,Wc=b.f,Zc=Vc.set,Kc=sc,Yc=zc,Qc=Gc,Jc=Dn,Xc=Hc.MutationObserver||Hc.WebKitMutationObserver,$c=Hc.document,el=Hc.process,tl=Hc.Promise,nl=Wc(Hc,"queueMicrotask"),rl=nl&&nl.value;rl||(xc=function(){var e,t;for(Jc&&(e=el.domain)&&e.exit();Pc;){t=Pc.fn,Pc=Pc.next;try{t()}catch(e){throw Pc?Lc():Dc=void 0,e}}Dc=void 0,e&&e.enter()},Kc||Jc||Qc||!Xc||!$c?!Yc&&tl&&tl.resolve?((Uc=tl.resolve(void 0)).constructor=tl,jc=qc(Uc.then,Uc),Lc=function(){jc(xc)}):Jc?Lc=function(){el.nextTick(xc)}:(Zc=qc(Zc,Hc),Lc=function(){Zc(xc)}):(Mc=!0,Fc=$c.createTextNode(""),new Xc(xc).observe(Fc,{characterData:!0}),Lc=function(){Fc.data=Mc=!Mc}));var il=rl||function(e){var t={fn:e,next:void 0};Dc&&(Dc.next=t),Pc||(Pc=t,Lc()),Dc=t},ol={},al=Ae,sl=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=al(t),this.reject=al(n)};ol.f=function(e){return new sl(e)};var cl=Kt,ll=Z,ul=ol,dl=function(e,t){if(cl(e),ll(t)&&t.constructor===e)return t;var n=ul.f(e);return(0,n.resolve)(t),n.promise},hl=h,pl=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},fl=function(){this.head=null,this.tail=null};fl.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var ml,vl,gl,yl="object"==typeof window,bl=yn,El=h,_l=$,Sl=A,Al=Ss,wl=ws,Tl=Wa,Cl=Ae,Rl=y,Il=Z,Ol=Ns,kl=Qo,Nl=So,xl=oc,Pl=Vc.set,Dl=il,Ll=dl,Ml=ol,Fl=pl,Ul=fl,jl=Ea,Vl=Ft,Bl=yl,zl=Dn,Gl=se,Hl=rt("species"),ql="Promise",Wl=jl.getterFor(ql),Zl=jl.set,Kl=jl.getterFor(ql),Yl=Al&&Al.prototype,Ql=Al,Jl=Yl,Xl=El.TypeError,$l=El.document,eu=El.process,tu=Ml.f,nu=tu,ru=!!($l&&$l.createEvent&&El.dispatchEvent),iu=Rl(El.PromiseRejectionEvent),ou="unhandledrejection",au=Vl(ql,(function(){var e=kl(Ql),t=e!==String(Ql);if(!t&&66===Gl)return!0;if(!Jl.finally)return!0;if(Gl>=51&&/native code/.test(e))return!1;var n=new Ql((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[Hl]=r,!(n.then((function(){}))instanceof r)||!t&&Bl&&!iu})),su=au||!function(e,t){if(!t&&!Ps)return!1;var n=!1;try{var r={};r[xs]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}((function(e){Ql.all(e).catch((function(){}))})),cu=function(e){var t;return!(!Il(e)||!Rl(t=e.then))&&t},lu=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(a||(2===t.rejection&&fu(t),t.rejection=1),!0===s?n=o:(u&&u.enter(),n=s(o),u&&(u.exit(),i=!0)),n===e.promise?l(Xl("Promise-chain cycle")):(r=cu(n))?Sl(r,n,c,l):c(n)):l(o)}catch(e){u&&!i&&u.exit(),l(e)}},uu=function(e,t){e.notified||(e.notified=!0,Dl((function(){for(var n,r=e.reactions;n=r.get();)lu(n,e);e.notified=!1,t&&!e.rejection&&hu(e)})))},du=function(e,t,n){var r,i;ru?((r=$l.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),El.dispatchEvent(r)):r={promise:t,reason:n},!iu&&(i=El["on"+e])?i(r):e===ou&&function(e,t){var n=hl.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},hu=function(e){Sl(Pl,El,(function(){var t,n=e.facade,r=e.value;if(pu(e)&&(t=Fl((function(){zl?eu.emit("unhandledRejection",r,n):du(ou,n,r)})),e.rejection=zl||pu(e)?2:1,t.error))throw t.value}))},pu=function(e){return 1!==e.rejection&&!e.parent},fu=function(e){Sl(Pl,El,(function(){var t=e.facade;zl?eu.emit("rejectionHandled",t):du("rejectionhandled",t,e.value)}))},mu=function(e,t,n){return function(r){e(t,r,n)}},vu=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,uu(e,!0))},gu=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Xl("Promise can't be resolved itself");var r=cu(t);r?Dl((function(){var n={done:!1};try{Sl(r,t,mu(gu,n,e),mu(vu,n,e))}catch(t){vu(n,t,e)}})):(e.value=t,e.state=1,uu(e,!1))}catch(t){vu({done:!1},t,e)}}};au&&(Jl=(Ql=function(e){Ol(this,Jl),Cl(e),Sl(ml,this);var t=Wl(this);try{e(mu(gu,t),mu(vu,t))}catch(e){vu(t,e)}}).prototype,(ml=function(e){Zl(this,{type:ql,done:!1,notified:!1,parent:!1,reactions:new Ul,rejection:!1,state:0,value:void 0})}).prototype=wl(Jl,{then:function(e,t){var n=Kl(this),r=tu(xl(this,Ql));return n.parent=!0,r.ok=!Rl(e)||e,r.fail=Rl(t)&&t,r.domain=zl?eu.domain:void 0,0==n.state?n.reactions.add(r):Dl((function(){lu(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),vl=function(){var e=new ml,t=Wl(e);this.promise=e,this.resolve=mu(gu,t),this.reject=mu(vu,t)},Ml.f=tu=function(e){return e===Ql||e===gl?new vl(e):nu(e)}),bl({global:!0,wrap:!0,forced:au},{Promise:Ql}),Tl(Ql,ql,!1,!0),function(e){var t=Ts(e),n=Cs.f;Rs&&t&&!t[Is]&&n(t,Is,{configurable:!0,get:function(){return this}})}(ql),gl=_l(ql),bl({target:ql,stat:!0,forced:au},{reject:function(e){var t=tu(this);return Sl(t.reject,void 0,e),t.promise}}),bl({target:ql,stat:!0,forced:!0},{resolve:function(e){return Ll(this===gl?Ql:this,e)}}),bl({target:ql,stat:!0,forced:su},{all:function(e){var t=this,n=tu(t),r=n.resolve,i=n.reject,o=Fl((function(){var n=Cl(t.resolve),o=[],a=0,s=1;Nl(e,(function(e){var c=a++,l=!1;s++,Sl(n,t,e).then((function(e){l||(l=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=tu(t),r=n.reject,i=Fl((function(){var i=Cl(t.resolve);Nl(e,(function(e){Sl(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var yu=A,bu=Ae,Eu=ol,_u=pl,Su=So;yn({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Eu.f(t),r=n.resolve,i=n.reject,o=_u((function(){var n=bu(t.resolve),i=[],o=0,a=1;Su(e,(function(e){var s=o++,c=!1;a++,yu(n,t,e).then((function(e){c||(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){c||(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Au=Ae,wu=$,Tu=A,Cu=ol,Ru=pl,Iu=So,Ou="No one promise resolved";yn({target:"Promise",stat:!0},{any:function(e){var t=this,n=wu("AggregateError"),r=Cu.f(t),i=r.resolve,o=r.reject,a=Ru((function(){var r=Au(t.resolve),a=[],s=0,c=1,l=!1;Iu(e,(function(e){var u=s++,d=!1;c++,Tu(r,t,e).then((function(e){d||l||(l=!0,i(e))}),(function(e){d||l||(d=!0,a[u]=e,--c||o(new n(a,Ou)))}))})),--c||o(new n(a,Ou))}));return a.error&&o(a.value),r.promise}});var ku=Ss,Nu=$,xu=y,Pu=oc,Du=dl;yn({target:"Promise",proto:!0,real:!0,forced:!!ku&&t((function(){ku.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Pu(this,Nu("Promise")),n=xu(e);return this.then(n?function(n){return Du(t,e()).then((function(){return n}))}:e,n?function(n){return Du(t,e()).then((function(){throw n}))}:e)}});var Lu=l,Mu=_n,Fu=To,Uu=z,ju=Lu("".charAt),Vu=Lu("".charCodeAt),Bu=Lu("".slice),zu=function(e){return function(t,n){var r,i,o=Fu(Uu(t)),a=Mu(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=Vu(o,a))<55296||r>56319||a+1===s||(i=Vu(o,a+1))<56320||i>57343?e?ju(o,a):r:e?Bu(o,a,a+2):i-56320+(r-55296<<10)+65536}},Gu={codeAt:zu(!1),charAt:zu(!0)},Hu=Gu.charAt,qu=To,Wu=Ea,Zu=fs,Ku="String Iterator",Yu=Wu.set,Qu=Wu.getterFor(Ku);Zu(String,"String",(function(e){Yu(this,{type:Ku,string:qu(e),index:0})}),(function(){var e,t=Qu(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Hu(n,r),t.index+=e.length,{value:e,done:!1})}));var Ju=K.Promise,Xu=h,$u=qi,ed=an,td=Ni,nd=rt("toStringTag");for(var rd in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var id=Xu[rd],od=id&&id.prototype;od&&$u(od)!==nd&&ed(od,nd,rd),td[rd]=td.Array}var ad=Ju,sd=ad;const cd=Xn;function ld(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const a=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let a=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&n.length&&t.includes("back")&&(a=n[n.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=r(e.video),cd("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return cd("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>sd.reject(o(e))))))}}}function ud(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function dd(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Yn(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function hd(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function pd(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(o(i(e)))};return t.apply(this,[r,e])}return new sd(((e,n)=>{t.apply(this,[function(t){e(o(i(t)))},n])})).then(n,r)}}function fd(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>nr(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),Yn(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>nr(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?sd.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():sd.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function md(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function vd(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return md(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const i=this.getSenders().find((e=>e.track===t));if(i)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[n.id];if(o)o.addTrack(t),sd.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function gd(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function yd(e,t){Yn(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var bd=Object.freeze({__proto__:null,shimMediaStream:ud,shimOnTrack:dd,shimGetSendersWithDtmf:hd,shimGetStats:pd,shimSenderReceiverGetStats:fd,shimAddTrackRemoveTrackWithNative:md,shimAddTrackRemoveTrack:vd,shimPeerConnection:gd,fixNegotiationNeeded:yd,shimGetUserMedia:ld,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}});function Ed(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){$n("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function _d(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Sd(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,o]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,o)}}function Ad(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):sd.resolve(new Map)}}function wd(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),Yn(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Td(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){$n("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function Cd(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Rd(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function Id(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function Od(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?sd.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function kd(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?sd.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var Nd=Object.freeze({__proto__:null,shimOnTrack:_d,shimPeerConnection:Sd,shimSenderGetStats:Ad,shimReceiverGetStats:wd,shimRemoveStream:Td,shimRTCDataChannel:Cd,shimAddTransceiver:Rd,shimGetParameters:Id,shimCreateOffer:Od,shimCreateAnswer:kd,shimGetUserMedia:Ed,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,sd.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}});function xd(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function Pd(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function Dd(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),sd.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),sd.resolve()):i};let s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),sd.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),sd.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),sd.resolve()):r},t.addIceCandidate=s}function Ld(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(Md(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function Md(e){return e&&void 0!==e.video?Object.assign({},e,{video:tr(e.video)}):e}function Fd(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?($n("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function Ud(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function jd(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Vd(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Bd=Object.freeze({__proto__:null,shimLocalStreamsAPI:xd,shimRemoteStreamsAPI:Pd,shimCallbacksAPI:Dd,shimGetUserMedia:Ld,shimConstraints:Md,shimRTCIceServerUrls:Fd,shimTrackEventTransceiver:Ud,shimCreateOfferLegacy:jd,shimAudioContext:Vd}),zd=z,Gd=To,Hd=l("".replace),qd="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",Wd=RegExp("^"+qd+qd+"*"),Zd=RegExp(qd+qd+"*$"),Kd=function(e){return function(t){var n=Gd(zd(t));return 1&e&&(n=Hd(n,Wd,"")),2&e&&(n=Hd(n,Zd,"")),n}},Yd={start:Kd(1),end:Kd(2),trim:Kd(3)},Qd=Ca.PROPER,Jd=t,Xd="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",$d=Yd.trim;yn({target:"String",proto:!0,forced:function(e){return Jd((function(){return!!Xd[e]()||"âÂá "!=="âÂá "[e]()||Qd&&Xd[e].name!==e}))}("trim")},{trim:function(){return $d(this)}});var eh=jn("String").trim,th=u,nh=eh,rh=String.prototype,ih=function(e){var t=e.trim;return"string"==typeof e||e===rh||th(rh,e)&&t===rh.trim?nh:t},oh={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return ih(e).call(e).split("\n").map((e=>ih(e).call(e)))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>{var n;return ih(n=t>0?"m="+e:e).call(n)+"\r\n"}))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":n.relatedAddress=t[e+1];break;case"rport":n.relatedPort=parseInt(t[e+1],10);break;case"tcptype":n.tcpType=t[e+1];break;case"ufrag":n.ufrag=t[e+1],n.usernameFragment=t[e+1];break;default:void 0===n[t[e]]&&(n[t[e]]=t[e+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){let t=e.substr(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substr(e.indexOf(" ")+1).split(";");for(let e=0;e<r.length;e++){var i,o;n=ih(i=r[e]).call(i).split("="),t[ih(o=n[0]).call(o)]=n[1]}return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){const t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){const t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");for(let i=3;i<r.length;i++){const o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){const r=t.parseRtpMap(a),i=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(r.parameters=i.length?t.parseFmtp(i[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let i=0;return n.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),o=-1!==r.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let c;const l=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substr(17).split(" ").map((e=>parseInt(e,10)))));l.length>0&&l[0].length>1&&l[0][0]===s&&(c=l[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&c&&(t.rtx={ssrc:c}),n.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:o?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&s&&n.push({ssrc:s});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=u}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;const o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substr(7).split(" "),{stream:n[0],track:n[1]};const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(n=i[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substr(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:i};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substr(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){let i;const o=void 0!==n?n:2;return i=e||t.generateSessionId(),"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let e=0;e<r.length;e++)switch(r[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[e].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let e=0;e<n.length;e++)if(n[e].length<2||"="!==n[e].charAt(1))return!1;return!0},e.exports=t}(oh);var ah=oh.exports,sh=Object.freeze(function(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}({__proto__:null,default:ah},[oh.exports]));function ch(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=ah.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,Yn(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function lh(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Yn(e,"icecandidate",(e=>{if(e.candidate){const t=ah.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function uh(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},r=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=ah.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=ah.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=ah.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),t=n(e),i=r(arguments[0],e);let o;o=0===t&&0===i?Number.POSITIVE_INFINITY:0===t||0===i?Math.max(t,i):Math.min(t,i);const a={};Object.defineProperty(a,"maxMessageSize",{get:()=>o}),this._sctp=a}return i.apply(this,arguments)}}function dh(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},Yn(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function hh(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function ph(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==ih(e).call(e))).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function fh(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?sd.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),sd.resolve())})}function mh(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>n.apply(this,[e])))})}var vh=Object.freeze({__proto__:null,shimRTCIceCandidate:ch,shimRTCIceCandidateRelayProtocol:lh,shimMaxMessageSize:uh,shimSendThrowTypeError:dh,shimConnectionState:hh,removeExtmapAllowMixed:ph,shimAddIceCandidateNullOrEmpty:fh,shimParameterlessSetLocalDescription:mh});let gh,yh;!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=Xn,r=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Kn(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Kn(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Kn(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),i={browserDetails:r,commonShim:vh,extractVersion:Kn,disableLog:Qn,disableWarnings:Jn,sdp:sh};switch(r.browser){case"chrome":if(!bd||!gd||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=bd,fh(e,r),mh(e),ld(e,r),ud(e),gd(e,r),dd(e),vd(e,r),hd(e),pd(e),fd(e),yd(e,r),ch(e),lh(e),hh(e),uh(e,r),dh(e),ph(e,r);break;case"firefox":if(!Nd||!Sd||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=Nd,fh(e,r),mh(e),Ed(e,r),Sd(e,r),_d(e),Td(e),Ad(e),wd(e),Cd(e),Rd(e),Id(e),Od(e),kd(e),ch(e),hh(e),uh(e,r),dh(e);break;case"safari":if(!Bd||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Bd,fh(e,r),mh(e),Fd(e),jd(e),Dd(e),xd(e),Pd(e),Ud(e),Ld(e),Vd(e),ch(e),lh(e),uh(e,r),dh(e),ph(e,r);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window}),function(e){e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot"}(gh||(gh={})),function(e){e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger"}(yh||(yh={}));var bh={exports:{}};!function(t,n){!function(e,r){var i="function",o="undefined",a="object",s="string",c="model",l="name",u="type",d="vendor",h="version",p="architecture",f="console",m="mobile",v="tablet",g="smarttv",y="wearable",b="embedded",E="Amazon",_="Apple",S="ASUS",A="BlackBerry",w="Google",T="Huawei",C="LG",R="Microsoft",I="Motorola",O="Samsung",k="Sharp",N="Sony",x="Xiaomi",P="Zebra",D="Facebook",L=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},M=function(e,t){return typeof e===s&&-1!==F(t).indexOf(F(e))},F=function(e){return e.toLowerCase()},U=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===o?e:e.substring(0,350)},j=function(e,t){for(var n,o,s,c,l,u,d=0;d<t.length&&!l;){var h=t[d],p=t[d+1];for(n=o=0;n<h.length&&!l;)if(l=h[n++].exec(e))for(s=0;s<p.length;s++)u=l[++o],typeof(c=p[s])===a&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,u):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=u?u.replace(c[1],c[2]):r:this[c[0]]=u?c[1].call(this,u,c[2]):r:4===c.length&&(this[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):r):this[c]=u||r;d+=2}},V=function(e,t){for(var n in t)if(typeof t[n]===a&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(M(t[n][i],e))return"?"===n?r:n}else if(M(t[n],e))return"?"===n?r:n;return e},B={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,h],[/opios[\/ ]+([\w\.]+)/i],[h,[l,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[h,[l,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[l,h],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[l,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[h,[l,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[l,"IE"]],[/yabrowser\/([\w\.]+)/i],[h,[l,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure Browser"],h],[/\bfocus\/([\w\.]+)/i],[h,[l,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[h,[l,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[l,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[l,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[h,[l,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 Browser"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[l,h],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,D],h],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[l,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[l,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[l,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,"Chrome WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[l,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[h,V,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[l,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[l,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[l,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,F]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[d,O],[u,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[d,O],[u,m]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[d,_],[u,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[d,_],[u,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[d,T],[u,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[d,T],[u,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[d,x],[u,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[d,x],[u,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[d,"OPPO"],[u,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[d,"Vivo"],[u,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[d,"Realme"],[u,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[d,I],[u,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[d,I],[u,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[d,C],[u,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[d,C],[u,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[d,"Lenovo"],[u,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[d,"Nokia"],[u,m]],[/(pixel c)\b/i],[c,[d,w],[u,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[d,w],[u,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,N],[u,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[d,N],[u,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[d,"OnePlus"],[u,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[d,E],[u,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[d,E],[u,m]],[/(playbook);[-\w\),; ]+(rim)/i],[c,d,[u,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[d,A],[u,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[d,S],[u,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[d,S],[u,m]],[/(nexus 9)/i],[c,[d,"HTC"],[u,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[c,/_/g," "],[u,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[d,"Acer"],[u,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[d,"Meizu"],[u,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[d,k],[u,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,c,[u,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,c,[u,v]],[/(surface duo)/i],[c,[d,R],[u,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[d,"Fairphone"],[u,m]],[/(u304aa)/i],[c,[d,"AT&T"],[u,m]],[/\bsie-(\w*)/i],[c,[d,"Siemens"],[u,m]],[/\b(rct\w+) b/i],[c,[d,"RCA"],[u,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[d,"Dell"],[u,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[d,"Verizon"],[u,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[d,"Barnes & Noble"],[u,v]],[/\b(tm\d{3}\w+) b/i],[c,[d,"NuVision"],[u,v]],[/\b(k88) b/i],[c,[d,"ZTE"],[u,v]],[/\b(nx\d{3}j) b/i],[c,[d,"ZTE"],[u,m]],[/\b(gen\d{3}) b.+49h/i],[c,[d,"Swiss"],[u,m]],[/\b(zur\d{3}) b/i],[c,[d,"Swiss"],[u,v]],[/\b((zeki)?tb.*\b) b/i],[c,[d,"Zeki"],[u,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],c,[u,v]],[/\b(ns-?\w{0,9}) b/i],[c,[d,"Insignia"],[u,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[d,"NextBook"],[u,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],c,[u,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],c,[u,m]],[/\b(ph-1) /i],[c,[d,"Essential"],[u,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[d,"Envizen"],[u,v]],[/\b(trio[-\w\. ]+) b/i],[c,[d,"MachSpeed"],[u,v]],[/\btu_(1491) b/i],[c,[d,"Rotor"],[u,v]],[/(shield[\w ]+) b/i],[c,[d,"Nvidia"],[u,v]],[/(sprint) (\w+)/i],[d,c,[u,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,R],[u,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[d,P],[u,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[d,P],[u,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,c,[u,f]],[/droid.+; (shield) bui/i],[c,[d,"Nvidia"],[u,f]],[/(playstation [345portablevi]+)/i],[c,[d,N],[u,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[d,R],[u,f]],[/smart-tv.+(samsung)/i],[d,[u,g]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,O],[u,g]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,C],[u,g]],[/(apple) ?tv/i],[d,[c,"Apple TV"],[u,g]],[/crkey/i],[[c,"Chromecast"],[d,w],[u,g]],[/droid.+aft(\w)( bui|\))/i],[c,[d,E],[u,g]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[d,k],[u,g]],[/(bravia[\w ]+)( bui|\))/i],[c,[d,N],[u,g]],[/(mitv-\w{5}) bui/i],[c,[d,x],[u,g]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,U],[c,U],[u,g]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,g]],[/((pebble))app/i],[d,c,[u,y]],[/droid.+; (glass) \d/i],[c,[d,w],[u,y]],[/droid.+; (wt63?0{2,3})\)/i],[c,[d,P],[u,y]],[/(quest( 2)?)/i],[c,[d,D],[u,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[u,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[u,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[u,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,m]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[l,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,h],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[l,[h,V,B]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,"Windows"],[h,V,B]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,"Mac OS"],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,h],[/\(bb(10);/i],[h,[l,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[l,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[l,"webOS"]],[/crkey\/([\d\.]+)/i],[h,[l,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[l,"Chromium OS"],h],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,h],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[l,h]]},G=function(t,n){if(typeof t===a&&(n=t,t=r),!(this instanceof G))return new G(t,n).getResult();var i=t||(typeof e!==o&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),c=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(z,n):z;return this.getBrowser=function(){var e={};return e.name=r,e.version=r,j.call(e,i,c.browser),e.major=function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:r}(e.version),e},this.getCPU=function(){var e={};return e.architecture=r,j.call(e,i,c.cpu),e},this.getDevice=function(){var e={};return e.vendor=r,e.model=r,e.type=r,j.call(e,i,c.device),e},this.getEngine=function(){var e={};return e.name=r,e.version=r,j.call(e,i,c.engine),e},this.getOS=function(){var e={};return e.name=r,e.version=r,j.call(e,i,c.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===s&&e.length>350?U(e,350):e,this},this.setUA(i),this};G.VERSION="0.7.32",G.BROWSER=L([l,h,"major"]),G.CPU=L([p]),G.DEVICE=L([c,d,u,f,m,g,v,y,b]),G.ENGINE=G.OS=L([l,h]),t.exports&&(n=t.exports=G),n.UAParser=G;var H=typeof e!==o&&(e.jQuery||e.Zepto);if(H&&!H.ua){var q=new G;H.ua=q.getResult(),H.ua.get=function(){return q.getUA()},H.ua.set=function(e){q.setUA(e);var t=q.getResult();for(var n in t)H.ua[n]=t[n]}}}("object"==typeof window?window:e)}(bh,bh.exports);const Eh=new(0,bh.exports);let _h=Eh.getResult();function Sh(e){return e&&Eh.setUA(e),_h=Eh.getResult(),{name:Ah(_h),version:wh(_h),os:Th(_h),osVersion:_h.os.version}}function Ah(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return yh.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return yh.CHROME;case"Safari":case"Mobile Safari":return yh.SAFARI;case"Edge":return yh.EDGE;case"Firefox":return yh.FIREFOX;case"QQBrowser":return yh.QQ;case"Opera":return yh.OPERA;case"WeChat":return yh.WECHAT;default:return e.browser.name||""}}function wh(e){let t;return t="Blink"===e.engine.name?e.engine.version||"":e.browser.version||"",t.split(".")[0]}function Th(e){return"Windows"===e.os.name?e.os.version?e.os.name+" "+e.os.version:e.os.name:e.os.name||""}function Ch(){return Sh().os}function Rh(){const e=Sh();return!!("WebKit"===_h.engine.name&&e.os===gh.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==yh.SAFARI||Nh()&&e.name!==yh.SAFARI)}function Ih(){return Sh().name===yh.CHROME}function Oh(){return Sh().name===yh.SAFARI}function kh(){return Sh().name===yh.FIREFOX}function Nh(){return Sh().os===gh.IOS}function xh(){const e=Sh();return!(e.name!==yh.CHROME||!e.osVersion)&&Number(e.version)<=90}function Ph(){const e=Sh();if(e.os!==gh.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])}function Dh(){const e=Sh();if(e.os!==gh.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&0===Number(t[1])}function Lh(){const e=Sh();if(e.os!==gh.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1}function Mh(){const e=Sh();if(e.os!==gh.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2}function Fh(){return Oh()&&navigator.maxTouchPoints>0}function Uh(){return Sh().name===yh.WECHAT}function jh(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function Vh(){const e=Sh();return e.name!==yh.EDGE&&e.name!==yh.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function Bh(){return Sh().os===gh.ANDROID}function zh(){const e=Sh();return"Android"===e.os&&("Chrome"===e.name||e.name===yh.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}var Gh={exports:{}},Hh=yn,qh=E,Wh=zt.f;Hh({target:"Object",stat:!0,forced:Object.defineProperty!==Wh,sham:!qh},{defineProperty:Wh});var Zh=K.Object,Kh=Gh.exports=function(e,t,n){return Zh.defineProperty(e,t,n)};Zh.defineProperty.sham&&(Kh.sham=!0);var Yh=Gh.exports;function Qh(e,t,n){return t in e?Yh(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jh,Xh={exports:{}},$h=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},ep=$h,tp=Object.prototype.toString,np=(Jh=Object.create(null),function(e){var t=tp.call(e);return Jh[t]||(Jh[t]=t.slice(8,-1).toLowerCase())});function rp(e){return e=e.toLowerCase(),function(t){return np(t)===e}}function ip(e){return Array.isArray(e)}function op(e){return void 0===e}var ap=rp("ArrayBuffer");function sp(e){return null!==e&&"object"==typeof e}function cp(e){if("object"!==np(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var lp=rp("Date"),up=rp("File"),dp=rp("Blob"),hp=rp("FileList");function pp(e){return"[object Function]"===tp.call(e)}var fp=rp("URLSearchParams");function mp(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),ip(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var vp,gp=(vp="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return vp&&e instanceof vp}),yp={isArray:ip,isArrayBuffer:ap,isBuffer:function(e){return null!==e&&!op(e)&&null!==e.constructor&&!op(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||tp.call(e)===t||pp(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ap(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:sp,isPlainObject:cp,isUndefined:op,isDate:lp,isFile:up,isBlob:dp,isFunction:pp,isStream:function(e){return sp(e)&&pp(e.pipe)},isURLSearchParams:fp,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:mp,merge:function e(){var t={};function n(n,r){cp(t[r])&&cp(n)?t[r]=e(t[r],n):cp(n)?t[r]=e({},n):ip(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)mp(arguments[r],n);return t},extend:function(e,t,n){return mp(t,(function(t,r){e[r]=n&&"function"==typeof t?ep(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,o,a={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)a[o=r[i]]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:np,kindOfTest:rp,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(op(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:gp,isFileList:hp},bp=yp;function Ep(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var _p=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(bp.isURLSearchParams(t))r=t.toString();else{var i=[];bp.forEach(t,(function(e,t){null!=e&&(bp.isArray(e)?t+="[]":e=[e],bp.forEach(e,(function(e){bp.isDate(e)?e=e.toISOString():bp.isObject(e)&&(e=JSON.stringify(e)),i.push(Ep(t)+"="+Ep(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},Sp=yp;function Ap(){this.handlers=[]}Ap.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},Ap.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Ap.prototype.forEach=function(e){Sp.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var wp=Ap,Tp=yp,Cp=yp;function Rp(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Cp.inherits(Rp,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ip=Rp.prototype,Op={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){Op[e]={value:e}})),Object.defineProperties(Rp,Op),Object.defineProperty(Ip,"isAxiosError",{value:!0}),Rp.from=function(e,t,n,r,i,o){var a=Object.create(Ip);return Cp.toFlatObject(e,a,(function(e){return e!==Error.prototype})),Rp.call(a,e.message,t,n,r,i),a.name=e.name,o&&Object.assign(a,o),a};var kp=Rp,Np={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xp=yp,Pp=function(e,t){t=t||new FormData;var n=[];function r(e){return null===e?"":xp.isDate(e)?e.toISOString():xp.isArrayBuffer(e)||xp.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,o){if(xp.isPlainObject(i)||xp.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+o);n.push(i),xp.forEach(i,(function(n,i){if(!xp.isUndefined(n)){var a,s=o?o+"."+i:i;if(n&&!o&&"object"==typeof n)if(xp.endsWith(i,"{}"))n=JSON.stringify(n);else if(xp.endsWith(i,"[]")&&(a=xp.toArray(n)))return void a.forEach((function(e){!xp.isUndefined(e)&&t.append(s,r(e))}));e(n,s)}})),n.pop()}else t.append(o,r(i))}(e),t},Dp=kp,Lp=yp,Mp=Lp.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),Lp.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Lp.isString(r)&&a.push("path="+r),Lp.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Fp=function(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t},Up=yp,jp=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Vp=yp,Bp=Vp.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Vp.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},zp=kp;function Gp(e){zp.call(this,null==e?"canceled":e,zp.ERR_CANCELED),this.name="CanceledError"}yp.inherits(Gp,zp,{__CANCEL__:!0});var Hp=Gp,qp=yp,Wp=Mp,Zp=_p,Kp=Fp,Yp=Bp,Qp=Np,Jp=kp,Xp=Hp,$p=yp,ef=function(e,t){Tp.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},tf=kp,nf=Pp,rf={"Content-Type":"application/x-www-form-urlencoded"};function of(e,t){!$p.isUndefined(e)&&$p.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var af,sf={transitional:Np,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(af=function(e){return new Promise((function(t,n){var r,i=e.data,o=e.headers,a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}qp.isFormData(i)&&qp.isStandardBrowserEnv()&&delete o["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(l+":"+u)}var d=Kp(e.baseURL,e.url);function h(){if(c){var r="getAllResponseHeaders"in c?function(e){var t,n,r,i={};return e?(Up.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=Up.trim(e.substr(0,r)).toLowerCase(),n=Up.trim(e.substr(r+1)),t){if(i[t]&&jp.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}(c.getAllResponseHeaders()):null;(function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Dp("Request failed with status code "+n.status,[Dp.ERR_BAD_REQUEST,Dp.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)})((function(e){t(e),s()}),(function(e){n(e),s()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),Zp(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n(new Jp("Request aborted",Jp.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new Jp("Network Error",Jp.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Qp;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Jp(t,r.clarifyTimeoutError?Jp.ETIMEDOUT:Jp.ECONNABORTED,e,c)),c=null},qp.isStandardBrowserEnv()){var p=(e.withCredentials||Yp(d))&&e.xsrfCookieName?Wp.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}"setRequestHeader"in c&&qp.forEach(o,(function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete o[t]:c.setRequestHeader(t,e)})),qp.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&"json"!==a&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){c&&(n(!e||e&&e.type?new Xp:e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),i||(i=null);var f=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===["http","https","file"].indexOf(f)?n(new Jp("Unsupported protocol "+f+":",Jp.ERR_BAD_REQUEST,e)):c.send(i)}))}),af),transformRequest:[function(e,t){if(ef(t,"Accept"),ef(t,"Content-Type"),$p.isFormData(e)||$p.isArrayBuffer(e)||$p.isBuffer(e)||$p.isStream(e)||$p.isFile(e)||$p.isBlob(e))return e;if($p.isArrayBufferView(e))return e.buffer;if($p.isURLSearchParams(e))return of(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=$p.isObject(e),i=t&&t["Content-Type"];if((n=$p.isFileList(e))||r&&"multipart/form-data"===i){var o=this.env&&this.env.FormData;return nf(n?{"files[]":e}:e,o&&new o)}return r||"application/json"===i?(of(t,"application/json"),function(e,t,n){if($p.isString(e))try{return(0,JSON.parse)(e),$p.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||sf.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&$p.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw tf.from(e,tf.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$p.forEach(["delete","get","head"],(function(e){sf.headers[e]={}})),$p.forEach(["post","put","patch"],(function(e){sf.headers[e]=$p.merge(rf)}));var cf=sf,lf=yp,uf=cf,df=function(e){return!(!e||!e.__CANCEL__)},hf=yp,pf=function(e,t,n){var r=this||uf;return lf.forEach(n,(function(n){e=n.call(r,e,t)})),e},ff=df,mf=cf,vf=Hp;function gf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vf}var yf=yp,bf=function(e,t){t=t||{};var n={};function r(e,t){return yf.isPlainObject(e)&&yf.isPlainObject(t)?yf.merge(e,t):yf.isPlainObject(t)?yf.merge({},t):yf.isArray(t)?t.slice():t}function i(n){return yf.isUndefined(t[n])?yf.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function o(e){if(!yf.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return yf.isUndefined(t[n])?yf.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return yf.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,r=t(e);yf.isUndefined(r)&&t!==s||(n[e]=r)})),n},Ef="0.27.2",_f=Ef,Sf=kp,Af={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Af[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var wf={};Af.transitional=function(e,t,n){function r(e,t){return"[Axios v"+_f+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new Sf(r(i," has been removed"+(t?" in "+t:"")),Sf.ERR_DEPRECATED);return t&&!wf[i]&&(wf[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var Tf=yp,Cf=_p,Rf=wp,If=function(e){return gf(e),e.headers=e.headers||{},e.data=pf.call(e,e.data,e.headers,e.transformRequest),e.headers=hf.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),hf.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||mf.adapter)(e).then((function(t){return gf(e),t.data=pf.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return ff(t)||(gf(e),t&&t.response&&(t.response.data=pf.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Of=bf,kf=Fp,Nf={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Sf("options must be an object",Sf.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new Sf("option "+o+" must be "+c,Sf.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Sf("Unknown option "+o,Sf.ERR_BAD_OPTION)}},validators:Af},xf=Nf.validators;function Pf(e){this.defaults=e,this.interceptors={request:new Rf,response:new Rf}}Pf.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=Of(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&Nf.assertOptions(n,{silentJSONParsing:xf.transitional(xf.boolean),forcedJSONParsing:xf.transitional(xf.boolean),clarifyTimeoutError:xf.transitional(xf.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!i){var s=[If,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(a),o=Promise.resolve(t);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=t;r.length;){var l=r.shift(),u=r.shift();try{c=l(c)}catch(e){u(e);break}}try{o=If(c)}catch(e){return Promise.reject(e)}for(;a.length;)o=o.then(a.shift(),a.shift());return o},Pf.prototype.getUri=function(e){e=Of(this.defaults,e);var t=kf(e.baseURL,e.url);return Cf(t,e.params,e.paramsSerializer)},Tf.forEach(["delete","get","head","options"],(function(e){Pf.prototype[e]=function(t,n){return this.request(Of(n||{},{method:e,url:t,data:(n||{}).data}))}})),Tf.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Of(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Pf.prototype[e]=t(),Pf.prototype[e+"Form"]=t(!0)}));var Df=Pf,Lf=Hp;function Mf(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new Lf(e),t(n.reason))}))}Mf.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Mf.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},Mf.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},Mf.source=function(){var e;return{token:new Mf((function(t){e=t})),cancel:e}};var Ff=Mf,Uf=yp,jf=yp,Vf=$h,Bf=Df,zf=bf,Gf=function e(t){var n=new Bf(t),r=Vf(Bf.prototype.request,n);return jf.extend(r,Bf.prototype,n),jf.extend(r,n),r.create=function(n){return e(zf(t,n))},r}(cf);Gf.Axios=Bf,Gf.CanceledError=Hp,Gf.CancelToken=Ff,Gf.isCancel=df,Gf.VERSION=Ef,Gf.toFormData=Pp,Gf.AxiosError=kp,Gf.Cancel=Gf.CanceledError,Gf.all=function(e){return Promise.all(e)},Gf.spread=function(e){return function(t){return e.apply(null,t)}},Gf.isAxiosError=function(e){return Uf.isObject(e)&&!0===e.isAxiosError},Xh.exports=Gf,Xh.exports.default=Gf;var Hf=Xh.exports;class qf{constructor(e){Qh(this,"logger",void 0),Qh(this,"prefixLists",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}class Wf{constructor(){Qh(this,"_events",{}),Qh(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let n=0;n<t.length;n+=1){const i=t[n];i.once&&this.off(e,i.listener),i.listener.apply(this,r||[])}}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}}const Zf=new class extends Wf{reportLogUploadError(e){this.emit("REPORT_LOG_UPLOAD",e)}};let Kf;!function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.INIT_WEBSOCKET_TIMEOUT="INIT_WEBSOCKET_TIMEOUT",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",e.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT"}(Kf||(Kf={}));class Yf extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(t),Qh(this,"code",void 0),Qh(this,"message",void 0),Qh(this,"data",void 0),Qh(this,"name","AgoraRTCException"),this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=n}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),"\n").concat(this.stack):"".concat(this.stack)}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return"error"===e&&im.error(this.toString()),"warning"===e&&im.warning(this.toString()),this}throw(){throw this.print(),this}}const Qf={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function Jf(e,t){const n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function Xf(e,t,n,r){const i=Object.assign({},Qf,r);let o=i.timeout;const a=async()=>{await function(e){return new sd((t=>{window.setTimeout(t,e)}))}(o),o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o)};let s=!1;const c=new sd((async(r,o)=>{t=t||(()=>!1),n=n||(()=>!0);for(let c=0;c<i.maxRetryCount;c+=1){if(s)return o(new Yf(Kf.OPERATION_ABORTED));try{const n=await e();if(!t(n,c))return r(n);if(c+1===i.maxRetryCount)return r(n);await a()}catch(e){if(!n(e,c))return o(e);if(c+1===i.maxRetryCount)return o(e);await a()}}}));return c.cancel=()=>s=!0,c}function $f(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function em(){const e=new Date,t=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+":"+e.getUTCMilliseconds():e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const tm={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},nm=Date.now(),rm=e=>{for(const t in tm)if(Object.prototype.hasOwnProperty.call(tm,t)&&tm[t]===e)return t;return"DEFAULT"},im=new class{constructor(){Qh(this,"proxyServerURL",void 0),Qh(this,"logLevel",tm.DEBUG),Qh(this,"uploadState","collecting"),Qh(this,"uploadLogWaitingList",[]),Qh(this,"uploadLogUploadingList",[]),Qh(this,"uploadErrorCount",0),Qh(this,"currentLogID",0),Qh(this,"url",void 0),Qh(this,"extLog",((e,t)=>{this.appendLogToWaitingList(e,...t)}))}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tm.DEBUG].concat(t);this.log.apply(this,r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tm.INFO].concat(t);this.log.apply(this,r)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tm.WARNING].concat(t);this.log.apply(this,r)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tm.ERROR].concat(t);this.log.apply(this,r)}upload(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tm.DEBUG].concat(t);this.uploadLog.apply(this,r)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){gm("UPLOAD_LOG",!0)}disableLogUpload(){gm("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new qf(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-nm<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-nm);const r=Math.max(0,Math.min(4,t[0]));if(t[0]=$f()+" Agora-SDK [".concat(rm(r),"]:"),this.appendLogToWaitingList(r,...t),r<this.logLevel)return;const i=$f()+" %cAgora-SDK [".concat(rm(r),"]:");let o=[];if(!ym("USE_NEW_LOG"))switch(r){case tm.DEBUG:o=[i,"color: #64B5F6;"].concat(t.slice(1)),console.log.apply(console,o);break;case tm.INFO:o=[i,"color: #1E88E5; font-weight: bold;"].concat(t.slice(1)),console.log.apply(console,o);break;case tm.WARNING:o=[i,"color: #FB8C00; font-weight: bold;"].concat(t.slice(1)),console.warn.apply(console,o);break;case tm.ERROR:o=[i,"color: #B00020; font-weight: bold;"].concat(t.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-nm<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-nm);const r=Math.max(0,Math.min(4,t[0]));t[0]=$f()+" Agora-SDK [".concat(rm(r),"]:"),this.appendLogToWaitingList(r,...t)}appendLogToWaitingList(e){if(!ym("UPLOAD_LOG"))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Array.isArray(n[0])?n[0][0]=em()+" Agora-SDK [".concat(rm(e),"]:"):n[0]=em()+" Agora-SDK [".concat(rm(e),"]:");let i="";n.forEach((e=>{"object"==typeof e&&(e=JSON.stringify(e)),i+="".concat(e," ")})),this.uploadLogWaitingList.push({payload_str:i,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:am,process_id:ym("PROCESS_ID"),payload:JSON.stringify(e)};return Xf((async()=>{const e=await Hf.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(ym("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(ym("LOG_UPLOAD_SERVER"),"/upload/v1")),t,{responseType:"text"});if("OK"!==e.data){const t=new Error("unexpected upload log response");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(e=>(e.response?Zf.reportLogUploadError({status:e.response.status,data:e.response.data,headers:e.response.headers,message:e.message}):e.request?Zf.reportLogUploadError({status:e.request.status,message:e.message}):Zf.reportLogUploadError({status:-1,message:e.message}),!0)),{timeout:ym("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:ym("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,ym("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),ym("UPLOAD_LOG_INTERVAL"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),ym("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((()=>this.uploadLogInterval()),ym("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}},om="v4.16.1-0-gb268655f-dirty(2/8/2023, 2:53:13 PM)",am=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],n=t[2];return"".concat(e,".").concat(n)}const n=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(n&&n[1]&&n[2]){const e=n[1],t=n[2];return"".concat(e,".").concat(100*(Number(t)+1))}return"4.0.0.999"}("4.16.1"),sm=function(){try{return!0===JSON.parse("true")}catch(e){return!0}}(),cm=function(){const e="us".concat("erna","me"),t="pa".concat("sswo","rd"),n=["t","s","t"];n.splice(1,0,"e");const r=n.join(""),i=[];for(let e=0;e<6;e++)i.push("1");const o=i.join(""),a={};return a[e]=r,a[t]=o,Object.assign(a,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=cm;const lm={"90p":Sm(160,90),"90p_1":Sm(160,90),"120p":Sm(160,120,15,30,65),"120p_1":Sm(160,120,15,30,65),"120p_3":Sm(120,120,15,30,50),"120p_4":Sm(212,120),"180p":Sm(320,180,15,30,140),"180p_1":Sm(320,180,15,30,140),"180p_3":Sm(180,180,15,30,100),"180p_4":Sm(240,180,15,30,120),"240p":Sm(320,240,15,40,200),"240p_1":Sm(320,240,15,40,200),"240p_3":Sm(240,240,15,40,140),"240p_4":Sm(424,240,15,40,220),"360p":Sm(640,360,15,80,400),"360p_1":Sm(640,360,15,80,400),"360p_3":Sm(360,360,15,80,260),"360p_4":Sm(640,360,30,80,600),"360p_6":Sm(360,360,30,80,400),"360p_7":Sm(480,360,15,80,320),"360p_8":Sm(480,360,30,80,490),"360p_9":Sm(640,360,15,80,800),"360p_10":Sm(640,360,24,80,800),"360p_11":Sm(640,360,24,80,1e3),"480p":Sm(640,480,15,100,500),"480p_1":Sm(640,480,15,100,500),"480p_2":Sm(640,480,30,100,1e3),"480p_3":Sm(480,480,15,100,400),"480p_4":Sm(640,480,30,100,750),"480p_6":Sm(480,480,30,100,600),"480p_8":Sm(848,480,15,100,610),"480p_9":Sm(848,480,30,100,930),"480p_10":Sm(640,480,10,100,400),"720p":Sm(1280,720,15,120,1130),"720p_1":Sm(1280,720,15,120,1130),"720p_2":Sm(1280,720,30,120,2e3),"720p_3":Sm(1280,720,30,120,1710),"720p_5":Sm(960,720,15,120,910),"720p_6":Sm(960,720,30,120,1380),"1080p":Sm(1920,1080,15,120,2080),"1080p_1":Sm(1920,1080,15,120,2080),"1080p_2":Sm(1920,1080,30,120,3e3),"1080p_3":Sm(1920,1080,30,120,3150),"1080p_5":Sm(1920,1080,60,120,4780),"1440p":Sm(2560,1440,30,120,4850),"1440p_1":Sm(2560,1440,30,120,4850),"1440p_2":Sm(2560,1440,60,120,7350),"4k":Sm(3840,2160,30,120,8910),"4k_1":Sm(3840,2160,30,120,8910),"4k_3":Sm(3840,2160,60,120,13500)},um={"480p":Am(640,480,5),"480p_1":Am(640,480,5),"480p_2":Am(640,480,30),"480p_3":Am(640,480,15),"720p":Am(1280,720,5),"720p_1":Am(1280,720,5),"720p_2":Am(1280,720,30),"720p_3":Am(1280,720,15),"1080p":Am(1920,1080,5),"1080p_1":Am(1920,1080,5),"1080p_2":Am(1920,1080,30),"1080p_3":Am(1920,1080,15)},dm={"1SL1TL":wm(1,1),"3SL3TL":wm(3,3),"2SL3TL":wm(2,3)};function hm(e){return"string"==typeof e?Object.assign({},lm[e]):e}function pm(e){return"string"==typeof e?Object.assign({},um[e]):e}function fm(e){return"string"==typeof e?Object.assign({},dm[e]):e}const mm={speech_low_quality:_m(16e3,!1),speech_standard:_m(32e3,!1,18),music_standard:_m(48e3,!1),standard_stereo:_m(48e3,!0,56),high_quality:_m(48e3,!1,128),high_quality_stereo:_m(48e3,!0,192)};function vm(e){return"string"==typeof e?Object.assign({},mm[e]):e}function gm(e,t,n){Object.keys(bm).includes(e)&&(!n&&Object.keys(Em).includes(e)||(bm[e]=t))}function ym(e){return bm[e]}const bm={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TCC:!0,PUBLISH_TCC:!1,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION:2e3,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ENABLE_USER_LICENSE_CHECK:!0,SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0}},Em={};function _m(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function Sm(e,t,n,r,i){return{width:e,height:t,frameRate:n,bitrateMin:r,bitrateMax:i}}function Am(e,t,n,r,i){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:r,bitrateMax:i}}function wm(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}sm||(bm.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],bm.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],bm.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],bm.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],bm.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],bm.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],bm.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",bm.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",bm.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",bm.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",bm.AREAS=["NORTH_AMERICA","OVERSEA"]);const Tm=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],Cm=[],Rm=[];var Im=pt,Om=zt,km=k,Nm=function(e,t,n){var r=Im(t);r in e?Om.f(e,r,km(0,n)):e[r]=n},xm=Ir,Pm=wn,Dm=Nm,Lm=h.Array,Mm=Math.max,Fm=function(e,t,n){for(var r=Pm(e),i=xm(t,r),o=xm(void 0===n?r:n,r),a=Lm(Mm(o-i,0)),s=0;i<o;i++,s++)Dm(a,s,e[i]);return a.length=s,a},Um=Fm,jm=Math.floor,Vm=function(e,t){var n=e.length,r=jm(n/2);return n<8?Bm(e,t):zm(e,Vm(Um(e,0,r),t),Vm(Um(e,r),t),t)},Bm=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},zm=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e},Gm=Vm,Hm=ee.match(/firefox\/(\d+)/i),qm=!!Hm&&+Hm[1],Wm=/MSIE|Trident/.test(ee),Zm=ee.match(/AppleWebKit\/(\d+)\./),Km=!!Zm&&+Zm[1],Ym=yn,Qm=l,Jm=Ae,Xm=Ue,$m=wn,ev=To,tv=t,nv=Gm,rv=Pn,iv=qm,ov=Wm,av=se,sv=Km,cv=[],lv=Qm(cv.sort),uv=Qm(cv.push),dv=tv((function(){cv.sort(void 0)})),hv=tv((function(){cv.sort(null)})),pv=rv("sort"),fv=!tv((function(){if(av)return av<70;if(!(iv&&iv>3)){if(ov)return!0;if(sv)return sv<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)cv.push({k:t+r,v:n})}for(cv.sort((function(e,t){return t.v-e.v})),r=0;r<cv.length;r++)t=cv[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));Ym({target:"Array",proto:!0,forced:dv||!hv||!pv||!fv},{sort:function(e){void 0!==e&&Jm(e);var t=Xm(this);if(fv)return void 0===e?lv(t):lv(t,e);var n,r,i=[],o=$m(t);for(r=0;r<o;r++)r in t&&uv(i,t[r]);for(nv(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:ev(t)>ev(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<o;)delete t[r++];return t}});var mv=jn("Array").sort,vv=u,gv=mv,yv=Array.prototype,bv=function(e){var t=e.sort;return e===yv||vv(yv,e)&&t===yv.sort?gv:t};function Ev(e,t){if("boolean"!=typeof e)throw new Yf(Kf.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function _v(e,t,n){if(!n.includes(e))throw new Yf(Kf.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function Sv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<n||e>r||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return"number"==typeof e&&e%1==0}(e))throw new Yf(Kf.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(r,"]. integer only"))}function Av(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new Yf(Kf.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));void 0!==e.min&&Sv(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&Sv(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&Sv(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&Sv(e.ideal,"".concat(t,".ideal"),1,1/0)}else Sv(e,t,1,1/0)}function wv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new Yf(Kf.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!Ov(e,n,r,i))throw new Yf(Kf.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(i?" ASCII characters only.":""))}function Tv(e,t){if(!Array.isArray(e))throw new Yf(Kf.INVALID_PARAMS,"".concat(t," should be an array"))}function Cv(e){if("string"!=typeof e||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e))throw im.error("Invalid Channel Name ".concat(e)),new Yf(Kf.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function Rv(e){if(!("number"==typeof(t=e)&&Math.floor(t)===t&&0<=t&&t<=4294967295||Ov(e,1,255)))throw im.error("Invalid UID ".concat(e," ").concat(typeof e)),new Yf(Kf.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");var t;"string"==typeof e&&im.warning("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}function Iv(e){return null==e}function Ov(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=n&&e.length>=t&&(!r||function(e){if("string"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}(e))}let kv,Nv,xv;!function(e){e.FREE="free",e.UPLOADING="uploading"}(kv||(kv={})),function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}(Nv||(Nv={})),function(e){e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata"}(xv||(xv={}));const Pv={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};function Dv(e){return wv(e.reportId,"params.reportId",0,100,!1),wv(e.category,"params.category",0,100,!1),wv(e.event,"params.event",0,100,!1),wv(e.label,"params.label",0,100,!1),Sv(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}const Lv={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let Mv,Fv,Uv,jv,Vv,Bv,zv,Gv,Hv,qv,Wv,Zv,Kv,Yv,Qv,Jv,Xv,$v,eg,tg,ng,rg,ig,og;function ag(e){return Sv(e.timeout,"config.timeout",0,1e5),Sv(e.timeoutFactor,"config.timeoutFactor",0,100,!1),Sv(e.maxRetryCount,"config.maxRetryConfig",0,1/0),Sv(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function sg(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function cg(e){return wv(e.turnServerURL,"turnServerURL"),wv(e.username,"username"),wv(e.password,"password"),e.udpport&&Sv(e.udpport,"udpport",1,99999,!0),e.forceturn&&Ev(e.forceturn,"forceturn"),e.security&&Ev(e.security,"security"),e.tcpport&&Sv(e.tcpport,"tcpport",1,99999,!0),!0}function lg(e){return void 0!==e.level&&_v(e.level,"level",[1,2,3]),!0}!function(e){e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics"}(Mv||(Mv={})),function(e){e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed"}(Fv||(Fv={})),function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}(Uv||(Uv={})),function(e){e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED"}(jv||(jv={})),function(e){e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.DATACHANNEL_FAILBACK="Client._datachannelFailback",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.ADD_INJECT_STREAM_URL="Client.addInjectStreamUrl",e.REMOVE_INJECT_STREAM_URL="Client.removeInjectStreamUrl",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage"}(Vv||(Vv={})),function(e){e.TRACER="tracer"}(Bv||(Bv={})),function(e){e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND"}(zv||(zv={})),function(e){e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged"}(Gv||(Gv={})),function(e){e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR"}(Hv||(Hv={})),function(e){e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR"}(qv||(qv={})),function(e){e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND"}(Wv||(Wv={})),function(e){e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV"}(Zv||(Zv={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",e[e.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",e[e.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",e[e.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY"}(Kv||(Kv={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(Yv||(Yv={})),function(e){e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.FALLBACK="FALLBACK",e.LICENSE_MISSING="LICENSE_MISSING",e.LICENSE_EXPIRED="LICENSE_EXPIRED",e.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",e.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",e.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",e.LICENSE_ILLEGAL="LICENSE_ILLEGAL"}(Qv||(Qv={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.INJECT_STREAM_STATUS="stream-inject-status",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result"}(Jv||(Jv={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(Xv||(Xv={})),function(e){e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed"}($v||($v={})),function(e){e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response",e.DATACHANNEL_PRECONNECT="datachannel_preconnect",e.DATACHANNEL_CONNECTING="datachannel_connecting",e.DATACHANNEL_FAILBACK="datachannel_failback"}(eg||(eg={})),function(e){e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.SUBSCRIBE="subscribe",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter"}(tg||(tg={})),function(e){e.PUBLISH_STATS="publish_stats",e.PUBLISH_RELATED_STATS="publish_related_stats",e.SUBSCRIBE_STATS="subscribe_stats",e.SUBSCRIBE_RELATED_STATS="subscribe_related_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.TRANSPORT_STATS="transport_stats",e.EXTENSION_USAGE_STATS="extension_usage_stats"}(ng||(ng={})),function(e){e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_USER_LICENSE_BANNED="on_user_license_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list"}(rg||(rg={})),function(e){e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.NEED_ANSWER="NEED_ANSWER",e.NEED_RENEGOTIATE="NEED_RENEGOTIATE",e.P2P_LOST="P2P_LOST",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NEED_UNPUB="NEED_UNPUB",e.NEED_UNSUB="NEED_UNSUB",e.NEED_UPLOAD="NEED_UPLOAD",e.NEED_CONTROL="NEED_CONTROL",e.START_RECONNECT="START_RECONNECT",e.END_RECONNECT="END_RECONNECT",e.NEED_SIGNAL_RTT="NEED_SIGNAL_RTT"}(ig||(ig={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source"}(og||(og={}));const ug={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,currentPacketLossRate:0},dg={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},hg={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},pg={uplinkNetworkQuality:0,downlinkNetworkQuality:0},fg={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let mg,vg,gg;!function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire"}(mg||(mg={})),function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(vg||(vg={})),function(e){e[e.INJECT_STREAM_STATUS_START_SUCCESS=0]="INJECT_STREAM_STATUS_START_SUCCESS",e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]="INJECT_STREAM_STATUS_START_ALREADY_EXISTS",e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]="INJECT_STREAM_STATUS_START_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_START_TIMEOUT=3]="INJECT_STREAM_STATUS_START_TIMEOUT",e[e.INJECT_STREAM_STATUS_START_FAILED=4]="INJECT_STREAM_STATUS_START_FAILED",e[e.INJECT_STREAM_STATUS_STOP_SUCCESS=5]="INJECT_STREAM_STATUS_STOP_SUCCESS",e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]="INJECT_STREAM_STATUS_STOP_NOT_FOUND",e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]="INJECT_STREAM_STATUS_STOP_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]="INJECT_STREAM_STATUS_STOP_TIMEOUT",e[e.INJECT_STREAM_STATUS_STOP_FAILED=9]="INJECT_STREAM_STATUS_STOP_FAILED",e[e.INJECT_STREAM_STATUS_BROKEN=10]="INJECT_STREAM_STATUS_BROKEN"}(gg||(gg={}));const yg={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},bg={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function Eg(e,t){wv(e.url,"".concat(t,".url"),1,1e3,!1),Iv(e.x)||Sv(e.x,"".concat(t,".x"),0,1e4),Iv(e.y)||Sv(e.y,"".concat(t,".y"),0,1e4),Iv(e.width)||Sv(e.width,"".concat(t,".width"),0,1e4),Iv(e.height)||Sv(e.height,"".concat(t,".height"),0,1e4),Iv(e.zOrder)||Sv(e.zOrder,"".concat(t,".zOrder"),0,255),Iv(e.alpha)||Sv(e.alpha,"".concat(t,".alpha"),0,1,!1)}const _g={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},Sg={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};let Ag,wg,Tg,Cg,Rg,Ig,Og,kg,Ng,xg,Pg,Dg,Lg,Mg,Fg,Ug,jg,Vg;function Bg(e){if(!e.channelName)throw new Yf(Kf.INVALID_PARAMS,"invalid channelName in info");if("number"!=typeof e.uid)throw new Yf(Kf.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&wv(e.token,"info.token",1,2047),Rv(e.uid),Cv(e.channelName),!0}function zg(e){return _v(e,"mediaSource",["screen","window","application"]),!0}!function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(Ag||(Ag={})),function(e){e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(wg||(wg={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(Tg||(Tg={})),function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(Cg||(Cg={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(Rg||(Rg={})),function(e){e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(Ig||(Ig={})),function(e){e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE"}(Og||(Og={})),function(e){e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED"}(kg||(kg={})),function(e){e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low"}(Ng||(Ng={})),function(e){e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response",e.REQUEST_DC_CONNECTION_PARAMS="request-dc-connection-params",e.RESET_CONNECTION_EVENTS="reset-connection-events",e.DATACHANNEL_PRECONNECT="datachannel_preconnect",e.DATACHANNEL_FAILBACK="datachannel_failback"}(xg||(xg={})),function(e){e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data"}(Pg||(Pg={})),function(e){e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track"}(Dg||(Dg={})),function(e){e.SCREEN_TRACK="screen_track",e.LOW_STREAM="low_stream"}(Lg||(Lg={})),function(e){e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM"}(Mg||(Mg={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY"}(Fg||(Fg={})),function(e){e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed"}(Ug||(Ug={})),function(e){e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status"}(jg||(jg={})),function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(Vg||(Vg={}));const Gg=[Vg.AFRICA,Vg.ASIA,Vg.CHINA,Vg.EUROPE,Vg.GLOBAL,Vg.INDIA,Vg.JAPAN,Vg.NORTH_AMERICA,Vg.OCEANIA,Vg.OVERSEA,Vg.SOUTH_AMERICA];let Hg;!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(Hg||(Hg={}));const qg={CHINA:{},ASIA:{CODE:Hg.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:Hg.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:Hg.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:Hg.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:Hg.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:Hg.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:Hg.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:Hg.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:Hg.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:Hg.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:Hg.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:Hg.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:Hg.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]}};let Wg,Zg,Kg,Yg,Qg,Jg,Xg,$g,ey,ty,ny,ry,iy,oy,ay;sm&&(qg.CHINA={CODE:Hg.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),function(e){e.UPDATE_BITRATE_LIMIT="update_bitrate_limit"}(Wg||(Wg={}));class sy extends Wf{constructor(e,t){super(),Qh(this,"onICEConnectionStateChange",void 0),Qh(this,"onConnectionStateChange",void 0),Qh(this,"onDTLSTransportStateChange",void 0),Qh(this,"onDTLSTransportError",void 0),Qh(this,"onICETransportStateChange",void 0),Qh(this,"onFirstAudioReceived",void 0),Qh(this,"onFirstVideoReceived",void 0),Qh(this,"onFirstAudioDecoded",void 0),Qh(this,"onFirstVideoDecoded",void 0),Qh(this,"onFirstVideoDecodedTimeout",void 0),Qh(this,"onSelectedLocalCandidateChanged",void 0),Qh(this,"onSelectedRemoteCandidateChanged",void 0)}}!function(e){e.SEND="sendonly",e.RECV="recvonly",e.SENDRECV="sendrecv",e.INACTIVE="inactive"}(Zg||(Zg={})),function(e){e.VIDEO="video",e.AUDIO="audio"}(Kg||(Kg={})),function(e){e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack"}(Yg||(Yg={})),function(e){e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected"}(Qg||(Qg={})),function(e){e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter",e.QueryClientConnectionState="QueryClientConnectionState"}(Jg||(Jg={})),function(e){e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(Xg||(Xg={})),function(e){e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}($g||($g={})),function(e){e.ON_TRACK="on_track",e.ON_NODE="on_node"}(ey||(ey={})),function(e){e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints"}(ty||(ty={})),function(e){e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED"}(ny||(ny={})),function(e){e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED"}(ry||(ry={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(iy||(iy={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(oy||(oy={})),function(e){e.CONNECTED="transmitter:connected",e.RECONNECTING="transmitter:reconnecting",e.WILL_RECONNECT="transmitter:will_reconnect",e.CLOSED="transmitter:closed",e.FAILED="transmitter:failed",e.ON_MESSAGE="transmitter:on_message",e.REQUEST_NEW_URLS="transmitter:request_new_urls",e.RECONNECT_WAITTING_FINISH="transmitter:reconnect_waitting_finish",e.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",e.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",e.FAILBACK="transmitter:failback"}(ay||(ay={}));const cy={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1};function ly(){return cy}let uy;!function(e){e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK"}(uy||(uy={}));var dy=D,hy=Array.isArray||function(e){return"Array"==dy(e)},py=h,fy=hy,my=$s,vy=Z,gy=rt("species"),yy=py.Array,by=function(e,t){return new(function(e){var t;return fy(e)&&(t=e.constructor,(my(t)&&(t===yy||fy(t.prototype))||vy(t)&&null===(t=t[gy]))&&(t=void 0)),void 0===t?yy:t}(e))(0===t?0:t)},Ey=Bt,_y=V,Sy=Ue,Ay=wn,wy=by,Ty=l([].push),Cy=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,l,u,d){for(var h,p,f=Sy(c),m=_y(f),v=Ey(l,u),g=Ay(m),y=0,b=d||wy,E=t?b(c,g):n||a?b(c,0):void 0;g>y;y++)if((s||y in m)&&(p=v(h=m[y],y,f),e))if(t)E[y]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:Ty(E,h)}else switch(e){case 4:return!1;case 7:Ty(E,h)}return o?-1:r||i?i:E}},Ry={forEach:Cy(0),map:Cy(1),filter:Cy(2),some:Cy(3),every:Cy(4),find:Cy(5),findIndex:Cy(6),filterReject:Cy(7)},Iy=Ry.forEach,Oy=Pn("forEach")?[].forEach:function(e){return Iy(this,e,arguments.length>1?arguments[1]:void 0)};yn({target:"Array",proto:!0,forced:[].forEach!=Oy},{forEach:Oy});var ky=jn("Array").forEach,Ny=qi,xy=Be,Py=u,Dy=ky,Ly=Array.prototype,My={DOMTokenList:!0,NodeList:!0},Fy=Ue,Uy=ii;yn({target:"Object",stat:!0,forced:t((function(){Uy(1)}))},{keys:function(e){return Uy(Fy(e))}});var jy=K.Object.keys,Vy=Hn,By=yn,zy=hy,Gy=l([].reverse),Hy=[1,2];By({target:"Array",proto:!0,forced:String(Hy)===String(Hy.reverse())},{reverse:function(){return zy(this)&&(this.length=this.length),Gy(this)}});var qy=jn("Array").reverse,Wy=u,Zy=qy,Ky=Array.prototype,Yy=t,Qy=se,Jy=rt("species"),Xy=function(e){return Qy>=51||!Yy((function(){var t=[];return(t.constructor={})[Jy]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},$y=yn,eb=h,tb=hy,nb=$s,rb=Z,ib=Ir,ob=wn,ab=q,sb=Nm,cb=rt,lb=ac,ub=Xy("slice"),db=cb("species"),hb=eb.Array,pb=Math.max;$y({target:"Array",proto:!0,forced:!ub},{slice:function(e,t){var n,r,i,o=ab(this),a=ob(o),s=ib(e,a),c=ib(void 0===t?a:t,a);if(tb(o)&&(n=o.constructor,(nb(n)&&(n===hb||tb(n.prototype))||rb(n)&&null===(n=n[db]))&&(n=void 0),n===hb||void 0===n))return lb(o,s,c);for(r=new(void 0===n?hb:n)(pb(c-s,0)),i=0;s<c;s++,i++)s in o&&sb(r,i,o[s]);return r.length=i,r}});var fb=jn("Array").slice,mb=u,vb=fb,gb=Array.prototype;function yb(e,t,n,r,i){var o,a,s,c={};return function(e){var t=e.forEach;return e===Ly||Py(Ly,e)&&t===Ly.forEach||xy(My,Ny(e))?Dy:t}(o=jy(r)).call(o,(function(e){c[e]=r[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=Vy(a=function(e){var t=e.reverse;return e===Ky||Wy(Ky,e)&&t===Ky.reverse?Zy:t}(s=function(e){var t=e.slice;return e===gb||mb(gb,e)&&t===gb.slice?vb:t}(n).call(n)).call(s)).call(a,(function(n,r){return r(e,t,n)||n}),c),i&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(i):void 0,c.initializer=void 0),void 0===c.initializer&&(Yh(e,t,c),c=null),c}var bb=jn("Array").keys,Eb=qi,_b=Be,Sb=u,Ab=bb,wb=Array.prototype,Tb={DOMTokenList:!0,NodeList:!0},Cb=function(e){var t=e.keys;return e===wb||Sb(wb,e)&&t===wb.keys||_b(Tb,Eb(e))?Ab:t};function Rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ib(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rb(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Ob=0,kb=0;function Nb(e,t,n,r){return new sd(((i,o)=>{t.timeout=t.timeout||ym("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),Ob+=Q_(t.data)):n&&(t.data.size?Ob+=t.data.size:t.data instanceof FormData?Ob+=function(e){let t=0;return/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+="string"==typeof e?Q_(e):e.size})),t+138}(t.data):Ob+=Q_(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,Hf.request(t).then((e=>{"string"==typeof e.data?kb+=Q_(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?kb+=e.data.byteLength:kb+=Q_(JSON.stringify(e.data)),r&&i({data:e.data,headers:e.headers}),i(e.data)})).catch((e=>{Hf.isCancel(e)?o(new Yf(Kf.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new Yf(Kf.NETWORK_TIMEOUT,e.message)):e.response?o(new Yf(Kf.NETWORK_RESPONSE_ERROR,e.response.status)):o(new Yf(Kf.NETWORK_ERROR,e.message))}))}))}async function xb(e,t){const n=new Blob([t.data],{type:"buffer"});return await Nb(e,Ib(Ib({},t),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}const Pb=new class extends Wf{set networkState(e){im.info("[".concat(this._moduleName,"]")+"network state changed, "+this._networkState+" -> "+e),this.emit($g.NETWORK_STATE_CHANGE,e,this._networkState),e===Xg.ONLINE?this.emit($g.ONLINE):e===Xg.OFFLINE&&(this.onlineWaiter=new sd((e=>{this.once($g.ONLINE,(()=>{this.onlineWaiter=void 0,e(Xg.ONLINE)}))})),this.emit($g.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}constructor(){super(),Qh(this,"_moduleName","network-indicator"),Qh(this,"_networkState",Xg.ONLINE),Qh(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=Xg.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=Xg.OFFLINE}))}};let Db=!1;const Lb=new class extends Wf{constructor(){super(...arguments),Qh(this,"onAutoplayFailed",void 0),Qh(this,"onAudioAutoplayFailed",void 0)}};function Mb(){if(Sh(),!Db){const e=t=>{t.preventDefault(),Db=!1,zh()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};Db=!0,zh()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),im.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),Lb.onAutoplayFailed?Lb.onAutoplayFailed():Lb.onAudioAutoplayFailed?im.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):im.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),Lb.emit("autoplay-failed")}}function Fb(e){return(new TextEncoder).encode(e)}const Ub=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n},jb=async e=>function(e,t){let n="";return new Uint8Array(e).forEach((e=>{n+=e.toString(16).padStart(2,"0")})),n}(await crypto.subtle.digest("SHA-256",Fb(e)));function Vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vb(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){const i=r.value;if("function"==typeof i){const o=e.className||t.__className__||("AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name);r.value=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];let s=r;if(e.argsMap)try{s=e.argsMap(this,...r)}catch(e){im.warning(e),s=[]}try{JSON.stringify(s)}catch(e){im.warning("arguments for method ".concat(o,".").concat(n," not serializable for apiInvoke.")),s=[]}const c=(e.report||Gb).reportApiInvoke(this._sessionId||null,{name:"".concat(o,".").concat(n),options:s,tag:Bv.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=i.apply(this,r);return t instanceof sd?t.then((t=>(c.onSuccess(e.reportResult&&t),t))).catch((e=>{throw c.onError(e),e})):(c.onSuccess(e.reportResult&&t),t)}catch(e){throw c.onError(e),e}}}return r}}const Gb=new class{constructor(){Qh(this,"baseInfoMap",new Map),Qh(this,"proxyServer",void 0),Qh(this,"clientList",Cm),Qh(this,"eventUploadTimer",void 0),Qh(this,"setSessionIdTimer",void 0),Qh(this,"url",void 0),Qh(this,"backupUrl",void 0),Qh(this,"_appId",void 0),Qh(this,"keyEventUploadPendingItems",[]),Qh(this,"normalEventUploadPendingItems",[]),Qh(this,"apiInvokeUploadPendingItems",[]),Qh(this,"apiInvokeCount",0),Qh(this,"ltsList",[]),Qh(this,"lastSendNormalEventTime",Date.now()),Qh(this,"customReportCounterTimer",void 0),Qh(this,"customReportCount",0),Qh(this,"extApiInvoke",(async e=>{for(const t of e){const e=Bb(Bb({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:Bv.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),ym("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),ym("EVENT_REPORT_SEND_INTERVAL"))}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return void im.error("adjust session ".concat(e," start time, sid is not exist or info is undefined"));const t=this.baseInfoMap.get(e),n=Date.now(),r=t.startTime;t.startTime=n,im.debug("rewrite session ".concat(e," startTime: ").concat(n," , ").concat(n-r,"ms")),this.baseInfoMap.set(e,t)}setAppId(e){this._appId=e}reportApiInvoke(e,t,n){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const r=Date.now();this.apiInvokeCount+=1;const i=this.apiInvokeCount,o=()=>({tag:t.tag,invokeId:i,sid:e,name:t.name,apiInvokeTime:r,options:t.options,states:t.states||null}),a=!!ym("SHOW_REPORT_INVOKER_LOG");a&&im.info("".concat(t.name," start"),t.options);let s=!1;J_(t.timeout).then((()=>{s||(this.sendApiInvoke(Bb(Bb({},o()),{},{error:Kf.API_INVOKE_TIMEOUT,success:!1})),im.debug("".concat(t.name," timeout")))}));const c=new Yf(Kf.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:e=>{const r=()=>{if(s)throw c;return s=!0,this.sendApiInvoke(Bb(Bb({},o()),{},{success:!0},t.reportResult&&{result:e})),a&&im.info("".concat(t.name," onSuccess")),e};return n?gS(r,t.name+"Success",n,(()=>s=!0)):r()},onError:e=>{const r=()=>{if(s)throw e;s=!0,this.sendApiInvoke(Bb(Bb({},o()),{},{success:!1,error:e})),a&&im.info("".concat(t.name," onFailure"),e.toString())};return n?gS(r,t.name+"Error",n,(()=>s=!0)):r()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const n=Date.now(),r=this.createBaseInfo(e,n);r.cname=t.cname;const i=Object.assign({},{willUploadConsoleLog:ym("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:sm?"global":"oversea",areas:ym("AREAS")&&ym("AREAS").join(",")},t.extend),o=Date.now(),a=Bb(Bb({},r),{},{eventType:Mv.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:om,lts:o,elapse:o-n,extend:JSON.stringify(i),mode:t.mode,process:ym("PROCESS_ID"),appType:ym("APP_TYPE"),success:!0,version:am});this.send({type:Fv.SESSION,data:a},!0)}joinChooseServer(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb({},r),{},{eventType:Mv.JOIN_CHOOSE_SERVER,lts:i,eventElapse:i-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:i-n.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3});this.send({type:Fv.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb({},r),{},{eventType:Mv.REQ_USER_ACCOUNT,lts:i,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:i-n.startTime,eventElapse:i-t.lts,extend:JSON.stringify(t.extend)});this.send({type:Fv.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info;t.vid&&(r.vid=t.vid),r.uid=t.uid,r.cid=t.cid;const i=Date.now(),{firstSuccess:o,avoidJoinStartTime:a,isProxy:s,addr:c}=t,l=i-(o&&a?a:n.startTime),u=Bb(Bb({},r),{},{eventType:Mv.JOIN_GATEWAY,lts:i,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:l,eventElapse:i-t.lts,firstSuccess:o,signalChannel:t.signalChannel}),d=u.success?1:0;if(t.succ&&(n.lastJoinSuccessTime=i),o)this.send({type:Fv.JOIN_GATEWAY,data:u},!0);else{let e;if(c)if(s){const t=c.match(/h=(\d{1,3}-){3}\d{1,3}/g),n=c.match(/p=[0-9]{1,6}/g);e={isSuccess:d,gatewayIp:t&&t.length?t[0].split("=")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split("=")[1]:"",isProxy:s?1:0}}else{const t=c.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),n=c.match(/:[0-9]{1,6}/g);e={isSuccess:d,gatewayIp:t&&t.length?t[0].split("//")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split(":")[1]:"",isProxy:s?1:0}}else e={isSuccess:d,gatewayIp:"",port:"",isProxy:s?1:0};delete u.success,delete u.eventType,delete u.firstSuccess,u.vid=Number(u.vid);const t=Object.assign({},u,e,{eventType:Mv.REJOIN_GATEWAY});this.send({type:Fv.RE_JOIN_GATEWAY,data:t},!0)}}joinChannelTimeout(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=Date.now(),i=Bb(Bb({},n.info),{},{lts:r,timeout:t,elapse:r-n.startTime});this.send({type:Fv.JOIN_CHANNEL_TIMEOUT,data:i},!0)}publish(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb({},r),{},{eventType:Mv.PUBLISH,lts:i,eventElapse:t.eventElapse,elapse:i-n.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:Fv.PUBLISH,data:o},!0)}subscribe(e,t,n){const r=this.baseInfoMap.get(e);if(!r)return;const i=r.info,o=Date.now(),a=Bb(Bb({},i),{},{eventType:Mv.SUBSCRIBE,lts:o,eventElapse:t.eventElapse,elapse:o-r.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid},n&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof t.peerid?a.peerSuid=t.peerid:a.peer=t.peerid,this.send({type:Fv.SUBSCRIBE,data:a},!0)}wsCompressorInit(e){var t;const n=[...Cb(t=this.baseInfoMap).call(t)],r=n.length?n[0]:"UnableToGetSid",i=this.baseInfoMap.get(r);if(!i)return;const o=i.info,a=Date.now(),s=Bb(Bb({},o),{},{eventType:Mv.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-i.startTime,status:e.status?1:2});this.send({type:Fv.WS_COMPRESSOR_INIT,data:s},!0)}firstRemoteVideoDecode(e,t,n,r){const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=Bb(Bb(Bb({},o),r),{},{elapse:a-i.startTime,eventType:t,lts:a,firstDecodeFrame:Math.max(a-i.startTime,0),apEnd:Math.max(r.apEnd-i.startTime,0),apStart:Math.max(r.apStart-i.startTime,0),joinGwEnd:Math.max(r.joinGwEnd-i.startTime,0),joinGwStart:Math.max(r.joinGwStart-i.startTime,0),pcEnd:Math.max(r.pcEnd-i.startTime,0),pcStart:Math.max(r.pcStart-i.startTime,0),subscriberEnd:Math.max(r.subscriberEnd-i.startTime,0),subscriberStart:Math.max(r.subscriberStart-i.startTime,0),videoAddNotify:Math.max(r.videoAddNotify-i.startTime,0)});this.send({type:n,data:s},!0)}firstRemoteFrame(e,t,n,r){const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=Bb(Bb(Bb({},o),r),{},{elapse:a-i.startTime,eventType:t,lts:a});this.send({type:n,data:s},!0)}onGatewayStream(e,t,n,r){const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=Bb(Bb(Bb({},o),r),{},{eventType:t,lts:a});this.send({type:n,data:s},!0)}streamSwitch(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb({},r),{},{eventType:Mv.STREAM_SWITCH,lts:i,isDual:t.isdual,elapse:i-n.startTime,success:t.succ});this.send({type:Fv.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb({},r),{},{eventType:Mv.REQUEST_PROXY_APPCENTER,lts:i,eventElapse:i-t.lts,elapse:i-n.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:Fv.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb({},r),{},{eventType:Mv.REQUEST_PROXY_WORKER_MANAGER,lts:i,eventElapse:i-t.lts,elapse:i-n.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:Fv.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(e){this.proxyServer=e,e?im.debug("reportProxyServerurl: ".concat(e)):im.debug("disable reportProxyServerurl: ".concat(e))}peerPublishStatus(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb({},r),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:i,elapse:i-n.startTime,joinChannelSuccessElapse:i-(n.lastJoinSuccessTime||i),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:Fv.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now();(function(e,t,n){const r=e[t];if(!r||"string"!=typeof r)return[e];e[t]="";const i=Q_(JSON.stringify(e));let o=0;const a=[];let s=0;for(let n=0;n<r.length;n++)s+=r.charCodeAt(n)<=127?1:3,s<=1300-i||(a[a.length]=Y_(Y_({},e),{},{[t]:r.substring(o,n)}),o=n,s=r.charCodeAt(n)<=127?1:3);return o!==r.length-1&&(a[a.length]=Y_(Y_({},e),{},{[t]:r.substring(o)})),a})(Bb(Bb(Bb({},r),t),{},{elapse:i-n.startTime,lts:i,productType:"WebRTC"}),"payload").forEach((e=>this.send({type:Fv.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb(Bb({},r),t),{},{elapse:i-n.startTime,lts:i});this.send({type:Fv.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb(Bb({},r),t),{},{elapse:i-n.startTime,lts:i,extend:t.extend||void 0});this.send({type:Fv.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=Bb(Bb(Bb({},r),t),{},{elapse:i-n.startTime,lts:i});this.send({type:Fv.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>ym("CUSTOM_REPORT_LIMIT"))throw new Yf(Kf.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const n=t.map((t=>({type:Fv.USER_ANALYTICS,data:Bb({sid:e},t)})));try{ym("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(e){throw im.error("send custom report message failed",e.toString()),new Yf(Kf.CUSTOM_REPORT_SEND_FAILED,e.message)}}autoplayFailed(e,t,n,r){if(!e)return;const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=Bb(Bb({},o),{},{vid:void 0===o.vid?0:Number(o.vid),lts:a,elapse:a-i.startTime,cbRegistered:Lb.onAutoplayFailed||Lb.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:t,trackId:r,extend:void 0});this.send({type:Fv.AUTOPLAY_FAILED,data:s},!0)}sendApiInvoke(e){const t=ym("NOT_REPORT_EVENT");if(e.tag&&t.includes&&t.includes(e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const n=this.baseInfoMap.get(e.sid);if(!n)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:r,uid:i,cid:o}=n.info;let a;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof Yf){const{code:t,message:n}=e.error;a=t||n||e.error.toString()}else a=e.error.toString();const s={invokeId:e.invokeId,sid:e.sid,cname:r,cid:o,uid:i,lts:e.lts,success:e.success,elapse:e.lts-n.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?a:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:Fv.API_INVOKE,data:s},!1),!0}appendSessionId(){this.clientList.forEach((e=>{if(e._sessionId){const t=this.apiInvokeUploadPendingItems.length;for(let n=0;n<t;n++){const t=this.apiInvokeUploadPendingItems.shift();t&&(t.sid=e._sessionId,this.sendApiInvoke(Object.assign({},t)))}}}))}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>ym("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const n=[],r=[];for(;e.length;){const t=e.shift();n.length<20?n.push(t):r.push(t)}e.push(...r);for(const e of[...n]){var i;-1!==this.ltsList.indexOf(e.data.lts)?(e.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(e.data.lts)):(this.ltsList.push(e.data.lts),bv(i=this.ltsList).call(i,((e,t)=>e-t)))}return t||(this.lastSendNormalEventTime=Date.now()),ym("ENABLE_EVENT_REPORT")?(n.length&&(ym("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((e=>n=>{ym("EVENT_REPORT_RETRY")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>ym("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-ym("NORMAL_EVENT_QUEUE_CAPACITY")),im.warning("report: drop normal events"))))})(n)),e):e}async postDataToStatsCollector2(e){Pb.networkState===Xg.OFFLINE&&await sd.race([Pb.onlineWaiter,J_(2*Qf.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const n=Fb(JSON.stringify(e.data)),r=new ArrayBuffer(5),i=(e=>{let t=0;return Object.entries(Fv).forEach((n=>{let[r,i]=n;i===e.type&&(t=jv[r])})),t})(e),o=new DataView(r);o.setUint16(0,n.byteLength,!0),o.setUint8(2,255&i),o.setUint8(3,i>>>8&255),o.setUint8(4,i>>>16&255),t=Ub(t,new Uint8Array(r)),t=Ub(t,n)})),t},n="event";let r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(ym("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(n):"https://".concat(ym("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(n);for(let i=0;i<2;i+=1){1===i&&(r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(ym("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(n):"https://".concat(ym("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(n));try{await Nb(r,{timeout:1e4,data:t(e),headers:Bb(Bb({token:"32f24ab2ddb74f508aa9286c356cec84",biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(e){if(1===i)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};Pb.networkState===Xg.OFFLINE&&await sd.race([Pb.onlineWaiter,J_(2*Qf.maxRetryTimeout)]);const r=t?"/events/proto-raws":"/events/messages";let i=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(ym("EVENT_REPORT_DOMAIN"),"&p=").concat(ym("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(ym("EVENT_REPORT_DOMAIN"),":").concat(ym("STATS_COLLECTOR_PORT")).concat(r));for(let e=0;e<2;e+=1){1===e&&(i=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(ym("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(ym("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(ym("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(ym("STATS_COLLECTOR_PORT")).concat(r)));try{t?await xb(i,{timeout:1e4,data:n}):await Nb(i,{timeout:1e4,data:n})}catch(t){if(1===e)throw t;continue}return}}createBaseInfo(e,t){const n=Object.assign({},Lv);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}reportResourceTiming(e,t){const n=performance.getEntriesByName(e),r=n[n.length-1];r&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:r,tag:Bv.TRACER}).onSuccess()}};Zf.on("REPORT_LOG_UPLOAD",(e=>{e.networkState=Pb.networkState,Gb.reportApiInvoke(null,{name:"logUploadError",options:e,tag:Bv.TRACER})}));class Hb extends Wf{constructor(e,t){super(),Qh(this,"trackMediaType",void 0),Qh(this,"_ID",void 0),Qh(this,"_hints",[]),Qh(this,"_isClosed",!1),Qh(this,"_originMediaStreamTrack",void 0),Qh(this,"_mediaStreamTrack",void 0),Qh(this,"_external",{}),this._ID=t||$_(8,"track-"),this._originMediaStreamTrack=e,this._mediaStreamTrack=e,function(e){Rm.includes(e)||Rm.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){if(!e){const e=Gb.reportApiInvoke(null,{name:Vv.GET_MEDIA_STREAM_TRACK,options:[],tag:Bv.TRACER});this._mediaStreamTrack&&"string"==typeof this._mediaStreamTrack.label?e.onSuccess(this._mediaStreamTrack.label):e.onSuccess("")}return this._mediaStreamTrack}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,function(e){const t=Rm.indexOf(e);-1!==t&&Rm.splice(t,1)}(this),this.emit(Ug.CLOSED)}}let qb,Wb=1;class Zb{constructor(e){Qh(this,"lockingPromise",sd.resolve()),Qh(this,"locks",0),Qh(this,"name",""),Qh(this,"lockId",void 0),this.lockId=Wb++,e&&(this.name=e),im.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,im.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:""));const n=new sd((n=>{t=()=>{this.locks-=1,im.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:"")),n()}})),r=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>n)),r}}function Kb(e,t){return function(n,r,i){const o=i.value;if("function"!=typeof o)throw new Error("Cannot use mutex on object property.");return i.value=async function(){const n=this[t];if(!n)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const i=await n.lock("From ".concat(e,".").concat(r));try{for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return await o.apply(this,s)}finally{i()}},i}}class Yb extends Hb{get muted(){return this._muted}get enabled(){return this._enabled}constructor(e,t){super(e,t),Qh(this,"_enabled",!0),Qh(this,"_muted",!1),Qh(this,"_isClosed",!1),Qh(this,"_enabledMutex",void 0),Qh(this,"processor",void 0),Qh(this,"processorContext",void 0),Qh(this,"_handleTrackEnded",(()=>{this.onTrackEnded()})),this._enabledMutex=new Zb("".concat(t)),e.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){return this._originMediaStreamTrack.label}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,im.debug("[".concat(this.getTrackId(),"] close")),this.emit(Dg.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop(),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await oS(this,Dg.NEED_REPLACE_TRACK,this),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){im.debug("[".concat(this.getTrackId(),"] track ended")),this.emit(Ug.TRACK_ENDED)}stateCheck(e,t){if(im.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(e,": ").concat(t,"]")),Ev(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new Yf(Kf.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print();if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new Yf(Kf.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}function Qb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}!function(e){e.IOS_15_INTERRUPTION_START="ios15-interruption-start",e.IOS_15_INTERRUPTION_END="ios15-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change"}(qb||(qb={}));const Jb=window.AudioContext||window.webkitAudioContext;let Xb=null;const $b=new class extends Wf{constructor(){super(...arguments),Qh(this,"prevState",void 0),Qh(this,"curState",void 0),Qh(this,"currentTime",void 0),Qh(this,"currentTimeStuckAt",void 0),Qh(this,"interruptDetectorTrack",void 0),Qh(this,"onLocalAudioTrackMute",(()=>{im.info("ios15-interruption-start"),this.emit(qb.IOS_15_INTERRUPTION_START)})),Qh(this,"onLocalAudioTrackUnmute",(async()=>{im.info("ios15-interruption-end"),"running"!==this.curState||this.duringInterruption?im.info("ios15-interruption-end-canceled"):(Xb&&await Xb.suspend(),this.emit(qb.IOS_15_INTERRUPTION_END))}))}get duringInterruption(){return"running"===this.prevState&&"interrupted"===this.curState}bindInterruptDetectorTrack(e){im.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){im.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function eE(){if(!Xb){if(function(){if(!Jb)return void im.error("your browser is not support web audio");im.info("create audio context");const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qb(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym("WEBAUDIO_INIT_OPTIONS"));im.debug("audio context init option:",JSON.stringify(e)),Xb=new Jb(e),$b.curState=Xb.state,Xb.onstatechange=()=>{$b.prevState=$b.curState,$b.curState=Xb?Xb.state:void 0,(Nh()||Fh())&&"running"===$b.prevState&&"interrupted"===$b.curState&&(im.info("ios-interruption-start"),$b.emit(qb.IOS_INTERRUPTION_START)),(Nh()||Fh())&&"interrupted"===$b.prevState&&"running"===$b.curState&&(im.info("ios-interruption-end"),$b.emit(qb.IOS_INTERRUPTION_END)),$b.prevState!==$b.curState&&(im.debug("AudioContext State Change","".concat($b.prevState,"=>").concat($b.curState)),$b.emit(qb.STATE_CHANGE))},setInterval((()=>{var e;const t=null===(e=Xb)||void 0===e?void 0:e.currentTime;$b.currentTime!==t?($b.currentTimeStuckAt&&(im.debug("AudioContext current time resume at ".concat(t)),$b.currentTimeStuckAt=void 0),$b.currentTime=t):(t!==$b.currentTimeStuckAt&&(Gb.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:t},tag:Bv.TRACER}).onSuccess(),im.warning("AudioContext current time stuck at ".concat(t))),$b.currentTimeStuckAt=t)}),5e3),async function(e){const t=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let n,r=!1,i=!1,o=!1;function a(t){"running"===e.state?s(!1):Nh()||Fh()?"suspended"===e.state&&(s(!0),t&&e.resume().then(c,c)):"closed"!==e.state&&(s(!0),t&&e.resume().then(c,c))}function s(e){if(r!==e){r=e;for(let n=0,r=t;n<r.length;n+=1){const t=r[n];e?window.addEventListener(t,l,{capture:!0,passive:!0}):window.removeEventListener(t,l,{capture:!0,passive:!0})}}}function c(){a(!1)}function l(){a(!0)}function u(e){if(!o)if(n.paused)if(e){let t;d(!1),o=!0;try{t=n.play(),t?t.then(h,h):(n.addEventListener("playing",h),n.addEventListener("abort",h),n.addEventListener("error",h))}catch(e){h()}}else d(!0);else d(!1)}function d(e){if(i!==e){i=e;for(let n=0,r=t;n<r.length;n++){const t=r[n];e?window.addEventListener(t,p,{capture:!0,passive:!0}):window.removeEventListener(t,p,{capture:!0,passive:!0})}}}function h(){n.removeEventListener("playing",h),n.removeEventListener("abort",h),n.removeEventListener("error",h),o=!1,u(!1)}function p(){u(!0)}if(Nh()){const t=e.createMediaStreamDestination(),r=document.createElement("div");r.innerHTML="<audio x-webkit-airplay='deny'></audio>",n=r.children.item(0),n.controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.srcObject=t.stream,u(!0)}$b.on(qb.STATE_CHANGE,(function(){a(!0)})),a(!1)}(Xb)}(),!Xb)throw new Yf(Kf.NOT_SUPPORTED,"can not create audio context");return Xb}return Xb}function tE(e){if(function(){if(null!==nE)return nE;const e=eE(),t=e.createBufferSource(),n=e.createGain(),r=e.createGain();t.connect(n),t.connect(r),t.disconnect(n);let i=!1;try{t.disconnect(n)}catch(e){i=!0}return t.disconnect(),nE=i,i}())return;const t=e.connect,n=e.disconnect;e.connect=(n,r,i)=>(e._inputNodes||(e._inputNodes=[]),e._inputNodes.includes(n)||(n instanceof AudioNode?(e._inputNodes.push(n),t.call(e,n,r,i)):t.call(e,n,r)),e),e.disconnect=(r,i,o)=>{n.call(e),r?cS(e._inputNodes,r):e._inputNodes=[];for(const n of e._inputNodes)t.call(e,n)}}let nE=null;function rE(e,t){let n=!1;const r=1/t;if(ym("DISABLE_WEBAUDIO")){const t=window.setInterval((()=>{n?window.clearInterval(t):e(performance.now()/1e3)}),1e3*r)}else{const t=eE();let i=t.createGain();i.gain.value=0,i.connect(t.destination);const o=()=>{if(n)return void(i=null);const a=t.createOscillator();a.onended=o,a.connect(i),a.start(0),a.stop(t.currentTime+r),e(t.currentTime)};o()}return()=>{n=!0}}const iE=im.prefix("[inject-node]");class oE{constructor(){Qh(this,"nodeLists",[]),Qh(this,"prevNode",void 0),Qh(this,"nextNode",void 0)}get firstNode(){return this.nodeLists[0]}get lastNode(){return this.nodeLists[this.nodeLists.length-1]}get isActive(){return!!this.nodeLists.length}get isConnected(){return!(!this.prevNode||!this.nextNode)}connect(e,t){iE.debug("connect audio node, current list:"+this.nodeLists.length),this.nodeLists.length?(this.prevNode&&this.prevNode.disconnect(),e.connect(this.firstNode),this.nextNode&&this.lastNode&&this.lastNode.disconnect(),this.lastNode.connect(t),this.nodeLists.forEach(((e,t)=>{const n=this.nodeLists[t+1];n&&e.connect(n)}))):e.connect(t),this.nextNode=t,this.prevNode=e}disconnect(){var e;iE.debug("disconnect audio node, current list:"+this.nodeLists.length),this.nodeLists.forEach((e=>{e.disconnect()})),null===(e=this.prevNode)||void 0===e||e.disconnect(),this.prevNode=void 0,this.nextNode=void 0}addNode(e){iE.debug("add node in inject node, current list:",this.nodeLists.length),this.prevNode&&this.nextNode?(this.firstNode||(iE.debug("new node is the first node"),this.prevNode.disconnect(),this.prevNode.connect(e),e.connect(this.nextNode)),this.nextNode&&this.lastNode&&(this.lastNode.disconnect(this.nextNode),this.lastNode.connect(e),e.connect(this.nextNode)),this.nodeLists.push(e)):iE.debug("add node is called before inject node connected")}removeNode(e){iE.debug("remove node in inject node, current list:",this.nodeLists.length);const t=this.nodeLists.indexOf(e);if(-1===t)return void iE.debug("$[inject-node] cannot find the node to be removed");const n=this.nodeLists[t+1],r=this.nodeLists[t-1];0===t&&this.prevNode&&this.nextNode&&(this.prevNode.disconnect(e),n?this.prevNode.connect(n):this.prevNode.connect(this.nextNode)),t===this.nodeLists.length-1&&this.nextNode&&r&&(r.disconnect(e),r.connect(this.nextNode)),0!==t&&t!==this.nodeLists.length-1&&(r.disconnect(e),r.connect(n)),iE.debug("remove node in inject node success, current list:",this.nodeLists.length)}}class aE{constructor(){Qh(this,"context",void 0),Qh(this,"analyserNode",void 0),Qh(this,"sourceNode",void 0),this.context=eE(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||Nh()||Fh()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let n=0;n<e.length;++n)e[n]=t[n]/128-1}const t=qn(e).call(e,((e,t)=>e+t*t),0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){im.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class sE extends Wf{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),Qh(this,"outputNode",void 0),Qh(this,"outputTrack",void 0),Qh(this,"isPlayed",!1),Qh(this,"sourceNode",void 0),Qh(this,"context",void 0),Qh(this,"audioBufferNode",void 0),Qh(this,"destNode",void 0),Qh(this,"injectNode",void 0),Qh(this,"audioOutputLevel",0),Qh(this,"volumeLevelAnalyser",void 0),Qh(this,"_processedNode",void 0),Qh(this,"playNode",void 0),Qh(this,"isDestroyed",!1),Qh(this,"onNoAudioInput",void 0),Qh(this,"isNoAudioInput",!1),Qh(this,"_noAudioInputCount",0),this.context=eE(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),tE(this.outputNode),this.injectNode=new oE,this.volumeLevelAnalyser=new aE}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(og.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const n=e.outputBuffer.getChannelData(t);for(let e=0;e<n.length;e+=1)n[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!ly().webAudioMediaStreamDest)throw new Yf(Kf.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){"running"!==this.context.state&&uS((()=>{$b.emit("autoplay-failed")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;Nh()||Fh()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let n;t.getFloatTimeDomainData?(n=new Float32Array(t.fftSize),t.getFloatTimeDomainData(n)):(n=new Uint8Array(t.fftSize),t.getByteTimeDomainData(n));let r=!1;for(let e=0;e<n.length;e++)0!==n[e]&&(r=!0);return r?(this.isNoAudioInput=!1,!0):(await J_(200),await this.checkHasAudioInput(e?e+1:1)&&r)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}injectAudioNode(e){this.injectNode.addNode(e)}removeAudioNode(e){this.injectNode.removeNode(e)}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class cE extends sE{get isFreeze(){return!1}constructor(e,t,n){var r;if(super(),Qh(this,"sourceNode",void 0),Qh(this,"track",void 0),Qh(this,"clonedTrack",void 0),Qh(this,"audioElement",void 0),Qh(this,"isCurrentTrackCloned",!1),Qh(this,"isRemoteTrack",!1),Qh(this,"originVolumeLevelAnalyser",void 0),Qh(this,"rebuildWebAudio",(async()=>{if(im.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void im.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then((()=>im.info("resume success"))),im.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),tE(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const n=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(n,this.context.currentTime),tE(this.outputNode),this.emit(og.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),"audio"!==e.kind)throw new Yf(Kf.UNEXPECTED_ERROR);this.track=e;const i=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(i),tE(this.sourceNode),n){const e=n.clone();e.enabled=!0,this.clonedTrack=e,im.debug("create an unmuted track ".concat(e.id," from the original track ").concat(n.id," to get the volume"));const t=this.context.createMediaStreamSource(new MediaStream([e]));tE(t),this.originVolumeLevelAnalyser=new aE,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=i;const o=Sh();t&&o.os===gh.IOS&&Number(null===(r=o.osVersion)||void 0===r?void 0:r.split(".")[0])<15&&($b.on(qb.STATE_CHANGE,(()=>{"suspended"===this.context.state?document.body.addEventListener("click",this.rebuildWebAudio,!0):"running"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener("click",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),tE(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(og.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),$b.off("state-change",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),im.debug("create an unmuted track ".concat(t.id," from the original track ").concat(e.id," to get the volume"));const n=this.context.createMediaStreamSource(new MediaStream([t]));tE(n),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(n)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function lE(e,t){const n=(e,t)=>e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,r={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:n(t.height,1080),maxWidth:n(t.width,1920)}}};return t.frameRate&&"number"!=typeof t.frameRate?(r.video.mandatory.maxFrameRate=t.frameRate.max,r.video.mandatory.minFrameRate=t.frameRate.min):"number"==typeof t.frameRate&&(r.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function uE(e){let t=["window","screen"];"application"!==e&&"window"!==e||(t=["window"]),"screen"===e&&(t=["screen"]);const n=hE();if(!n)throw new Yf(Kf.ELECTRON_IS_NULL);let r=null;try{var i;r=(null===(i=n.desktopCapturer)||void 0===i?void 0:i.getSources({types:t}))||n.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:t})}catch(e){r=null}r&&r.then||(r=new sd(((e,r)=>{n.desktopCapturer.getSources({types:t},((t,n)=>{t?r(t):e(n)}))})));try{return await r}catch(e){throw new Yf(Kf.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}let dE=null;function hE(){if(dE)return dE;try{return dE=window.require("electron"),dE}catch(e){return null}}const pE=new Zb("safari");let fE=!1,mE=!1;async function vE(e,t){let n=0,r=null;for(;n<2;)try{r=await gE(e,t,n>0);break}catch(e){if(e instanceof Yf)throw im.error("[".concat(t,"] ").concat(e.toString())),e;const r=yE(e.name||e.code||e,e.message);if(r.code===Kf.MEDIA_OPTION_INVALID){im.debug("[".concat(t,"] detect media option invalid, retry")),n+=1,await J_(500);continue}throw im.error("[".concat(t,"] ").concat(r.toString())),r}if(!r)throw new Yf(Kf.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return r}async function gE(e,t,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Yf(Kf.NOT_SUPPORTED,"can not find getUserMedia");n&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const r=ly(),i=new MediaStream;if(e.audioSource&&i.addTrack(e.audioSource),e.videoSource&&i.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return im.debug("Using Video Source/ Audio Source"),i;if(e.screen)if(hE())e.screen.sourceId?bE(i,await lE(e.screen.sourceId,e.screen)):bE(i,await async function(e){const t=await uE(e.mediaSource),n=await function(e){return new sd(((t,n)=>{const r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const i=document.createElement("div");i.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const o=document.createElement("div");o.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",o.setAttribute("style","height: 12%;");const a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const s=document.createElement("div");s.setAttribute("style","text-align: right; padding: 16px 0;");const c=document.createElement("button");c.innerHTML="cancel",c.setAttribute("style","width: 85px;"),c.onclick=()=>{document.body.removeChild(l);const e=new Error("NotAllowedError");e.name="NotAllowedError",n(e)},s.appendChild(c),i.appendChild(o),i.appendChild(a),i.appendChild(s);const l=document.createElement("div");l.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),l.appendChild(r),l.appendChild(i),document.body.appendChild(l),e.map((e=>{if(e.id){const n=document.createElement("div");n.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let r=e.thumbnail;const{width:i}=r.getSize();i>1920&&(r=r.resize({width:1920})),n.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",n.onclick=()=>{document.body.removeChild(l),t(e.id)},a.appendChild(n)}}))}))}(t);return await lE(n,e)}(e.screen));else if(Ih()&&e.screen.extensionId&&e.screen.mandatory){if(!r.getStreamFromExtension)throw new Yf(Kf.NOT_SUPPORTED,"This browser does not support screen sharing");im.debug("[".concat(t,'] Screen access on chrome stable, looking for extension"'));const n=await(o=e.screen.extensionId,a=t,new sd(((e,t)=>{try{chrome.runtime.sendMessage(o,{getStream:!0},(n=>{if(!n||!n.streamId)return im.error("[".concat(a,"] No response from Chrome Plugin. Plugin not installed properly"),n),void t(new Yf(Kf.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(n.streamId)}))}catch(e){im.error("[".concat(a,"] AgoraRTC screensharing plugin is not accessible(").concat(o,")"),e.toString()),t(new Yf(Kf.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=n,bE(i,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(r.getDisplayMedia){e.screen.mediaSource&&zg(e.screen.mediaSource);const n={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:"screen"===e.screen.mediaSource?"monitor":e.screen.mediaSource};im.debug("[".concat(t,"] getDisplayMedia:"),JSON.stringify({video:n,audio:!!e.screenAudio})),bE(i,await navigator.mediaDevices.getDisplayMedia({video:n,audio:!!e.screenAudio}))}else{if(!kh())throw im.error("[".concat(t,"] This browser does not support screenSharing")),new Yf(Kf.NOT_SUPPORTED,"This browser does not support screen sharing");{e.screen.mediaSource&&zg(e.screen.mediaSource);const n={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};im.debug("[".concat(t,"] getUserMedia: ").concat(JSON.stringify(n))),bE(i,await navigator.mediaDevices.getUserMedia(n))}}var o,a;if(!e.video&&!e.audio)return i;let s={video:e.video,audio:e.audio},c=ym("MEDIA_DEVICE_CONSTRAINTS");if(c)try{"string"==typeof c&&(c=JSON.parse(c)),s=function e(t,n){if(!bS(t)||!bS(n))return n;if(Array.isArray(t)&&!Array.isArray(n)||!Array.isArray(t)&&Array.isArray(n))return n;if(Array.isArray(n)&&Array.isArray(t)){const r=[...t];for(let i=0;i<n.length;i++)r[i]=e(t[i],n[i]);return r}{const r=Y_({},t);for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(Object.prototype.hasOwnProperty.call(t,i)?r[i]=e(t[i],n[i]):r[i]=n[i]);return r}}(s,c)}catch(e){}im.debug("[".concat(t,"] GetUserMedia"),JSON.stringify(s)),Sh();let l,u=null;(Oh()||Nh()||Rh())&&(u=await pE.lock());try{l=await navigator.mediaDevices.getUserMedia(s)}catch(e){throw u&&u(),e}return s.audio&&(fE=!0),s.video&&(mE=!0),bE(i,l),u&&u(),i}function yE(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new Yf(Kf.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new Yf(Kf.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new Yf(Kf.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new Yf(Kf.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new Yf(Kf.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new Yf(Kf.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return im.error("getUserMedia unexpected error",e),new Yf(Kf.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function bE(e,t){const n=e.getVideoTracks()[0],r=e.getAudioTracks()[0],i=t.getVideoTracks()[0],o=t.getAudioTracks()[0];o&&(r&&e.removeTrack(r),e.addTrack(o)),i&&(n&&e.removeTrack(n),e.addTrack(i))}const EE=new class extends Wf{get state(){return this._state}set state(e){e!==this._state&&(this.emit(Gv.STATE_CHANGE,e),this._state=e)}constructor(){super(),Qh(this,"_state",zv.IDLE),Qh(this,"isAccessMicrophonePermission",!1),Qh(this,"isAccessCameraPermission",!1),Qh(this,"lastAccessMicrophonePermission",!1),Qh(this,"lastAccessCameraPermission",!1),Qh(this,"checkdeviceMatched",!1),Qh(this,"deviceInfoMap",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(ym("ENUMERATE_DEVICES_INTERVAL")||Bh()&&Vh())&&this.updateDevicesInfo()}),ym("ENUMERATE_DEVICES_INTERVAL_TIME"))})).catch((e=>im.error(e.toString())))}async enumerateDevices(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new Yf(Kf.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const r=await navigator.mediaDevices.enumerateDevices(),i=this.checkMediaDeviceInfoIsOk(r);let o=!this.isAccessMicrophonePermission&&e,a=!this.isAccessCameraPermission&&t;i.audio&&(o=!1),i.video&&(a=!1);let s=null,c=null,l=null;if(!n&&(o||a)){if(pE.isLocked&&(im.debug("[device manager] wait GUM lock"),(await pE.lock())(),im.debug("[device manager] GUM unlock")),fE&&(o=!1,this.isAccessMicrophonePermission=!0),mE&&(a=!1,this.isAccessCameraPermission=!0),im.debug("[device manager] check media device permissions",e,t,o,a),o&&a){try{l=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=yE(e.name||e.code||e,e.message);if(t.code===Kf.PERMISSION_DENIED)throw t;im.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o){try{s=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=yE(e.name||e.code||e,e.message);if(t.code===Kf.PERMISSION_DENIED)throw t;im.warning("getUserMedia failed in getDevices",t)}this.isAccessMicrophonePermission=!0}else if(a){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=yE(e.name||e.code||e,e.message);if(t.code===Kf.PERMISSION_DENIED)throw t;im.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0}im.debug("[device manager] mic permission",e,"cam permission",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),l&&l.getTracks().forEach((e=>e.stop())),s=null,c=null,l=null,e}catch(e){return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),l&&l.getTracks().forEach((e=>e.stop())),s=null,c=null,l=null,new Yf(Kf.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audioinput"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>"videoinput"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audiooutput"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((n=>{n.device.label===e&&(t=n.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new Yf(Kf.DEVICE_NOT_FOUND,"deviceId: ".concat(e));return t}async init(){this.state=zv.INITING;try{await this.updateDevicesInfo(),this.state=zv.INITEND}catch(e){throw im.warning("Device Detection functionality cannot start properly.",e.toString()),this.state=zv.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new Yf(Kf.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),n=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>"audioinput"===e.kind&&"default"===e.deviceId)),n=e.find((e=>"audiooutput"===e.kind&&"default"===e.deviceId));t&&n?n.groupId===t.groupId?im.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is the same group")):im.warning("[device-check] default input ".concat(t.label," and output ").concat(n.label," is not the same group")):im.debug("[device-check] default input or output not found")}const r=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const r=this.deviceInfoMap.get("".concat(e.kind,"_").concat(e.deviceId));if("ACTIVE"!==(r?r.state:"INACTIVE")){const r={initAt:t,updateAt:t,device:e,state:"ACTIVE"};this.deviceInfoMap.set("".concat(e.kind,"_").concat(e.deviceId),r),n.push(r)}r&&(r.updateAt=t)})),this.deviceInfoMap.forEach(((e,r)=>{"ACTIVE"===e.state&&e.updateAt!==t&&(e.state="INACTIVE",n.push(e))})),this.state!==zv.INITEND)return r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach((e=>{switch(e.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Gv.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(Gv.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Gv.PLAYOUT_DEVICE_CHANGED,e)}})),r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>"audioinput"===e.kind)),n=e.filter((e=>"videoinput"===e.kind)),r={audio:!1,video:!1};for(const e of t)if(e.label&&e.deviceId){r.audio=!0;break}for(const e of n)if(e.label&&e.deviceId){r.video=!0;break}return r}},_E=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],SE=new class{constructor(){Qh(this,"onAutoplayFailed",void 0),Qh(this,"elementMap",new Map),Qh(this,"elementStateMap",new Map),Qh(this,"elementsNeedToResume",[]),Qh(this,"sinkIdMap",new Map),Qh(this,"autoResumeAfterInterruption",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,n]=e;const r=this.elementStateMap.get(t),i=n.srcObject.getAudioTracks()[0];Ph()?i&&"live"===i.readyState&&"running"===$b.curState&&(im.debug("auto resume after interruption for iOS 15"),n.pause(),n.play()):r&&"paused"===r&&i&&"live"===i.readyState&&"running"===$b.curState&&(im.debug("auto resume after interruption for iOS"),n.play())}))})),Qh(this,"autoResumeAfterInterruptionOnIOS15",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,n]=e;const r=n.srcObject.getAudioTracks()[0];r&&"live"===r.readyState&&(im.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),n.pause(),n.play())}))})),this.autoResumeAudioElement(),$b.on(qb.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),$b.on(qb.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15),$b.on(qb.STATE_CHANGE,(()=>{Nh()&&"suspended"===$b.prevState&&"running"===$b.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const n=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),n)try{await n.setSinkId(t)}catch(e){throw new Yf(Kf.PERMISSION_DENIED,"can not set sink id: "+e.toString())}}play(e,t,n,r){if(this.elementMap.has(t))return;const i=document.createElement("audio");i.autoplay=!0,i.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,i),this.elementMap.set(t,i),this.elementStateMap.set(t,xv.INIT),this.setVolume(t,n);const o=this.sinkIdMap.get(t);if(o)try{i.setSinkId(o).catch((e=>{im.warning("[".concat(t,"] set sink id failed"),e.toString())}))}catch(e){im.warning("[".concat(t,"] set sink id failed"),e.toString())}const a=i.play();a&&a.then&&a.catch((e=>{r&&Gb.autoplayFailed(r,"audio",e.message,t),im.warning("audio element play warning",e.toString()),this.elementMap.has(t)&&"NotAllowedError"===e.name&&(im.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(i),uS((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),Mb()})))}))}updateTrack(e,t){const n=this.elementMap.get(e);n&&(n.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)}setVolume(e,t){const n=this.elementMap.get(e);n&&(t=Math.max(0,Math.min(100,t)),n.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const n=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(n,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){_E.forEach((n=>{t.addEventListener(n,(n=>{const r=this.elementStateMap.get(e),i="pause"===n.type?"paused":n.type;if(im.debug("[".concat(e,"] audio-element-status change ").concat(r," => ").concat(i)),"error"===n.type){const n=null==t?void 0:t.error;n&&im.error("[".concat(e,"] media error, code: ").concat(n.code,", message: ").concat(n.message))}this.elementStateMap.set(e,i)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||"uninit"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{im.debug("Auto resume audio element success")})).catch((e=>{im.warning("Auto resume audio element failed!",e)}))})),this.elementsNeedToResume=[]};new sd((e=>{document.body?e():window.addEventListener("load",(()=>e()))})).then((()=>{zh()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0))}))}};function AE(){return function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=function(){this._isClosed&&new Yf(Kf.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=r.apply(this,t);return i instanceof sd?new sd(((e,t)=>{i.then(e).catch(t)})):i}),n}}var wE,TE,CE,RE,IE,OE,kE,NE,xE,PE,DE,LE,ME,FE,UE,jE,VE,BE,zE,GE,HE,qE,WE,ZE,KE,YE,QE,JE,XE,$E,e_,t_,n_,r_,i_,o_,a_,s_=jn("Array").values,c_=qi,l_=Be,u_=u,d_=s_,h_=Array.prototype,p_={DOMTokenList:!0,NodeList:!0},f_=function(e){var t=e.values;return e===h_||u_(h_,e)&&t===h_.values||l_(p_,c_(e))?d_:t};function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m_(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class g_ extends Wf{constructor(e){super(),Qh(this,"name","VideoProcessorDestination"),Qh(this,"ID","0"),Qh(this,"_source",void 0),Qh(this,"videoContext",void 0),Qh(this,"inputTrack",void 0),this.videoContext=e}get kind(){return"video"}get enabled(){return!0}pipe(){throw new Yf(Kf.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new Yf(Kf.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(ey.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(ey.ON_TRACK,void 0)}}class y_ extends Wf{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),Qh(this,"constraintsMap",new Map),Qh(this,"statsRegistry",[]),Qh(this,"usageRegistry",[]),Qh(this,"trackId",void 0),Qh(this,"direction",void 0),Qh(this,"_chained",!1),this.trackId=e,this.direction=t}async getConstraints(){return await iS(this,ty.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var n;return im.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),oS(this,ty.REQUEST_UPDATE_CONSTRAINTS,Array.from(f_(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return im.info("processor ".concat(e.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(e),oS(this,ty.REQUEST_UPDATE_CONSTRAINTS,Array.from(f_(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:r,cb:i}of this.statsRegistry)try{const o=i();e.push({processorID:t,processorName:n,type:r,stats:o})}catch(e){im.error(new Yf(Kf.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let n=t();n instanceof sd&&(n=await n),e.push(v_(v_({},n),{},{direction:this.direction}))}catch(e){im.error("gather extension usage error",e)}return e}getDirection(){return this.direction}}class b_ extends Wf{constructor(e){super(),Qh(this,"name","AudioProcessorDestination"),Qh(this,"ID","0"),Qh(this,"inputTrack",void 0),Qh(this,"inputNode",void 0),Qh(this,"audioProcessorContext",void 0),Qh(this,"_source",void 0),this.audioProcessorContext=e}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new Yf(Kf.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new Yf(Kf.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(ey.ON_TRACK,void 0),this.emit(ey.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error("ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(ey.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(ey.ON_NODE,this.inputNode))}}class E_ extends Wf{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,n){super(),Qh(this,"constraintsMap",new Map),Qh(this,"statsRegistry",[]),Qh(this,"audioContext",void 0),Qh(this,"trackId",void 0),Qh(this,"direction",void 0),Qh(this,"usageRegistry",[]),Qh(this,"_chained",!1),this.audioContext=e,this.trackId=t,this.direction=n}async getConstraints(){return iS(this,ty.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var n;return im.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),oS(this,ty.REQUEST_UPDATE_CONSTRAINTS,Array.from(f_(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),oS(this,ty.REQUEST_UPDATE_CONSTRAINTS,Array.from(f_(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:r,cb:i}of this.statsRegistry)try{const o=i();e.push({processorID:t,processorName:n,type:r,stats:o})}catch(e){im.error(new Yf(Kf.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let n=t();n instanceof sd&&(n=await n),e.push(v_(v_({},n),{},{direction:this.direction}))}catch(e){im.error("gather extension usage error",e)}return e}getDirection(){return this.direction}}class __ extends Wf{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),Qh(this,"context",void 0),Qh(this,"processSourceNode",void 0),Qh(this,"outputTrack",void 0),Qh(this,"processedNode",void 0),Qh(this,"clonedTrack",void 0),Qh(this,"outputNode",void 0),this.outputNode=new S_}setVolume(){}createOutputTrack(){throw new Yf(Kf.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class S_{disconnect(){}connect(){}}function A_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A_(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let T_=(wE=zb({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),TE=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),CE=AE(),RE=Kb("LocalAudioTrack","_enabledMutex"),IE=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),OE=AE(),kE=Kb("LocalAudioTrack","_enabledMutex"),NE=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),xE=AE(),PE=AE(),DE=AE(),LE=zb({argsMap:e=>[e.getTrackId()]}),ME=AE(),FE=zb({argsMap:e=>[e.getTrackId()]}),UE=AE(),jE=zb({argsMap:e=>[e.getTrackId()]}),VE=zb({argsMap:(e,t)=>[e.getTrackId(),t.name]}),BE=zb({argsMap:e=>[e.getTrackId()]}),yb((zE=class extends Yb{get isPlaying(){return this._useAudioElement?SE.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(e,t,n,r){super(e,n),Qh(this,"trackMediaType","audio"),Qh(this,"_encoderConfig",void 0),Qh(this,"_source",void 0),Qh(this,"_enabled",!0),Qh(this,"_volume",100),Qh(this,"_useAudioElement",!1),Qh(this,"_bypassWebAudio",!1),Qh(this,"processor",void 0),Qh(this,"processorContext",void 0),Qh(this,"processorDestination",void 0),Qh(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!r,ym("DISABLE_WEBAUDIO")?(this._source=new __,this._useAudioElement=!0,this._bypassWebAudio=!0):(this._source=new cE(e,!1,this._getOriginVolumeLevel?e:void 0),ym("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")||(this._useAudioElement=!0)),this.processorContext=new E_(this._source.context,this.getTrackId(),"local"),this.processorDestination=new b_(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(og.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setVolume(e){Sv(e,"volume",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&SE.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void im.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,oS(this,Dg.NEED_REPLACE_TRACK,this).then((()=>{im.debug("[".concat(this.getTrackId(),"] replace web audio track success"))})).catch((e=>{im.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),e)})))}catch(e){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement)throw new Yf(Kf.NOT_SUPPORTED,"your browser does not support setting the audio output device");await SE.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,n){return this._setEnabled(e,t,n)}async _setEnabled(e,t,n){if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(im.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await oS(this,Dg.NEED_ENABLE_TRACK,this),im.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(e," success"))}catch(e){throw n||(this._enabled=!1),im.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.toString()),e}}else{this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await oS(this,Dg.NEED_DISABLE_TRACK,this)}catch(e){throw n||(this._enabled=!0),im.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}}}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,im.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await oS(this,Dg.NEED_MUTE_TRACK,this):await oS(this,Dg.NEED_UNMUTE_TRACK,this))}getStats(){return pS((()=>{im.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")}),"localAudioTrackGetStatsWarning"),aS(this,Dg.GET_STATS)||w_({},ug)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(og.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(og.ON_AUDIO_BUFFER),this._source.on(og.ON_AUDIO_BUFFER,(t=>e(t)))}play(){im.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(im.debug("[".concat(this.getTrackId(),"] start audio playback in element")),SE.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){im.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?SE.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];im.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&SE.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),e.addEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop(),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this.processor.updateInput({track:e,context:this.processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await oS(this,Dg.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return sd.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new Yf(Kf.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new Yf(Kf.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(ey.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await oS(this,Dg.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await oS(this,Dg.NEED_REPLACE_TRACK,this))})),this.processorDestination.on(ey.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(ey.ON_TRACK),this.processorDestination.removeAllListeners(ey.ON_NODE)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(ty.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(ty.REQUEST_CONSTRAINTS)}}).prototype,"setVolume",[wE],Object.getOwnPropertyDescriptor(zE.prototype,"setVolume"),zE.prototype),yb(zE.prototype,"setPlaybackDevice",[TE,CE],Object.getOwnPropertyDescriptor(zE.prototype,"setPlaybackDevice"),zE.prototype),yb(zE.prototype,"setEnabled",[RE,IE,OE],Object.getOwnPropertyDescriptor(zE.prototype,"setEnabled"),zE.prototype),yb(zE.prototype,"setMuted",[kE,NE,xE],Object.getOwnPropertyDescriptor(zE.prototype,"setMuted"),zE.prototype),yb(zE.prototype,"getStats",[PE],Object.getOwnPropertyDescriptor(zE.prototype,"getStats"),zE.prototype),yb(zE.prototype,"setAudioFrameCallback",[DE],Object.getOwnPropertyDescriptor(zE.prototype,"setAudioFrameCallback"),zE.prototype),yb(zE.prototype,"play",[LE,ME],Object.getOwnPropertyDescriptor(zE.prototype,"play"),zE.prototype),yb(zE.prototype,"stop",[FE,UE],Object.getOwnPropertyDescriptor(zE.prototype,"stop"),zE.prototype),yb(zE.prototype,"close",[jE],Object.getOwnPropertyDescriptor(zE.prototype,"close"),zE.prototype),yb(zE.prototype,"pipe",[VE],Object.getOwnPropertyDescriptor(zE.prototype,"pipe"),zE.prototype),yb(zE.prototype,"unpipe",[BE],Object.getOwnPropertyDescriptor(zE.prototype,"unpipe"),zE.prototype),zE),C_=(GE=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),HE=AE(),qE=Kb("MicrophoneAudioTrack","_enabledMutex"),WE=zb({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),ZE=AE(),KE=zb({argsMap:e=>[e.getTrackId()]}),yb((YE=class extends T_{get __className__(){return"MicrophoneAudioTrack"}constructor(e,t,n,r){super(e,t.encoderConfig?vm(t.encoderConfig):{},r,ym("GET_VOLUME_OF_MUTED_AUDIO_TRACK")),Qh(this,"_config",void 0),Qh(this,"_deviceName","default"),Qh(this,"_constraints",void 0),Qh(this,"_originalConstraints",void 0),Qh(this,"_enabled",!0),this._config=t,this._constraints=n,this._originalConstraints=n,this._deviceName=e.label,"boolean"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),Ph()&&$b.bindInterruptDetectorTrack(this),this.bindProcessorContextEvents()}async setDevice(e){if(im.info("[".concat(this.getTrackId(),"] start set device to ").concat(e)),this._enabled)try{const t=await EE.getDeviceById(e),n={};n.audio=w_({},this._constraints),n.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let r=null;try{r=await vE(n,this.getTrackId())}catch(e){throw im.error("[".concat(this.getTrackId(),"] setDevice failed"),e.toString()),r=await vE({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw im.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}else try{const t=await EE.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw im.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}im.info("[".concat(this.getTrackId(),"] set device to ").concat(e," success"))}async setEnabled(e,t,n){if(t)return im.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(e);if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(im.info("[".concat(this.getTrackId(),"] start setEnabled"),e),!e){var r;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(r=this._source.clonedTrack)||void 0===r||r.stop(),n||(this._enabled=!1);try{await oS(this,Dg.NEED_DISABLE_TRACK,this)}catch(e){throw im.error("[".concat(this.getTrackId(),"] setEnabled false failed"),e.toString()),e}return}const i=w_({},this._constraints),o=EE.searchDeviceIdByName(this._deviceName);o&&!i.deviceId&&(i.deviceId=o);try{n||(this._enabled=!0);const e=await vE({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await oS(this,Dg.NEED_ENABLE_TRACK,this)}catch(e){throw n||(this._enabled=!1),im.error("[".concat(this.getTrackId(),"] setEnabled true failed"),e.toString()),e}im.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),Ph()&&$b.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((Nh()||Fh())&&this._enabled&&!this._isClosed&&$b.duringInterruption){const e=async()=>{$b.off(qb.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(im.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};$b.on(qb.IOS_INTERRUPTION_END,e)}else im.debug("[".concat(this.getTrackId(),"] track ended")),this.emit(Ug.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=EE.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId=n),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await vE({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(){this.processorContext.on(ty.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})),this.processorContext.on(ty.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}).prototype,"setDevice",[GE,HE],Object.getOwnPropertyDescriptor(YE.prototype,"setDevice"),YE.prototype),yb(YE.prototype,"setEnabled",[qE,WE,ZE],Object.getOwnPropertyDescriptor(YE.prototype,"setEnabled"),YE.prototype),yb(YE.prototype,"close",[KE],Object.getOwnPropertyDescriptor(YE.prototype,"close"),YE.prototype),YE),R_=(QE=zb({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),JE=AE(),XE=zb({argsMap:e=>[e.getTrackId()]}),$E=AE(),e_=zb({argsMap:e=>[e.getTrackId()]}),t_=AE(),n_=zb({argsMap:e=>[e.getTrackId()]}),r_=AE(),i_=zb({argsMap:e=>[e.getTrackId()]}),o_=AE(),yb((a_=class extends T_{get __className__(){return"BufferSourceAudioTrack"}constructor(e,t,n,r){super(t.createOutputTrack(),n,r),Qh(this,"source",void 0),Qh(this,"_bufferSource",void 0),this.source=e,this._bufferSource=t,this._bufferSource.on(og.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.emit(Ug.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}}).prototype,"startProcessAudioBuffer",[QE,JE],Object.getOwnPropertyDescriptor(a_.prototype,"startProcessAudioBuffer"),a_.prototype),yb(a_.prototype,"pauseProcessAudioBuffer",[XE,$E],Object.getOwnPropertyDescriptor(a_.prototype,"pauseProcessAudioBuffer"),a_.prototype),yb(a_.prototype,"seekAudioBuffer",[e_,t_],Object.getOwnPropertyDescriptor(a_.prototype,"seekAudioBuffer"),a_.prototype),yb(a_.prototype,"resumeProcessAudioBuffer",[n_,r_],Object.getOwnPropertyDescriptor(a_.prototype,"resumeProcessAudioBuffer"),a_.prototype),yb(a_.prototype,"stopProcessAudioBuffer",[i_,o_],Object.getOwnPropertyDescriptor(a_.prototype,"stopProcessAudioBuffer"),a_.prototype),a_);class I_ extends T_{get __className__(){return"MixingAudioTrack"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=eE().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,$_(8,"track-mix-")),Qh(this,"trackList",void 0),Qh(this,"destNode",void 0);try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(im.debug("add ".concat(e.getTrackId()," to mixing track")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):im.debug("track ".concat(e.getTrackId()," is already added"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){im.debug("remove ".concat(e.getTrackId()," from mixing track"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}cS(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}}class O_ extends Wf{constructor(){super(...arguments),Qh(this,"resultStorage",new Map)}setLocalAudioStats(e,t,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(n,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(n,t))}setLocalVideoStats(e,t,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(n,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(n,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(n))}setRemoteAudioStats(e,t){const n=e.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",n,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const n=e.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",n,this.checkVideoDecode(t))}record(e,t,n){this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const r=this.resultStorage.get(e);if(r&&(r.result.push(n),r.result.length>=5)){const n=r.result.includes(!0);r.isPrevNormal&&!n&&this.emit("exception",k_[e],e,t),!r.isPrevNormal&&n&&this.emit("exception",k_[e]+2e3,e+"_RECOVER",t),r.isPrevNormal=n,r.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof I_&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}checkFramerateInput(e,t){let n=null;t._encoderConfig&&t._encoderConfig.frameRate&&(n=V_(t._encoderConfig.frameRate));const r=e.captureFrameRate;return!n||!r||!(n>10&&r<5||n<10&&n>=5&&r<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof I_&&!t.isActive||!!t.muted||0!==e.sendBitrate}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const k_={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},N_=new class{markSubscribeStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}markPublishStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}measureFromSubscribeStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x_(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class D_{constructor(e){Qh(this,"store",void 0),Qh(this,"onStatsException",void 0),Qh(this,"onUploadPublishDuration",void 0),Qh(this,"localStats",new Map),Qh(this,"remoteStats",new Map),Qh(this,"updateStatsInterval",void 0),Qh(this,"trafficStats",void 0),Qh(this,"trafficStatsPeerList",[]),Qh(this,"uplinkStats",void 0),Qh(this,"exceptionMonitor",void 0),Qh(this,"p2pChannel",void 0),Qh(this,"updateStats",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new O_,this.exceptionMonitor.on("exception",((e,t,n)=>{this.onStatsException&&this.onStatsException(e,t,n)}))}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(Yg.LocalAudioTrack)||P_({},ug)}getLocalVideoTrackStats(){return this.localStats.get(Yg.LocalVideoTrack)||P_({},dg)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const i=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.audioStats;i&&(n[e]=t(e,i))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{audioStats:i}]=e;i&&(n[r]=t(r,i))}));return n}getRemoteNetworkQualityStats(e){const t={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.networkStats;r&&(t[e]=r)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{networkStats:r}]=e;r&&(t[n]=r)}));return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const i=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.videoStats;i&&(n[e]=t(e,i))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{videoStats:i}]=e;i&&(n[r]=t(r,i))}));return n}getRTCStats(){let e=0,t=0,n=0,r=0;const i=this.localStats.get(Yg.LocalAudioTrack);i&&(e+=i.sendBytes,t+=i.sendBitrate);const o=this.localStats.get(Yg.LocalVideoTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);const a=this.localStats.get(Yg.LocalVideoLowTrack);a&&(e+=a.sendBytes,t+=a.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:i}=e;t&&(n+=t.receiveBytes,r+=t.receiveBitrate),i&&(n+=i.receiveBytes,r+=i.receiveBitrate)}));let s=1;return this.trafficStats&&(s+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:s,SendBitrate:t,SendBytes:e,RecvBytes:n,RecvBitrate:r,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd)),e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const n=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),r=null!=n&&n.videoSSRC?N_.measureFromSubscribeStart(this.store.clientId,n.videoSSRC):0,i=null!=n&&n.audioSSRC?N_.measureFromSubscribeStart(this.store.clientId,n.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,r>i?r:i),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&im.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,n){if(!e)return!1;const r=!!n&&t.framesDecodeFreezeTime>n.framesDecodeFreezeTime,i=!n||t.framesDecodeCount>n.framesDecodeCount;return r||!i}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[n,r]=t;switch(n){case Yg.LocalVideoTrack:case Yg.LocalVideoLowTrack:{const t=r,i=P_({},dg),o=e.getStats(),a=e.getLocalMedia(n);if(o){const n=o.videoSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(n){const r=e.getLocalVideoSize(),o=e.getEncoderConfig(Yg.LocalVideoTrack);"H264"!==n.codec&&"VP8"!==n.codec&&"VP9"!==n.codec&&"AV1X"!==n.codec&&"AV1"!==n.codec||(i.codecType=n.codec),i.sendBytes=n.bytes,i.sendBitrate=t?8*Math.max(0,i.sendBytes-t.sendBytes):0,n.inputFrame?(i.captureFrameRate=n.inputFrame.frameRate,i.captureResolutionHeight=n.inputFrame.height,i.captureResolutionWidth=n.inputFrame.width):r&&(i.captureResolutionWidth=r.width,i.captureResolutionHeight=r.height),n.sentFrame?(i.sendFrameRate=n.sentFrame.frameRate,i.sendResolutionHeight=n.sentFrame.height,i.sendResolutionWidth=n.sentFrame.width):r&&(i.sendResolutionWidth=r.width,i.sendResolutionHeight=r.height),n.avgEncodeMs&&(i.encodeDelay=n.avgEncodeMs),o&&o.bitrateMax&&(i.targetSendBitrate=1e3*o.bitrateMax),i.sendPackets=n.packets,i.sendPacketsLost=n.packetsLost,i.totalDuration=t?t.totalDuration+1:1,i.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(n)&&(i.totalFreezeTime+=1)}this.trafficStats&&(i.sendPacketsLost=this.trafficStats.B_pvlr4/100)}this.localStats.set(n,i),i&&a&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,a.track,i);break}case Yg.LocalAudioTrack:{const t=r,i=P_({},ug),o=e.getStats(),a=e.getLocalMedia(n);if(o){const n=o.audioSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(n){if("opus"!==n.codec&&"aac"!==n.codec&&"PCMU"!==n.codec&&"PCMA"!==n.codec&&"G722"!==n.codec||(i.codecType=n.codec),n.inputLevel)i.sendVolumeLevel=Math.round(32767*n.inputLevel);else{const t=e.getLocalAudioVolume();t&&(i.sendVolumeLevel=Math.round(32767*t))}i.sendBytes=n.bytes,i.sendPackets=n.packets,i.sendPacketsLost=n.packetsLost,i.sendBitrate=t?8*Math.max(0,i.sendBytes-t.sendBytes):0}}this.trafficStats&&(i.sendPacketsLost=this.trafficStats.B_pvlr4/100),this.localStats.set(Yg.LocalAudioTrack,i),i&&a&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,a.track,i);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{let[n,{videoStats:r,audioStats:i,videoPcStats:o}]=t;const a=i,s=r,c=o,l=P_({},hg),u=P_({},fg),d=P_({},pg),{audioTrack:h,videoTrack:p,audioSSRC:f,videoSSRC:m}=e.getRemoteMedia(n),v=e.getStats(),g=null==v?void 0:v.audioRecv.find((e=>e.ssrc===f)),y=null==v?void 0:v.videoRecv.find((e=>e.ssrc===m)),b=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===n));if(g&&("opus"!==g.codec&&"aac"!==g.codec&&"PCMU"!==g.codec&&"PCMA"!==g.codec&&"G722"!==g.codec||(l.codecType=g.codec),g.outputLevel?l.receiveLevel=Math.round(32767*g.outputLevel):h&&(l.receiveLevel=Math.round(32767*h.getVolumeLevel())),l.receiveBytes=g.bytes,l.receivePackets=g.packets,l.receivePacketsLost=g.packetsLost,l.packetLossRate=l.receivePacketsLost/(l.receivePackets+l.receivePacketsLost),l.receiveBitrate=a?8*Math.max(0,l.receiveBytes-a.receiveBytes):0,l.totalDuration=a?a.totalDuration+1:1,l.totalFreezeTime=a?a.totalFreezeTime:0,l.freezeRate=l.totalFreezeTime/l.totalDuration,l.receiveDelay=g.jitterBufferMs,l.totalDuration>10&&D_.isRemoteAudioFreeze(h)&&(l.totalFreezeTime+=1)),y){"H264"!==y.codec&&"VP8"!==y.codec&&"VP9"!==y.codec&&"AV1X"!==y.codec&&"AV1"!==y.codec||(u.codecType=y.codec),u.receiveBytes=y.bytes,u.receiveBitrate=s?8*Math.max(0,u.receiveBytes-s.receiveBytes):0,u.decodeFrameRate=y.decodeFrameRate<0?0:y.decodeFrameRate,u.renderFrameRate=y.decodeFrameRate<0?0:y.decodeFrameRate,y.outputFrame&&(u.renderFrameRate=y.outputFrame.frameRate),y.receivedFrame?(u.receiveFrameRate=y.receivedFrame.frameRate,u.receiveResolutionHeight=y.receivedFrame.height,u.receiveResolutionWidth=y.receivedFrame.width):p&&(u.receiveResolutionHeight=p._videoHeight||0,u.receiveResolutionWidth=p._videoWidth||0),void 0!==y.framesRateFirefox&&(u.receiveFrameRate=Math.round(y.framesRateFirefox)),u.receivePackets=y.packets,u.receivePacketsLost=y.packetsLost,u.packetLossRate=u.receivePacketsLost/(u.receivePackets+u.receivePacketsLost),u.totalDuration=s?s.totalDuration+1:1,u.totalFreezeTime=s?s.totalFreezeTime:0,u.receiveDelay=y.jitterBufferMs||0;const t=!!m&&e.getRemoteVideoIsReady(m);p&&t&&D_.isRemoteVideoFreeze(p,y,c)&&(u.totalFreezeTime+=1),u.freezeRate=u.totalFreezeTime/u.totalDuration}b&&(l.end2EndDelay=b.B_ad,u.end2EndDelay=b.B_vd,l.transportDelay=b.B_ed,u.transportDelay=b.B_ed,l.currentPacketLossRate=b.B_ealr4/100,u.currentPacketLossRate=b.B_evlr4/100,d.uplinkNetworkQuality=b.B_punq?b.B_punq:0,d.downlinkNetworkQuality=b.B_pdnq?b.B_pdnq:0),this.remoteStats.set(n,{audioStats:l,videoStats:u,videoPcStats:y,networkStats:d}),h&&this.exceptionMonitor.setRemoteAudioStats(h,l),p&&this.exceptionMonitor.setRemoteVideoStats(p,u)}))}}const L_=new class extends Wf{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),Qh(this,"_lastHiddenTime",0),Qh(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),im.debug("document visibility went ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)}))}};function M_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M_(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U_(e){return e.match(/^[\.\:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(ym("TURN_DOMAIN")):(im.info("Cannot recognized as IP address ".concat(e,". Used As Host instead")),e)}function j_(e,t){var n,r;const i=ym("GATEWAY_DOMAINS");let o=i[1]&&-1!==t.indexOf(i[1])?1:0;e.addresses=e.addresses||[];const a=e.addresses.map((e=>e.domain_prefix?{address:"".concat(e.domain_prefix,".").concat(i[o++%i.length],":").concat(e.port)}:e.ip.match(/^[\.\:\d]+$/)?{ip:e.ip,port:e.port,address:"".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(i[o++%i.length],":").concat(e.port)}:(im.info("Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),{ip:e.ip,port:e.port,address:"".concat(e.ip,":").concat(e.port)})));if(null!==(n=e.detail)&&void 0!==n&&n[18]&&"string"==typeof(null===(r=e.detail)||void 0===r?void 0:r[18])){const t=e.detail[18],n=null==t?void 0:t.split(";");for(let e=0;e<n.length;e++){var s;const t=ih(s=n[e]).call(s);a[e]&&t&&(a[e].ip6=t)}}return{gatewayAddrs:a,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function V_(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function B_(e){const t=e._encoderConfig;if(!t)return{};const n={resolution:t.width&&t.height?"".concat(V_(t.width),"x").concat(V_(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return"number"==typeof t.frameRate?(n.maxFrameRate=t.frameRate,n.minFrameRate=t.frameRate):t.frameRate&&(n.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,n.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),n}function z_(e,t,n){var r;const i=t.videoSend.find((t=>t.ssrc===e));if(!i)return null;const o=null==n||null===(r=n.videoSend.find((t=>t.ssrc===e)))||void 0===r?void 0:r.inputFrame,a={id:$_(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:i.ssrc.toString()};return i.inputFrame&&(o&&i.inputFrame.height===o.height||(a.A_fhi=i.inputFrame.height?i.inputFrame.height.toString():"0"),o&&i.inputFrame.width===o.width||(a.A_fwi=i.inputFrame.width?i.inputFrame.width.toString():"0"),o&&i.inputFrame.frameRate===o.frameRate||(a.A_fri=i.inputFrame.frameRate?i.inputFrame.frameRate.toString():"0")),a}function G_(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function H_(e,t){let n,r,i;switch(t){case uy.CHOOSE_SERVER:n=4096,r="choose server";break;case uy.CLOUD_PROXY:n=1048576,r="proxy";break;case uy.CLOUD_PROXY_5:n=4194304,r="proxy5";break;case uy.CLOUD_PROXY_FALLBACK:n=4194310,r="proxy fallback";break;default:throw new Yf(Kf.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===n&&(i={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>F_(F_({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:F_(F_({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})})),!i)throw new Yf(Kf.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(r," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return i}async function q_(e,t){return await sd.all(e.addresses.map((async e=>({address:U_(e.ip),tcpport:e.port,udpport:e.port,username:t&&ym("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?t.toString():cm.username,password:t&&ym("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await jb(t.toString()):cm.password}))))}function W_(e,t){const n=t._videoWidth||t.getMediaStreamTrack(!0).getSettings().width;return n||im.warning("cannot get original video track's width, default scale down 4 times for low stream"),n?n/V_(e.width):4}function Z_(e){let{candidateType:t,relayProtocol:n,type:r,address:i,port:o,protocol:a}=e;return"local-candidate"===r?{candidateType:t,relayProtocol:n,protocol:a}:{candidateType:t,relayProtocol:n,address:i,port:o,protocol:a}}function K_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K_(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q_(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function J_(e){return new sd((t=>{window.setTimeout(t,e)}))}function X_(e){const t=new Yf(Kf.TIMEOUT,"timeout");return new sd(((n,r)=>{window.setTimeout((()=>r(t)),e)}))}function $_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+$_(e-n.length,"")}function eS(){return $_(32,"").toUpperCase()}const tS=()=>{};function nS(e){return new sd(((t,n)=>{let r=!1;const i=document.createElement("video");i.setAttribute("autoplay",""),i.setAttribute("muted",""),i.muted=!0,i.autoplay=!0,i.setAttribute("playsinline",""),i.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(i);const o=Nh()?"canplay":"playing";i.addEventListener(o,(()=>{const e=i.videoWidth,n=i.videoHeight;!e&&kh()||(r=!0,i.srcObject=null,i.remove(),t([e,n]))})),i.srcObject=new MediaStream([e]),i.play().catch(tS),setTimeout((()=>{r||(i.srcObject=null,i.remove(),t([i.videoWidth,i.videoHeight]))}),4e3)}))}function rS(e){return sd.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}function iS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return 0===e.getListeners(t).length?sd.reject(new Yf(Kf.UNEXPECTED_ERROR,"can not emit promise")):new sd(((n,i)=>{e.emit(t,...r,n,i)}))}function oS(e,t){if(0===e.getListeners(t).length)return sd.resolve();for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return iS(e,t,...r)}function aS(e,t){if(0===e.getListeners(t).length)return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return sS(e,t,...r)}function sS(e,t){let n=null,r=null;for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(e.emit(t,...o,(e=>{n=e}),(e=>{r=e})),null!==r)throw r;if(null===n)throw new Yf(Kf.UNEXPECTED_ERROR,"handler is not sync");return n}function cS(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function lS(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function uS(e){sd.resolve().then(e)}function dS(e){return JSON.parse(JSON.stringify(e))}const hS={};function pS(e,t){hS[t]||(hS[t]=!0,e())}function fS(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)n[e]=t.charCodeAt(e);return n}function mS(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}const vS=new class{constructor(){Qh(this,"fnMap",new Map)}throttleByKey(e,t,n,r){for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];if(this.fnMap.has(t)){const i=this.fnMap.get(t);if(i.threshold!==n){i.fn(...i.args),clearTimeout(i.timer);const a=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:a,args:o,skipFn:r})}else i.skipFn&&i.skipFn(...i.args),this.fnMap.set(t,Y_(Y_({},i),{},{fn:e,args:o,skipFn:r}))}else{const i=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:i,args:o,skipFn:r})}}},gS=vS.throttleByKey.bind(vS),yS=async e=>{let{fragementLength:t,referenceList:n,asyncMapHandler:r,allFailedhandler:i,promisesCollector:o}=e,a=0;const s=t;let c,l=0;const u=async()=>{const e=(()=>{const e=a*s,t=e+s;return n.slice(e,t).map(r)})();o&&o.push(...e);try{c=await rS(e)}catch(e){if(l+=s,a++,!(l>=n.length))return void await u();i(e)}e.forEach((e=>e.cancel()))};return await u(),c};function bS(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}var ES=t,_S=rt("iterator"),SS=!ES((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[_S]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),AS=E,wS=l,TS=A,CS=t,RS=ii,IS=Hr,OS=w,kS=Ue,NS=V,xS=Object.assign,PS=Object.defineProperty,DS=wS([].concat),LS=!xS||CS((function(){if(AS&&1!==xS({b:1},xS(PS({},"a",{enumerable:!0,get:function(){PS(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=xS({},e)[n]||RS(xS({},t)).join("")!=r}))?function(e,t){for(var n=kS(e),r=arguments.length,i=1,o=IS.f,a=OS.f;r>i;)for(var s,c=NS(arguments[i++]),l=o?DS(RS(c),o(c)):RS(c),u=l.length,d=0;u>d;)s=l[d++],AS&&!TS(a,c,s)||(n[s]=c[s]);return n}:xS,MS=Kt,FS=so,US=Bt,jS=A,VS=Ue,BS=function(e,t,n,r){try{return r?t(MS(n)[0],n[1]):t(n)}catch(t){FS(e,"throw",t)}},zS=Li,GS=$s,HS=wn,qS=Nm,WS=ro,ZS=Qi,KS=h.Array,YS=l,QS=2147483647,JS=/[^\0-\u007E]/,XS=/[.\u3002\uFF0E\uFF61]/g,$S="Overflow: input needs wider integers to process",eA=h.RangeError,tA=YS(XS.exec),nA=Math.floor,rA=String.fromCharCode,iA=YS("".charCodeAt),oA=YS([].join),aA=YS([].push),sA=YS("".replace),cA=YS("".split),lA=YS("".toLowerCase),uA=function(e){return e+22+75*(e<26)},dA=function(e,t,n){var r=0;for(e=n?nA(e/700):e>>1,e+=nA(e/t);e>455;)e=nA(e/35),r+=36;return nA(r+36*e/(e+38))},hA=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=iA(e,n++);if(i>=55296&&i<=56319&&n<r){var o=iA(e,n++);56320==(64512&o)?aA(t,((1023&i)<<10)+(1023&o)+65536):(aA(t,i),n--)}else aA(t,i)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&aA(r,rA(n));var c=r.length,l=c;for(c&&aA(r,"-");l<i;){var u=QS;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<u&&(u=n);var d=l+1;if(u-o>nA((QS-a)/d))throw eA($S);for(a+=(u-o)*d,o=u,t=0;t<e.length;t++){if((n=e[t])<o&&++a>QS)throw eA($S);if(n==o){for(var h=a,p=36;;){var f=p<=s?1:p>=s+26?26:p-s;if(h<f)break;var m=h-f,v=36-f;aA(r,rA(uA(f+m%v))),h=nA(m/v),p+=36}aA(r,rA(uA(h))),s=dA(a,d,l==c),a=0,l++}}a++,o++}return oA(r,"")},pA=h.TypeError,fA=yn,mA=h,vA=$,gA=A,yA=l,bA=SS,EA=Ia,_A=ws,SA=Wa,AA=$a,wA=Ea,TA=Ns,CA=y,RA=Be,IA=Bt,OA=qi,kA=Kt,NA=Z,xA=To,PA=wi,DA=k,LA=ro,MA=Qi,FA=function(e,t){if(e<t)throw pA("Not enough arguments");return e},UA=Gm,jA=rt("iterator"),VA="URLSearchParams",BA="URLSearchParamsIterator",zA=wA.set,GA=wA.getterFor(VA),HA=wA.getterFor(BA),qA=vA("fetch"),WA=vA("Request"),ZA=vA("Headers"),KA=WA&&WA.prototype,YA=ZA&&ZA.prototype,QA=mA.RegExp,JA=mA.TypeError,XA=mA.decodeURIComponent,$A=mA.encodeURIComponent,ew=yA("".charAt),tw=yA([].join),nw=yA([].push),rw=yA("".replace),iw=yA([].shift),ow=yA([].splice),aw=yA("".split),sw=yA("".slice),cw=/\+/g,lw=Array(4),uw=function(e){return lw[e-1]||(lw[e-1]=QA("((?:%[\\da-f]{2}){"+e+"})","gi"))},dw=function(e){try{return XA(e)}catch(t){return e}},hw=function(e){var t=rw(e,cw," "),n=4;try{return XA(t)}catch(e){for(;n;)t=rw(t,uw(n--),dw);return t}},pw=/[!'()~]|%20/g,fw={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},mw=function(e){return fw[e]},vw=function(e){return rw($A(e),pw,mw)},gw=AA((function(e,t){zA(this,{type:BA,iterator:LA(GA(e).entries),kind:t})}),"Iterator",(function(){var e=HA(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),yw=function(e){this.entries=[],this.url=null,void 0!==e&&(NA(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===ew(e,0)?sw(e,1):e:xA(e)))};yw.prototype={type:VA,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,a,s,c=MA(e);if(c)for(n=(t=LA(e,c)).next;!(r=gA(n,t)).done;){if(o=(i=LA(kA(r.value))).next,(a=gA(o,i)).done||(s=gA(o,i)).done||!gA(o,i).done)throw JA("Expected sequence with length 2");nw(this.entries,{key:xA(a.value),value:xA(s.value)})}else for(var l in e)RA(e,l)&&nw(this.entries,{key:l,value:xA(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=aw(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=aw(t,"="),nw(this.entries,{key:hw(iw(n)),value:hw(tw(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],nw(n,vw(e.key)+"="+vw(e.value));return tw(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var bw=function(){TA(this,Ew),zA(this,new yw(arguments.length>0?arguments[0]:void 0))},Ew=bw.prototype;if(_A(Ew,{append:function(e,t){FA(arguments.length,2);var n=GA(this);nw(n.entries,{key:xA(e),value:xA(t)}),n.updateURL()},delete:function(e){FA(arguments.length,1);for(var t=GA(this),n=t.entries,r=xA(e),i=0;i<n.length;)n[i].key===r?ow(n,i,1):i++;t.updateURL()},get:function(e){FA(arguments.length,1);for(var t=GA(this).entries,n=xA(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){FA(arguments.length,1);for(var t=GA(this).entries,n=xA(e),r=[],i=0;i<t.length;i++)t[i].key===n&&nw(r,t[i].value);return r},has:function(e){FA(arguments.length,1);for(var t=GA(this).entries,n=xA(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){FA(arguments.length,1);for(var n,r=GA(this),i=r.entries,o=!1,a=xA(e),s=xA(t),c=0;c<i.length;c++)(n=i[c]).key===a&&(o?ow(i,c--,1):(o=!0,n.value=s));o||nw(i,{key:a,value:s}),r.updateURL()},sort:function(){var e=GA(this);UA(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=GA(this).entries,r=IA(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new gw(this,"keys")},values:function(){return new gw(this,"values")},entries:function(){return new gw(this,"entries")}},{enumerable:!0}),EA(Ew,jA,Ew.entries,{name:"entries"}),EA(Ew,"toString",(function(){return GA(this).serialize()}),{enumerable:!0}),SA(bw,VA),fA({global:!0,forced:!bA},{URLSearchParams:bw}),!bA&&CA(ZA)){var _w=yA(YA.has),Sw=yA(YA.set),Aw=function(e){if(NA(e)){var t,n=e.body;if(OA(n)===VA)return t=e.headers?new ZA(e.headers):new ZA,_w(t,"content-type")||Sw(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),PA(e,{body:DA(0,xA(n)),headers:DA(0,t)})}return e};if(CA(qA)&&fA({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return qA(e,arguments.length>1?Aw(arguments[1]):{})}}),CA(WA)){var ww=function(e){return TA(this,KA),new WA(e,arguments.length>1?Aw(arguments[1]):{})};KA.constructor=ww,ww.prototype=KA,fA({global:!0,forced:!0},{Request:ww})}}var Tw,Cw={URLSearchParams:bw,getState:GA},Rw=yn,Iw=E,Ow=SS,kw=h,Nw=Bt,xw=l,Pw=ti.f,Dw=Ia,Lw=Ns,Mw=Be,Fw=LS,Uw=function(e){var t=VS(e),n=GS(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=US(i,r>2?arguments[2]:void 0));var a,s,c,l,u,d,h=ZS(t),p=0;if(!h||this==KS&&zS(h))for(a=HS(t),s=n?new this(a):KS(a);a>p;p++)d=o?i(t[p],p):t[p],qS(s,p,d);else for(u=(l=WS(t,h)).next,s=n?new this:[];!(c=jS(u,l)).done;p++)d=o?BS(l,i,[c.value,p],!0):c.value,qS(s,p,d);return s.length=p,s},jw=Fm,Vw=Gu.codeAt,Bw=To,zw=Wa,Gw=Cw,Hw=Ea,qw=Hw.set,Ww=Hw.getterFor("URL"),Zw=Gw.URLSearchParams,Kw=Gw.getState,Yw=kw.URL,Qw=kw.TypeError,Jw=kw.parseInt,Xw=Math.floor,$w=Math.pow,eT=xw("".charAt),tT=xw(/./.exec),nT=xw([].join),rT=xw(1..toString),iT=xw([].pop),oT=xw([].push),aT=xw("".replace),sT=xw([].shift),cT=xw("".split),lT=xw("".slice),uT=xw("".toLowerCase),dT=xw([].unshift),hT="Invalid scheme",pT="Invalid host",fT="Invalid port",mT=/[a-z]/i,vT=/[\d+-.a-z]/i,gT=/\d/,yT=/^0x/i,bT=/^[0-7]+$/,ET=/^\d+$/,_T=/^[\da-f]+$/i,ST=/[\0\t\n\r #%/:<>?@[\\\]^|]/,AT=/[\0\t\n\r #/:<>?@[\\\]^|]/,wT=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,TT=/[\t\n\r]/g,CT=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)dT(t,e%256),e=Xw(e/256);return nT(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=rT(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},RT={},IT=Fw({},RT,{" ":1,'"':1,"<":1,">":1,"`":1}),OT=Fw({},IT,{"#":1,"?":1,"{":1,"}":1}),kT=Fw({},OT,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),NT=function(e,t){var n=Vw(e,0);return n>32&&n<127&&!Mw(t,e)?e:encodeURIComponent(e)},xT={ftp:21,file:null,http:80,https:443,ws:80,wss:443},PT=function(e,t){var n;return 2==e.length&&tT(mT,eT(e,0))&&(":"==(n=eT(e,1))||!t&&"|"==n)},DT=function(e){var t;return e.length>1&&PT(lT(e,0,2))&&(2==e.length||"/"===(t=eT(e,2))||"\\"===t||"?"===t||"#"===t)},LT=function(e){return"."===e||"%2e"===uT(e)},MT={},FT={},UT={},jT={},VT={},BT={},zT={},GT={},HT={},qT={},WT={},ZT={},KT={},YT={},QT={},JT={},XT={},$T={},eC={},tC={},nC={},rC=function(e,t,n){var r,i,o,a=Bw(e);if(t){if(i=this.parse(a))throw Qw(i);this.searchParams=null}else{if(void 0!==n&&(r=new rC(n,!0)),i=this.parse(a,null,r))throw Qw(i);(o=Kw(new Zw)).bindURL(this),this.searchParams=o}};rC.prototype={type:"URL",parse:function(e,t,n){var r,i,o,a,s,c=this,l=t||MT,u=0,d="",h=!1,p=!1,f=!1;for(e=Bw(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=aT(e,wT,"")),e=aT(e,TT,""),r=Uw(e);u<=r.length;){switch(i=r[u],l){case MT:if(!i||!tT(mT,i)){if(t)return hT;l=UT;continue}d+=uT(i),l=FT;break;case FT:if(i&&(tT(vT,i)||"+"==i||"-"==i||"."==i))d+=uT(i);else{if(":"!=i){if(t)return hT;d="",l=UT,u=0;continue}if(t&&(c.isSpecial()!=Mw(xT,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&xT[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=YT:c.isSpecial()&&n&&n.scheme==c.scheme?l=jT:c.isSpecial()?l=GT:"/"==r[u+1]?(l=VT,u++):(c.cannotBeABaseURL=!0,oT(c.path,""),l=eC)}break;case UT:if(!n||n.cannotBeABaseURL&&"#"!=i)return hT;if(n.cannotBeABaseURL&&"#"==i){c.scheme=n.scheme,c.path=jw(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=nC;break}l="file"==n.scheme?YT:BT;continue;case jT:if("/"!=i||"/"!=r[u+1]){l=BT;continue}l=HT,u++;break;case VT:if("/"==i){l=qT;break}l=$T;continue;case BT:if(c.scheme=n.scheme,i==Tw)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=jw(n.path),c.query=n.query;else if("/"==i||"\\"==i&&c.isSpecial())l=zT;else if("?"==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=jw(n.path),c.query="",l=tC;else{if("#"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=jw(n.path),c.path.length--,l=$T;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=jw(n.path),c.query=n.query,c.fragment="",l=nC}break;case zT:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=$T;continue}l=qT}else l=HT;break;case GT:if(l=HT,"/"!=i||"/"!=eT(d,u+1))continue;u++;break;case HT:if("/"!=i&&"\\"!=i){l=qT;continue}break;case qT:if("@"==i){h&&(d="%40"+d),h=!0,o=Uw(d);for(var m=0;m<o.length;m++){var v=o[m];if(":"!=v||f){var g=NT(v,kT);f?c.password+=g:c.username+=g}else f=!0}d=""}else if(i==Tw||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(h&&""==d)return"Invalid authority";u-=Uw(d).length+1,d="",l=WT}else d+=i;break;case WT:case ZT:if(t&&"file"==c.scheme){l=JT;continue}if(":"!=i||p){if(i==Tw||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==d)return pT;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(d))return a;if(d="",l=XT,t)return;continue}"["==i?p=!0:"]"==i&&(p=!1),d+=i}else{if(""==d)return pT;if(a=c.parseHost(d))return a;if(d="",l=KT,t==ZT)return}break;case KT:if(!tT(gT,i)){if(i==Tw||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||t){if(""!=d){var y=Jw(d,10);if(y>65535)return fT;c.port=c.isSpecial()&&y===xT[c.scheme]?null:y,d=""}if(t)return;l=XT;continue}return fT}d+=i;break;case YT:if(c.scheme="file","/"==i||"\\"==i)l=QT;else{if(!n||"file"!=n.scheme){l=$T;continue}if(i==Tw)c.host=n.host,c.path=jw(n.path),c.query=n.query;else if("?"==i)c.host=n.host,c.path=jw(n.path),c.query="",l=tC;else{if("#"!=i){DT(nT(jw(r,u),""))||(c.host=n.host,c.path=jw(n.path),c.shortenPath()),l=$T;continue}c.host=n.host,c.path=jw(n.path),c.query=n.query,c.fragment="",l=nC}}break;case QT:if("/"==i||"\\"==i){l=JT;break}n&&"file"==n.scheme&&!DT(nT(jw(r,u),""))&&(PT(n.path[0],!0)?oT(c.path,n.path[0]):c.host=n.host),l=$T;continue;case JT:if(i==Tw||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&PT(d))l=$T;else if(""==d){if(c.host="",t)return;l=XT}else{if(a=c.parseHost(d))return a;if("localhost"==c.host&&(c.host=""),t)return;d="",l=XT}continue}d+=i;break;case XT:if(c.isSpecial()){if(l=$T,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=Tw&&(l=$T,"/"!=i))continue}else c.fragment="",l=nC;else c.query="",l=tC;break;case $T:if(i==Tw||"/"==i||"\\"==i&&c.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(s=uT(s=d))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||oT(c.path,"")):LT(d)?"/"==i||"\\"==i&&c.isSpecial()||oT(c.path,""):("file"==c.scheme&&!c.path.length&&PT(d)&&(c.host&&(c.host=""),d=eT(d,0)+":"),oT(c.path,d)),d="","file"==c.scheme&&(i==Tw||"?"==i||"#"==i))for(;c.path.length>1&&""===c.path[0];)sT(c.path);"?"==i?(c.query="",l=tC):"#"==i&&(c.fragment="",l=nC)}else d+=NT(i,OT);break;case eC:"?"==i?(c.query="",l=tC):"#"==i?(c.fragment="",l=nC):i!=Tw&&(c.path[0]+=NT(i,RT));break;case tC:t||"#"!=i?i!=Tw&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":NT(i,RT)):(c.fragment="",l=nC);break;case nC:i!=Tw&&(c.fragment+=NT(i,IT))}u++}},parseHost:function(e){var t,n,r;if("["==eT(e,0)){if("]"!=eT(e,e.length-1))return pT;if(!(t=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return eT(e,d)};if(":"==h()){if(":"!=eT(e,1))return;d+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(t=n=0;n<4&&tT(_T,h());)t=16*t+Jw(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!tT(gT,h()))return;for(;tT(gT,h());){if(o=Jw(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}c[l]=256*c[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c}(lT(e,1,-1))))return pT;this.host=t}else if(this.isSpecial()){if(e=function(e){var t,n,r=[],i=cA(sA(lA(e),XS,"."),".");for(t=0;t<i.length;t++)n=i[t],aA(r,tA(JS,n)?"xn--"+hA(n):n);return oA(r,".")}(e),tT(ST,e))return pT;if(null===(t=function(e){var t,n,r,i,o,a,s,c=cT(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,i.length>1&&"0"==eT(i,0)&&(o=tT(yT,i)?16:8,i=lT(i,8==o?1:2)),""===i)a=0;else{if(!tT(10==o?ET:8==o?bT:_T,i))return e;a=Jw(i,o)}oT(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=$w(256,5-t))return null}else if(a>255)return null;for(s=iT(n),r=0;r<n.length;r++)s+=n[r]*$w(256,3-r);return s}(e)))return pT;this.host=t}else{if(tT(AT,e))return pT;for(t="",n=Uw(e),r=0;r<n.length;r++)t+=NT(n[r],RT);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return Mw(xT,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&PT(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=CT(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+nT(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw Qw(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new iC(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+CT(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Bw(e)+":",MT)},getUsername:function(){return this.username},setUsername:function(e){var t=Uw(Bw(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=NT(t[n],kT)}},getPassword:function(){return this.password},setPassword:function(e){var t=Uw(Bw(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=NT(t[n],kT)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?CT(e):CT(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,WT)},getHostname:function(){var e=this.host;return null===e?"":CT(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,ZT)},getPort:function(){var e=this.port;return null===e?"":Bw(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=Bw(e))?this.port=null:this.parse(e,KT))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+nT(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,XT))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=Bw(e))?this.query=null:("?"==eT(e,0)&&(e=lT(e,1)),this.query="",this.parse(e,tC)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=Bw(e))?("#"==eT(e,0)&&(e=lT(e,1)),this.fragment="",this.parse(e,nC)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var iC=function(e){var t=Lw(this,oC),n=qw(t,new rC(e,!1,arguments.length>1?arguments[1]:void 0));Iw||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},oC=iC.prototype,aC=function(e,t){return{get:function(){return Ww(this)[e]()},set:t&&function(e){return Ww(this)[t](e)},configurable:!0,enumerable:!0}};if(Iw&&Pw(oC,{href:aC("serialize","setHref"),origin:aC("getOrigin"),protocol:aC("getProtocol","setProtocol"),username:aC("getUsername","setUsername"),password:aC("getPassword","setPassword"),host:aC("getHost","setHost"),hostname:aC("getHostname","setHostname"),port:aC("getPort","setPort"),pathname:aC("getPathname","setPathname"),search:aC("getSearch","setSearch"),searchParams:aC("getSearchParams"),hash:aC("getHash","setHash")}),Dw(oC,"toJSON",(function(){return Ww(this).serialize()}),{enumerable:!0}),Dw(oC,"toString",(function(){return Ww(this).serialize()}),{enumerable:!0}),Yw){var sC=Yw.createObjectURL,cC=Yw.revokeObjectURL;sC&&Dw(iC,"createObjectURL",Nw(sC,Yw)),cC&&Dw(iC,"revokeObjectURL",Nw(cC,Yw))}zw(iC,"URL"),Rw({global:!0,forced:!Ow,sham:!Iw},{URL:iC});var lC=K.URL;const uC={[Hv.ACCESS_POINT]:{[Zv.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[Zv.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[Zv.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[Zv.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[Zv.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[Zv.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voice service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[Zv.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[Hv.UNILBS]:{[Wv.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[Wv.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[Wv.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[Wv.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[Wv.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[Wv.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[Wv.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[Wv.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[Wv.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[Wv.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[Wv.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[Wv.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[Hv.STRING_UID_ALLOCATOR]:{[qv.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[qv.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[qv.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function dC(e){const t=uC[Math.floor(e/1e4)];if(!t)return{desc:"unkonw error",retry:!1};const n=t[e%1e4];if(!n){if(Math.floor(e/1e4)===Hv.ACCESS_POINT){const t=e%1e4;if("1"===t.toString()[0])return{desc:e.toString(),retry:!1};if("2"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unkonw error",retry:!1}}return n}const hC={[Kv.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[Kv.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[Kv.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[Kv.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[Kv.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[Kv.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[Kv.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[Kv.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[Kv.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[Kv.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[Kv.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[Kv.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[Kv.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[Kv.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[Kv.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[Kv.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[Kv.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[Kv.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[Kv.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[Kv.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[Kv.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[Kv.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[Kv.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[Kv.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[Kv.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[Kv.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[Kv.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[Kv.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[Kv.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[Kv.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[Kv.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[Kv.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[Kv.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[Kv.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[Kv.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[Kv.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[Kv.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[Kv.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[Kv.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[Kv.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[Kv.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[Kv.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[Kv.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[Kv.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[Kv.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[Kv.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[Kv.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[Kv.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[Kv.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[Kv.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[Kv.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[Kv.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[Kv.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[Kv.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[Kv.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[Kv.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[Kv.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[Kv.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[Kv.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[Kv.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[Kv.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[Kv.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[Kv.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[Kv.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function pC(e){return hC[e]||{desc:"UNKNOW_ERROR_".concat(e),action:"failed"}}class fC extends Wf{get queue(){return[...this.highPriorityQueue,...this.lowPriorityQueue]}constructor(e){super(),Qh(this,"lowPriorityQueue",[]),Qh(this,"highPriorityQueue",[]),Qh(this,"AgoraWebSocketManager",void 0),this.AgoraWebSocketManager=e}reset(){this.lowPriorityQueue=[],this.highPriorityQueue=[]}pushMessage(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.highPriorityQueue.push(e):this.lowPriorityQueue.push(e),this.sendMessage()}sendMessage(){const e=this.queue.length;let t=0;t=e<5?15*e:60+3*(e-4),setTimeout((()=>{this._sendMessage()}),t)}_sendMessage(){if(!this.queue.length)return;const e=this.AgoraWebSocketManager.getConnection();if(!e||1!==e.readyState)return;const t=this.queue.shift();return this.lowPriorityQueue.includes(t)?this.lowPriorityQueue.shift():this.highPriorityQueue.shift(),e.send(t.compressed),t}}function mC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}class vC extends Wf{get url(){return this.websocket?this.websocket.url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){["tryNext","recover"].includes(e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(mg.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(mg.CONNECTED):"closed"===this._state?this.emit(mg.CLOSED):"failed"===this._state&&this.emit(mg.FAILED))}resetReconnectCount(e){im.debug("websocket reset reconnect count, reason: "+e),this.reconnectCount=0}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;super(),Qh(this,"connectionID",0),Qh(this,"currentURLIndex",0),Qh(this,"urls",void 0),Qh(this,"_reconnectMode","tryNext"),Qh(this,"reconnectReason",void 0),Qh(this,"_initMutex",new Zb("websocket")),Qh(this,"name",void 0),Qh(this,"_state","closed"),Qh(this,"reconnectInterrupter",void 0),Qh(this,"websocket",void 0),Qh(this,"retryConfig",void 0),Qh(this,"reconnectCount",0),Qh(this,"forceCloseTimeout",5e3),Qh(this,"onlineReconnectListener",void 0),Qh(this,"messageSender",void 0),Qh(this,"useCompress",void 0),Qh(this,"tryDoubleDomain",!1),Qh(this,"wsInflateLength",0),Qh(this,"wsDeflateLength",0),Qh(this,"closeEstablishingWs",(()=>{})),Qh(this,"store",void 0),Qh(this,"joinChannelServiceRecordIndex",void 0),this.store=i,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mC(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),this.useCompress=n,this.tryDoubleDomain=r;const{timeout:o,timeoutFactor:a}=t,s=Math.max(300,Math.floor(3*o/5)),c=Math.max(1.2,Math.floor(8*a)/10);Xg.ONLINE&&(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=c),Pb.on($g.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===Xg.ONLINE?(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=c):(this.retryConfig.timeout=o,this.retryConfig.timeoutFactor=a))}))}getConnection(){return this.websocket||void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.forceCloseTimeout=t;const n=(t,n)=>{this.urls=e;const r=this.urls[this.currentURLIndex];this.state="connecting",this.messageSender=new fC(this),this.createWebSocketConnection(r).then(t).catch(n),this.once(mg.CLOSED,(()=>n(new Yf(Kf.WS_DISCONNECT)))),this.once(mg.CONNECTED,(()=>t()))};return this._initMutex.lock().then((e=>new sd(((e,t)=>{n(e,t)})).then((()=>{e()})).catch((()=>{e()}))))}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0}this.state=e?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void im.warning("[".concat(this.name,"] can not reconnect, no websocket"));var n;void 0!==e&&(this.reconnectMode=e),im.debug("[".concat(this.name,"] reconnect is triggered initiative")),"number"==typeof this.joinChannelServiceRecordIndex&&(null===(n=this.store)||void 0===n||n.recordJoinChannelService({status:"error",errors:[new Error(t)]},this.joinChannelServiceRecordIndex));const r=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),r&&r.bind(this.websocket)({code:9999,reason:t})}sendMessageWithJSON(e){const t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}sendMessageWithUint8Array(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new Yf(Kf.WS_ABORT,"websocket is not ready");try{let r=null;r=n?this.sendMessageWithUint8Array(e):this.sendMessageWithJSON(e),t?this.websocket.send(r.compressed):this.messageSender.pushMessage(r)}catch(e){throw new Yf(Kf.WS_ERR,"send websocket message error"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e,t){return this.connectionID+=1,this.connectionID,this.joinChannelServiceRecordIndex=void 0,new sd(((n,r)=>{var i;const o=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),im.debug("[".concat(this.name,"] websocket opened:"),e),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),n()},a=async e=>{if(im.debug("[".concat(this.name,"] websocket close ").concat(this.websocket&&this.websocket.url,", code: ").concat(e.code,", reason: ").concat(e.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount<this.retryConfig.maxRetryCount){"connected"===this.state&&(this.reconnectReason=e.reason,this.state="reconnecting");const t=aS(this,mg.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,i=await this.reconnectWithAction(t);if("closed"===this.state)return void im.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!i)return r(new Yf(Kf.WS_DISCONNECT,"websocket reconnect failed: ".concat(e.code))),void this.close(!0);n()}else r(new Yf(Kf.WS_DISCONNECT,"websocket close: ".concat(e.code))),this.close()},s=e=>{this.emit(mg.ON_MESSAGE,e)};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),ym("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(e=ym("GATEWAY_WSS_ADDRESS")),im.debug("[".concat(this.name,"] start connect, url: ").concat(e));const c=null===(i=this.store)||void 0===i?void 0:i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});this.chooseBestWebsocketConnection(e,!!t,c).then((e=>{var t;this.websocket=e,o&&o(e.url),e.onclose=a,e.onmessage=s,null===(t=this.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:"success"},c),this.joinChannelServiceRecordIndex=c})).catch((e=>{var t;if(null===(t=this.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof Yf&&e.code===Kf.WS_ABORT?"aborted":"error",errors:[e]},c),"closed"!==this.state){if(e instanceof Yf&&e.code===Kf.WS_ERR){const t=new Yf(Kf.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return im.error("[".concat(this.name,"]").concat(t)),void r(t)}a&&a(e)}else r(new Yf(Kf.WS_DISCONNECT,"websocket is closed: ".concat(e.toString())))}))}))}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(!this.urls)return!1;if("closed"===this.state)return!1;this.onlineReconnectListener||Pb.networkState!==Xg.OFFLINE||(this.onlineReconnectListener=Pb.onlineWaiter&&Pb.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let n=!0;if(this.reconnectInterrupter=()=>{n=!1},t){const t=Jf(this.reconnectCount,this.retryConfig);im.debug("[".concat(this.name,"] wait ").concat(t,"ms to reconnect websocket, mode: ").concat(e)),await sd.race([J_(t),this.onlineReconnectListener||new sd((()=>{}))])}if("closed"===this.state||!n)return!1;this.reconnectCount+=1;const r=async(e,t)=>{this.emit(mg.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if("retry"===e){const t=this.urls[this.currentURLIndex];this.emit(mg.RECONNECT_WAITTING_FINISH,e),await r(t,e)}else if("tryNext"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return await this.reconnectWithAction("recover",!1);im.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex));const t=this.urls[this.currentURLIndex];this.emit(mg.RECONNECT_WAITTING_FINISH,e),await r(t,e)}else if("recover"===e){im.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.emit(mg.RECONNECT_WAITTING_FINISH,e),this.urls=await iS(this,mg.REQUEST_NEW_URLS),this.currentURLIndex=0;const t=this.urls[this.currentURLIndex];await r(t,e)}return!0}catch(n){var i;return im.error("[".concat(this.name,"] reconnect failed"),n.toString()),null!=n&&null!==(i=n.data)&&void 0!==i&&i.desc&&Array.isArray(n.data.desc)&&n.data.desc.length&&n.data.desc.includes("dynamic key expired")?(this.emit(mg.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}async chooseBestWebsocketConnection(e,t,n){return new sd(((r,i)=>{let o=!1;const a=[];this.closeEstablishingWs=()=>{im.debug("[choose-best-ws] close establishing websockets"),a.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),i(new Yf(Kf.WS_ABORT,"choose best websocket aborted"))};const s=ym("GATEWAY_DOMAINS");let c;const l=e.indexOf("?h="),u=s.find((t=>-1!==l?e.includes(t,l):e.includes(t)));im.debug("[choose-best-ws] currentDomain: ",u,", domains: ",s);let d=!this.tryDoubleDomain||t||!u;if(!d&&u){var h;const t=Date.now();try{s.forEach((t=>{const n=-1===l?e.replace(u,t):e.substr(0,l)+e.substr(l).replace(u,t),r=new WebSocket(n);r.binaryType="arraybuffer",a.push(r),im.debug("[choose-best-ws] ws is connecting:",r.url)}))}catch(e){for(im.debug("[choose-best-ws] ws create failed, fallback to single url"),a.forEach((e=>e.close()));a.length;)a.pop();d=!0}null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:a.map((e=>e.url)),service:"gateway"},n),a.forEach((e=>{e.onopen=()=>{if(o)return;const n=Date.now()-t;im.debug("[choose-best-ws] ws open cost ".concat(n,"ms")),a.filter((t=>t!==e)).forEach((e=>{im.debug("[choose-best-ws]close backup websocket: ".concat(e.url)),e.close()})),o=!0,r(e)},e.onclose=e=>{c=e,o||a.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(im.debug("[choose-best-ws] all websocket is closed"),o=!0,i(c))},e.onmessage=t=>{im.debug("[choose-best-ws]".concat(e.url," onmessage: ").concat(t.data))}})),J_(this.forceCloseTimeout).then((()=>{a.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(d){var p;let t;im.debug("[choose-best-ws] use single url: ",e),null===(p=this.store)||void 0===p||p.recordJoinChannelService({urls:[e],service:"gateway"},n);try{t=new WebSocket(e),a.push(t),t.binaryType="arraybuffer"}catch(e){const t=new Yf(Kf.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return im.error("[".concat(this.name,"]").concat(t)),void i(t)}t.onopen=()=>{r(t)},t.onclose=e=>{i(e)},t.onmessage=e=>{im.debug("[choose-best-ws]".concat(t.url," onmessage: ").concat(e.data))},J_(this.forceCloseTimeout).then((()=>{t&&t.readyState!==WebSocket.OPEN&&t.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}}class gC{constructor(e){Qh(this,"input",[]),Qh(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:qn(e=this.input).call(e,((e,t)=>e+t))/this.input.length}}class yC extends Wf{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===$v.CONNECTED?this.emit(eg.WS_CONNECTED):e===$v.RECONNECTING?this.emit(eg.WS_RECONNECTING,this._websocketReconnectReason):e===$v.CLOSED&&this.emit(eg.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),Qh(this,"_disconnectedReason",void 0),Qh(this,"_websocketReconnectReason",void 0),Qh(this,"_connectionState",$v.CLOSED),Qh(this,"reconnectToken",void 0),Qh(this,"websocket",void 0),Qh(this,"openConnectionTime",void 0),Qh(this,"clientId",void 0),Qh(this,"lastMsgTime",Date.now()),Qh(this,"uploadCache",[]),Qh(this,"uploadCacheInterval",void 0),Qh(this,"rttRolling",new gC(5)),Qh(this,"pingpongTimer",void 0),Qh(this,"wsInflateDataTimer",void 0),Qh(this,"pingpongTimeoutCount",0),Qh(this,"joinResponse",void 0),Qh(this,"multiIpOption",void 0),Qh(this,"initError",void 0),Qh(this,"spec",void 0),Qh(this,"store",void 0),Qh(this,"onWebsocketMessage",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(eg.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")){if(this.emit(t._type,t._message),t._type===rg.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===rg.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(Qv.UID_BANNED);break;case 15:this.close(Qv.IP_BANNED);break;case 16:this.close(Qv.CHANNEL_BANNED)}if(t._type===rg.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case Kv.ERR_LICENSE_MISSING:this.close(Qv.LICENSE_MISSING);break;case Kv.ERR_LICENSE_EXPIRED:this.close(Qv.LICENSE_EXPIRED);break;case Kv.ERR_LICENSE_MINUTES_EXCEEDED:this.close(Qv.LICENSE_MINUTES_EXCEEDED);break;case Kv.ERR_LICENSE_PERIOD_INVALID:this.close(Qv.LICENSE_PERIOD_INVALID);break;case Kv.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(Qv.LICENSE_MULTIPLE_SDK_SERVICE);break;case Kv.ERR_LICENSE_ILLEGAL:this.close(Qv.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new vC("gateway-".concat(this.clientId),this.spec.retryConfig,!0,!0,t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===$v.CONNECTED&&this.reconnect("retry",Xv.OFFLINE)}))}async request(e,t,n,r){const i=$_(6,""),o={_id:i,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new sd(((t,n)=>{if(this.connectionState===$v.CONNECTED)return t();const r=()=>{this.off(eg.WS_CLOSED,i),t()},i=()=>{this.off(eg.WS_CONNECTED,r),n(new Yf(Kf.WS_ABORT))};this.once(eg.WS_CONNECTED,r),this.once(eg.WS_CLOSED,i),e!==tg.PUBLISH&&e!==tg.SUBSCRIBE&&e!==tg.UNSUBSCRIBE&&e!==tg.UNPUBLISH&&e!==tg.CONTROL&&e!==tg.RESTART_ICE||this.once(eg.DISCONNECT_P2P,(()=>{n(new Yf(Kf.DISCONNECT_P2P))})),e!==tg.PUBLISH&&e!==tg.RESTART_ICE||this.once(eg.ABORT_P2P_EXECUTION,(()=>{n(new Yf(Kf.DISCONNECT_P2P))}))}));if(this.connectionState!==$v.CONNECTING&&this.connectionState!==$v.RECONNECTING||e===tg.JOIN||e===tg.REJOIN||await s(),this.websocket.sendMessage(o,!0),r)return;const c=new sd(((n,r)=>{let o=!1;const s=(r,i)=>{o=!0,n({isSuccess:"success"===r,message:i||{}}),this.off(eg.WS_CLOSED,c),this.off(eg.WS_RECONNECTING,c),this.emit(eg.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(i),s);const c=()=>{r(new Yf(Kf.WS_ABORT,"type: ".concat(e))),this.off(eg.WS_CLOSED,c),this.off(eg.WS_RECONNECTING,c),this.off("res-@".concat(i),s)};this.once(eg.WS_CLOSED,c),this.once(eg.WS_RECONNECTING,c),J_(ym("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||o||(im.warning("ws request timeout, type: ".concat(e)),this.emit(eg.REQUEST_TIMEOUT,e,t))}))}));let l=null;try{l=await c}catch(r){if(this.connectionState===$v.CLOSED||e===tg.LEAVE)throw new Yf(Kf.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?r.throw():e===tg.JOIN||e===tg.REJOIN?null:(await s(),await this.request(e,t))}if(l.isSuccess)return l.message;const u=Number(l.message.error_code||l.message.code),d=pC(u),h=new Yf(Kf.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(l.message.error_str),{code:u,data:l.message});return"success"===d.action?l.message:(im.warning("[".concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(u,", message: ").concat(d.desc,", action: ").concat(d.action)),u===Kv.ERR_TOO_MANY_BROADCASTERS?e===tg.JOIN||e===tg.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===d.action?h.throw():"quit"===d.action?(this.initError=h,this.close(),h.throw()):(u===Kv.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,im.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",Xv.MULTI_IP)):this.reconnect(d.action,Xv.SERVER_ERROR),e===tg.JOIN||e===tg.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new sd((n=>{const r=i=>{(!t||t(i))&&(this.off(e,r),n(i))};this.on(e,r)}))}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=ym("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==$v.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),ym("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new sd(((n,r)=>{this.once(eg.WS_CONNECTED,(()=>n(this.joinResponse))),this.once(eg.WS_CLOSED,(()=>r(this.initError||new Yf(Kf.WS_ABORT)))),this.connectionState=$v.CONNECTING,this.websocket.init(e).catch(r),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4),setTimeout((()=>{t&&void 0===this.openConnectionTime&&(im.debug("[".concat(this.clientId,"] init websocket timeout while join with fallback to proxy")),r(new Yf(Kf.INIT_WEBSOCKET_TIMEOUT)))}),ym("JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION"))}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||Qv.LEAVE,this.connectionState=$v.CLOSED,im.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),e===Qv.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new vC("gateway-".concat(this.clientId),this.spec.retryConfig,!0,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(eg.ABORT_P2P_EXECUTION);const e=await iS(this,eg.REQUEST_JOIN_INFO),t=await this.request(tg.JOIN,e);if(!t)return this.emit(eg.REPORT_JOIN_GATEWAY,Kf.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(eg.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=$v.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Yf(Kf.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const e=sS(this,eg.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(tg.REJOIN,e);return!!t&&(this.connectionState=$v.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(rg.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(rg.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(rg.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(rg.MUTE_AUDIO,{uid:e.uid}):this.emit(rg.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(rg.MUTE_VIDEO,{uid:e.uid}):this.emit(rg.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(rg.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(rg.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(rg.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(rg.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(rg.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){im.debug("[".concat(this.clientId,"] receive notification: "),e);const t=pC(e.code);if("success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(Qv.UID_BANNED),void this.close()):void this.reconnect(t.action,Xv.SERVER_ERROR);im.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=ym("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(im.warning("PINGPONG Timeout. Last Socket Message: ".concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>ym("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",Xv.TIMEOUT):this.request(tg.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),ym("REPORT_STATS")&&this.send(tg.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(ng.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(mg.RECONNECT_WAITTING_FINISH,(e=>{this.emit(eg.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(mg.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(eg.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(mg.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(mg.CLOSED,(()=>{this.connectionState=$v.CLOSED})),this.websocket.on(mg.FAILED,(()=>{this._disconnectedReason=Qv.NETWORK_ERROR,this.connectionState=$v.CLOSED})),this.websocket.on(mg.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===$v.CONNECTED?this.connectionState=$v.RECONNECTING:this.connectionState=$v.CONNECTING})),this.websocket.on(mg.WILL_RECONNECT,((e,t)=>{if(sS(this,eg.IS_P2P_DISCONNECTED)&&"retry"===e)return im.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),this.reconnectToken=void 0,this.emit(eg.NEED_RENEW_SESSION),this.emit(eg.DISCONNECT_P2P),t("tryNext");"retry"!==e&&(im.debug("".concat(this.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(e)),this.reconnectToken=void 0,this.emit(eg.NEED_RENEW_SESSION),this.emit(eg.DISCONNECT_P2P)),t(e)})),this.websocket.on(mg.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{im.warning("[".concat(this.clientId,"] rejoin failed ").concat(e)),this.reconnect("tryNext",Xv.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(eg.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||""),e instanceof Yf&&e.code===Kf.UNEXPECTED_RESPONSE&&e.data.code===Kv.ERR_NO_AUTHORIZED)return im.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",Xv.SERVER_ERROR);im.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",Xv.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(mg.REQUEST_NEW_URLS,((e,t)=>{iS(this,eg.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(mg.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(rg.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}class EC extends Wf{get url(){return this._url?this._url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){["tryNext","recover"].includes(e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(ay.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(ay.CONNECTED):"closed"===this._state?this.emit(ay.CLOSED):"failed"===this._state&&this.emit(ay.FAILED))}constructor(e,t,n,r){super(),Qh(this,"connectionID",0),Qh(this,"currentURLIndex",0),Qh(this,"reconnectReason",void 0),Qh(this,"_reconnectMode","tryNext"),Qh(this,"_initMutex",void 0),Qh(this,"_name",void 0),Qh(this,"_state","closed"),Qh(this,"_reconnectInterrupter",void 0),Qh(this,"_url",void 0),Qh(this,"_retryConfig",void 0),Qh(this,"_reconnectCount",0),Qh(this,"_forceCloseTimeout",5e3),Qh(this,"_onlineReconnectListener",void 0),Qh(this,"_messageSender",void 0),Qh(this,"_closeEstablishingTransmitter",(()=>{})),Qh(this,"_store",void 0),Qh(this,"_joinChannelServiceRecordIndex",void 0),Qh(this,"_transmitter",void 0),Qh(this,"_useCompress",void 0),Qh(this,"_inflateLength",0),Qh(this,"_deflateLength",0),this._store=r,this._name=e,this._retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bC(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),this._useCompress=n}resetReconnectCount(e){im.debug("".concat(this._name," reset reconnect count, reason: ").concat(e)),this._reconnectCount=0}close(e,t){var n;if(this.currentURLIndex=0,this.resetReconnectCount("close"),null===(n=this._messageSender)||void 0===n||n.reset(),this._reconnectInterrupter&&this._reconnectInterrupter(),this._transmitter){this._transmitter.onclose=null,this._transmitter.onopen=null,this._transmitter.onmessage=null;const e=this._transmitter;t?setTimeout((()=>e.close()),500):e.close(),this._transmitter=void 0}this.state=e?"failed":"closed",this._closeEstablishingTransmitter&&this._closeEstablishingTransmitter()}reconnect(e,t){if(!this._transmitter)return void im.warning("[".concat(this._name,"] can not reconnect, no websocket"));var n;void 0!==e&&(this.reconnectMode=e),im.debug("[".concat(this._name,"] reconnect is triggered initiative")),"number"==typeof this._joinChannelServiceRecordIndex&&(null===(n=this._store)||void 0===n||n.recordJoinChannelService({status:"error",errors:[new Error(t)]},this._joinChannelServiceRecordIndex));const r=this._transmitter.onclose;this._transmitter.onclose=null,this._transmitter.close(),r&&r.bind(this._transmitter)({code:9999,reason:t})}getInflateData(){const e=this._inflateLength,t=this._deflateLength;return this.clearInflateData(),{inflateLength:e,deflateLength:t}}setInflateData(e){this._deflateLength=this._deflateLength+e.originLength,this._inflateLength=this._inflateLength+e.compressedLength}clearInflateData(){this._inflateLength=0,this._deflateLength=0}}function _C(e,t,n){if("getBigUint64"in DataView.prototype)return e.getBigUint64(t,n);const r=e.getUint32(t,n),i=e.getUint32(t+4,n),o=Number(!!n),a=Number(!n);return BigInt(r*a+i*o)<<BigInt(32)|BigInt(r*o+i*a)}function SC(e,t,n,r){if("setBigUint64"in DataView.prototype)return e.setBigUint64(t,n,r);const i=Number(n>>BigInt(32)),o=Number(n&BigInt(4294967295));r?(e.setUint32(t+4,i,r),e.setUint32(t,o,r)):(e.setUint32(t,i,r),e.setUint32(t+4,o,r))}let AC;!function(e){e[e.Default=0]="Default",e[e.Ack=1]="Ack"}(AC||(AC={}));class wC{constructor(e,t,n){Qh(this,"version",1),Qh(this,"initialRTO",void 0),Qh(this,"maxBatchAckCount",void 0),Qh(this,"maxRTO",void 0),Qh(this,"initialRTT",void 0),Qh(this,"ID",void 0),Qh(this,"rtt",void 0),Qh(this,"packetNumber",1),Qh(this,"rtoRatioMap",new Map),Qh(this,"timeoutMap",new Map),Qh(this,"unorderedPacketQueue",[]),Qh(this,"batchAckPacketQueue",[]),Qh(this,"lastOrderedPacketNumber",0),Qh(this,"batchAckTimer",void 0),Qh(this,"sendImpl",void 0),Qh(this,"receiveImpl",void 0),this.sendImpl=e,this.receiveImpl=t,this.ID=$_(7,"transmitter-"),this.initialRTO=void 0!==(null==n?void 0:n.initialRTO)?n.initialRTO:ym("TRANSMITTER_INITIAL_RTO"),this.initialRTT=void 0!==(null==n?void 0:n.initialRTT)?n.initialRTT:ym("TRANSMITTER_INITIAL_RTT"),this.rtt=void 0!==(null==n?void 0:n.initialRTT)?n.initialRTT:ym("TRANSMITTER_INITIAL_RTT"),this.maxBatchAckCount=void 0!==(null==n?void 0:n.maxBatchAckCount)?n.maxBatchAckCount:ym("TRANSMITTER_MAX_BATCH_ACK_COUNT"),this.maxRTO=void 0!==(null==n?void 0:n.maxRTO)?n.maxRTO:ym("TRANSMITTER_MAX_RTO")}packetize(e,t){return{type:AC.Default,version:this.version,packetNumber:t,payload:e}}serialize(e){switch(e.type){case AC.Default:{let t;t="string"==typeof e.payload?(new TextEncoder).encode(e.payload):e.payload;const n=new ArrayBuffer(t.length+15),r=new DataView(n);return r.setUint16(0,e.version),r.setUint8(2,e.type),r.setUint32(3,e.packetNumber),SC(r,7,BigInt(e.sendTs)),new Uint8Array(r.buffer).set(t,15),n}case AC.Ack:{const t=new ArrayBuffer(16),n=new DataView(t);return n.setUint16(0,e.version),n.setUint8(2,e.type),n.setUint32(3,e.maxAckPacketNumber),n.setUint8(7,e.shift),SC(n,8,BigInt(e.ackSendTs)),t}}}deserialize(e){const t=new DataView(e),n=t.getUint16(0),r=t.getUint8(2);switch(r){case AC.Default:{const i=t.getUint32(3),o=_C(t,7),a=e.slice(15),s=(new TextDecoder).decode(a);return{version:n,type:r,packetNumber:i,sendTs:Number(o),payload:s}}case AC.Ack:{const e=t.getUint32(3),i=t.getUint8(7),o=_C(t,8);return{version:n,type:r,maxAckPacketNumber:e,shift:i,ackSendTs:Number(o)}}default:throw im.error("[".concat(this.ID,"] Unrecognized packet type ").concat(r)),new Error("Unrecognized packet type ".concat(r))}}sendMessage(e){const t=this.packetize(e,this.packetNumber);this.packetNumber=4294967295===this.packetNumber?1:this.packetNumber+1;const n=this.calculateRTO(t),r=window.setTimeout((()=>{this.resendMessage(t)}),n);this.timeoutMap.set(t.packetNumber,r),this.sendPacket(t)}onData(e){const t=this.deserialize(e);t.type===AC.Default?this.ack(t):t.type===AC.Ack&&(this.updateRTT(t,Math.round(performance.now())),this.clearRTO(t))}close(){this.rtt=this.initialRTT,this.packetNumber=1,Array.from(this.timeoutMap.entries()).forEach((e=>{let[t,n]=e;window.clearTimeout(n)})),this.timeoutMap=new Map,this.rtoRatioMap=new Map,this.unorderedPacketQueue=[],this.batchAckPacketQueue=[],this.lastOrderedPacketNumber=0,void 0!==this.batchAckTimer&&window.clearTimeout(this.batchAckTimer)}resendMessage(e){const t=this.calculateRTO(e),n=window.setTimeout((()=>{this.resendMessage(e)}),t);this.timeoutMap.set(e.packetNumber,n),this.sendPacket(e)}calculateRTO(e){const t=this.rtoRatioMap.get(e.packetNumber);if(void 0===t)return this.rtoRatioMap.set(e.packetNumber,1),this.initialRTO;{const n=9*this.rtt/8*t;return this.rtoRatioMap.set(e.packetNumber,t+1),n>this.maxRTO?this.maxRTO:n}}updateRTT(e,t){const n=e.ackSendTs;this.rtt=this.rtt*(7/8)+(t-n-this.rtt)/8}ack(e){if(e.packetNumber===this.lastOrderedPacketNumber+1)for(this.batchAckPacketQueue.length>=this.maxBatchAckCount&&this.batchAck(),this.batchAckTimer?this.batchAckPacketQueue.push(e):(this.batchAckPacketQueue.push(e),this.batchAckTimer=window.setTimeout((()=>{this.batchAck()}),this.rtt/8)),this.lastOrderedPacketNumber+=1,this.receiveImpl(e.payload);;){const e=this.unorderedPacketQueue[0];if(!e){this.unorderedPacketQueue.shift();break}this.batchAckTimer&&this.batchAck(),this.receiveImpl(e.payload),this.unorderedPacketQueue.shift(),this.lastOrderedPacketNumber+=1}else if(e.packetNumber<=this.lastOrderedPacketNumber){const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:AC.Ack,version:this.version};this.sendPacket(t)}else if(e.packetNumber>this.lastOrderedPacketNumber){this.unorderedPacketQueue[e.packetNumber-this.lastOrderedPacketNumber-2]=e;const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:AC.Ack,version:this.version};this.sendPacket(t)}}batchAck(){window.clearTimeout(this.batchAckTimer),this.batchAckTimer=void 0;const e={ackSendTs:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].sendTs,maxAckPacketNumber:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].packetNumber,shift:this.batchAckPacketQueue.length-1,type:AC.Ack,version:this.version};this.sendPacket(e),this.batchAckPacketQueue=[]}sendPacket(e){e.type===AC.Default&&(e.sendTs=Math.round(performance.now()));const t=this.serialize(e);this.sendImpl(t)}clearRTO(e){for(let t=e.maxAckPacketNumber-e.shift;t<=e.maxAckPacketNumber;t++){const e=this.timeoutMap.get(t);void 0!==e&&window.clearTimeout(e),this.timeoutMap.delete(t),this.rtoRatioMap.delete(t)}}}class TC extends Wf{get queue(){return[...this.highPriorityQueue,...this.lowPriorityQueue]}constructor(e){super(),Qh(this,"lowPriorityQueue",[]),Qh(this,"highPriorityQueue",[]),Qh(this,"AgoraTransmissionManager",void 0),this.AgoraTransmissionManager=e}reset(){this.lowPriorityQueue=[],this.highPriorityQueue=[]}pushMessage(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.highPriorityQueue.push(e):this.lowPriorityQueue.push(e),this.sendMessage()}sendMessage(){const e=this.queue.length;let t=0;t=e<5?15*e:60+3*(e-4),setTimeout((()=>{this._sendMessage()}),t)}_sendMessage(){if(!this.queue.length)return;const e=this.AgoraTransmissionManager.getConnection();if(!e)return;const t=this.queue.shift();return this.lowPriorityQueue.includes(t)?this.lowPriorityQueue.shift():this.highPriorityQueue.shift(),e.sendMessage(t.compressed),t}}class CC extends EC{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3?arguments[3]:void 0),Qh(this,"_initMutex",void 0),Qh(this,"_reconnectInterrupter",void 0),Qh(this,"_url",void 0),Qh(this,"_transmitter",void 0),Qh(this,"_addresses",void 0),Qh(this,"_reliableTransmission",void 0),this._initMutex=new Zb("datachannel");const{timeout:n,timeoutFactor:r}=t,i=Math.max(300,Math.floor(3*n/5)),o=Math.max(1.2,Math.floor(8*r)/10);Xg.ONLINE&&(this._retryConfig.timeout=i,this._retryConfig.timeoutFactor=o),Pb.on($g.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===Xg.ONLINE?(this._retryConfig.timeout=i,this._retryConfig.timeoutFactor=o):(this._retryConfig.timeout=n,this._retryConfig.timeoutFactor=r))}))}getConnection(){if(this._reliableTransmission)return this._reliableTransmission}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this._forceCloseTimeout=t;const n=(t,n)=>{this._addresses=e,this.currentURLIndex=this._addresses.findIndex((e=>e.fingerprint||ym("FINGERPRINT")));const r=this._addresses[this.currentURLIndex];this.state="connecting",this._messageSender=new TC(this),this.createTransmitterConnection(r).then(t).catch(n),this.once(ay.CLOSED,(()=>n(new Yf(Kf.WS_DISCONNECT)))),this.once(ay.CONNECTED,(()=>t()))};return this._initMutex.lock().then((e=>new sd(((e,t)=>{n(e,t)})).then((()=>{e()})).catch((()=>{e()}))))}sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._transmitter||!this._reliableTransmission)throw new Yf(Kf.WS_ABORT,"datachannel is not ready");try{let r=null;r=n?this.sendMessageWithUint8Array(e):this.sendMessageWithJSON(e),t?this._reliableTransmission.sendMessage(r.compressed):this._messageSender.pushMessage(r)}catch(e){throw new Yf(Kf.WS_ERR,"send datachannel signal message error"+e.toString())}}unbindDcCloseEventListener(){this._transmitter&&(this._transmitter.onclose=null)}sendMessageWithJSON(e){const t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}sendMessageWithUint8Array(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}createTransmitterConnection(e){return this.connectionID+=1,this._joinChannelServiceRecordIndex=void 0,this._url="dc://".concat(e.ip,":").concat(e.port),new sd(((t,n)=>{var r;const i=()=>{im.debug("[".concat(this._name,"] datachannel opened:"),this._url),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),t()},o=async e=>{var r;if(null===(r=this._closeEstablishingTransmitter)||void 0===r||r.call(this),im.debug("[".concat(this._name,"] datachannel close ").concat(this._url,", code: ").concat(e.code,", reason: ").concat(e.reason,", current mode: ").concat(this.reconnectMode)),this._reconnectCount<this._retryConfig.maxRetryCount){"connected"===this.state&&(this.reconnectReason=e.reason,this.state="reconnecting");const r=aS(this,ay.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,i=await this.reconnectWithAction(r);if("closed"===this.state)return void im.debug("[".concat(this.connectionID,"] dc is closed, no need to reconnect"));if(!i)return n(new Yf(Kf.WS_DISCONNECT,"datachannel reconnect failed: ".concat(e.code))),void this.close(!0);t()}else n(new Yf(Kf.WS_DISCONNECT,"datachannel close: ".concat(e.code))),this.close()},a=e=>{var t;null===(t=this._reliableTransmission)||void 0===t||t.onData(e.data)};this._transmitter&&(this._transmitter.onclose=null,this._transmitter.close()),this._reliableTransmission&&(this._reliableTransmission.close(),this._reliableTransmission=void 0),im.debug("[".concat(this._name,"] start connect, address: ").concat(JSON.stringify(e)));const s=null===(r=this._store)||void 0===r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"}),c=Date.now();iS(this,ay.TO_CONNECT_DATACHANNEL,e).then((e=>{var t,n;if(!e)throw new Error("transmissonInfo not exist yet");const{transmitter:r,close:l}=e;this._transmitter=r,null===(t=this._store)||void 0===t||t.signalChannelOpen();const u=Date.now()-c;im.debug("[choose dc] dc open cost ".concat(u,"ms")),this._reliableTransmission=new wC((e=>{var t;this._transmitter&&"open"===this._transmitter.readyState&&(null===(t=this._transmitter)||void 0===t||t.send(e))}),(e=>{"string"==typeof e&&this.emit(ay.ON_MESSAGE,e)})),this._closeEstablishingTransmitter=()=>{var e;null===(e=this._reliableTransmission)||void 0===e||e.close(),this._reliableTransmission=void 0,l()},i&&i(),r.onclose=o,r.onmessage=a,null===(n=this._store)||void 0===n||n.recordJoinChannelService({endTs:Date.now(),status:"success"},s),this._joinChannelServiceRecordIndex=s})).catch((e=>{var t;if(null===(t=this._store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof Yf&&e.code===Kf.WS_ABORT?"aborted":"error",errors:[e]},s),"closed"!==this.state){if(e instanceof Yf&&e.code===Kf.WS_ERR){const t=new Yf(Kf.WS_ERR,"init datachannel failed! Error: ".concat(e.toString()));return im.error("[".concat(this._name,"]").concat(t)),void n(t)}o&&o(e)}else n(new Yf(Kf.WS_DISCONNECT,"datachannel is closed: ".concat(e.toString())))}))}))}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._reconnectCount>=this._retryConfig.maxRetryCount)return!1;if(!this._addresses)return!1;if("closed"===this.state)return!1;this._onlineReconnectListener||Pb.networkState!==Xg.OFFLINE||(this._onlineReconnectListener=Pb.onlineWaiter&&Pb.onlineWaiter.then((()=>{this._onlineReconnectListener=void 0})));let n=!0;if(this._reconnectInterrupter=()=>{n=!1},t){const t=Jf(this._reconnectCount,this._retryConfig);im.debug("[".concat(this._name,"] wait ").concat(t,"ms to reconnect datachannel, mode: ").concat(e)),await sd.race([J_(t),this._onlineReconnectListener||new sd((()=>{}))])}if("closed"===this.state||!n)return!1;this._reconnectCount+=1;const r=async(e,t)=>{this.emit(ay.RECONNECT_CREATE_CONNECTION,t),await this.createTransmitterConnection(e)};try{if("retry"===e){const t=this._addresses[this.currentURLIndex];this.emit(ay.RECONNECT_WAITTING_FINISH,e),await r(t,e)}else if("tryNext"===e){this.currentURLIndex+=1;for(let e=this.currentURLIndex;e<this._addresses.length;e++){if(this._addresses[e].fingerprint||ym("FINGERPRINT")){this.currentURLIndex=e;break}this.currentURLIndex+=1}if(this.currentURLIndex>=this._addresses.length)return im.debug("[".concat(this._name,"] the available addresses are exhausted, change to recover")),await this.reconnectWithAction("recover",!1);im.debug("[".concat(this._name,"] datachannel url length: ").concat(this._addresses.length," current index: ").concat(this.currentURLIndex));const t=this._addresses[this.currentURLIndex];this.emit(ay.RECONNECT_WAITTING_FINISH,e),await r(t,e)}else"recover"===e&&(im.debug("[".concat(this._name,"] start to failback to websocket")),this.resetReconnectCount("recover mode"),this.emit(ay.RECONNECT_WAITTING_FINISH,e),this.emit(ay.FAILBACK));return!0}catch(n){var i;return im.error("[".concat(this._name,"] reconnect failed"),n.toString()),null!=n&&null!==(i=n.data)&&void 0!==i&&i.desc&&Array.isArray(n.data.desc)&&n.data.desc.length&&n.data.desc.includes("dynamic key expired")?(this.emit(ay.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}}class RC extends Wf{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===$v.CONNECTED?this.emit(eg.WS_CONNECTED):e===$v.RECONNECTING?this.emit(eg.WS_RECONNECTING,this._websocketReconnectReason):e===$v.CLOSED&&this.emit(eg.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),Qh(this,"_disconnectedReason",void 0),Qh(this,"_websocketReconnectReason",void 0),Qh(this,"_connectionState",$v.CLOSED),Qh(this,"reconnectToken",void 0),Qh(this,"websocket",void 0),Qh(this,"openConnectionTime",void 0),Qh(this,"clientId",void 0),Qh(this,"lastMsgTime",Date.now()),Qh(this,"uploadCache",[]),Qh(this,"uploadCacheInterval",void 0),Qh(this,"rttRolling",new gC(5)),Qh(this,"pingpongTimer",void 0),Qh(this,"inflateDataTimer",void 0),Qh(this,"pingpongTimeoutCount",0),Qh(this,"joinResponse",void 0),Qh(this,"multiIpOption",void 0),Qh(this,"initError",void 0),Qh(this,"spec",void 0),Qh(this,"store",void 0),Qh(this,"onWebsocketMessage",(e=>{if(e instanceof ArrayBuffer)return void this.emit(eg.ON_BINARY_DATA,e);const t=JSON.parse(e);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")&&(this.emit(t._type,t._message),t._type===rg.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===rg.ON_USER_BANNED))switch(t._message.error_code){case 14:this.close(Qv.UID_BANNED);break;case 15:this.close(Qv.IP_BANNED);break;case 16:this.close(Qv.CHANNEL_BANNED)}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new CC("gateway-".concat(this.clientId),this.spec.retryConfig,!0,t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===$v.CONNECTED&&this.reconnect("retry",oy.OFFLINE)}))}async request(e,t,n,r){const i=$_(6,""),o={_id:i,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new sd(((t,n)=>{if(this.connectionState===$v.CONNECTED)return t();const r=()=>{this.off(eg.WS_CLOSED,i),t()},i=()=>{this.off(eg.WS_CONNECTED,r),n(new Yf(Kf.WS_ABORT))};this.once(eg.WS_CONNECTED,r),this.once(eg.WS_CLOSED,i),e!==tg.PUBLISH&&e!==tg.SUBSCRIBE&&e!==tg.UNSUBSCRIBE&&e!==tg.UNPUBLISH&&e!==tg.CONTROL&&e!==tg.RESTART_ICE||this.once(eg.DISCONNECT_P2P,(()=>{n(new Yf(Kf.DISCONNECT_P2P))})),e!==tg.PUBLISH&&e!==tg.RESTART_ICE||this.once(eg.ABORT_P2P_EXECUTION,(()=>{n(new Yf(Kf.DISCONNECT_P2P))}))}));if(this.connectionState!==$v.CONNECTING&&this.connectionState!==$v.RECONNECTING||e===tg.JOIN||e===tg.REJOIN||await s(),e===tg.LEAVE&&(this.websocket.unbindDcCloseEventListener(),r=!0),this.websocket.sendMessage(o,!0,!1),r)return;const c=new sd(((n,r)=>{let o=!1;const s=(r,i)=>{o=!0,n({isSuccess:"success"===r,message:i||{}}),this.off(eg.WS_CLOSED,c),this.off(eg.WS_RECONNECTING,c),this.emit(eg.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(i),s);const c=()=>{r(new Yf(Kf.WS_ABORT,"type: ".concat(e))),this.off(eg.WS_CLOSED,c),this.off(eg.WS_RECONNECTING,c),this.off("res-@".concat(i),s)};this.once(eg.WS_CLOSED,c),this.once(eg.WS_RECONNECTING,c),J_(ym("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||o||(im.warning("dc request timeout, type: ".concat(e)),this.emit(eg.REQUEST_TIMEOUT,e,t))}))}));let l=null;try{l=await c}catch(r){if(this.connectionState===$v.CLOSED||e===tg.LEAVE)throw new Yf(Kf.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?r.throw():e===tg.JOIN||e===tg.REJOIN?null:(await s(),await this.request(e,t))}if(l.isSuccess)return l.message;const u=Number(l.message.error_code||l.message.code),d=pC(u),h=new Yf(Kf.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(l.message.error_str),{code:u,data:l.message});return"success"===d.action?l.message:(im.warning("[".concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(u,", message: ").concat(d.desc,", action: ").concat(d.action)),u===Kv.ERR_TOO_MANY_BROADCASTERS?e===tg.JOIN||e===tg.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===d.action?h.throw():"quit"===d.action?(this.initError=h,this.close(),h.throw()):(u===Kv.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,im.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",oy.MULTI_IP)):this.reconnect(d.action,oy.SERVER_ERROR),e===tg.JOIN||e===tg.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new sd((n=>{const r=i=>{(!t||t(i))&&(this.off(e,r),n(i))};this.on(e,r)}))}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=ym("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==$v.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),ym("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new sd(((n,r)=>{this.once(eg.WS_CONNECTED,(()=>n(this.joinResponse))),this.once(eg.WS_CLOSED,(()=>r(this.initError||new Yf(Kf.WS_ABORT)))),this.connectionState=$v.CONNECTING,this.websocket.init(e).catch(r),this.websocket.once(ay.FAILBACK,(()=>{void 0===this.openConnectionTime&&r(new Yf(Kf.INIT_DATACHANNEL_TIMEOUT))})),this.inflateDataTimer&&window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=window.setInterval((()=>{this.handleInflateData()}),2e4),setTimeout((()=>{t&&void 0===this.openConnectionTime&&(im.debug("[".concat(this.clientId,"] init datachannel timeout while join with failback to websocket")),r(new Yf(Kf.INIT_DATACHANNEL_TIMEOUT)))}),ym("DC_JOIN_WITH_FAILBACK"))}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.inflateDataTimer&&(this.handleInflateData(),window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||Qv.LEAVE,this.connectionState=$v.CLOSED,im.debug("[".concat(this.clientId,"] ")+"will close datachannel in signal"),this.websocket.close(),e===Qv.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new CC("gateway-".concat(this.clientId),this.spec.retryConfig,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(eg.ABORT_P2P_EXECUTION);const e=await iS(this,eg.DATACHANNEL_CONNECTING),t=await this.request(tg.JOIN,e);if(!t)return this.emit(eg.REPORT_JOIN_GATEWAY,Kf.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(eg.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=$v.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Yf(Kf.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const e=sS(this,eg.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(tg.REJOIN,e);return!!t&&(this.connectionState=$v.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(rg.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(rg.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(rg.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(rg.MUTE_AUDIO,{uid:e.uid}):this.emit(rg.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(rg.MUTE_VIDEO,{uid:e.uid}):this.emit(rg.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(rg.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(rg.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(rg.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(rg.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(rg.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){im.debug("[".concat(this.clientId,"] receive notification: "),e);const t=pC(e.code);if("success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(Qv.UID_BANNED),void this.close()):void this.reconnect(t.action,oy.SERVER_ERROR);im.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=ym("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(im.warning("PINGPONG Timeout. Last Socket Message: ".concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>ym("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",oy.TIMEOUT):this.request(tg.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),ym("REPORT_STATS")&&this.send(tg.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleInflateData(){const{inflateLength:e,deflateLength:t}=this.websocket.getInflateData();0!==e&&0!==t&&this.upload(ng.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(ay.RECONNECT_WAITTING_FINISH,(e=>{this.emit(eg.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(ay.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(eg.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(ay.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(ay.CLOSED,(()=>{this.connectionState=$v.CLOSED})),this.websocket.on(ay.FAILED,(()=>{this._disconnectedReason=Qv.NETWORK_ERROR,this.connectionState=$v.CLOSED})),this.websocket.on(ay.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===$v.CONNECTED?this.connectionState=$v.RECONNECTING:this.connectionState=$v.CONNECTING})),this.websocket.on(ay.WILL_RECONNECT,((e,t)=>{if(sS(this,eg.IS_P2P_DISCONNECTED)&&"retry"===e)return im.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),this.reconnectToken=void 0,this.emit(eg.NEED_RENEW_SESSION),this.emit(eg.DISCONNECT_P2P),t("tryNext");"retry"!==e&&(im.debug("".concat(this.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(e)),this.reconnectToken=void 0,this.emit(eg.NEED_RENEW_SESSION),this.emit(eg.DISCONNECT_P2P)),t(e)})),this.websocket.on(ay.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{im.warning("[".concat(this.clientId,"] rejoin failed ").concat(e)),this.reconnect("tryNext",oy.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(eg.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||""),e instanceof Yf&&e.code===Kf.UNEXPECTED_RESPONSE&&e.data.code===Kv.ERR_NO_AUTHORIZED)return im.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",oy.SERVER_ERROR);im.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",oy.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(ay.REQUEST_NEW_URLS,((e,t)=>{iS(this,eg.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(ay.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(rg.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(ay.TO_CONNECT_DATACHANNEL,(async(e,t,n)=>iS(this,eg.DATACHANNEL_PRECONNECT,e).then(t).catch(n))),this.websocket.on(ay.FAILBACK,(()=>{void 0!==this.openConnectionTime&&this.emit(eg.DATACHANNEL_FAILBACK)}))}}function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IC(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const kC=new Map;class NC extends Wf{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(xg.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(xg.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){im.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),Qh(this,"store",void 0),Qh(this,"joinInfo",void 0),Qh(this,"key",void 0),Qh(this,"signal",void 0),Qh(this,"role",void 0),Qh(this,"inChannelInfo",{joinAt:null,duration:0}),Qh(this,"spec",void 0),Qh(this,"_state","DISCONNECTED"),Qh(this,"_statsCollector",void 0),Qh(this,"_disconnectedReason",void 0),Qh(this,"isSignalRecover",!1),Qh(this,"hasChangeBGPAddress",!1),Qh(this,"trafficStatsInterval",void 0),Qh(this,"networkQualityInterval",void 0),Qh(this,"_joinGatewayStartTime",0),Qh(this,"_signalTimeout",!1),Qh(this,"_clientRoleOptions",void 0),Qh(this,"_isProactiveJoin",!1),this.store=e,this.spec=t;const n=ly().supportDataChannel&&ym("SIGNAL_CHANNEL");this.signal=n?new RC(OC(OC({},t),{},{retryConfig:t.websocketRetryConfig}),e):new yC(OC(OC({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||"audience",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,n){if(this.signal instanceof RC){let t=!1;"disabled"!==e.cloudProxyServer?(im.debug("[".concat(this.store.clientId,"] Dc is not supported, because cloudProxyServer are not supported (").concat(e.cloudProxyServer,")")),t=!0):"".concat(e.apResponse.cid,"_").concat(e.apResponse.cert).length>255||"".concat(e.apResponse.cid,"_").concat(e.apResponse.cert).length<22?(im.debug("[".concat(this.store.clientId,"] Dc is not supported, because ticket length is incorrect, it has to be between 22 and 255")),t=!0):e.apResponse.addresses.some((e=>e.fingerprint))||ym("FINGERPRINT")||(im.debug("[".concat(this.store.clientId,"] Dc is not supported, because fingerprint does not exist")),t=!0),t&&this.resetSignal()}this.store.joinGatewayStart(),"disabled"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const r=Date.now();let i=kC.get(e.cname);if(i||(i=new Map,kC.set(e.cname,i)),this._isProactiveJoin=!0,i.has(e.uid)){const t=new Yf(Kf.UID_CONFLICT);throw Gb.joinGateway(e.sid,{lts:r,succ:!1,ec:t.message,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:this.signal instanceof RC?"1":"0"}),this._isProactiveJoin=!1,t}i.set(e.uid,!0),this.joinInfo=e,this.key=t;let o=0;this.joinGatewayStartTime=r;const a=e.proxyServer;try{let t;if(im.debug("[".concat(this.store.clientId,"] use ").concat(this.signal instanceof RC?"datachannel":"websocket"," join uid ").concat(o)),this.signal instanceof RC)t=await this.signal.init(e.apResponse.addresses,n);else{const r=e.proxyServer,i=r?e.gatewayAddrs.map((e=>{const t=e.address.split(":");return"wss://".concat(r,"/ws/?h=").concat(t[0],"&p=").concat(t[1])})):e.gatewayAddrs.map((e=>"wss://".concat(e.address)));t=await this.signal.init(i,n)}o=t.uid,im.debug("[".concat(this.store.clientId,"] ").concat(this.signal instanceof RC?"datachannel":"websocket"," join uid ").concat(o," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(t){if(t&&t.code===Kf.INIT_WEBSOCKET_TIMEOUT)throw im.warning("[".concat(this.store.clientId,"] User join failed"),t.toString()),t;if(t&&t.code===Kf.INIT_DATACHANNEL_TIMEOUT)throw im.warning("[".concat(this.store.clientId,"] User join datachannel failed"),t.toString()),this.resetSignal(),t;throw im.error("[".concat(this.store.clientId,"] User join failed"),t.toString()),Gb.joinGateway(e.sid,{lts:r,succ:!1,ec:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!a,signalChannel:this.signal instanceof RC?"1":"0"}),this._isProactiveJoin=!1,i.delete(e.uid),this.signal.close(),t}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),im.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{im.warning("[".concat(this.store.clientId,"] get traffic stats error"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(xg.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(xg.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===this.state&&this._statsCollector.trafficStats?this.emit(xg.NETWORK_QUALITY,{uplinkNetworkQuality:G_(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:G_(this._statsCollector.trafficStats.B_dnq)}):this.emit(xg.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),o}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if("DISCONNECTED"!==this.state){t!==Qv.FALLBACK&&(this.state="DISCONNECTING");try{e||this.signal.connectionState!==$v.CONNECTED||await function(e,t){return sd.race([e,X_(3e3)])}(this.signal.request(tg.LEAVE,void 0,!0))}catch(e){im.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),e)}this.signal.close(t),t!==Qv.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Yf(Kf.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const r={state:"offer",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:ym("PUB_EXTEND"),tcc:!!ym("PUBLISH_TCC")};try{return(await this.signal.request(tg.PUBLISH,r,!0))._message}catch(r){if(n&&r.data&&r.data.code===Kv.ERR_PUBLISH_REQUEST_INVALID)return im.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),r.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw r}}async unpublish(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Yf(Kf.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(tg.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){im.warning("unpublish warning: ",e)}}async subscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Yf(Kf.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const r={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,tcc:!!ym("SUBSCRIBE_TCC"),extend:ym("SUB_EXTEND"),ssrcId:t.ssrcId};try{return(await this.signal.request(tg.SUBSCRIBE,r,!0))._message}catch(r){if(n&&r.data&&r.data.code===Kv.ERR_SUBSCRIBE_REQUEST_INVALID)return im.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),r.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw r}}async subscribeAll(e,t){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Yf(Kf.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const n={p2p_id:this.store.p2pId,users:e,dtx:!1};try{return await this.signal.request(tg.SUBSCRIBE_STREAMS,n,!0)}catch(n){if(t&&n.data&&n.data.code===Kv.ERR_SUBSCRIBE_REQUEST_INVALID)return im.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),n.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw n}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,n=e.width,r=e.height,i=!0;return"number"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(i=!1)),"number"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,n||(i=!1)),"number"!=typeof r&&(r=r.exact||r.ideal||r.max||r.min||0,t||(i=!1)),i?{stream_type:0,width:n,height:r,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(tg.SET_VIDEO_PROFILE,t);im.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(e,t){try{await this.signal.request(tg.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){im.warning("unsubscribe warning: ",e)}}async massUnsubscribe(e){try{await this.signal.request(tg.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){im.warning("unsubscribeAll warning: ",e)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=e;return{gatewayEstablishParams:await this.signal.request(tg.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(tg.GATEWAY_INFO)}renewToken(e){return this.signal.request(tg.RENEW_TOKEN,e)}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),"CONNECTED"!==this.state)return void(this.role=e);let n;n="audience"===e?this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:0,await this.signal.request(tg.SET_CLIENT_ROLE,{role:e,level:n,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(tg.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(tg.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(tg.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(tg.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),OC({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(tg.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=kC.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith("dc")?e.match(/(dc\:\/\/)?([^:]+):(\d+)/):e.match(/(wss\:\/\/)?([^:]+):(\d+)/),t?{username:cm.username,password:cm.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],e&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(OC(OC({},cm),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if("CONNECTED"!==this.state)return;const e=await this.signal.request(tg.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&uS((()=>{this.emit(xg.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new Yf(Kf.UNEXPECTED_ERROR,"can not generate join message, no join info");const t=Object.assign({},this.joinInfo.apResponse);let n=ym("REPORT_APP_SCENARIO");if("string"!=typeof n)try{n=JSON.stringify(n)}catch(e){n=void 0}n&&n.length>128&&(n=void 0);const r=OC({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:am,browser:navigator.userAgent,process_id:ym("PROCESS_ID"),mode:this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:ym("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:n,attributes:{userAttributes:{enablePublishedUserList:ym("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:ym("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:"number"==typeof ym("SUBSCRIBE_AUDIO_FILTER_TOPN")?ym("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:"boolean"==typeof ym("ENABLE_PUBLISH_AUDIO_FILTER")?ym("ENABLE_PUBLISH_AUDIO_FILTER"):void 0,enableUserLicenseCheck:"boolean"==typeof ym("ENABLE_USER_LICENSE_CHECK")?ym("ENABLE_USER_LICENSE_CHECK"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(r.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(r.aes_mode=this.joinInfo.aesmode,ym("ENCRYPT_AES")?(r.aes_secret=this.joinInfo.aespassword,r.aes_encrypt=!0):r.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(r.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(r.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(r.default_video_stream=this.joinInfo.defaultVideoStream),r}getRejoinMessage(){if(!this.joinInfo)throw new Yf(Kf.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(eg.WS_RECONNECT_WAITTING_FINISH,(e=>{["tryNext","recover"].includes(e)&&this.joinInfo&&Gb.adjustSessionStartTime(this.joinInfo.sid)})),this.signal.on(eg.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(eg.WS_RECONNECTING,(e=>{this.joinInfo&&Gb.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||Xv.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",Gb.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(eg.WS_CLOSED,(e=>{let t;switch(e){case Qv.LEAVE:t=Xv.LEAVE;break;case Qv.UID_BANNED:case Qv.IP_BANNED:case Qv.CHANNEL_BANNED:case Qv.SERVER_ERROR:t=Xv.SERVER_ERROR;break;case Qv.FALLBACK:t=Xv.FALLBACK;break;case Qv.LICENSE_MISSING:case Qv.LICENSE_EXPIRED:case Qv.LICENSE_MINUTES_EXCEEDED:case Qv.LICENSE_PERIOD_INVALID:case Qv.LICENSE_MULTIPLE_SDK_SERVICE:case Qv.LICENSE_ILLEGAL:t=e;break;default:t=Xv.NETWORK_ERROR}im.debug("[signal] websocket closed, reason: ".concat(t||"undefined -> "+Xv.NETWORK_ERROR)),this.joinInfo&&Gb.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===Qv.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==Qv.FALLBACK&&(this.state="DISCONNECTED"),this.reset()})),this.signal.on(eg.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&("audience"===this.role&&this._clientRoleOptions&&this._clientRoleOptions.level&&(im.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions&&this._clientRoleOptions.level)),this.setClientRole(this.role,this._clientRoleOptions)),Gb.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof RC?"1":"0"}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion)){const e=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!e)return void im.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(e));gm("EVENT_REPORT_DOMAIN",e[1]),gm("EVENT_REPORT_BACKUP_DOMAIN",e[1]),gm("LOG_UPLOAD_SERVER","".concat(e[1],":6444"))}})),this.signal.on(rg.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(eg.REQUEST_RECOVER,((e,t,n)=>{if(!this.joinInfo)return n(new Yf(Kf.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,iS(this,xg.REQUEST_NEW_GATEWAY_LIST).then(t).catch(n)})),this.signal.on(eg.REQUEST_JOIN_INFO,(async e=>{var t;this.updateTurnConfigFromSignal();const{iceParameters:n,dtlsParameters:r,rtpCapabilities:i}=await iS(this,xg.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:n,dtlsParameters:r,rtpCapabilities:i,version:"2"}}))})),this.signal.on(eg.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(eg.REPORT_JOIN_GATEWAY,((e,t)=>{this.joinInfo&&(Gb.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:e,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof RC?"1":"0"}),this._isProactiveJoin=!1)})),this.signal.on(eg.IS_P2P_DISCONNECTED,(e=>{e(sS(this,xg.IS_P2P_DISCONNECTED))})),this.signal.on(eg.DISCONNECT_P2P,(()=>{this.emit(xg.DISCONNECT_P2P)})),this.signal.on(eg.NEED_RENEW_SESSION,(()=>{this.emit(xg.NEED_RENEW_SESSION)})),this.signal.on(eg.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(eg.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(eg.JOIN_RESPONSE,(e=>{const t=this.getCurrentGatewayAddress();this.emit(xg.JOIN_RESPONSE,e,t)})),this.signal.on(eg.DATACHANNEL_PRECONNECT,(async(e,t,n)=>{this.updateTurnConfigFromSignal();const r=this.getCurrentGatewayAddress();return iS(this,xg.DATACHANNEL_PRECONNECT,e,r).then(t).catch(n)})),this.signal.on(eg.DATACHANNEL_CONNECTING,(async e=>{const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=await iS(this,xg.REQUEST_DC_CONNECTION_PARAMS);e(this.getJoinMessage({ortc:{iceParameters:t,dtlsParameters:n,rtpCapabilities:r,version:"2"}}))})),this.signal.on(eg.DATACHANNEL_FAILBACK,(()=>{im.warning("[".concat(this.store.clientId,"] User join datachannel failed")),this.reset(),this.resetSignal(),this.emit(xg.DATACHANNEL_FAILBACK)}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(tg.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(e){throw im.warning("unsubscribe warning",e),e}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(tg.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(e){throw im.warning("unpublish warning: ",e),e}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(tg.UNSUBSCRIBE_STREAMS,t,!0)}catch(e){throw im.warning("massUnsubscribe warning",e),e}}async muteLocal(e,t){const n={action:e.find((e=>e.stream_type===Ng.Audio))?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(tg.CONTROL,n,!0,!0)}catch(e){throw im.warning("gateway unmuteLocal warning: ",e),e}}async unmuteLocal(e,t){const n={action:e.find((e=>e.stream_type===Ng.Audio))?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(tg.CONTROL,n,!0,!0)}catch(e){throw im.warning("gateway muteLocal warning: ",e),e}}uploadStats(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(tg.RESTART_ICE,t,!0)}catch(e){throw im.warning("P2PChannel.restartICE warning: ",e),e}}reconnect(){"CONNECTED"===this.state&&this.signal.reconnect(void 0,Xv.P2P_FAILED)}getCurrentGatewayAddress(){var e;if(!ym("GATEWAY_WSS_ADDRESS"))return null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(tg.SET_PARAMETER,{enablePublishAudioFilter:e})}resetSignal(){this.signal&&(this.signal.removeAllListeners(),this.signal.close(Qv.FALLBACK)),this.signal=new yC(OC(OC({},this.spec),{},{retryConfig:this.spec.websocketRetryConfig}),this.store),this.handleSignalEvents(),this.emit(xg.RESET_CONNECTION_EVENTS)}}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xC(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r,i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var r=0;r<e.length-1;r++){var a=e[r];if(!(a in n))break e;n=n[a]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&i(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}if(a("Symbol",(function(e){function t(e,t){this.A=e,i(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var a=o[t[r]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&i(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(n(this))}})}return e})),"function"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var l;e:{var u={};try{u.__proto__={a:!0},l=u.a;break e}catch(t){}l=!1}r=l?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=r;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function f(e,t){return e.h=3,{value:t}}function m(e){this.g=new h,this.G=e}function v(e,t,n,r){try{var i=t.call(e.g.j,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.m=!1,i;var o=i.value}catch(t){return e.g.j=null,e.g.s(t),g(e)}return e.g.j=null,r.call(e.g,o),g(e)}function g(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var n=e.g.j;return n?v(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),g(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(e,t){return t=new y(new m(t)),d&&e.prototype&&d(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},m.prototype.o=function(e){return p(this.g),this.g.j?v(this,this.g.j.next,e,this.g.o):(this.g.o(e),g(this))},m.prototype.s=function(e){return p(this.g),this.g.j?v(this,this.g.j.throw,e,this.g.o):(this.g.s(e),g(this))},a("Array.prototype.entries",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return[e,t]}))}})),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var E=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},_=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},S=function(e,t,n){return t instanceof Blob?(n=void 0!==n?String(n+""):"string"==typeof t.name?t.name:"blob",t.name===n&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],n)),[String(e),t]):[String(e),String(t)]},A=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},w="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,T=w.FormData,C=w.XMLHttpRequest&&w.XMLHttpRequest.prototype.send,R=w.Request&&w.fetch,I=w.navigator&&w.navigator.sendBeacon,O=w.Element&&w.Element.prototype,k=w.Symbol&&Symbol.toStringTag;k&&(Blob.prototype[k]||(Blob.prototype[k]="Blob"),"File"in w&&!File.prototype[k]&&(File.prototype[k]="File"));try{new File([],"")}catch(t){w.File=function(e,t,n){return e=new Blob(e,n||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(n&&void 0!==n.lastModified?new Date(n.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),k&&Object.defineProperty(e,k,{value:"File"}),e}}var N=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},x=function(e){this.i=[];var t=this;e&&E(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var n=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];E(n,(function(n){t.append(e.name,n)}))}else"select-multiple"===e.type||"select-one"===e.type?E(e.options,(function(n){!n.disabled&&n.selected&&t.append(e.name,n.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(n="textarea"===e.type?_(e.value):e.value,t.append(e.name,n))}))};if((t=x.prototype).append=function(e,t,n){A(arguments,2),this.i.push(S(e,t,n))},t.delete=function(e){A(arguments,1);var t=[];e=String(e),E(this.i,(function(n){n[0]!==e&&t.push(n)})),this.i=t},t.entries=function e(){var t,n=this;return b(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<n.i.length?e=f(e,n.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},t.forEach=function(e,t){A(arguments,1);for(var n=c(this),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,e.call(t,i,r,this)}},t.get=function(e){A(arguments,1);var t=this.i;e=String(e);for(var n=0;n<t.length;n++)if(t[n][0]===e)return t[n][1];return null},t.getAll=function(e){A(arguments,1);var t=[];return e=String(e),E(this.i,(function(n){n[0]===e&&t.push(n[1])})),t},t.has=function(e){A(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},t.keys=function e(){var t,n,r=this;return b(e,(function(e){if(1==e.h&&(t=c(r),n=t.next()),3!=e.h)return n.done?void(e.h=0):f(e,c(n.value).next().value);n=t.next(),e.h=2}))},t.set=function(e,t,n){A(arguments,2),e=String(e);var r=[],i=S(e,t,n),o=!0;E(this.i,(function(t){t[0]===e?o&&(o=!r.push(i)):r.push(t)})),o&&r.push(i),this.i=r},t.values=function e(){var t,n,r,i,o=this;return b(e,(function(e){if(1==e.h&&(t=c(o),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,(i=c(r)).next(),f(e,i.next().value));n=t.next(),e.h=2}))},x.prototype._asNative=function(){for(var e=new T,t=c(this),n=t.next();!n.done;n=t.next()){var r=c(n.value);n=r.next().value,r=r.next().value,e.append(n,r)}return e},x.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],n="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach((function(e,r){return"string"==typeof e?t.push(n+N(_(r))+'"\r\n\r\n'+_(e)+"\r\n"):t.push(n+N(_(r))+'"; filename="'+N(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")})),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},x.prototype[Symbol.iterator]=function(){return this.entries()},x.prototype.toString=function(){return"[object FormData]"},O&&!O.matches&&(O.matches=O.matchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector||O.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),k&&(x.prototype[k]="FormData"),C){var P=w.XMLHttpRequest.prototype.setRequestHeader;w.XMLHttpRequest.prototype.setRequestHeader=function(e,t){P.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},w.XMLHttpRequest.prototype.send=function(e){e instanceof x?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),C.call(this,e)):C.call(this,e)}}R&&(w.fetch=function(e,t){return t&&t.body&&t.body instanceof x&&(t.body=t.body._blob()),R.call(this,e,t)}),I&&(w.navigator.sendBeacon=function(e,t){return t instanceof x&&(t=t._asNative()),I.call(this,e,t)}),w.FormData=x}}();let DC=1;let LC=1;function MC(e,t,n,r){let{url:i,areaCode:o}=e;const a=Date.now();let s;const[c,l]=VC(t,o,[uy.CHOOSE_SERVER]);let u=Pb.networkState;return Xf((async()=>{u&&Pb.networkState===Xg.OFFLINE&&Pb.onlineWaiter&&await sd.race([Pb.onlineWaiter,J_(r&&r.maxRetryTimeout||Qf.maxRetryTimeout)]),u=Pb.networkState;const{data:e,headers:o}=await Nb(i,{data:c,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);s="1"===o.http3?1:-1,Gb.reportResourceTiming(i,t.sid),UC(e,i,t,a,[uy.CHOOSE_SERVER],s);const l=H_(e,uy.CHOOSE_SERVER);return jC(l),j_(l,i)}),(e=>(e&&Gb.joinChooseServer(t.sid,{lts:a,succ:!0,csAddr:i,opid:l,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[uy.CHOOSE_SERVER].toString(),isHttp3:s}),!1)),(e=>e.code!==Kf.OPERATION_ABORTED&&(e.code===Kf.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(Gb.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:i,serverList:null,opid:l,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[uy.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:u}),isHttp3:s}),im.warning("[".concat(t.clientId,"] Choose server network error, retry"),e),!0))),r)}function FC(e,t,n,r){let i,{url:o,areaCode:a,serviceIds:s}=e;const c=Date.now(),[l,u]=VC(t,a,s);let d;return Xf((async()=>{d&&Pb.networkState===Xg.OFFLINE&&Pb.onlineWaiter&&await sd.race([Pb.onlineWaiter,J_(r&&r.maxRetryTimeout||Qf.maxRetryTimeout)]),d=Pb.networkState;const{data:e,headers:a}=await Nb(o,{data:l,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);i="1"===a.http3?1:-1,Gb.reportResourceTiming(o,t.sid),UC(e,o,t,c,s,i);const u=H_(e,uy.CHOOSE_SERVER),h=H_(e,"proxy5"===t.cloudProxyServer?uy.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?uy.CLOUD_PROXY:uy.CLOUD_PROXY_FALLBACK);return jC(u),{gatewayInfo:j_(u,o),proxyInfo:h,url:o}}),(e=>(e.gatewayInfo&&Gb.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:o,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:u,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:s.toString(),isHttp3:i}),e.proxyInfo&&Gb.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:s.toString()}),!1)),(e=>e.code!==Kf.OPERATION_ABORTED&&(e.code===Kf.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(Gb.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:s.toString(),extend:JSON.stringify({networkState:d})}),im.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),e),!0))),r)}const UC=(e,t,n,r,i,o)=>{const a=[],s=a=>{4096===a.flag?Gb.joinChooseServer(n.sid,{lts:r,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:a.error.message,csIp:a.error.data&&a.error.data.csIp,unilbsServerIds:i.toString(),isHttp3:o}):1048576!==a.flag&&4194304!==a.flag&&4194310!==a.flag||Gb.joinWebProxyAP(n.sid,{lts:r,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:a.error.code,eventType:n.cloudProxyServer,unilbsServerIds:i.toString()})};if(e.response_body.forEach((t=>{const n=t.buffer.code;if(23===t.uri&&0===n&&!t.buffer.edges_services)if(4194310===t.buffer.flag)im.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),t.buffer.edges_services=[];else{const n={error:new Yf(Kf.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};a.push(n),s(n)}if(0!==n){const r=dC(n),i={error:new Yf(Kf.CAN_NOT_GET_GATEWAY_SERVER,r.desc,{desc:r.desc,retry:r.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?im.warning(i.error.toString()):a.push(i),s(i)}})),a.length)throw im.warning("[".concat(n.clientId,"] multi unilbs ").concat(t," failed, ").concat(a.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message,", retry: ").concat(e.error.data.retry))).join(" | "))),new Yf(Kf.CAN_NOT_GET_GATEWAY_SERVER,a.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message))).join(" | "),{retry:!!a.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(a.map((e=>{var t,n;return null==e||null===(t=e.error)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.desc})).filter((e=>!!e)))]})},jC=e=>{var t,n;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new Yf(Kf.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(null!==(t=e.detail)&&void 0!==t&&t[19]&&"string"==typeof(null===(n=e.detail)||void 0===n?void 0:n[19])){const t=e.detail[19],n=null==t?void 0:t.split(";");for(let t=0;t<n.length;t++){var r;const i=ih(r=n[t]).call(r);e.addresses[t]&&n&&(e.addresses[t].fingerprint=i)}}if(ym("GATEWAY_ADDRESS")&&ym("GATEWAY_ADDRESS").length>0){im.debug("assign gateway address to",ym("GATEWAY_ADDRESS"));const t=ym("GATEWAY_ADDRESS").map((t=>{var n,r;const i=null!==(n=null===(r=e.addresses.find((e=>e.ip===t.ip&&e.port===t.port)))||void 0===r?void 0:r.fingerprint)&&void 0!==n?n:"";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:i}}));e.addresses=t}},VC=(e,t,n)=>{const r=Math.floor(Math.random()*10**12),i={appid:e.appId,client_ts:Date.now(),opid:r,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:{6:e.stringUid,11:t,12:ym("USE_NEW_TOKEN")?"1":void 0},key:e.token,service_ids:n,uid:e.uid||0}}]};i.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const o=new FormData;return o.append("request",JSON.stringify(i)),[o,r]};let BC=0;const zC=()=>{const e=ym("AREAS");return 0===e.length&&e.push(Vg.GLOBAL),qn(e).call(e,((e,t,n)=>{const r=GC(t);return r?0===n?r:"".concat(e,",").concat(r):e}),"")},GC=e=>e===Vg.OVERSEA?"".concat(Hg.ASIA,",").concat(Hg.EUROPE,",").concat(Hg.AFRICA,",").concat(Hg.NORTH_AMERICA,",").concat(Hg.SOUTH_AMERICA,",").concat(Hg.OCEANIA):Hg[e],HC={GLOBAL:{ASIA:[Vg.CHINA,Vg.JAPAN,Vg.INDIA,Vg.KOREA,Vg.HKMC],EUROPE:[],NORTH_AMERICA:[Vg.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},qC=Object.keys(HC[Vg.GLOBAL]),WC=[Vg.CHINA,Vg.NORTH_AMERICA,Vg.EUROPE,Vg.ASIA,Vg.JAPAN,Vg.INDIA,Vg.OCEANIA,Vg.SOUTH_AMERICA,Vg.AFRICA,Vg.KOREA,Vg.HKMC,Vg.US];async function ZC(e,t,n,r){const i=async function(e,t,n,r){let i=null;const o=[],a=async()=>{const i=ym("WEBCS_DOMAIN").slice(0,ym("AJAX_REQUEST_CONCURRENT")).map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:zC()}))),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((e=>e.url))}),s=await yS({fragementLength:ym("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>(im.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),MC(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:o});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),s},s=async()=>{if(await J_(1e3),null!==i)return i;const a=ym("WEBCS_DOMAIN_BACKUP_LIST").map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:zC()}))),s=r.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:a.map((e=>e.url))}),c=await yS({fragementLength:ym("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(im.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),MC(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:o});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},s),c};try{return i=await rS([a(),s()]),o.length&&o.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),i}catch(e){throw e[0]}}(e,t,n,r);return{gatewayInfo:await i}}async function KC(e,t,n,r,i){const o=e.cloudProxyServer;if("disabled"===o){if(!r)return;if(e.useLocalAccessPoint)return await ZC(e,t,n,i);if(ym("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:r,proxyInfo:o}=await QC(e,t,n,i);return e.turnServer&&"auto"!==e.turnServer.mode||(e.turnServer={mode:"manual",servers:o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||cm.tcpport,udpport:e.udpport||cm.udpport,username:e.username||cm.username,password:e.password||cm.password,forceturn:ym("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE"),security:!0})))}),{gatewayInfo:r}}return await ZC(e,t,n,i)}const{proxyInfo:a,gatewayInfo:s}=await QC(e,t,n,i),c={gatewayInfo:s};return e.turnServer={mode:"manual",servers:a.map((e=>({turnServerURL:e.address,tcpport:"proxy3"===o?void 0:e.tcpport?e.tcpport:cm.tcpport,udpport:"proxy4"===o?void 0:e.udpport?e.udpport:cm.udpport,username:e.username||cm.username,password:e.password||cm.password,forceturn:"proxy4"!==o,security:"proxy5"===o})))},im.debug("[".concat(e.clientId,"] set proxy server: ").concat(e.proxyServer,", mode: ").concat(o)),c}async function YC(e,t,n,r,i){const o=ym("ACCOUNT_REGISTER").slice(0,ym("AJAX_REQUEST_CONCURRENT"));let a=[];a=t.proxyServer?o.map((e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"))):o.map((e=>"https://".concat(e,"/api/v1")));const s=null==i?void 0:i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:a});try{const o=await async function(e,t,n,r,i){const o=Date.now(),a={sid:n.sid,opid:10,appid:n.appId,string_uid:t};let s=e[0];const c=await Xf((()=>Nb(s+"".concat(-1===s.indexOf("?")?"?":"&","action=stringuid"),{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})),((n,r)=>{if(0===n.code){if(n.uid<=0||n.uid>=Math.pow(2,32))throw im.error("Invalid Uint Uid ".concat(t," => ").concat(n.uid),n),Gb.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:Kf.INVALID_UINT_UID_FROM_STRING_UID,extend:a}),new Yf(Kf.INVALID_UINT_UID_FROM_STRING_UID);return Gb.reqUserAccount(a.sid,{lts:o,success:!0,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:null,extend:a}),!1}const i=dC(n.code);return i.retry&&(s=e[(r+1)%e.length]),Gb.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:i.desc,extend:a}),i.retry}),((t,n)=>t.code!==Kf.OPERATION_ABORTED&&(Gb.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:null,errorCode:t.code,extend:a}),s=e[(n+1)%e.length],!0)),i);if(0!==c.code){const e=dC(c.code);throw new Yf(Kf.UNEXPECTED_RESPONSE,e.desc)}return c}(a,e,t,n,r);return null==i||i.recordJoinChannelService({status:"success",endTs:Date.now()},s),o.uid}catch(e){throw null==i||i.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[e]},s),e}}async function QC(e,t,n,r){const i=ym("PROXY_SERVER_TYPE3"),o=(e,t,n)=>{let r=n||i;return Array.isArray(r)&&(r=t%2==0?i[1]:i[0]),"https://".concat(r,"/ap/?url=").concat(e)};let a=null;const s=[],c=async()=>{const i=ym("WEBCS_DOMAIN").slice(0,ym("AJAX_REQUEST_CONCURRENT")).map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:zC(),serviceIds:[uy.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?uy.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?uy.CLOUD_PROXY:uy.CLOUD_PROXY_FALLBACK]}})),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((e=>e.url))}),c=await yS({fragementLength:ym("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>(im.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),FC(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),c},l=async()=>{if(await J_(1e3),null!==a)return a;const i=ym("WEBCS_DOMAIN_BACKUP_LIST").map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:zC(),serviceIds:[uy.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?uy.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?uy.CLOUD_PROXY:uy.CLOUD_PROXY_FALLBACK]}})),c=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((e=>e.url))}),l=await yS({fragementLength:ym("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>(im.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),FC(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},c),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},c),l};let u,d,h;try{({gatewayInfo:u,proxyInfo:d,url:h}=await rS([c(),l()]))}catch(e){throw e[0]}if(s.length&&s.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),!u||!d)throw new Yf(Kf.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(e.apUrl=h,"disabled"!==e.cloudProxyServer&&Array.isArray(i)&&h){const t=new lC(h).host;i.includes(t)&&(e.proxyServer=t,im.setProxyServer(t),Gb.setProxyServer(t))}return a={gatewayInfo:u,proxyInfo:await q_(d,u.uid)},a}async function JC(e,t,n,r){const i=ym("UAP_AP").slice(0,ym("AJAX_REQUEST_CONCURRENT")).map((e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")));return await function(e,t,n,r,i){DC+=1;const o={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:DC,requestId:DC,version:am,cname:n.cname},a={service_name:t,json_body:JSON.stringify(o)};let s,c,l=e[0];return Xf((async()=>{s=Date.now();const e=await Nb(l,{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(c=Date.now()-s,0!==e.code){const t=new Yf(Kf.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0,responseTime:c});throw im.error(t.toString()),t}const n=JSON.parse(e.json_body);if(200!==n.code){const e=new Yf(Kf.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(n.code,", reason: ").concat(n.reason),{code:n.code,responseTime:c});throw im.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new Yf(Kf.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:n.code,responseTime:c});throw im.error(e.toString()),e}const i=function(e,t){return{addressList:e.servers.map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(ym("WORKER_DOMAIN"),":").concat(e.wss,"?serviceName=").concat(encodeURIComponent(t)))),workerToken:e.workerToken,vid:e.vid}}(n,t);return ym("LIVE_STREAMING_ADDRESS")&&(i.addressList=ym("LIVE_STREAMING_ADDRESS")instanceof Array?ym("LIVE_STREAMING_ADDRESS"):[ym("LIVE_STREAMING_ADDRESS")]),PC(PC({},i),{},{responseTime:c})}),((r,i)=>(Gb.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(r.addressList),firstSuccess:0===i,responseTime:c,serverIp:e[i%e.length]}),!1)),((r,i)=>(Gb.apworkerEvent(n.sid,{success:!1,sc:r.data&&r.data.code||200,serviceName:t,responseTime:c,serverIp:e[i%e.length]}),!!(r.code!==Kf.OPERATION_ABORTED&&r.code!==Kf.UNEXPECTED_RESPONSE||r.data&&r.data.retry)&&(l=e[(i+1)%e.length],!0))),i)}(i,e,t,n,r)}async function XC(e,t,n){let r=null;const i=[],o=async o=>{const a=ym(o?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2")));return o&&(await J_(1e3),null!==r)?r:await yS({fragementLength:ym("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(im.debug("[".concat(e.clientId,"] update ticket, Connect to ").concat(o?"backup":""," choose_server:"),r),function(e,t,n,r){const[i]=((e,t)=>{const n=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},i=new FormData;return i.append("request",JSON.stringify(r)),[i,n]})(t,[uy.CHOOSE_SERVER]);let o=Pb.networkState;return Xf((async()=>{o&&Pb.networkState===Xg.OFFLINE&&Pb.onlineWaiter&&await sd.race([Pb.onlineWaiter,J_(r&&r.maxRetryTimeout||Qf.maxRetryTimeout)]),o=Pb.networkState;return((e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=dC(t.buffer.code);throw new Yf(Kf.UPDATE_TICKET_FAILED,"[".concat(t.buffer.code,"]: ").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw im.debug("update ticket request received ap response without response body:",t),new Yf(Kf.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})})(await Nb(e,{data:i,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0),e)}),(()=>!1),(e=>e.code!==Kf.OPERATION_ABORTED&&(e.code===Kf.UPDATE_TICKET_FAILED?e.data.retry:(im.warning("[".concat(t.clientId,"] update ticket network error, retry"),e),!0))),r)}(r,e,t,n)),allFailedhandler:e=>{throw e[0]},promisesCollector:i})};try{return r=await rS([o(!1),o(!0)]),i.length&&i.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),r}catch(e){throw e[0]}}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$C(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class tR extends Wf{constructor(){super(),Qh(this,"configs",void 0),Qh(this,"joinInfo",void 0),Qh(this,"cancelToken",void 0),Qh(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),Qh(this,"interval",void 0),Qh(this,"mutex",new Zb("config-distribute")),Qh(this,"mutableParamsRead",!1)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),ym("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),ym("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,Gb.reportApiInvoke(null,{options:void 0,name:Vv.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:Bv.TRACER}).onSuccess(JSON.stringify(Em))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void im.debug("[config-distribute] get config distribute interrupted have no joininfo");let e;const t=await this.mutex.lock();try{e=await async function(e,t,n){const r=ym("CDS_AP").slice(0,ym("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1"):"https://".concat(t,"/api/v1?action=config"))).map((r=>function(e,t,n,r){const i=Sh(),o={flag:64,cipher_method:0,features:{device:i.name,system:i.os,system_general:navigator.userAgent,vendor:t.appId,version:am,cname:t.cname,sid:t.sid,session_id:t.sid,detail:"",proxyServer:t.proxyServer}};return Xf((()=>Nb(e,{data:o,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})),void 0,(e=>e.code!==Kf.OPERATION_ABORTED),r)}(r,e,t,n)));let i=null,o=null,a={};try{i=await rS(r)}catch(e){if(e.code===Kf.OPERATION_ABORTED)throw e;o=e}if(r.forEach((e=>e.cancel())),Gb.reportApiInvoke(e.sid,{name:Vv.REQUEST_CONFIG_DISTRIBUTE,options:{error:o,res:i}}).onSuccess(),i&&i.test_tags)try{a=function(e){if(!e.test_tags)return{};const t=e.test_tags,n=Object.keys(t),r={};return n.forEach((e=>{var n;const i=ih(n=e.slice(4)).call(n),o=JSON.parse(t[e])[1];r[i]=o})),r}(i)}catch(e){}return a}(this.joinInfo,this.cancelToken,this.retryConfig),im.debug("[config-distribute] get config distribute",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(e){const t=new Yf(Kf.NETWORK_RESPONSE_ERROR,e);im.warning("[config-distribute] ".concat(t.toString()))}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(Wg.UPDATE_BITRATE_LIMIT,e):this.emit(Wg.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&eR({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const n=bv(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let t=0;t<n.length;t++)for(let r=n.length-1;r>t;r--){const t=n[r];if("number"==typeof e[t].__priority){const i=e[t].__priority,o=n[r-1];if("number"==typeof e[o].__priority){if(!(i>e[o].__priority))continue;{const e=t;n[r]=n[r-1],n[r-1]=e}}else{const e=t;n[r]=n[r-1],n[r-1]=e}}}const r={};n.forEach((t=>{const n=e[t],i=n.__expires;Object.keys(n).forEach((e=>{"__priority"===e||"__expires"===e||Object.prototype.hasOwnProperty.call(r,e)||(r[e]=eR({value:n[e]},i&&{expires:i}))}))}));try{const e=JSON.stringify(r),t=window.btoa(e);window.localStorage.setItem("websdk_ng_global_parameter",t),im.debug("Caching global parameters ".concat(e))}catch(e){im.error("Error caching global parameters:",e.message)}}}function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nR(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class iR extends Wf{constructor(e,t,n,r){super(),Qh(this,"spec",void 0),Qh(this,"token",void 0),Qh(this,"websocket",void 0),Qh(this,"pingpongTimer",void 0),Qh(this,"reconnectMode","retry"),Qh(this,"serviceMode",void 0),Qh(this,"reqId",0),Qh(this,"commandReqId",0),Qh(this,"handleWebSocketOpen",(()=>{this.reconnectMode="retry",this.startPingPong()})),Qh(this,"handleWebSocketMessage",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit("@".concat(t.requestId,"-").concat(t.sid),t):this.serviceMode===vg.INJECT?this.emit(Ag.INJECT_STREAM_STATUS,t):(Gb.workerEvent(this.spec.sid,{actionType:"status",serverCode:t.code,workerType:this.serviceMode===vg.TRANSCODE?1:2}),this.emit(Ag.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=r,this.websocket=new vC("live-streaming",n),this.websocket.on(mg.CONNECTED,this.handleWebSocketOpen),this.websocket.on(mg.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(mg.REQUEST_NEW_URLS,((e,t)=>{iS(this,Ag.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(mg.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,n,r){this.reqId+=1,"request"===e&&(this.commandReqId+=1);const i=this.commandReqId,o=this.reqId;if(!o||!this.websocket)throw new Yf(Kf.UNEXPECTED_ERROR);const a=rR({command:e,sdkVersion:"4.16.1"===am?"0.0.1":am,seq:o,requestId:o,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if("closed"===this.websocket.state)throw new Yf(Kf.WS_DISCONNECT);const s=()=>new sd(((e,t)=>{this.websocket.once(mg.CLOSED,(()=>t(new Yf(Kf.WS_ABORT)))),this.websocket.once(mg.CONNECTED,e)}));"connected"!==this.websocket.state&&await s(),a.clientRequest&&(a.clientRequest.workerToken=this.token);const c=new sd(((e,t)=>{const n=()=>{t(new Yf(Kf.WS_ABORT))};this.websocket.once(mg.RECONNECTING,n),this.websocket.once(mg.CLOSED,n),this.once("@".concat(o,"-").concat(this.spec.sid),(t=>{e(t)}))}));r&&Gb.workerEvent(this.spec.sid,rR(rR({},r),{},{requestId:i,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const l=Date.now();this.websocket.sendMessage(a);let u=null;try{u=await c}catch(r){if("closed"===this.websocket.state)throw r;return await s(),await this.request(e,t,n)}return r&&Gb.workerEvent(this.spec.sid,rR(rR({},r),{},{requestId:i,actionType:"response",payload:JSON.stringify(u.serverResponse),serverCode:u.code,success:200===u.code,responseTime:Date.now()-l})),200!==u.code&&this.handleResponseError(u),u}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const e="4.16.1"===am?"0.0.1":am;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case Tg.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void im.warning("live stream response already exists stream");case Tg.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case Tg.LIVE_STREAM_RESPONSE_BAD_STREAM:case Tg.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new Yf(Kf.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case Tg.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new Yf(Kf.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Tg.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new Yf(Kf.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case Tg.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new Yf(Kf.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(Ag.WARNING,t,e.serverResponse.url)}case Tg.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new Yf(Kf.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(Ag.WARNING,t,e.serverResponse.url)}case Tg.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new Yf(Kf.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Tg.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new Yf(Kf.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case Tg.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new Yf(Kf.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(Ag.WARNING,t,e.serverResponse.url)}case Tg.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new Yf(Kf.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case Tg.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new Yf(Kf.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case Tg.LIVE_STREAM_RESPONSE_WORKER_LOST:case Tg.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new Yf(Kf.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Tg.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new Yf(Kf.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new Yf(Kf.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Tg.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Tg.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Tg.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Tg.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new Yf(Kf.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{"connected"===this.websocket.state&&this.request("ping",{}).catch(tS)}),6e3)}}function oR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oR(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class sR extends Wf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qf,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qf;super(),Qh(this,"onLiveStreamWarning",void 0),Qh(this,"onLiveStreamError",void 0),Qh(this,"onInjectStatusChange",void 0),Qh(this,"spec",void 0),Qh(this,"retryTimeout",1e4),Qh(this,"connection",void 0),Qh(this,"httpRetryConfig",void 0),Qh(this,"wsRetryConfig",void 0),Qh(this,"streamingTasks",new Map),Qh(this,"isStartingStreamingTask",!1),Qh(this,"taskMutex",new Zb("live-streaming")),Qh(this,"cancelToken",Hf.CancelToken.source()),Qh(this,"transcodingConfig",void 0),Qh(this,"injectConfig",aR({},Sg)),Qh(this,"injectLoopTimes",0),Qh(this,"uapResponse",void 0),Qh(this,"lastTaskId",1),Qh(this,"statusError",new Map),this.spec=e,this.httpRetryConfig=n,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=aR(aR({},_g),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(im.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(t.videoCodecProfile," -> 100")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>aR(aR(aR({},yg),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),function(e){Iv(e.width)||Sv(e.width,"config.width",0,1e4),Iv(e.height)||Sv(e.height,"config.height",0,1e4),Iv(e.videoBitrate)||Sv(e.videoBitrate,"config.videoBitrate",1,1e6),Iv(e.videoFrameRate)||Sv(e.videoFrameRate,"config.videoFrameRate"),Iv(e.lowLatency)||Ev(e.lowLatency,"config.lowLatency"),Iv(e.audioSampleRate)||_v(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),Iv(e.audioBitrate)||Sv(e.audioBitrate,"config.audioBitrate",1,128),Iv(e.audioChannels)||_v(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),Iv(e.videoGop)||Sv(e.videoGop,"config.videoGop"),Iv(e.videoCodecProfile)||_v(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),Iv(e.userCount)||Sv(e.userCount,"config.userCount",0,17),Iv(e.backgroundColor)||Sv(e.backgroundColor,"config.backgroundColor",0,16777215),Iv(e.userConfigExtraInfo)||wv(e.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),e.transcodingUsers&&!Iv(e.transcodingUsers)&&(Tv(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach(((e,t)=>{Rv(e.uid),Iv(e.x)||Sv(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),Iv(e.y)||Sv(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),Iv(e.width)||Sv(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),Iv(e.height)||Sv(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),Iv(e.zOrder)||Sv(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),Iv(e.alpha)||Sv(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)}))),Iv(e.watermark)||Eg(e.watermark,"watermark"),Iv(e.backgroundImage)||Eg(e.backgroundImage,"backgroundImage"),e.images&&!Iv(e.images)&&(Tv(e.images,"config.images"),e.images.forEach(((e,t)=>{Eg(e,"images[".concat(t,"]"))})))}(t);const n=[];t.images&&n.push(...t.images.map((e=>aR(aR(aR({},bg),e),{},{zOrder:255})))),t.backgroundImage&&(n.push(aR(aR(aR({},bg),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(n.push(aR(aR(aR({},bg),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=n,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>aR({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const r=(t.userConfigs||[]).map((e=>"number"==typeof e.uid?sd.resolve(e.uid):YC(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await sd.all(r)).forEach(((e,n)=>{t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e)})),this.transcodingConfig=t,this.connection)try{var i;const e=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(f_(i=this.streamingTasks).call(i)).map((e=>e.taskId)).join("#")});im.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(e.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t=>{im.warning("[".concat(this.spec.clientId,"] live streaming receive error"),e.toString(),"try to republish",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then((()=>{im.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(t.url," success"))})).catch((e=>{im.error("[".concat(this.spec.clientId,"] live streaming republish failed"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)}))}))}}setInjectStreamConfig(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t}async startLiveStreamingTask(e,t,n){var r;if(Array.from(f_(r=this.streamingTasks).call(r)).find((e=>e.mode===vg.INJECT))&&t===vg.INJECT)return new Yf(Kf.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw();if(!this.transcodingConfig&&t===vg.TRANSCODE)throw new Yf(Kf.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");let i={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};im.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(e,", mode: ").concat(t));const o=await this.taskMutex.lock();if(!this.connection&&n)return void o();if(this.streamingTasks.get(e)&&!n)return o(),new Yf(Kf.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw o(),e}switch(t){case vg.TRANSCODE:i.transcodingConfig=aR({},this.transcodingConfig);break;case vg.RAW:break;case vg.INJECT:i={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(i.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const a=this.lastTaskId++;try{const r=new sd(((t,r)=>{J_(this.retryTimeout).then((()=>{if(n)return r(n);const t=this.statusError.get(e);return t?(this.statusError.delete(e),r(t)):void 0}))})),s=await sd.race([this.connection.request("request",{clientRequest:i},!0,{url:e,command:"PublishStream",workerType:t===vg.TRANSCODE?1:2,requestByUser:!n,tid:a.toString()}),r]);this.isStartingStreamingTask=!1,im.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(s.code)),this.streamingTasks.set(e,{clientRequest:i,mode:t,url:e,taskId:a}),o()}catch(r){if(o(),this.isStartingStreamingTask=!1,!r.data||!r.data.retry||n)throw r;return r.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,r)):await this.startLiveStreamingTask(e,t,r)}}stopLiveStreamingTask(e){return new sd(((t,n)=>{const r=this.streamingTasks.get(e);if(!r||!this.connection)return new Yf(Kf.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const i=r.mode;r.abortTask=()=>{im.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(e),t()},this.connection.request("request",{clientRequest:{command:i===vg.INJECT?"UninjectStream":"UnpublishStream",url:r.url}},!1,{url:e,command:"UnPublishStream",workerType:i===vg.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((n=>{im.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(n.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&i!==vg.INJECT&&(this.connection&&this.connection.close(),this.connection=void 0),t(),i===vg.INJECT&&this.onInjectStatusChange&&this.onInjectStatusChange(gg.INJECT_STREAM_STATUS_STOP_SUCCESS,this.spec.uid,e)})).catch(n)}))}async controlInjectStream(e,t,n,r){const i=this.streamingTasks.get(e);if(!i||!this.connection||i.mode!==vg.INJECT)throw new Yf(Kf.INVALID_OPERATION,"can not find inject stream task to control");return(await this.connection.request("request",{clientRequest:{command:"ControlStream",url:e,control:t,audioVolume:n,position:r}})).serverResponse}resetAllTask(){var e;const t=Array.from(f_(e=this.streamingTasks).call(e));this.terminate();for(const e of t)this.startLiveStreamingTask(e.url,e.mode).catch((t=>{this.onLiveStreamError&&this.onLiveStreamError(e.url,t)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=Hf.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new Yf(Kf.UNEXPECTED_ERROR,"live streaming connection has already connected");const t=await iS(this,wg.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new iR(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(Ag.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(Ag.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(Ag.INJECT_STREAM_STATUS,(e=>this.handleInjectStreamServerStatus(e))),this.connection.on(Ag.REQUEST_NEW_ADDRESS,((t,n)=>{if(!this.connection)return n(new Yf(Kf.UNEXPECTED_ERROR,"can not get new live streaming address list"));iS(this,wg.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(n)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||"empty_url",n=this.streamingTasks.get(t),r=e.reason;switch(e.code){case Tg.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Tg.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Tg.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Tg.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const r=new Yf(Kf.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(n)return im.error(r.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,r);if(!this.isStartingStreamingTask)return;this.statusError.set(t,r)}case Tg.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new Yf(Kf.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,r);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case Tg.LIVE_STREAM_RESPONSE_WORKER_LOST:case Tg.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var i;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(f_(i=this.streamingTasks).call(i));for(const n of t)n.abortTask?n.abortTask():(im.warning("[".concat(this.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),this.startLiveStreamingTask(n.url,n.mode,new Yf(Kf.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((()=>{im.debug("[".concat(this.spec.clientId,"] republish live stream success"),n.url)})).catch((e=>{im.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(n.url,e)})));return}}}handleInjectStreamServerStatus(e){const t=Number(e.uid),n=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(gg.INJECT_STREAM_STATUS_START_SUCCESS,t,n));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(gg.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,t,n),void this.streamingTasks.delete(n);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(gg.INJECT_STREAM_STATUS_START_UNAUTHORIZED,t,n),void this.streamingTasks.delete(n);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(gg.INJECT_STREAM_STATUS_BROKEN,t,n),void this.streamingTasks.delete(n);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(gg.INJECT_STREAM_STATUS_START_TIMEOUT,t,n),void this.streamingTasks.delete(n);default:return void im.debug("inject stream server status",e)}}hasUrl(e){return this.streamingTasks.has(e)}}class cR{constructor(){Qh(this,"destChannelMediaInfos",new Map),Qh(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(e){Bg(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){Bg(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){Cv(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function lR(e){if(!(e instanceof cR))return new Yf(Kf.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const t=e.getSrcChannelMediaInfo(),n=e.getDestChannelMediaInfo();return t?0===n.size?new Yf(Kf.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new Yf(Kf.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}class uR extends Wf{constructor(e,t,n){super(),Qh(this,"ws",void 0),Qh(this,"requestId",1),Qh(this,"heartBeatTimer",void 0),Qh(this,"joinInfo",void 0),Qh(this,"clientId",void 0),Qh(this,"onOpen",(()=>{this.emit("open"),this.startHeartBeatCheck()})),Qh(this,"onClose",(e=>{this.emit("close"),this.dispose()})),Qh(this,"onMessage",(e=>{const t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit("status",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit("req_".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new vC("cross-channel-".concat(this.clientId),n),this.ws.on(mg.RECONNECTING,(()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")})),this.ws.on(mg.CONNECTED,this.onOpen),this.ws.on(mg.ON_MESSAGE,this.onMessage),this.ws.on(mg.CLOSED,this.onClose)}isConnect(){return"connected"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new sd(((t,n)=>{const r=window.setTimeout((()=>{n(new Yf(Kf.TIMEOUT,"wait status timeout, status: ".concat(e)))}),5e3);this.once(e,(i=>{window.clearTimeout(r),i.state&&0!==i.state?n(new Yf(Kf.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):t(void 0)})),this.once("dispose",(()=>{window.clearTimeout(r),n(new Yf(Kf.WS_ABORT))}))}))}async request(e){if("closed"===this.ws.state)throw new Yf(Kf.WS_DISCONNECT);"connected"!==this.ws.state&&await(()=>new sd(((e,t)=>{this.ws.once(mg.CLOSED,(()=>t(new Yf(Kf.WS_ABORT)))),this.ws.once(mg.CONNECTED,e)})))();const t=this.sendMessage(e),n=new sd(((e,n)=>{const r=()=>{n(new Yf(Kf.WS_ABORT))};this.ws.once(mg.RECONNECTING,r),this.ws.once(mg.CLOSED,r),this.once("req_".concat(t),e),J_(3e3).then((()=>{this.removeAllListeners("req_".concat(t)),this.ws.off(mg.RECONNECTING,r),this.ws.off(mg.CLOSED,r),n(new Yf(Kf.TIMEOUT,"cross channel ws request timeout"))}))})),r=await n;if(!r||200!==r.code)throw new Yf(Kf.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(r)));return r}async connect(e){this.ws.removeAllListeners(mg.REQUEST_NEW_URLS),this.ws.on(mg.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class dR extends Wf{set state(e){e!==this._state&&(e!==Og.RELAY_STATE_FAILURE&&(this.errorCode=kg.RELAY_OK),this.emit("state",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,n,r){super(),Qh(this,"joinInfo",void 0),Qh(this,"sid",void 0),Qh(this,"clientId",void 0),Qh(this,"cancelToken",Hf.CancelToken.source()),Qh(this,"workerToken",void 0),Qh(this,"requestId",0),Qh(this,"signal",void 0),Qh(this,"prevChannelMediaConfig",void 0),Qh(this,"httpRetryConfig",void 0),Qh(this,"_state",Og.RELAY_STATE_IDLE),Qh(this,"errorCode",kg.RELAY_OK),Qh(this,"onStatus",(e=>{im.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&this.emit("event",Ig.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&this.emit("event",Ig.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(this.errorCode=kg.SRC_TOKEN_EXPIRED,this.state=Og.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===e.command&&(this.errorCode=kg.DEST_TOKEN_EXPIRED,this.state=Og.RELAY_STATE_FAILURE))})),Qh(this,"onReconnect",(async()=>{im.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",Ig.NETWORK_DISCONNECTED),this.state=Og.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==Og.RELAY_STATE_IDLE&&(im.error("auto restart channel media relay failed",e.toString()),this.errorCode=kg.SERVER_CONNECTION_LOST,this.state=Og.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.sid=eS(),this.signal=new uR(this.joinInfo,this.clientId,n),this.httpRetryConfig=r}async startChannelMediaRelay(e){if(this.state!==Og.RELAY_STATE_IDLE)throw new Yf(Kf.INVALID_OPERATION);this.state=Og.RELAY_STATE_CONNECTING,await this.connect(),im.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&"SetSourceChannel"===e.data.serverResponse.command)throw new Yf(Kf.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&"SetDestChannelStatus"===e.serverResponse.command)throw new Yf(Kf.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&"StartPacketTransfer"===e.serverResponse.command)throw new Yf(Kf.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==Og.RELAY_STATE_RUNNING)throw new Yf(Kf.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),im.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=Og.RELAY_STATE_IDLE,this.dispose()}dispose(){im.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=Hf.CancelToken.source(),this.state=Og.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await async function(e,t,n){const r=ym("UAP_AP").slice(0,ym("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1?action=uap"):"https://".concat(t,"/api/v1?action=uap"))).map((r=>function(e,t,n,r){const i={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:am,cname:t.cname,uid:t.uid.toString(),requestId:LC,seq:LC};LC+=1;const o={service_name:"tele_channel",json_body:JSON.stringify(i)};return Xf((async()=>{const t=await Nb(e,{data:o,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(0!==t.code){const e=new Yf(Kf.UNEXPECTED_RESPONSE,"cross channel ap error, code"+t.code,{retry:!0});throw im.error(e.toString()),e}const r=JSON.parse(t.json_body);if(200!==r.code){const e=new Yf(Kf.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(r.code,", reason: ").concat(r.reason));throw im.error(e.toString()),e}if(!r.servers||0===r.servers.length){const e=new Yf(Kf.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw im.error(e.toString()),e}return{vid:r.vid,workerToken:r.workerToken,addressList:(ym("CHANNEL_MEDIA_RELAY_SERVERS")||r.servers).map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(ym("WORKER_DOMAIN"),":").concat(e.wss)))}}),void 0,(e=>!!(e.code!==Kf.OPERATION_ABORTED&&e.code!==Kf.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),r)}(r,e,t,n)));try{const e=await rS(r);return r.forEach((e=>e.cancel())),e}catch(e){throw e[0]}}(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit("event",Ig.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(Rg.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus("Normal Quit"),im.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const n=this.genMessage(Rg.SetSdkProfile,e);await this.signal.request(n),im.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const r=this.genMessage(Rg.SetSourceChannel,e);await this.signal.request(r),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",Ig.PACKET_JOINED_SRC_CHANNEL),im.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const i=this.genMessage(Rg.SetSourceUserId,e);await this.signal.request(i),im.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const o=this.genMessage(Rg.SetDestChannel,e);await this.signal.request(o),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",Ig.PACKET_JOINED_DEST_CHANNEL),im.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const a=this.genMessage(Rg.StartPacketTransfer,e);await this.signal.request(a),this.emit("event",Ig.PACKET_SENT_TO_DEST_CHANNEL),this.state=Og.RELAY_STATE_RUNNING,im.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success"))}async sendUpdateMessage(e){const t=this.genMessage(Rg.UpdateDestChannel,e);await this.signal.request(t),this.emit("event",Ig.PACKET_UPDATE_DEST_CHANNEL),im.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const e=this.genMessage(Rg.StopPacketTransfer);await this.signal.request(e),im.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(e,t){const n=[],r=[],i=[];this.requestId+=1;const o={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:am,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.16.1"===o.sdkVersion&&(o.sdkVersion="0.0.1");let a=null,s=null;switch(e){case Rg.SetSdkProfile:return o.clientRequest={command:"SetSdkProfile",type:"multi_channel"},o;case Rg.SetSourceChannel:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new Yf(Kf.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceChannel",uid:"0",channelName:s.channelName,token:s.token||this.joinInfo.appId},o;case Rg.SetSourceUserId:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new Yf(Kf.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceUserId",uid:s.uid+""},o;case Rg.SetDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new Yf(Kf.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),i.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:"SetDestChannel",channelName:n,uid:r,token:i},o;case Rg.StartPacketTransfer:return o.clientRequest={command:"StartPacketTransfer"},o;case Rg.Reconnect:return o.clientRequest={command:"Reconnect"},o;case Rg.StopPacketTransfer:return o.clientRequest={command:"StopPacketTransfer"},o;case Rg.UpdateDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new Yf(Kf.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),i.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:"UpdateDestChannel",channelName:n,uid:r,token:i},o}return o}}const hR=e=>{const t=document.createElement("canvas");return t.width=2,t.height=2,new sd(((n,r)=>{t.toBlob((async e=>{if(t.remove(),e){const r=await pR(e);n({buffer:r,width:t.width,height:t.height})}else r(new Yf(Kf.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},pR=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fR(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class vR{get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(im.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(e)),this._videoElementStatus=e)}constructor(e){Qh(this,"trackId",void 0),Qh(this,"config",void 0),Qh(this,"onFirstVideoFrameDecoded",void 0),Qh(this,"freezeTimeCounterList",[]),Qh(this,"renderFreezeAccTime",0),Qh(this,"timeUpdatedCount",0),Qh(this,"freezeTime",0),Qh(this,"playbackTime",0),Qh(this,"lastTimeUpdatedTime",0),Qh(this,"autoplayFailed",!1),Qh(this,"videoTrack",void 0),Qh(this,"container",void 0),Qh(this,"videoElement",void 0),Qh(this,"videoElementCheckInterval",void 0),Qh(this,"_videoElementStatus",xv.NONE),Qh(this,"slot",void 0),Qh(this,"isGettingVideoDimensions",!1),Qh(this,"handleVideoEvents",(e=>{switch(e.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=xv.PLAYING;break;case"loadeddata":this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded();break;case"canplay":this.videoElementStatus=xv.CANPLAY;break;case"stalled":this.videoElementStatus=xv.STALLED;break;case"suspend":this.videoElementStatus=xv.SUSPEND;break;case"pause":this.videoElementStatus=xv.PAUSED,Nh()||Fh()||Oh()&&this.autoplayFailed||!this.videoElement||!this.videoTrack||"live"!==this.videoTrack.readyState||(im.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=xv.WAITING;break;case"abort":this.videoElementStatus=xv.ABORT;break;case"ended":this.videoElementStatus=xv.ENDED;break;case"emptied":this.videoElementStatus=xv.EMPTIED;break;case"error":{var t;this.videoElementStatus=xv.ERROR;const e=null===(t=this.videoElement)||void 0===t?void 0:t.error;e&&im.error("[".concat(this.trackId,"] media error, code: ").concat(e.code,", message: ").concat(e.message));break}case"timeupdate":{const e=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,n=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,L_.lastVisibleTime<L_.lastHiddenTime||n<L_.lastHiddenTime||n<L_.lastVisibleTime)return;for(t>ym("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}})),Qh(this,"startGetVideoDimensions",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement&&this.videoElement.videoWidth*this.videoElement.videoHeight>4)return im.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),Qh(this,"autoResumeAfterInterruption",(()=>{this.videoElement&&this.videoTrack&&"live"===this.videoTrack.readyState&&"running"===$b.curState&&(Mh()?(im.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.2")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):Lh()?(im.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.1")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):Dh()&&(im.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.0")),this.videoElement.pause(),this.videoElement.play()))})),Qh(this,"autoResumeAfterInterruptionOnIOS15",(()=>{this.videoElement&&this.videoTrack&&"live"===this.videoTrack.readyState&&(Mh()?(im.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.2")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):Lh()?(im.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.1")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):Dh()&&(im.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.0")),this.videoElement.pause(),this.videoElement.play()))})),this.slot=e.element,this.trackId=e.trackId,this.updateConfig(e),$b.on(qb.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),$b.on(qb.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){if(this.videoElement){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&Gb.autoplayFailed(e,"video",t.message,this.trackId),"NotAllowedError"===t.name?(im.warning("detected video element autoplay failed",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):im.warning("[".concat(this.trackId,"] play warning: "),t)}));const n=Sh();if(("Safari"===n.name&&15===Number(n.version)||Ph())&&t&&t.then&&t.catch){const e=()=>{this.config.mirror&&this.videoElement&&(this.videoElement.style.transform="rotateY(180deg)")};t.then(e).catch(e)}}}getCurrentFrame(){if(!this.videoElement)return new ImageData(2,2);const e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext("2d");if(!t)return im.error("create canvas context failed!"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const n=t.getImageData(0,0,e.width,e.height);return e.remove(),n}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.videoElement)return await hR(e);const n=document.createElement("canvas");n.width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight;const r=n.getContext("2d");return r?(r.drawImage(this.videoElement,0,0,n.width,n.height),new sd(((r,i)=>{n.toBlob((async e=>{if(n.remove(),e){const t=await pR(e);r({buffer:t,width:n.width,height:n.height})}else i(new Yf(Kf.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await hR(e)}destroy(){if($b.off(qb.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),$b.off(qb.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15),this.videoElement&&(this.videoElement.srcObject=null,this.videoElement.remove(),this.videoElement=void 0),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}this.freezeTimeCounterList=[]}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",this.createVideoElement(),this.container.appendChild(this.videoElement)):this.removeVideoElement(),this.slot.appendChild(this.container)}createVideoElement(){if(!this.videoElement&&(this.videoElementStatus=xv.INIT,this.videoElement=document.createElement("video"),this.container&&this.container.appendChild(this.videoElement),gR.forEach((e=>{this.videoElement&&this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{!document.getElementById("video_".concat(this.trackId))&&this.videoElement&&(this.videoElementStatus=xv.DESTROYED)}),1e3),ym("ENABLE_VIDEO_FRAME_CALLBACK"))){var e,t;let n;const r=(e,t)=>{if(this.videoElementStatus===xv.PLAYING){if(n){const e=t.presentationTime-n.presentationTime;e>ym("VIDEO_FREEZE_DURATION")&&L_.lastVisibleTime>=L_.lastHiddenTime&&n.timestamp>L_.lastVisibleTime&&n.timestamp>L_.lastHiddenTime&&(this.renderFreezeAccTime+=e)}n=mR(mR({},t),{},{timestamp:e})}var i,o;ym("ENABLE_VIDEO_FRAME_CALLBACK")&&(null===(i=this.videoElement)||void 0===i||null===(o=i.requestVideoFrameCallback)||void 0===o||o.call(i,r))};null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e||e.call(t,r)}this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),this.videoElement.style.left="0",this.videoElement.style.top="0",Bh()&&(this.videoElement.poster="noposter");const n=Sh();"Safari"===n.name&&15===Number(n.version)||Ph()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,kh()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,kh()&&this.videoElement.load());const r=this.videoElement.play();void 0!==r&&r.catch((e=>{im.debug("[".concat(this.trackId,"] playback interrupted"),e.toString())}))}removeVideoElement(){if(this.videoElement){gR.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0);try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=void 0,this.videoElementStatus=xv.NONE}}handleAutoPlayFailed(){if(this.videoElement){const e=t=>{t.preventDefault(),this.videoElement&&(this.videoElement.play().then((()=>{im.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))})).catch((e=>{im.error(e)})),this.autoplayFailed=!1,zh()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0)))};zh()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),Mb()}}getVideoElement(){return this.videoElement}getContainerElement(){return this.container}}const gR=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];var yR,bR={exports:{}};function ER(e,t,n){const r=e.createShader(n);if(!r)return new Yf(Kf.WEBGL_INTERNAL_ERROR,"can not create shader").throw();if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(r);return e.deleteShader(r),new Yf(Kf.WEBGL_INTERNAL_ERROR,"error compiling shader:"+t).throw()}return r}!function(e,t){var n;self,n=()=>(()=>{var e={3536:(e,t,n)=>{var r=n(1910);e.exports=r},8171:(e,t,n)=>{n(6450);var r=n(4058).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},2956:(e,t,n)=>{n(7627),n(6274),n(5967),n(8881),n(4560),n(7206),n(4349),n(7971);var r=n(4058);e.exports=r.Promise},3685:(e,t,n)=>{e.exports=n(621)},621:(e,t,n)=>{var r=n(3536);e.exports=r},4883:(e,t,n)=>{var r=n(7475),i=n(9826),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},174:(e,t,n)=>{var r=n(4284),i=n(9826),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a constructor")}},1851:(e,t,n)=>{var r=n(7475),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},8479:e=>{e.exports=function(){}},5743:(e,t,n)=>{var r=n(7046),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},6059:(e,t,n)=>{var r=n(941),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},1692:(e,t,n)=>{var r=n(4529),i=n(9413),o=n(623),a=function(e){return function(t,n,a){var s,c=r(t),l=o(c),u=i(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3765:(e,t,n)=>{var r=n(5329);e.exports=r([].slice)},1385:(e,t,n)=>{var r=n(9813)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},2532:(e,t,n)=>{var r=n(4163),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},9697:(e,t,n)=>{var r=n(2885),i=n(7475),o=n(2532),a=n(9813)("toStringTag"),s=Object,c="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:c?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},3489:(e,t,n)=>{var r=n(953),i=n(1136),o=n(9677),a=n(5988);e.exports=function(e,t,n){for(var s=i(t),c=a.f,l=o.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||c(e,d,l(t,d))}}},4160:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},3538:e=>{e.exports=function(e,t){return{value:e,done:t}}},2029:(e,t,n)=>{var r=n(5746),i=n(5988),o=n(1887);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},1887:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5929:(e,t,n)=>{var r=n(2029);e.exports=function(e,t,n,i){return i&&i.enumerable?e[t]=n:r(e,t,n),e}},5609:(e,t,n)=>{var r=n(1899),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},5746:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6616:e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},1333:(e,t,n)=>{var r=n(1899),i=n(941),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3281:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3321:(e,t,n)=>{var r=n(8501),i=n(6049);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},8501:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},4470:(e,t,n)=>{var r=n(2861),i=n(1899);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},2749:(e,t,n)=>{var r=n(2861);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6049:(e,t,n)=>{var r=n(2532),i=n(1899);e.exports="process"==r(i.process)},8045:(e,t,n)=>{var r=n(2861);e.exports=/web0s(?!.*chrome)/i.test(r)},2861:(e,t,n)=>{var r=n(626);e.exports=r("navigator","userAgent")||""},3385:(e,t,n)=>{var r,i,o=n(1899),a=n(2861),s=o.process,c=o.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},6759:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3995:(e,t,n)=>{var r=n(5329),i=Error,o=r("".replace),a=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},8780:(e,t,n)=>{var r=n(5981),i=n(1887);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},6887:(e,t,n)=>{var r=n(1899),i=n(9730),o=n(5329),a=n(7475),s=n(9677).f,c=n(7252),l=n(4058),u=n(6843),d=n(2029),h=n(953),p=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return i(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,i,f,m,v,g,y,b,E=e.target,_=e.global,S=e.stat,A=e.proto,w=_?r:S?r[E]:(r[E]||{}).prototype,T=_?l:l[E]||d(l,E,{})[E],C=T.prototype;for(f in t)n=!c(_?f:E+(S?".":"#")+f,e.forced)&&w&&h(w,f),v=T[f],n&&(g=e.dontCallGetSet?(b=s(w,f))&&b.value:w[f]),m=n&&g?g:t[f],n&&typeof v==typeof m||(y=e.bind&&n?u(m,r):e.wrap&&n?p(m):A&&a(m)?o(m):m,(e.sham||m&&m.sham||v&&v.sham)&&d(y,"sham",!0),d(T,f,y),A&&(h(l,i=E+"Prototype")||d(l,i,{}),d(l[i],f,m),e.real&&C&&!C[f]&&d(C,f,m)))}},5981:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9730:(e,t,n)=>{var r=n(8285),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},6843:(e,t,n)=>{var r=n(5329),i=n(4883),o=n(8285),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},8285:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8834:(e,t,n)=>{var r=n(8285),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9417:(e,t,n)=>{var r=n(5746),i=n(953),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},4163:(e,t,n)=>{var r=n(8285),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},5329:(e,t,n)=>{var r=n(2532),i=n(4163);e.exports=function(e){if("Function"===r(e))return i(e)}},626:(e,t,n)=>{var r=n(4058),i=n(1899),o=n(7475),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},2902:(e,t,n)=>{var r=n(9697),i=n(4229),o=n(2119),a=n(2077),s=n(9813)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[r(e)]}},3476:(e,t,n)=>{var r=n(8834),i=n(4883),o=n(6059),a=n(9826),s=n(2902),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw c(a(e)+" is not iterable")}},4229:(e,t,n)=>{var r=n(4883),i=n(2119);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},1899:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},953:(e,t,n)=>{var r=n(5329),i=n(9678),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7748:e=>{e.exports={}},4845:(e,t,n)=>{var r=n(1899);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},5463:(e,t,n)=>{var r=n(626);e.exports=r("document","documentElement")},2840:(e,t,n)=>{var r=n(5746),i=n(5981),o=n(1333);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7026:(e,t,n)=>{var r=n(5329),i=n(5981),o=n(2532),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},1302:(e,t,n)=>{var r=n(5329),i=n(7475),o=n(3030),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},3794:(e,t,n)=>{var r=n(941),i=n(2029);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},5402:(e,t,n)=>{var r,i,o,a=n(7093),s=n(1899),c=n(941),l=n(2029),u=n(953),d=n(3030),h=n(4262),p=n(7748),f="Object already initialized",m=s.TypeError,v=s.WeakMap;if(a||d.state){var g=d.state||(d.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw m(f);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var y=h("state");p[y]=!0,r=function(e,t){if(u(e,y))throw m(f);return t.facade=e,l(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},o=function(e){return u(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},6782:(e,t,n)=>{var r=n(9813),i=n(2077),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},7475:(e,t,n)=>{var r=n(6616),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4284:(e,t,n)=>{var r=n(5329),i=n(5981),o=n(7475),a=n(9697),s=n(626),c=n(1302),l=function(){},u=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=r(h.exec),f=!h.exec(l),m=function(e){if(!o(e))return!1;try{return d(l,u,e),!0}catch(e){return!1}},v=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,c(e))}catch(e){return!0}};v.sham=!0,e.exports=!d||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},7252:(e,t,n)=>{var r=n(5981),i=n(7475),o=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==u||n!=l&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},2119:e=>{e.exports=function(e){return null==e}},941:(e,t,n)=>{var r=n(7475),i=n(6616),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},2529:e=>{e.exports=!0},6664:(e,t,n)=>{var r=n(626),i=n(7475),o=n(7046),a=n(2302),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},3091:(e,t,n)=>{var r=n(6843),i=n(8834),o=n(6059),a=n(9826),s=n(6782),c=n(623),l=n(7046),u=n(3476),d=n(2902),h=n(7609),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},m=f.prototype;e.exports=function(e,t,n){var v,g,y,b,E,_,S,A=n&&n.that,w=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),R=!(!n||!n.INTERRUPTED),I=r(t,A),O=function(e){return v&&h(v,"normal",e),new f(!0,e)},k=function(e){return w?(o(e),R?I(e[0],e[1],O):I(e[0],e[1])):R?I(e,O):I(e)};if(T)v=e.iterator;else if(C)v=e;else{if(!(g=d(e)))throw p(a(e)+" is not iterable");if(s(g)){for(y=0,b=c(e);b>y;y++)if((E=k(e[y]))&&l(m,E))return E;return new f(!1)}v=u(e,g)}for(_=T?e.next:v.next;!(S=i(_,v)).done;){try{E=k(S.value)}catch(e){h(v,"throw",e)}if("object"==typeof E&&E&&l(m,E))return E}return new f(!1)}},7609:(e,t,n)=>{var r=n(8834),i=n(6059),o=n(4229);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},3847:(e,t,n)=>{var r=n(5143).IteratorPrototype,i=n(9290),o=n(1887),a=n(904),s=n(2077),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=i(r,{next:o(+!l,n)}),a(e,u,!1,!0),s[u]=c,e}},5105:(e,t,n)=>{var r=n(6887),i=n(8834),o=n(2529),a=n(9417),s=n(7475),c=n(3847),l=n(249),u=n(8929),d=n(904),h=n(2029),p=n(5929),f=n(9813),m=n(2077),v=n(5143),g=a.PROPER,y=a.CONFIGURABLE,b=v.IteratorPrototype,E=v.BUGGY_SAFARI_ITERATORS,_=f("iterator"),S="keys",A="values",w="entries",T=function(){return this};e.exports=function(e,t,n,a,f,v,C){c(n,t,a);var R,I,O,k=function(e){if(e===f&&L)return L;if(!E&&e in P)return P[e];switch(e){case S:case A:case w:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",x=!1,P=e.prototype,D=P[_]||P["@@iterator"]||f&&P[f],L=!E&&D||k(f),M="Array"==t&&P.entries||D;if(M&&(R=l(M.call(new e)))!==Object.prototype&&R.next&&(o||l(R)===b||(u?u(R,b):s(R[_])||p(R,_,T)),d(R,N,!0,!0),o&&(m[N]=T)),g&&f==A&&D&&D.name!==A&&(!o&&y?h(P,"name",A):(x=!0,L=function(){return i(D,this)})),f)if(I={values:k(A),keys:v?L:k(S),entries:k(w)},C)for(O in I)(E||x||!(O in P))&&p(P,O,I[O]);else r({target:t,proto:!0,forced:E||x},I);return o&&!C||P[_]===L||p(P,_,L,{name:f}),m[t]=L,I}},5143:(e,t,n)=>{var r,i,o,a=n(5981),s=n(7475),c=n(941),l=n(9290),u=n(249),d=n(5929),h=n(9813),p=n(2529),f=h("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):m=!0),!c(r)||a((function(){var e={};return r[f].call(e)!==e}))?r={}:p&&(r=l(r)),s(r[f])||d(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},2077:e=>{e.exports={}},623:(e,t,n)=>{var r=n(3057);e.exports=function(e){return r(e.length)}},5331:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},6132:(e,t,n)=>{var r,i,o,a,s,c,l,u,d=n(1899),h=n(6843),p=n(9677).f,f=n(2941).set,m=n(2749),v=n(4470),g=n(8045),y=n(6049),b=d.MutationObserver||d.WebKitMutationObserver,E=d.document,_=d.process,S=d.Promise,A=p(d,"queueMicrotask"),w=A&&A.value;w||(r=function(){var e,t;for(y&&(e=_.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},m||y||g||!b||!E?!v&&S&&S.resolve?((l=S.resolve(void 0)).constructor=S,u=h(l.then,l),a=function(){u(r)}):y?a=function(){_.nextTick(r)}:(f=h(f,d),a=function(){f(r)}):(s=!0,c=E.createTextNode(""),new b(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=w||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},9520:(e,t,n)=>{var r=n(4883),i=TypeError,o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},4649:(e,t,n)=>{var r=n(5803);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},9290:(e,t,n)=>{var r,i=n(6059),o=n(9938),a=n(6759),s=n(7748),c=n(5463),l=n(1333),u=n(4262)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&r?p(r):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete f.prototype[a[n]];return f()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[u]=e):n=f(),void 0===t?n:o.f(n,t)}},9938:(e,t,n)=>{var r=n(5746),i=n(3937),o=n(5988),a=n(6059),s=n(4529),c=n(4771);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=c(t),l=i.length,u=0;l>u;)o.f(e,n=i[u++],r[n]);return e}},5988:(e,t,n)=>{var r=n(5746),i=n(2840),o=n(3937),a=n(6059),s=n(3894),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=u(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},9677:(e,t,n)=>{var r=n(5746),i=n(8834),o=n(6760),a=n(1887),s=n(4529),c=n(3894),l=n(953),u=n(2840),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return a(!i(o.f,e,t),e[t])}},946:(e,t,n)=>{var r=n(5629),i=n(6759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},7857:(e,t)=>{t.f=Object.getOwnPropertySymbols},249:(e,t,n)=>{var r=n(953),i=n(7475),o=n(9678),a=n(4262),s=n(4160),c=a("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(r(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},7046:(e,t,n)=>{var r=n(5329);e.exports=r({}.isPrototypeOf)},5629:(e,t,n)=>{var r=n(5329),i=n(953),o=n(4529),a=n(1692).indexOf,s=n(7748),c=r([].push);e.exports=function(e,t){var n,r=o(e),l=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&c(u,n);for(;t.length>l;)i(r,n=t[l++])&&(~a(u,n)||c(u,n));return u}},4771:(e,t,n)=>{var r=n(5629),i=n(6759);e.exports=Object.keys||function(e){return r(e,i)}},6760:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},8929:(e,t,n)=>{var r=n(5329),i=n(6059),o=n(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},5623:(e,t,n)=>{var r=n(2885),i=n(9697);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},9811:(e,t,n)=>{var r=n(8834),i=n(7475),o=n(941),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},1136:(e,t,n)=>{var r=n(626),i=n(5329),o=n(946),a=n(7857),s=n(6059),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?c(t,n(e)):t}},4058:e=>{e.exports={}},2:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7742:(e,t,n)=>{var r=n(1899),i=n(6991),o=n(7475),a=n(7252),s=n(1302),c=n(9813),l=n(3321),u=n(8501),d=n(2529),h=n(3385),p=i&&i.prototype,f=c("species"),m=!1,v=o(r.PromiseRejectionEvent),g=a("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===h)return!0;if(d&&(!p.catch||!p.finally))return!0;if(!h||h<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[f]=r,!(m=n.then((function(){}))instanceof r))return!0}return!t&&(l||u)&&!v}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:m}},6991:(e,t,n)=>{var r=n(1899);e.exports=r.Promise},6584:(e,t,n)=>{var r=n(6059),i=n(941),o=n(9520);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},1542:(e,t,n)=>{var r=n(6991),i=n(1385),o=n(7742).CONSTRUCTOR;e.exports=o||!i((function(e){r.all(e).then(void 0,(function(){}))}))},8397:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},8219:(e,t,n)=>{var r=n(2119),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},4431:(e,t,n)=>{var r=n(626),i=n(5988),o=n(9813),a=n(5746),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},904:(e,t,n)=>{var r=n(2885),i=n(5988).f,o=n(2029),a=n(953),s=n(5623),c=n(9813)("toStringTag");e.exports=function(e,t,n,l){if(e){var u=n?e:e.prototype;a(u,c)||i(u,c,{configurable:!0,value:t}),l&&!r&&o(u,"toString",s)}}},4262:(e,t,n)=>{var r=n(8726),i=n(9418),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},3030:(e,t,n)=>{var r=n(1899),i=n(5609),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},8726:(e,t,n)=>{var r=n(2529),i=n(3030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},487:(e,t,n)=>{var r=n(6059),i=n(174),o=n(2119),a=n(9813)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||o(n=r(s)[a])?t:i(n)}},4620:(e,t,n)=>{var r=n(5329),i=n(2435),o=n(5803),a=n(8219),s=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,n){var r,u,d=o(a(t)),h=i(n),p=d.length;return h<0||h>=p?e?"":void 0:(r=c(d,h))<55296||r>56319||h+1===p||(u=c(d,h+1))<56320||u>57343?e?s(d,h):r:e?l(d,h,h+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},3405:(e,t,n)=>{var r=n(3385),i=n(5981);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},2941:(e,t,n)=>{var r,i,o,a,s=n(1899),c=n(9730),l=n(6843),u=n(7475),d=n(953),h=n(5981),p=n(5463),f=n(3765),m=n(1333),v=n(8348),g=n(2749),y=n(6049),b=s.setImmediate,E=s.clearImmediate,_=s.process,S=s.Dispatch,A=s.Function,w=s.MessageChannel,T=s.String,C=0,R={};try{r=s.location}catch(e){}var I=function(e){if(d(R,e)){var t=R[e];delete R[e],t()}},O=function(e){return function(){I(e)}},k=function(e){I(e.data)},N=function(e){s.postMessage(T(e),r.protocol+"//"+r.host)};b&&E||(b=function(e){v(arguments.length,1);var t=u(e)?e:A(e),n=f(arguments,1);return R[++C]=function(){c(t,void 0,n)},i(C),C},E=function(e){delete R[e]},y?i=function(e){_.nextTick(O(e))}:S&&S.now?i=function(e){S.now(O(e))}:w&&!g?(a=(o=new w).port2,o.port1.onmessage=k,i=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(N)?(i=N,s.addEventListener("message",k,!1)):i="onreadystatechange"in m("script")?function(e){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),I(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:b,clear:E}},9413:(e,t,n)=>{var r=n(2435),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},4529:(e,t,n)=>{var r=n(7026),i=n(8219);e.exports=function(e){return r(i(e))}},2435:(e,t,n)=>{var r=n(5331);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},3057:(e,t,n)=>{var r=n(2435),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},9678:(e,t,n)=>{var r=n(8219),i=Object;e.exports=function(e){return i(r(e))}},6935:(e,t,n)=>{var r=n(8834),i=n(941),o=n(6664),a=n(4229),s=n(9811),c=n(9813),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,c=a(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},3894:(e,t,n)=>{var r=n(6935),i=n(6664);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},2885:(e,t,n)=>{var r={};r[n(9813)("toStringTag")]="z",e.exports="[object z]"===String(r)},5803:(e,t,n)=>{var r=n(9697),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},9826:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9418:(e,t,n)=>{var r=n(5329),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},2302:(e,t,n)=>{var r=n(3405);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:(e,t,n)=>{var r=n(5746),i=n(5981);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8348:e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},7093:(e,t,n)=>{var r=n(1899),i=n(7475),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},9813:(e,t,n)=>{var r=n(1899),i=n(8726),o=n(953),a=n(9418),s=n(3405),c=n(2302),l=i("wks"),u=r.Symbol,d=u&&u.for,h=c?u:u&&u.withoutSetter||a;e.exports=function(e){if(!o(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&o(u,e)?l[e]=u[e]:l[e]=c&&d?d(t):h(t)}return l[e]}},9812:(e,t,n)=>{var r=n(6887),i=n(7046),o=n(249),a=n(8929),s=n(3489),c=n(9290),l=n(2029),u=n(1887),d=n(3995),h=n(3794),p=n(3091),f=n(4649),m=n(9813),v=n(8780),g=m("toStringTag"),y=Error,b=[].push,E=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,s=i(_,this);a?n=a(y(),s?o(this):_):(n=s?this:c(_),l(n,g,"Error")),void 0!==t&&l(n,"message",f(t)),v&&l(n,"stack",d(n.stack,1)),h(n,r);var u=[];return p(e,b,{that:u}),l(n,"errors",u),n};a?a(E,y):s(E,y,{name:!0});var _=E.prototype=c(y.prototype,{constructor:u(1,E),message:u(1,""),name:u(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:E})},7627:(e,t,n)=>{n(9812)},6274:(e,t,n)=>{var r=n(4529),i=n(8479),o=n(2077),a=n(5402),s=n(5988).f,c=n(5105),l=n(3538),u=n(2529),d=n(5746),h="Array Iterator",p=a.set,f=a.getterFor(h);e.exports=c(Array,"Array",(function(e,t){p(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,l(void 0,!0)):l("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(e){}},6450:(e,t,n)=>{var r=n(6887),i=n(5746),o=n(5988).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},5967:()=>{},4560:(e,t,n)=>{var r=n(6887),i=n(8834),o=n(4883),a=n(9520),s=n(2),c=n(3091);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,u=s((function(){var n=o(t.resolve),a=[],s=0,l=1;c(e,(function(e){var o=s++,c=!1;l++,i(n,t,e).then((function(e){c||(c=!0,a[o]={status:"fulfilled",value:e},--l||r(a))}),(function(e){c||(c=!0,a[o]={status:"rejected",reason:e},--l||r(a))}))})),--l||r(a)}));return u.error&&l(u.value),n.promise}})},6890:(e,t,n)=>{var r=n(6887),i=n(8834),o=n(4883),a=n(9520),s=n(2),c=n(3091);r({target:"Promise",stat:!0,forced:n(1542)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,u=s((function(){var n=o(t.resolve),a=[],s=0,u=1;c(e,(function(e){var o=s++,c=!1;u++,i(n,t,e).then((function(e){c||(c=!0,a[o]=e,--u||r(a))}),l)})),--u||r(a)}));return u.error&&l(u.value),n.promise}})},7206:(e,t,n)=>{var r=n(6887),i=n(8834),o=n(4883),a=n(626),s=n(9520),c=n(2),l=n(3091),u="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=a("AggregateError"),r=s.f(t),d=r.resolve,h=r.reject,p=c((function(){var r=o(t.resolve),a=[],s=0,c=1,p=!1;l(e,(function(e){var o=s++,l=!1;c++,i(r,t,e).then((function(e){l||p||(p=!0,d(e))}),(function(e){l||p||(l=!0,a[o]=e,--c||h(new n(a,u)))}))})),--c||h(new n(a,u))}));return p.error&&h(p.value),r.promise}})},3376:(e,t,n)=>{var r=n(6887),i=n(2529),o=n(7742).CONSTRUCTOR,a=n(6991),s=n(626),c=n(7475),l=n(5929),u=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(a)){var d=s("Promise").prototype.catch;u.catch!==d&&l(u,"catch",d,{unsafe:!0})}},6934:(e,t,n)=>{var r,i,o,a=n(6887),s=n(2529),c=n(6049),l=n(1899),u=n(8834),d=n(5929),h=n(8929),p=n(904),f=n(4431),m=n(4883),v=n(7475),g=n(941),y=n(5743),b=n(487),E=n(2941).set,_=n(6132),S=n(4845),A=n(2),w=n(8397),T=n(5402),C=n(6991),R=n(7742),I=n(9520),O="Promise",k=R.CONSTRUCTOR,N=R.REJECTION_EVENT,x=R.SUBCLASSING,P=T.getterFor(O),D=T.set,L=C&&C.prototype,M=C,F=L,U=l.TypeError,j=l.document,V=l.process,B=I.f,z=B,G=!!(j&&j.createEvent&&l.dispatchEvent),H="unhandledrejection",q=function(e){var t;return!(!g(e)||!v(t=e.then))&&t},W=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&J(t),t.rejection=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),i=!0)),n===e.promise?l(U("Promise-chain cycle")):(r=q(n))?u(r,n,c,l):c(n)):l(o)}catch(e){d&&!i&&d.exit(),l(e)}},Z=function(e,t){e.notified||(e.notified=!0,_((function(){for(var n,r=e.reactions;n=r.get();)W(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},K=function(e,t,n){var r,i;G?((r=j.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!N&&(i=l["on"+e])?i(r):e===H&&S("Unhandled promise rejection",n)},Y=function(e){u(E,l,(function(){var t,n=e.facade,r=e.value;if(Q(e)&&(t=A((function(){c?V.emit("unhandledRejection",r,n):K(H,n,r)})),e.rejection=c||Q(e)?2:1,t.error))throw t.value}))},Q=function(e){return 1!==e.rejection&&!e.parent},J=function(e){u(E,l,(function(){var t=e.facade;c?V.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},X=function(e,t,n){return function(r){e(t,r,n)}},$=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Z(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw U("Promise can't be resolved itself");var r=q(t);r?_((function(){var n={done:!1};try{u(r,t,X(ee,n,e),X($,n,e))}catch(t){$(n,t,e)}})):(e.value=t,e.state=1,Z(e,!1))}catch(t){$({done:!1},t,e)}}};if(k&&(F=(M=function(e){y(this,F),m(e),u(r,this);var t=P(this);try{e(X(ee,t),X($,t))}catch(e){$(t,e)}}).prototype,(r=function(e){D(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new w,rejection:!1,state:0,value:void 0})}).prototype=d(F,"then",(function(e,t){var n=P(this),r=B(b(this,M));return n.parent=!0,r.ok=!v(e)||e,r.fail=v(t)&&t,r.domain=c?V.domain:void 0,0==n.state?n.reactions.add(r):_((function(){W(r,n)})),r.promise})),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=X(ee,t),this.reject=X($,t)},I.f=B=function(e){return e===M||void 0===e?new i(e):z(e)},!s&&v(C)&&L!==Object.prototype)){o=L.then,x||d(L,"then",(function(e,t){var n=this;return new M((function(e,t){u(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}h&&h(L,F)}a({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:M}),p(M,O,!1,!0),f(O)},4349:(e,t,n)=>{var r=n(6887),i=n(2529),o=n(6991),a=n(5981),s=n(626),c=n(7475),l=n(487),u=n(6584),d=n(5929),h=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),n=c(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&c(o)){var p=s("Promise").prototype.finally;h.finally!==p&&d(h,"finally",p,{unsafe:!0})}},8881:(e,t,n)=>{n(6934),n(6890),n(3376),n(5921),n(4069),n(4482)},5921:(e,t,n)=>{var r=n(6887),i=n(8834),o=n(4883),a=n(9520),s=n(2),c=n(3091);r({target:"Promise",stat:!0,forced:n(1542)},{race:function(e){var t=this,n=a.f(t),r=n.reject,l=s((function(){var a=o(t.resolve);c(e,(function(e){i(a,t,e).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},4069:(e,t,n)=>{var r=n(6887),i=n(8834),o=n(9520);r({target:"Promise",stat:!0,forced:n(7742).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return i(t.reject,void 0,e),t.promise}})},4482:(e,t,n)=>{var r=n(6887),i=n(626),o=n(2529),a=n(6991),s=n(7742).CONSTRUCTOR,c=n(6584),l=i("Promise"),u=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return c(u&&this===l?a:this,e)}})},7971:(e,t,n)=>{var r=n(4620).charAt,i=n(5803),o=n(5402),a=n(5105),s=n(3538),c="String Iterator",l=o.set,u=o.getterFor(c);a(String,"String",(function(e){l(this,{type:c,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},7634:(e,t,n)=>{n(6274);var r=n(3281),i=n(1899),o=n(9697),a=n(2029),s=n(2077),c=n(9813)("toStringTag");for(var l in r){var u=i[l],d=u&&u.prototype;d&&o(d)!==c&&a(d,c,l),s[l]=s.Array}},1910:(e,t,n)=>{var r=n(8171);e.exports=r},7460:(e,t,n)=>{var r=n(2956);n(7634),e.exports=r},9662:(e,t,n)=>{var r=n(614),i=n(6330),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},6077:(e,t,n)=>{var r=n(614),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},1223:(e,t,n)=>{var r=n(5112),i=n(30),o=n(3070).f,a=r("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},9670:(e,t,n)=>{var r=n(111),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},1318:(e,t,n)=>{var r=n(5656),i=n(1400),o=n(6244),a=function(e){return function(t,n,a){var s,c=r(t),l=o(c),u=i(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4326:(e,t,n)=>{var r=n(84),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},648:(e,t,n)=>{var r=n(1694),i=n(614),o=n(4326),a=n(5112)("toStringTag"),s=Object,c="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:c?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},9920:(e,t,n)=>{var r=n(2597),i=n(3887),o=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=i(t),c=a.f,l=o.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||c(e,d,l(t,d))}}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6178:e=>{e.exports=function(e,t){return{value:e,done:t}}},8880:(e,t,n)=>{var r=n(9781),i=n(3070),o=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:(e,t,n)=>{var r=n(614),i=n(3070),o=n(6339),a=n(3072);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(r(n)&&o(n,l,s),s.global)c?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:(e,t,n)=>{var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},317:(e,t,n)=>{var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var r=n(317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,i,o=n(7854),a=n(8113),s=o.process,c=o.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(e,t,n)=>{var r=n(1702),i=Error,o=r("".replace),a=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},2914:(e,t,n)=>{var r=n(7293),i=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},2109:(e,t,n)=>{var r=n(7854),i=n(1236).f,o=n(8880),a=n(8052),s=n(3072),c=n(9920),l=n(4705);e.exports=function(e,t){var n,u,d,h,p,f=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[f]||s(f,{}):(r[f]||{}).prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(p=i(n,u))&&p.value:n[u],!l(m?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),a(n,u,h,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:(e,t,n)=>{var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},4374:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,n)=>{var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:(e,t,n)=>{var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},84:(e,t,n)=>{var r=n(4374),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},1702:(e,t,n)=>{var r=n(4326),i=n(84);e.exports=function(e){if("Function"===r(e))return i(e)}},5005:(e,t,n)=>{var r=n(7854),i=n(614);e.exports=function(e,t){return arguments.length<2?function(e){return i(e)?e:void 0}(r[e]):r[e]&&r[e][t]}},8173:(e,t,n)=>{var r=n(9662),i=n(8554);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3501:e=>{e.exports={}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),i=n(7293),o=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(1702),i=n(7293),o=n(4326),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},9587:(e,t,n)=>{var r=n(614),i=n(111),o=n(7674);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},2788:(e,t,n)=>{var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},8340:(e,t,n)=>{var r=n(111),i=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},9909:(e,t,n)=>{var r,i,o,a=n(4811),s=n(7854),c=n(111),l=n(8880),u=n(2597),d=n(5465),h=n(6200),p=n(3501),f="Object already initialized",m=s.TypeError,v=s.WeakMap;if(a||d.state){var g=d.state||(d.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw m(f);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var y=h("state");p[y]=!0,r=function(e,t){if(u(e,y))throw m(f);return t.facade=e,l(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},o=function(e){return u(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},614:(e,t,n)=>{var r=n(4154),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4705:(e,t,n)=>{var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==u||n!=l&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,n)=>{var r=n(614),i=n(4154),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},1913:e=>{e.exports=!1},2190:(e,t,n)=>{var r=n(5005),i=n(614),o=n(7976),a=n(3307),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},3061:(e,t,n)=>{var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),a=n(8003),s=n(7497),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=i(r,{next:o(+!l,n)}),a(e,u,!1,!0),s[u]=c,e}},1656:(e,t,n)=>{var r=n(2109),i=n(6916),o=n(1913),a=n(6530),s=n(614),c=n(3061),l=n(9518),u=n(7674),d=n(8003),h=n(8880),p=n(8052),f=n(5112),m=n(7497),v=n(3383),g=a.PROPER,y=a.CONFIGURABLE,b=v.IteratorPrototype,E=v.BUGGY_SAFARI_ITERATORS,_=f("iterator"),S="keys",A="values",w="entries",T=function(){return this};e.exports=function(e,t,n,a,f,v,C){c(n,t,a);var R,I,O,k=function(e){if(e===f&&L)return L;if(!E&&e in P)return P[e];switch(e){case S:case A:case w:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",x=!1,P=e.prototype,D=P[_]||P["@@iterator"]||f&&P[f],L=!E&&D||k(f),M="Array"==t&&P.entries||D;if(M&&(R=l(M.call(new e)))!==Object.prototype&&R.next&&(o||l(R)===b||(u?u(R,b):s(R[_])||p(R,_,T)),d(R,N,!0,!0),o&&(m[N]=T)),g&&f==A&&D&&D.name!==A&&(!o&&y?h(P,"name",A):(x=!0,L=function(){return i(D,this)})),f)if(I={values:k(A),keys:v?L:k(S),entries:k(w)},C)for(O in I)(E||x||!(O in P))&&p(P,O,I[O]);else r({target:t,proto:!0,forced:E||x},I);return o&&!C||P[_]===L||p(P,_,L,{name:f}),m[t]=L,I}},3383:(e,t,n)=>{var r,i,o,a=n(7293),s=n(614),c=n(111),l=n(30),u=n(9518),d=n(8052),h=n(5112),p=n(1913),f=h("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):m=!0),!c(r)||a((function(){var e={};return r[f].call(e)!==e}))?r={}:p&&(r=l(r)),s(r[f])||d(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var r=n(7466);e.exports=function(e){return r(e.length)}},6339:(e,t,n)=>{var r=n(7293),i=n(614),o=n(2597),a=n(9781),s=n(6530).CONFIGURABLE,c=n(2788),l=n(9909),u=l.enforce,d=l.get,h=Object.defineProperty,p=a&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),f=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&o(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=u(e);return o(r,"source")||(r.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&d(this).source||c(this)}),"toString")},4758:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},6277:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},30:(e,t,n)=>{var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),c=n(490),l=n(317),u=n(6200)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&r?p(r):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete f.prototype[a[n]];return f()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[u]=e):n=f(),void 0===t?n:o.f(n,t)}},6048:(e,t,n)=>{var r=n(9781),i=n(3353),o=n(3070),a=n(9670),s=n(5656),c=n(1956);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=c(t),l=i.length,u=0;l>u;)o.f(e,n=i[u++],r[n]);return e}},3070:(e,t,n)=>{var r=n(9781),i=n(4664),o=n(3353),a=n(9670),s=n(4948),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=u(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),c=n(4948),l=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return a(!i(o.f,e,t),e[t])}},8006:(e,t,n)=>{var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(2597),i=n(614),o=n(7908),a=n(6200),s=n(8544),c=a("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(r(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},7976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:(e,t,n)=>{var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=o(e),l=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&c(u,n);for(;t.length>l;)i(r,n=t[l++])&&(~a(u,n)||c(u,n));return u}},1956:(e,t,n)=>{var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(1702),i=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:(e,t,n)=>{var r=n(6916),i=n(614),o=n(111),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},3887:(e,t,n)=>{var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?c(t,n(e)):t}},2626:(e,t,n)=>{var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},4488:(e,t,n)=>{var r=n(8554),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},8003:(e,t,n)=>{var r=n(3070).f,i=n(2597),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),i=n(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:(e,t,n)=>{var r=n(7854),i=n(3072),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},2309:(e,t,n)=>{var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(e,t,n)=>{var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1400:(e,t,n)=>{var r=n(9303),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5656:(e,t,n)=>{var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:(e,t,n)=>{var r=n(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},7466:(e,t,n)=>{var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(4488),i=Object;e.exports=function(e){return i(r(e))}},7593:(e,t,n)=>{var r=n(6916),i=n(111),o=n(2190),a=n(8173),s=n(2140),c=n(5112),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,c=a(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:(e,t,n)=>{var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:(e,t,n)=>{var r=n(648),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,n)=>{var r=n(1702),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},3307:(e,t,n)=>{var r=n(6293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(e,t,n)=>{var r=n(7854),i=n(614),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},5112:(e,t,n)=>{var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(6293),c=n(3307),l=i("wks"),u=r.Symbol,d=u&&u.for,h=c?u:u&&u.withoutSetter||a;e.exports=function(e){if(!o(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&o(u,e)?l[e]=u[e]:l[e]=c&&d?d(t):h(t)}return l[e]}},9191:(e,t,n)=>{var r=n(5005),i=n(2597),o=n(8880),a=n(7976),s=n(7674),c=n(9920),l=n(2626),u=n(9587),d=n(6277),h=n(8340),p=n(1060),f=n(2914),m=n(9781),v=n(1913);e.exports=function(e,t,n,g){var y="stackTraceLimit",b=g?2:1,E=e.split("."),_=E[E.length-1],S=r.apply(null,E);if(S){var A=S.prototype;if(!v&&i(A,"cause")&&delete A.cause,!n)return S;var w=r("Error"),T=t((function(e,t){var n=d(g?t:e,void 0),r=g?new S(e):new S;return void 0!==n&&o(r,"message",n),f&&o(r,"stack",p(r.stack,2)),this&&a(A,this)&&u(r,this,T),arguments.length>b&&h(r,arguments[b]),r}));if(T.prototype=A,"Error"!==_?s?s(T,w):c(T,w,{name:!0}):m&&y in S&&(l(T,S,y),l(T,S,"prepareStackTrace")),c(T,S),!v)try{A.name!==_&&o(A,"name",_),A.constructor=T}catch(e){}return T}}},6992:(e,t,n)=>{var r=n(5656),i=n(1223),o=n(7497),a=n(9909),s=n(3070).f,c=n(1656),l=n(6178),u=n(1913),d=n(9781),h="Array Iterator",p=a.set,f=a.getterFor(h);e.exports=c(Array,"Array",(function(e,t){p(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,l(void 0,!0)):l("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(e){}},1703:(e,t,n)=>{var r=n(2109),i=n(7854),o=n(2104),a=n(9191),s=i.WebAssembly,c=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=a(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},u=function(e,t){if(s&&s[e]){var n={};n[e]=a("WebAssembly."+e,t,c),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:c},n)}};l("Error",(function(e){return function(t){return o(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),l("URIError",(function(e){return function(t){return o(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},3948:(e,t,n)=>{var r=n(7854),i=n(8324),o=n(8509),a=n(6992),s=n(8880),c=n(5112),l=c("iterator"),u=c("toStringTag"),d=a.values,h=function(e,t){if(e){if(e[l]!==d)try{s(e,l,d)}catch(t){e[l]=d}if(e[u]||s(e,u,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var p in i)h(r[p]&&r[p].prototype,p);h(o,"DOMTokenList")},6226:(e,t,n)=>{e.exports=n(7460)},7445:(e,t,n)=>{e.exports=n(3685)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{AudioExtension:()=>E,AudioProcessor:()=>y,Extension:()=>b,PromiseMutex:()=>w,Ticker:()=>S,VideoProcessor:()=>g,logger:()=>u,reporter:()=>p});var e=n(7445);function t(t,n,r){return n in t?e(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}n(1703),n(6992),n(3948);var i=n(6226),o=n.n(i);const a=Date.now(),s={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4};function c(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const l=e=>{for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&s[t]===e)return t;return"DEFAULT"},u=new class{constructor(){t(this,"logLevel",s.DEBUG),t(this,"hookLog",void 0)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[s.DEBUG].concat(t);this.log.apply(this,r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[s.INFO].concat(t);this.log.apply(this,r)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[s.WARNING].concat(t);this.log.apply(this,r)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[s.ERROR].concat(t);this.log.apply(this,r)}log(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Date.now()-a<100)return void setTimeout((()=>{this.log(...n)}),Date.now()-a);const i=Math.max(0,Math.min(4,n[0]));if(n[0]=c()+" Agora-Extension [".concat(l(i),"]:"),i<this.logLevel)return;const o=c()+" %cAgora-Extension [".concat(l(i),"]:");let u=[];switch(i){case s.DEBUG:u=[o,"color: #64B5F6;"].concat(n.slice(1)),console.log.apply(console,u);break;case s.INFO:u=[o,"color: #1E88E5; font-weight: bold;"].concat(n.slice(1)),console.log.apply(console,u);break;case s.WARNING:u=[o,"color: #FB8C00; font-weight: bold;"].concat(n.slice(1)),console.warn.apply(console,u);break;case s.ERROR:u=[o,"color: #B00020; font-weight: bold;"].concat(n.slice(1)),console.error.apply(console,u)}null===(e=this.hookLog)||void 0===e||e.call(this,i,u)}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const p=new class{constructor(){t(this,"apiInvokeMsgQueue",[]),t(this,"hookApiInvoke",void 0)}reportApiInvoke(e){e.timeout=e.timeout||6e4,e.reportResult=void 0===e.reportResult||e.reportResult;const t=Date.now(),n=()=>({name:e.name,apiInvokeTime:t,options:e.options});let r=!1;var i;(i=e.timeout,new(o())((e=>{window.setTimeout(e,i)}))).then((()=>{r||(this.sendApiInvoke(h(h({},n()),{},{error:"API_INVOKE_TIMEOUT",success:!1})),u.debug("".concat(e.name," timeout")))}));const a=new Error("".concat(e.name,": this api invoke is end"));return{onSuccess:t=>{if(r)throw a;r=!0,this.sendApiInvoke(h(h({},n()),{},{success:!0},e.reportResult&&{result:t}))},onError:e=>{if(r)throw e;r=!0,this.sendApiInvoke(h(h({},n()),{},{success:!1,error:e.toString()}))}}}sendApiInvoke(e){this.hookApiInvoke?(this.hookApiInvoke([...this.apiInvokeMsgQueue,e]),this.apiInvokeMsgQueue=[]):this.apiInvokeMsgQueue.push(e)}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class v extends class{constructor(){t(this,"_events",{}),t(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let n=0;n<t.length;n+=1){const i=t[n];i.once&&this.off(e,i.listener),i.listener.apply(this,r||[])}}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}emitAsPromise(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===this.getListeners(e).length?o().reject(new Error("No promise event handler.")):new(o())(((t,r)=>{this.emit(e,...n,t,r)}))}emitAsPromiseNoResponse(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===this.getListeners(e).length?o().resolve():new(o())(((t,r)=>{this.emit(e,...n,t,r)}))}}{get enabled(){return this._enabled}output(e,t){if(this.outputTrack===e)return;const n=p.reportApiInvoke({name:"".concat(this.name,".output"),options:{track:null==e?void 0:e.toString()}});this.outputTrack=e,this.destination&&this.destination.updateInput({track:e,context:t}),n.onSuccess()}constructor(){super(),t(this,"inputTrack",void 0),t(this,"outputTrack",void 0),t(this,"_enabled",!0),t(this,"_source",void 0),t(this,"ID",function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,n=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,t).toLowerCase();return r.length===t?"".concat(n).concat(r):"".concat(n).concat(r)+e(t-r.length,"")}(6,"")),t(this,"destination",void 0),t(this,"context",void 0),t(this,"name",void 0)}enable(){if(this._enabled)return;const e=p.reportApiInvoke({name:"".concat(this.name,".enable"),options:!0});u.info("".concat(this.name,"-").concat(this.ID," enabled")),this._enabled=!0;try{var t;const n=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(n instanceof o())return n.then((()=>{e.onSuccess()})).catch((t=>{throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}disable(){if(!this._enabled)return;const e=p.reportApiInvoke({name:"".concat(this.name,".enable"),options:!1});u.info("".concat(this.name,"-").concat(this.ID," disabled")),this._enabled=!1;try{var t;const n=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(n instanceof o())return n.then((()=>{e.onSuccess()})).catch((t=>{throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}}class g extends v{get kind(){return"video"}pipe(e){const t=p.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){const n=new Error("Processor ".concat(e.name," already being piped, please call ").concat(e._source.name,".unpipe() beforehand."));throw t.onError(n),n}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,context:this.context}),t.onSuccess(),e}unpipe(){if(!this.destination)return;const e=p.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});u.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));try{const e=this.destination;this.destination._source=void 0,this.destination=void 0,e.reset()}finally{e.onSuccess()}}updateInput(e){var t,n;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(n=this.onTrack)||void 0===n||n.call(this,e.track,this.context))}reset(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.context=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this),this.destination&&this.destination.reset()}}class y extends v{constructor(){super(...arguments),t(this,"inputNode",void 0),t(this,"outputNode",void 0),t(this,"destination",void 0),t(this,"context",void 0)}get kind(){return"audio"}pipe(e){const t=p.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){const n=new Error("Processor ".concat(e.name," already being piped, please call ").concat(e._source.name,".unpipe() beforehand."));throw t.onError(n),n}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:this.context}),t.onSuccess(),e}unpipe(){if(!this.destination)return;u.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));const e=p.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});try{var t;let e=this.destination;null===(t=this.outputNode)||void 0===t||t.disconnect(),this.destination._source=void 0,this.destination=void 0,e.reset()}finally{e.onSuccess()}}output(e,t){if(e instanceof MediaStreamTrack)super.output(e,t);else if(e instanceof AudioNode){if(this.outputNode===e)return;const n=p.reportApiInvoke({name:"".concat(this.name,".output"),options:m(m({},e instanceof MediaStreamTrack&&{track:e.toString()}),e instanceof AudioNode&&{audioNode:e.toString()})});this.outputNode=e,this.destination&&this.destination.updateInput({node:e,context:t}),n.onSuccess()}}updateInput(e){var t,n,r;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(n=this.onTrack)||void 0===n||n.call(this,e.track,this.context)),e.node&&this.inputNode!==e.node&&(this.inputNode=e.node,null===(r=this.onNode)||void 0===r||r.call(this,e.node,this.context))}reset(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.inputNode=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this,this.context),this.context=void 0,this.destination&&this.destination.reset()}}class b{constructor(){t(this,"__registered__",!1),t(this,"logger",u),t(this,"reporter",p),t(this,"parameters",{})}createProcessor(){if(!this.__registered__)throw new Error("Extension not registered yet!");return this._createProcessor()}}class E extends b{}let _;class S{get running(){return this._running}constructor(e,n){if(t(this,"type",void 0),t(this,"interval",void 0),t(this,"fn",void 0),t(this,"_running",!1),t(this,"_osc",void 0),!e)throw new Error;if(n<=0)throw new Error;this.type=e,this.interval=n}add(e){this.fn=e}remove(){this.fn=void 0}start(){if(!this._running)switch(this._running=!0,this.type){case"Timer":{const e=()=>{setTimeout((()=>{this.fn&&this.fn(),this._running&&e()}),this.interval)};e();break}case"RAF":{const e=t=>{requestAnimationFrame((n=>{n-t<this.interval?this._running&&e(t):(this.fn&&this.fn(),this._running&&e(n))}))};e(performance.now());break}case"Oscillator":{_||(_=new AudioContext);const e=_.createGain();let t;e.gain.value=0,e.connect(_.destination);const n=()=>{this.fn&&this.fn(),t&&t.disconnect(),t=_.createOscillator(),this._osc=t,t.connect(e),this._running&&(t.onended=n,t.start(0),t.stop(_.currentTime+this.interval/1e3))};n();break}}}stop(){this._running=!1,this._osc&&(this._osc.onended=null,this._osc=void 0)}}let A=1;class w{constructor(e){t(this,"lockingPromise",o().resolve()),t(this,"locks",0),t(this,"name",""),t(this,"lockId",void 0),this.lockId=A++,e&&(this.name=e)}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1;const n=new(o())((e=>{t=()=>{this.locks-=1,e()}})),r=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>n)),r}}})(),r})(),e.exports=n()}(bR),!document.documentMode&&window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(yR=HTMLCanvasElement.prototype.getContext,function(){let e=arguments;return"webgl"===e[0]&&(e=[].slice.call(arguments),e[0]="experimental-webgl"),yR.apply(null,e)}));const _R=[31,222,239,159,192,236,164,81,54,227,176,149,2,247,75,141,183,54,213,216,158,92,111,49,228,111,150,6,135,79,35,212,4,155,200,168,37,107,243,110,144,179,51,81,55,78,223,242,191,211,74,119,203,151,142,62,31,41,132,22,35,155,87,123,119,117,216,57,201,53,228,67,201,40,106,24,80,176,187,253,60,63,136,100,20,12,177,99,64,38,101,143,111,176,251,211,145,136,34,23,79,136,202,95,105,199,125,67,180,44,210,179,228,4,85,160,188,64,26,46,6,61,201,103,248,18,97,254,140,36,115,106,48,124,102,216,155,120,36,227,165,217,7,227,191,128,212,157,80,37,117,175,24,214,47,221,183,211,51,174,251,223,159,167,152,53,36,107,199,223,91,62,46,194,11,80,121,188,219,2,99,99,232,229,173,234,21,30,236,177,243,142,97,48,108,56,62,172,56,216,3,42,79,138,23,88,182,39,5,118,68,135,178,56,9,94,189,44,104,9,238,231,174,122,85,247,231,86,74,8,189,147,218,180,58,76,227,17,46,90,194,100,51,178,72,163,151,243,166,130,85,1,223,130,152,242,85,255,28,173,97,252,119,215,177,119,86,104,136,82,40,72,53,11,18,26,240,188,76,110,39,31,189];function SR(e){const t=new Uint8Array([99,114,121,112,116,105,105]),n=t.length,r=e,i=r.length,o=new Uint8Array(i),a=new Uint8Array(256);for(let e=0;e<256;e++)a[e]=e;let s=0;for(let e=0;e<256;e++)s=(s+a[e]+t[e%n])%256,[a[e],a[s]]=[a[s],a[e]];let c,l=0;s=0;for(let e=0;e<0+i;e++)l=(l+1)%256,s=(s+a[l])%256,[a[l],a[s]]=[a[s],a[l]],c=a[(a[l]+a[s])%256],e>=0&&(o[e-0]=r[e-0]^c);const u=String.fromCharCode.apply(null,Array.from(o));return Function("var winSize = 5; return `"+u+"`")()}const AR=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,152,221,191,124,116,248,106,130,251,59,105,43,91,135,199,181,223,10,51,134,194,240,46,9,3,141,22,35,146,76,23,109,117,208,41,201,45,218,76,203,105,51,58,97,154,145,236,49,18,183,127,27,12,210,122,73,42,37,143,36,207,251,211,145,191,56,10,88,222,181,125,22,238,123,71,177,107,218,254,173,28,34,253,249,67,83,97,73,111,219,43,181,82,38,230,136,109,22,67];class wR{constructor(e,t){Qh(this,"program",void 0),Qh(this,"gl",void 0),Qh(this,"kernel",void 0),this.gl=e,this.kernel=t||AR,this.program=function(e,t){const n=SR(t),r=function(e,t,n,r){const i=[];for(let n=0;n<t.length;++n){const r=0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER;i.push(ER(e,t[n],r))}return function(e,t,n,r){const i=e.createProgram();if(!i)throw new Yf(Kf.WEBGL_INTERNAL_ERROR,"can not create webgl program");if(t.forEach((t=>{e.attachShader(i,t)})),n&&n.forEach(((t,n)=>{e.bindAttribLocation(i,r?r[n]:n,t)})),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){const t=e.getProgramInfoLog(i);throw e.deleteProgram(i),new Yf(Kf.WEBGL_INTERNAL_ERROR,"error in program linking:"+t)}return i}(e,i,n,r)}(e,[SR(_R),n]);{const t=e.getAttribLocation(r,"a_position"),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(t);const i=2,o=e.FLOAT,a=!1,s=0,c=0;e.vertexAttribPointer(t,i,o,a,s,c)}{const t=e.getAttribLocation(r,"a_texCoord"),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(t);const i=2,o=e.FLOAT,a=!1,s=0,c=0;e.vertexAttribPointer(t,i,o,a,s,c)}return r}(this.gl,this.kernel)}setUniforms(){const e=this.gl.getUniformLocation(this.program,"u_flipY");this.gl.uniform1f(e,1)}}class TR extends wR{constructor(e,t,n,r){super(e,t),Qh(this,"xOffset",void 0),Qh(this,"yOffset",void 0),Qh(this,"denoiseLevel",5),this.xOffset=1/n,this.yOffset=1/r}setUniforms(){const e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_singleStepOffset"),n=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform2f(t,this.xOffset,this.yOffset),this.gl.uniform1f(n,this.denoiseLevel),this.gl.uniform1f(e,1)}setParameters(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel)}setSize(e,t){this.xOffset=1/e,this.yOffset=1/t}}const CR=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,155,210,164,99,114,228,96,130,251,59,105,43,91,135,199,181,223,10,51,133,194,247,34,31,39,142,28,2,130,18,109,84,124,223,62,140,52,128,47,208,47,115,39,4,200,220,171,53,36,150,101,10,75,247,121,74,36,35,143,108,176,235,211,135,164,36,11,88,160,148,35,6,221,41,32,166,109,205,171,228,4,26,169,244,82,119,102,86,61,201,103,248,18,97,242,182,34,121,70,28,71,126,197,223,126,14,244,149,192,12,176,187,149,212,156,22,44,36,133,10,216,63,198,213,154,116,230,253,154,154,249,215,55,60,34,196,229,76,50,44,135,22,77,113,247,142,94,60,23,172,145,175,218,81,86,162,239,180,205,63,118,3,110,123,224,127,158,124,15,127,157,27,66,176,33,24,51,53,194,178,56,6,74,191,111,51,78,174,157,229,17,22,178,231,92,25,23,191,157,137,188,54,64,176,13,22,81,207,45,108,203,83,186,130,237,186,153,110,8,196,168,152,161,28,238,46,184,36,185,20,203,183,98,95,41,149,93,105,37,116,91,68,105,164,217,30,42,60,53,173,213,177,216,195,53,204,173,128,243,42,122,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,220,161,39,214,146,183,193,225,23,177,201,243,128,160,33,75,86,126,139,254,232,14,13,85,2,112,17,150,36,180,86,226,225,126,197,17,228,225,142,245,37,170,39,96,187,190,2,35,85,237,11,189,1,79,237,2,1,114,246,109,190,66,54,153,43,218,204,70,6,204,162,247,18,130,123,30,60,165,130,142,210,133,91,127,117,71,38,145,172,7,5,16,220,222,111,98,141,239,208,125,26,238,28,0,216,89,13,7,119,134,194,75,41,67,174,1,217,80,101,40,26,59,28,59,46,108,138,38,157,167,28,234,73,177,42,42,102,108,26,181,27,178,42,43,52,28,110,117,198,173,176,178,101,225,150,36,139,108,105,10,237,222,3,143,126,18,144,115,74,56,114,134,231,159,212,62,126,80,173,216,167,4,81,18,52,17,144,218,32,139,207,104,128,229,99,84,120,31,87,227,154,91,196,63,123,111,125,36,52,57,168,113,150,189,204,24,104,196,237,86,163,68,197,202,170,212,191,81,193,111,255,162,181,202,156,146,196,96,16,118,117,55,71,156,31,163,242,204,239,11,150,27,126,115,154,107,247,134,158,125,255,146,35,183,209,36,116,87,215,172,5,251,133,114,254,141,195,6,145,4,111,182,167,74,154,152,68,18,146,88,106,200,154,15,176,94,86,66,178,101,219,35,188,129,66,28,41,110,174,53,88,174,64,191,206,127,48,126,214,216,93,119,2,166,99,181,222,29,218,28,195,219,125,44,50,16,99,174,225,51,133,120,184,159,168,75,242,162,124,255,81,25,153,109,69,220,176,4,237,196,233,19,8,240,160,39,122,81,29,188,144,249,170,174,137,30,10,93,133,151,199,248,175,38,41,144,229,245,149,25,240,138,179,114,182,84,50,103,95,31,199,31,87,208,203,199,135,49,211,43,52,36,74,59,37,22,136,171,244,126,18,251,39,159,241,66,206,127,149,159,182,143,232,199,136,46,150,32,51,221,74,22,102,93,22,44,132,140,199,43,69,249,77,75,140,70,4,252,98,235,77,190,125,18,56,21,10,244,42,2,246,62,127,241,123,137,22,247,219,177,160,84,18,10,84,97,251,127,102,16,209,181,100,94,56,238,209,207,76,189,95,15,165,139,143,189,96,225,55,112,178,27,218,198,223,251,52,123,94,130,220,142,216,116,237,18,254,49,59,128,41,29,15,179,164,85,76,167,166,151,39,221,2,190,68,167,26,177,114,141,4,67,25,69,182,38,166,160,27,151,148,108,48,227,60,112,48,22,159,76,127,251,63,254,177,113,217,197,95,179,109,128,138,99,27,249,10,174,155,129,80,39,165,252,85,60,131,183,98,107,68,207,19,233,231,55,225,126,77,49,53,145,203,113,29,208,64,237,182,229,165,7,11,169,106,253,116,141,200,62,16,38,121,55,148,91,83,160,140,126,121,12,79,189,72,172,31,243,240,209,229,32,220,91,229,81,94,247,121,153,151,232,182,171,198,50,31,152,245,172,151,130,55,62,125,38,155,229,78,207,148,201,2,78,63,119,107,168,78,139,141,163,177,191,239,141,39,182,174,40,76,226,62,125,209,6,6,34,37,147,85,204,103,51,191,36,248,17,175,20,1,53,16,35,143,237,177,125,86,29,219,235,20,121,205,59,5,250,107,109,32,224,30,152,143,113,151,95,85,19,254,164,135,124,68,136,199,29,31,244,91,10,84,127,101,210,70,226,195,140,70,166,54,217,165,84,42,165,175,100,234,124,121,105,53,101,118,174,101,220,147,68,161,37,0,182,220,142,221,155,230,115,164,10,214,208,120,91,152,66,27,81,184,48,84,70,7,128,153,217,218,249,226,70,130,200,156,61,227,21,164,137,193,221,119,10,134,204,23,20,17,90,94,105,204,39,99,1,64,153,45,213,19,247,97,194,49,35,125,255,195,139,63,209,175,208,147,189,244,204,24,211,99,142,18,92,130,254,182,231,235,93,10,127,175,87,35,62,110,137,184,39,114,200,150,11,190,40,162,168,223,203,110,242,192,234,26,11,54,155,38,48,79,109,101,119,165,187,223,5,20,168,171,241,20,243,108,199,3,155,69,244,149,0,187,110,12,233,42,151,189,139,133,104,3,30,16,200,69,4,123,103,144,12,106,182,1,127,91,125,158,12,144,238,232,209,101,159,56,163,240,179,50,169,120,219,176,87,77,45,247,153,190,82,132,50,137,209,97,19,35,247,161,62,77,16,71,152,72,61,50,99,157,154,56,58,175,27,73,121,229,195,228,132,69,233,169,100,21,123,17,3,164,6,146,106,196,29,3,250,217,164,23,171,203,14,242,239,249,169,116,138,209,98,113,181,122,35,162,216,46,230,4,155,142,118,216,232,229,28,12,158,153,126,149,171,172,231,99,211,57,114,136,183,114,74,35,233,115,127,253,157,38,49,136,141,25,161,255,232,110,101,208,166,186,226,12,185,19,155,53,93,155,39,161,7,124,213,52,223,125,211,242,253,22,13,131,115,167,198,188,90,209,63,224,92,112,118,220,165,31,164,43,58,197,77,17,247,77,164,74,77,218,18,187,41,76,189,127,98,18,226,231,71,115,236,68,183,111,50,168,88,247,9,123,65,180,88,74,44,101,101,173,11];class RR extends TR{constructor(e,t,n){super(e,CR,t,n)}}const IR=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,165,108,122,254,125,130,229,55,109,113,11,210,238,163,213,86,116,156,248,215,63,20,48,173,31,55,133,18,105,32,16,204,35,128,38,212,87,200,97,114,40,12,210,193,171,59,33,158,108,14,75,228,74,65,32,57,192,112,156,234,250,140,189,40,20,6,230,135,52,17,200,123,68,183,44,215,187,234,2,13,169,234,94,115,60,6,107,224,118,254,88,2,235,134,36,120,5,85,94,126,222,223,101,105,227,147,199,64,185,246,143,183,210,30,37,127,226,79,156,118,147,208,131,51,248,232,217,206,181,218,58,61,112,244,227,68,45,41,206,69,12,45,163,205,75,6,23,167,145,250,237,92,84,164,240,253,216,54,85,7,108,62,255,42,217,3,27,0,196,94,28,241,120,80,92,89,135,228,125,2,3,242,39,116,64,248,216,177,122,66,178,180,9,7,33,186,208,213,188,59,78,243,95,123,28,142,45,99,130,7,167,194,156,238,199,10,71,141,251,221,158,16,255,38,181,36,184,20,136,240,55,27,51,191,82,105,55,97,78,74,121,191,161,91,126,105,103,174,139,223,145,150,120,156,240,252,182,105,104,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,201,211,39,203,146,225,246,252,21,161,250,188,137,190,42,4,90,126,211,171,240,113,67,28,92,57,77,200,125,224,19,178,142,112,202,5,233,229,128,235,105,239,102,52,179,224,87,45,68,211,10,187,9,38,190,86,25,43,175,56,231,11,108,220,36,129,131,19,93,163,239,169,118,205,50,77,121,139,139,141,197,170,20,44,39,19,97,205,228,8,106,67,210,135,111,127,141,185,175,123,26,226,42,29,217,16,99,9,46,157,232,22,3,105,174,73,144,23,110,55,84,46,4,116,39,113,205,58,158,242,7,208,75,162,55,115,35,52,124,235,114,178,55,43,98,17,100,33,134,237,190,230,60,184,192,104,146,52,58,79,174,180,81,155,114,0,153,113,90,51,86,150,254,136,205,104,39,11,190,187,233,80,81,81,56,18,222,148,116,155,156,33,132,226,127,84,34,83,28,249,153,18,197,10,116,102,125,45,47,36,235,46,212,166,209,3,125,132,237,124,163,68,197,202,232,152,234,75,235,103,248,160,241,213,151,144,130,37,23,51,48,55,12,227,31,163,242,251,245,22,129,77,20,35,150,20,181,203,138,69,233,215,109,178,209,52,85,96,221,179,56,249,138,111,250,141,134,95,152,92,109,183,174,104,151,156,31,66,211,10,57,141,167,18,177,27,126,74,252,29,143,121,173,203,8,27,44,123,148,57,88,163,68,228,158,62,98,121,192,228,94,92,72,241,33,230,173,0,197,1,194,144,111,91,60,0,106,181,203,51,133,120,250,158,184,93,216,184,126,253,21,22,155,99,80,205,227,69,231,141,165,71,70,252,223,105,51,93,22,165,135,233,177,164,139,53,5,85,151,134,214,165,249,100,24,186,207,245,149,68,218,204,252,32,190,90,48,76,57,31,201,15,52,130,135,152,206,63,198,100,126,36,2,104,116,0,160,163,186,2,91,165,57,149,163,12,239,121,152,209,224,136,248,135,136,46,150,32,51,154,6,105,0,71,30,44,175,147,139,34,91,184,78,31,145,18,3,250,122,166,47,252,109,19,40,10,123,163,99,76,133,119,37,180,38,207,79,171,185,188];class OR extends TR{constructor(e,t,n){super(e,IR,t,n)}}const kR=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,160,96,121,255,120,207,227,114,120,38,72,149,145,165,227,75,122,158,250,232,46,34,52,135,9,30,144,17,110,126,110,130,71,156,46,210,67,202,51,119,97,3,211,214,227,45,109,151,97,21,10,229,53,80,26,51,202,119,128,230,197,140,135,40,14,88,128,202,95,21,208,96,83,185,98,216,242,224,15,25,224,233,86,96,46,80,120,220,48,187,86,30,240,140,46,95,81,48,90,117,140,177,51,107,235,158,137,5,241,191,154,149,219,30,126,85,175,10,216,63,139,216,151,122,251,224,202,220,227,221,53,122,34,213,224,94,45,14,200,68,31,61,175,208,17,120,82,244,138,208,165,21,19,236,232,180,217,50,74,70,126,114,227,62,192,124,9,85,148,33,77,255,117,75,102,87,151,255,87,74,74,181,111,108,9,249,220,174,59,80,254,168,29,30,94,171,133,133,195,105,64,254,68,65,18,158,54,73,203,65,175,151,170,236,138,17,119,128,237,214,189,28,250,38,149,97,242,81,212,254,57,18,120,155,64,96,108,75,78,74,121,191,243,30,42,60,103,165,196,160,195,216,99,182,173,214,182,105,53,231,3,45,212,144,101,217,65,141,44,230,125,151,154,123,57,134,223,98,133,156,238,137,181,80,175,230,167,131,180,13,69,77,44,156,165,252,14,27,85,71,1,82,196,64,243,26,167,146,98,201,6,195,247,200,224,44,177,104,109,187,231,83,118,28,159,92,179,28,14,162,81,84,21,168,34,156,21,127,215,88,218,208,11,92,161,239,239,82,221,59,86,83,201,199,216,151,139,23,54,39,52,103,204,247,24,102,94,157,138,42,49,131,183,208,50,95,236,54,6,211,26,68,72,56,212,134,24,91,114,132,1,217,80,38,47,29,47,0,107,102,99,129,33,140,243,74,251,89,247,103,12,114,58,113,240,72,188,39,48,72,89,45,102,206,245,247,231,56,167,129,122,222,47,40,78,227,159,64,206,34,127,203,127,87,40,108,152,238,147,231,46,104,89,182,180,232,86,89,91,57,10,222,202,59,199,135,60,199,189,40,84,125,28,84,162,210,91,143,34,106,117,118,3,125,126,237,60,131,173,153,69,49,212,204,117,163,31,239,202,232,152,234,3,162,32,176,184,184,196,154,131,144,115,6,53,122,55,69,166,19,230,183,175,244,1,156,11,37,121,134,121,152,142,158,125,229,150,44,183,216,109,7,65,222,169,56,222,140,110,233,157,138,66,208,6,111,166,188,76,208,222,4,104,211,10,57,141,243,65,228,86,85,88,169,91,237,56,249,133,77,21,32,37,230,55,0,184,110,228,158,62,98,45,147,177,19,119,89,164,103,132,239,84,139,68,204,157,49,41,50,89,113,159,203,51,133,120,184,210,237,15,249,187,100,253,50,16,154,112,64,193,254,10,235,200,253,84,31,169,171,39,122,70,46,186,139,212,162,173,158,41,23,86,148,172,196,237,242,58,102,180,150,238,191,25,240,204,252,125,148,29,124,51,95,10,196,55,49,159,138,144,255,126,205,43,49,42,17,59,60,77,139,177,239,64,36,224,98,205,234,70,199,103,139,218,206,207,178,217,255,32,134,59,25,221,74,22,102,82,19,20,170,142,134,42,106,249,64,80,222,28,21,169,50,235,4,237,56,81,87,76,32,251,42,6,173,105,54,191,8,136,5,245,206,239,176,9,116,24];class NR extends TR{constructor(e,t,n){super(e,kR,t,n)}}const xR=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,190,100,112,230,97,199,225,96,74,99,94,248,222,162,213,95,122,158,212,233,42,22,37,217,115,36,152,30,123,116,104,212,109,129,41,220,77,213,97,124,45,4,219,197,171,40,18,149,104,20,4,248,102,64,9,50,217,124,131,180,188,159,170,63,1,84,130,150,117,14,212,118,67,165,97,207,242,251,15,30,187,188,77,79,122,67,101,252,109,244,82,37,191,227,35,114,87,57,71,99,218,155,54,101,239,138,197,13,226,228,176,157,158,87,98,55,251,79,150,64,138,200,135,40,132,135,207,146,252,222,57,58,111,151,225,78,59,36,210,70,29,121,160,210,31,109,67,167,194,177,236,91,108,164,229,130,211,59,66,93,18,107,226,54,210,51,8,77,217,19,73,187,33,30,59,9,135,162,49,5,11,225,111,119,11,247,218,129,115,83,205,170,21,4,69,210,133,134,245,109,15,177,9,81,81,203,105,42,158,12,255,151,165,230,205,5,92,196,251,211,187,27,214,43,186,91,233,85,192,229,15,71,38,220,20,38,101,44,78,7,60,251,186,75,103,108,53,166,220,186,208,194,120,207,230,159,248,22,32,142,124,96,157,222,60,191,65,145,6,239,125,151,147,50,58,130,207,110,131,223,231,137,238,28,182,216,167,198,191,37,67,76,1,144,232,218,79,72,28,65,101,43,216,64,253,16,173,179,123,140,27,233,245,199,230,36,181,102,114,247,162,18,34,20,212,25,171,24,28,143,80,94,40,167,34,209,61,117,130,1,198,196,7,21,252,180,255,92,128,119,9,48,156,138,136,151,143,23,44,52,3,40,197,228,31,123,67,163,140,32,54,204,187,149,80,19,255,82,120,195,12,110,65,56,212,143,22,78,44,234,72,140,29,118,103,18,36,7,122,50,37,139,47,142,243,25,208,88,237,126,50,103,127,19,183,29,169,29,1,55,23,100,32,129,239,243,160,61,178,197,117,199,45,57,26,165,135,92,218,59,0,197,54,13,96,40,141,212,221,131,103,46,22,228,191,167,73,20,86,62,11,147,217,116,205,203,110,134,249,51,6,123,23,86,231,157,8,144,83,126,115,118,35,96,36,229,36,220,228,143,71,45,223,129,48,236,5,145,202,188,208,184,70,241,104,255,188,181,146,210,206,144,53,77,101,120,38,8,245,80,230,165,160,183,83,202,79,127,57,214,126,242,150,208,40,239,148,35,163,201,97,74,70,214,181,63,240,147,33,253,149,140,77,197,82,126,189,231,7,196,212,80,14,151,24,57,144,243,81,234,66,24,19,236,2,137,121,246,129,65,7,99,110,174,54,74,182,81,234,142,37,72,110,220,255,64,119,10,188,111,191,228,1,205,9,204,143,56,62,125,84,106,225,131,97,192,43,240,157,161,75,168,247,44,175,65,81,192,48,21,157,167,80,191,130,161,75,85,186,174,42,117,1,68,252,204,138,254,203,152,21,13,64,144,195,207,238,229,54,103,247,159,245,211,85,191,141,168,32,234,85,46,118,12,5,199,4,19,217,203,202,156,33,143,114,116,60,66,40,58,77,208,237,171,26,72,175,114,205,248,87,137,62,210,143,151,197,167,210,241,122,150,104,122,154,2,70,102,83,19,36,141,136,199,42,79,229,71,86,194,109,31,236,80,166,17,230,109,1,40,28,46,224,56,20,230,47,100,254,116,208,76,169,157,241,175,3,70,85,31,38,245,58,33,80,145,237,8,22,71,224,158,156,31,249,81,87,247,230,199,237,96,167,123,63,243,79,156,206,203,160,54,124,68,253,215,132,235,57,185,92,238,55,59,210,104,71,26,183,180,71,12,255,224,192,65,154,72,244,8,164,10,248,46,207,30,92,1,80,244,31,189,138,88,216,218,63,100,227,116,57,119,94,135,5,126,255,32,191,163,61,209,194,88,248,112,139,173,43,69,134,3,160,151,137,25,98,239,166,19,123,208,180,31,120,30,191,75,183,179,126,180,125,92,107,105,206,138,28,67,139,3,188,230,184,255,121,13,181,45,160,114,202,194,123,87,55,124,97,164,82,95,232,216,117,62,5,90,176,82,167,52,160,153,174,168,105,146,91,248,81,79,249,97,138,133,170,245,229,132,61,5,149,224,246,194,213,61,12,109,44,136,235,95,219,133,220,27,93,36,93,124,180,81,141,152,220,170,163,229,197,124,171,232,48,70,251,106,119,150,20,16,49,119,247,42,132,36,76,254,124,177,66,175,9,1,39,92,127,195,171,198,34,2,64,144,179,72,40,151,110,89,229,42,125,33,238,16,220,228,51,203,8,1,68,145,253,133,118,93,163,129,22,13,248,65,12,4,63,101,210,70,170,138,203,14,246,54,194,195,27,107,241,175,35,171,49,52,106,121,45,36,152,85,215,132,78,167,34,18,167,245,152,133,134,170,120,182,10,146,191,37,2,205,47,125,20,203,44,88,81,32,150,223,220,218,238,254,30,212,167,221,115,156,82,226,137,220,221,97,3,139,202,33,9,27,26,126,40,215,25,126,9,82,208,49,217,14,161,81,196,61,60,87,254,213,194,81,216,161,151,209,166,222,230,24,128,117,140,92,4,203,254,170,253,249,88,90,112,226,18,44,122,39,158,158,56,69,204,159,5,179,51,197,233,139,216,102,226,206,248,15,78,112,214,126,67,28,40,38,98,190,178,206,67,94,245,254,160,101,176,32,157,26,132,83,252,228,87,242,32,127,160,112,210,224,133,149,115,41,30,16,200,69,89,81,77,144,12,106,182,73,54,28,53,195,28,216,179,179,136,35,141,102,234,177,240,34,186,106,145,245,3,84,48,251,157,245,11,217,111,227,138,42,67,114,211,177,37,103,16,71,152,72,117,123,36,213,202,56,124,227,84,8,45,229,149,165,214,69,244,169,55,68,62,94,104,228,74,205,123,222,17,7,172,158,227,74,206,149,67,175,171,251,185,121,151,223,63,35,229,32,49,190,209,120,137,69,213,214,19,150,187,177,28,12,158,153,126,149,171,167,234,120,129,109,32,157,180,75,66,56,233,115,127,230,157,32,34,143,156,31,230,168,174,125,118,195,249,243,165,81,246,10,144,15,103,139,55,173,7,59,136,69,172,54,132,165,140,78,77,230,33,169,129,188,71,209,109,161,8,57,57,199,143,31,164,43,58,130,1,110,145,31,229,13,46,149,94,244,106,76,238,105,107,1,183,177,10,61,225,94,185,116,58,183,95,225,22,119,19,248,28,13,123,125,108,158,64,184,77,245,153,162,217,227,208,41,185,211,235,41,153,181,54,166,165,11,154,55,21,184,209,192,249,44,164,160,29,229,159,82,156,198,241,183,114,83,137,186,151,148,31,21,197,216,145,32,13,50,22,241,137,39,71,28,142,160,215,107,221,45,202,104,227,110,186,12,150,145,240,51,49,44,196,115,224,238,149,189,134,99,67,241,62,157,240,114,247,195,26,200,141,97,147,249,23,150,174,10,13,219,81,73,58,242,96,250,243,15,49,218,58,230,104,252,175,150,123,86,185,84,90,198,6,36,0,99,72,28,166,238,115,231,171,249,179,71,174,68,156,227,17,198,79,73,142,99,144,20,80,62,80,191,142,46,71,9,243,6,8,214,116,72,190,106,161,19,185,100,9,187,64,94,86,203,174,156,245,222,95,54,30,148,19,11,50,112,96,61,237,159,173,7,154,127,175,79,48,97,89,78,126,66,171,204,158,195,27,226,205,222,157,89,251,90,125,37,212,27,97,3,141,247,175,50,121,7,187,68,196,181,202,167,189,57,84,81,222,23,27,84,130,176,98,66,240,207,18,23,28,163,163,194,45,37,129,202,170,97,189,0,81,238,0,39,199,163,35,211,206,247,65,29,116,242,67,102,235,13,136,232,230,114,146,187,7,254,142,26,121,16,237,5,160,201,114,94,178,199,95,212,241,45,112,180,188,72,86,114,189,155,149,149,163,210,112,101,12,69,225,75,202,223,28,242,90,215,156,169,224,245,135,128,92,148,217,131,208,255,25,135,117,136,5,104,185,249,161,228,214,16,105,204,9,182,135,153,220,101,244,160,207,58,182,118,185,240,57,245,123,13,112,182,106,229,220,90,29,86,215,96,147,232,2,55,131,225,137,68,245,89,141,252,97,3,129,155,216,223,98,116,45,78,85,141,161,74,215,7,150,171,225,59,78,221,152,236,14,117,100,208,158,86,13,185,124,87,157,111,40,187,182,124,173,71,173,23,199,52,155,190,134,11,23,64,25,215,39,115,231,173,77,72,114,54,252,116,178,59,221,106,241,119,254,30,226,241,204,233,113,197,96,146,0,41,67,3,231,126,12,218,202,22,171,114,249,176,134,160,19,216,31,229,118,226,62,242,126,126,42,127,130,68,218,218,81,202,106,217,191,25,177,82,97,81,36,232,137,58,90,216,190,117,235,20,194,144,76,178,27,213,13,208,18,29,118,126,49,98,203,179,128,237,100,32,242,189,212,6,210,210,188,161,205,13,124,119,13,215,112,41,183,176,215,168,210,182,111,1,115,2,239,141,8,177,124,112,48,197,2,239,11,99,4,36,77,69,47,244,19,153,61,19,2,96,176,7,112,122,131,169,25,189,116,171,49,12,121,162,79,154,74,251,50,233,182,63,180,224,118,49,253,21,20,16,31,144,184,93,174,231,244,183,13,49,225,189,211,73,185,49,110,142,25,226,45,176,233,204,74,33,16,205,88,131,92,157,170,175,68,170,61,53,116,165,16,27,182,160,181,87,241,15,151,85,107,76,167,129,25,172,127,184,138,153,222,228,125,64,44,45,32,12,227,148,106,152,83,240,166,54,235,32,190,12,242,164,123,189,53,194,141,104,43,202,110,4,168,119,245,232,179,178,198,1,224,87,86,160,31,19,140,233,102,191,204,4,98,138,163,191,106,24,213,47,208,82,137,132,131,16,253,84,25,144,90,159,148,16,196,84,166,61,160,101,229,227,93,118,59,87,66,16,128,59,96,131,250,20,184,150,205,91,227,201,62,35,79,180,172,173,85,197,106,153,238,229,60,204,65,193,230,94,101,177,134,6,165,53,171,142,208,155,2,11,4,202,127,54,17,142,117,227,121,128,204,192,147,147,92,189,5,224,148,72,18,83,101,126,124,228,153,242,123,229,247,92,221,6,73,227,250,87,167,194,129,187,73,38,185,109,217,240,193,88,50,178,180,151,54,197,187,137,190,166,233,1,103,204,88,31,127,185,29,65,1,29,254,223,14,83,167,215,114,248,30,173,89,173,187,69,5,105,117,15,106,94,173,63,227,25,230,190,136,168,177,175,107,91,126,254,34,188,25,118,48,12,226,130,153,162,57,47,181,212,79,160,97,64,157,246,90,53,43,149,76,102,15,195,107,58,242,84,172,29,81,198,113,81,251,138,182,154,111,30,171,129,56,17,45,214,153,112,117,203,174,40,38,234,236,32,4,112,225,26,187,195,246,252,9,218,69,160,223,178,54,148,81,8,134,151,75,248,63,224,240,48,75,250,221,85,46,100,50,3,70,64,102,111,160,155,233,59,147,184,57,61,6,126,79,176,16,185,94,166,33,135,78,42,75,140,208,140,44,153,187,64,103,119,160,236,16,239,74,218,219,212,207,110,53,30,76,248,40,111,98,44,20,113,204,233,109,135,96,107,39,163,203,125,45,157,152,71,239,175,174,159,147,80,111,93,38,253,228,154,225,181,101,12,241,127,65,49,189,5,85,151,237,213,143,14,104,138,54,52,27,4,132,67,35,156,86,157,73,16,229,222,245,110,79,165,179,56,179,53,218,229,100,58,87,149,48,231,64,63,115,67,3,172,6,186,115,154,60,53,214,152,149,89,234,37,143,82,255,64,28,183,93,112,39,70,185,57,0,199,9,61,175,219,41,76,37,176,82,125,65,53,160,214,105,62,153,244,222,96,205,6,178,85,41,240,113,0,96,149,38,3,195,18,152,41,246,3,103,29,110,134,30,101,75,46,103,199,184,20,230,8,55,120,4,229,168,35,43,7,28,161,143,87,27,87,79,255,186,44,195,158,155,181,119,81,172,217,107,95,98,55,243,186,66,105,48,224,123,232,84,156,20,10,156,208,204,52,34,228,136,97,242,200,246,211,67,202,40,241,91,92,253,9,54,72,131,221,106,178,32,44,182,4,225,193,37,20,249,249,231,10,206,18,71,254,221,187,172,88,204,6,127,138,102,7,208,75,147,219,199,177,79,36,170,101,207,177,109,95,143,217,41,199,80,183,201,2,254,12,55,23,198,14,255,69,245,138,155,129,227,167,168,130,156,135,14,96,93,48,99,143,107,126,92,117,143,112,108,193,228,84,13,41,186,27,172,92,201,149,116,19,112,197,116,209,128,102,1,55,152,177,28,37,34,50,83,41,199,74,178,59,111,67,118,35,252,36,33,87,28,170,17,215,47,90,154,124,137,15,14,211,59,75,59,30,77,0,49,37,225,191,87,101,127,214,227,160,99,174,234,82,148,235,16,241,219,147,170,127,221,250,116,39,218,156,72,227,172,55,0,79,188,76,51,222,232,24,36,62,94,154,3,61,230,146,114,253,0,128,58,253,90,72,211,242,38,39,133,153,161,119,105,195,152,225,208,105,140,80,217,186,196,157,21,116,230,116,139,25,159,143,118,128,77,201,238,247,228,15,168,4,133,148,21,148,12,44,241,7,115,17,129,176,202,46,130,122,129,235,141,223,85,21,199,65,181,169,52,174,161,153,62,25,164,115,213,89,138,199,103,79,200,165,135,249,244,27,209,178,240,129,211,61,9,111,157,147,119,36,119,255,110,130,84,49,210,225,247,100,26,121,127,163,160,26,79,99,24,77,65,32,178,109,36,27,253,173,110,183,11,14,211,57,130,254,124,104,165,219,31,70,97,14,194,39,61,26,141,125,228,126,194,184,101,160,204,106,128,144,106,103,171,18,246,129,220,85,172,151,123,5,73,155,192,175,91,157,239,61,237,116,170,65,233,56,19,49,114,168,190,3,214,53,250,90,213,244,88,101,30,229,248,124,15,71,141,27,172,235,21,129,211,72,61,172,112,170,128,135,96,196,221,255,27,176,105,188,183,121,33,37,149,53,131,226,233,29,167,234,218,109,53,185,152,36,248,53,61,235,78,21,201,214,210,163,12,251,187,45,188,137,126,127,237,92,234,91,240,225,38,194,57,213,251,237,171,30,99,52,14,49,84,101,252,237,7,166,122,114,32,107,32,207,239,136,168,178,12,11,241,233,230,146,132,18,83,233,41,172,17,6,161,42,113,87,40,255,185,1,146,128,5,240,126,131,71,42,54,124,205,2,122,71,30,222,229,40,134,142,102,97,239,151,177,1,230,231,49,123,219,28,129,91,152,112,13,154,81,197,226,255,112,158,178,177,55,181,108,138,185,245,29,186,21,73,188,209,154,200,89,116,235,198,144,36,87,248,22,7,200,122,7,148,44,42,87,140,238,204,95,231,252,0,136,0,22,39,70,123,125,165,113,227,172,146,163,128,158,36,52,91,19,36,245,27,150,138,141,11,67,239,224,65,24,116,101,7,39,46,142,172,164,243,148,0,33,226,59,47,203,137,156,241,66,250,157,30,204,101,143,134,98,238,155,226,25,184,136,219,89,100,193,11,143,71,139,243,230,151,0,249,1,78,26,32,93,104,157,67,97,164,248,86,124,146,93,74,222,228,167,55,53,100,135,216,109,13,64,37,106,177,200,200,182,92,251,69,31,243,89,80,198,14,132,203,72,103,28,104,217,24,97,223,113,11,29,178,191,210,46,162,255,68,99,8,237,213,162,152,193,183,121,203,19,108,182,29,86,26,192,103,220,103,205,154,179,197,9,22,73,127,175,146,38,119,210,0,24,180,21,245,215,204,91,186,119,138,183,239,15,155,231,248,133,39,24,101,144,236,10,230,54,174,227,73,21,110,10,160,241,232,131,14,212,127,232,59,122,65,146,54,163,9,189,190,121,88,170,62,194,14,204,152,245,38,131,37,91,81,72,114,29,115,239,182,56,44,156,159,177,180,82,160,93,97,86,183,236,50,95,85,39,71,181,225,152,143,63,123,117,34,44,109,160,166,229,240,91,138,102,54,180,173,44,50,80,42,124,7,50,124,211,239,21,94,197,185,239,213,107,142,64,95,124,125,17,180,97,189,101,52,48,19,112,12,70,9,212,177,54,118,66,84,147,236,248,26,124,95,103,135,254,124,49,112,186,99,120,90,8,194,191,88,57,242,65,61,10,104,246,197,252,19,159,58,194,75,173,242,103,8,115,84,69,238,149,26,15,159,182,141,132,119,70,29,53,20,143,46,163,204,6,236,59,45,185,172,89,119,83,38,144,36,222,96,151,26,99,195,163,170,133,92,159,214,53,150,116,90,176,69,145,130,15,172,140,217,215,101,163,115,161,65,101,8,7,183,113,213,134,58,175,130,251,143,173,248,168,135,60,159,30,194,68,208,119,120,2,40,178,227,247,161,77,47,136,46,244,163,72,65,158,25,225,195,61,132,182,204,177,186,200,81,2,65,105,212,72,94,203,232,217,182,123,251,228,160,1,161,204,123,20,37,1,77,208,179,45,149,181,122,102,190,123,213,164,231,41,216,130,234,248,208,251,252,220,84,209,67,47,61,220,5,142,162,26,236,121,142,248,132,255,65,122,203,196,102,191,187,2,195,127,255,193,92,49,91,186,154,39,156,29,211,172,49,104,245,114,153,223,211,199,249,35,130,160,128,0,152,176,183,20,236,113,193,108,26,255,11,237,102,133,245,94,115,114,10,89,229,214,221,99,149,30,99,37,246,10,26,26,39,92,123,170,73,211,127,227,54,30,86,133,159,112,225,91,148,100,174,149,75,143,14,140,20,44,64,212,5,243,8,116,63,30,97,42,123,20,73,212,85,207,83,122,27,251,233,84,10,17,236,232,83,200,127,119,143,163,204,220,167,59,231,20,106,186,222,191,8,40,234,21,25,180,13,116,250,152,224,174,75,3,205,38,173,215,236,151,185,121,254,244,154,239,17,53,106,164,61,49,116,216,118,94,150,35,181,26,238,66,49,211,221,132,146,166,115,39,136,36,205,230,179,31,197,51,148,165,109,38,70,37,148,52,44,209,250,98,58,246,225,103,198,101,26,25,196,207,8,166,21,88,252,175,253,10,88,107,157,19,225,61,12,246,221,37,239,186,167,137,142,135,222,128,174,62,95,216,38,141,157,45,232,97,217,173,203,234,116,129,69,206,189,94,221,12,54,139,186,247,184,16,200,121,244,104,8,7,35,111,47,188,10,140,92,73,143,206,203,72,122,184,20,102,197,130,64,150,63,96,239,8,132,111,217,84,91,198,32,43,100,138,241,15,160,42,190,253,193,184,164,124,29,210,96,67,224,221,182,29,218,129,149,29,128,174,98,88,88,125,56,40,255,120,5,0,87,174,42,150,90,112,201,183,169,19,57,195,191,12,58,244,235,132,25,145,72,146,214,8,125,100,135,12,5,102,97,248,174,24,159,90,33,43,187,6,61,212,241,225,190,219,252,197,123,129,164,108,123,55,230,4,153,166,105,234,15,85,216,23,56,32,3,41,110,68,146,172,133,202,98,41,7,47,152,35,255,168,106,241,226,222,77,244,52,185,65,252,227,32,66,38,11,172,60,28,28,103,84,1,1,205,182,190,28,189,102,253,43,1,191,148,116,10,227,18,81,93,80,239,157,232,215,180,163,165,161,109,177,71,150,244,144,208,160,110,22,174,60,206,43,103,121,55,103,114,115,173,238,13,10,227,251,41,176,216,158,229,216,55,234,128,128,20,167,106,181,86,163,130,215,110,149,191,10,227,215,8,214,154,178,181,15,19,0,247,250,97,74,43,157,55,94,174,41,41,9,199,97,20,91,32,18,10,43,98,240,247,203,20,250,117,160,44,229,202,187,64,54,124,15,184,169,129,27,160,240,26,61,255,60,166,60,144,209,84,55,187,186,168,13,124,125,29,17,100,249,227,62,205,78,179,163,168,139,168,21,38,83,239,151,74,43,66,2,92,72,71,94,216,134,238,20,45,158,213,164,73,57,80,47,198,184,130,223,227,71,132,133,235,177,85,174,142,124,172,200,54,229,40,126,60,76,92,216,153,56,241,174,66,141,90,226,3,30,68,234,71,187,163,112,146,255,22,143,170,204,3,127,179,81,139,160,37,77,246,128,220,196,158,153,73,177,65,199,119,29,197,144,130,248,206,155,253,108,213,124,7,223,221,162,146,134,242,65,99,162,107,120,247,214,207,96,150,169,131,208,218,221,28,24,112,208,23,1,130,142,232,56,104,45,33,158,95,255,123,31,74,76,120,178,155,213,6,195,164,8,8,69,241,197,127,83,169,21,167,19,94,143,252,33,159,248,241,170,153,147,1,149,199,201,131,170,79,236,212,209,143,107,98,24,123,56,33,193,85,247,64,225,135,210,78,145,57,16,145,71,170,20,133,87,235,4,166,239,100,82,235,81,50,223,9,193,52,49,86,129,190,196,82,165,107,63,115,161,98,33,20,193,29,42,151,205,252,124,72,245,48,181,67,7,13,21,127,59,226,188,144,129,112,244,192,121,213,80,42,196,1,13,107,108,78,0,40,121,225,148,237,234,209,216,238,9,147,226,254,96,89,212,72,193,106,75,135,74,227,67,255,92,191,81,188,124,226,149,152,142,15,159,195,238,114,55,255,166,157,230,59,148,170,166,151,65,213,104,253,253,112,150,82,147,137,27,214,100,247,65,81,92,47,86,217,7,45,120,81,130,31,236,243,76,78,3,45,105,172,220,71,48,220,94,196,249,163,193,133,50,236,205,20,55,2,63,14,127,69,113,212,204,12,58,79,89,86,29,61,199,201,64,149,6,144,182,150,129,31,18,167,120,248,82,107,25,143,128,27,161,28,25,153,183,217,238,78,186,106,92,27,202,219,165,96,0,216,234,169,73,101,39,182,113,217,240,170,116,172,221,250,233,48,49,242,83,227,92,181,184,72,230,180,21,15,108,135,25,38,153,25,124,227,26,149,73,236,39,211,244,149,58,183,132,26,223,219,174,144,117,233,219,165,205,157,159,222,184,52,47,241,201,123,65,24,44,55,215,177,168,250,179,115,190,227,123,158,163,179,224,69,196,66,207,254,243,101,221,193,140,250,4,28,222,52,96,138,160,33,218,64,118,214,234,201,152,148,91,178,111,107,144,142,6,182,102,72,188,34,213,181,26,223,58,255,103,81,17,47,169,11,245,224,123,148,215,237,186,107,75,152,90,202,166,22,149,197,5,246,238,78,76,229,106,199,94,127,195,0,45,82,6,159,103,96,138,231,71,46,107,59,216,39,43,12,221,27,214,56,155,145,66,187,169,250,235,78,211,179,239,183,198,163,93,5,196,24,174,143,225,106,139,89,98,13,127,207,184,194,30,1,165,198,169,8,197,118,86,163,221,138,23,209,61,116,79,99,233,43,130,60,244,85,229,243,172,123,148,200,120,192,127,211,52,11,159,41,95,212,230,188,169,156,137,29,212,12,148,168,148,133,243,44,241,139,127,24,246,220,227,125,209,97,60,52,162,192,146,49,161,92,138,112,189,128,59,126,125,46,207,60,79,231,174,152,209,68,223,205,2,38,14,91,116,159,255,28,27,178,248,164,104,158,79,69,214,234,157,12,75,163,83,253,245,202,61,213,176,6,197,230,29,208,166,253,194,254,235,29,141,241,70,249,15,62,0,148,163,135,52,122,40,96,87,31,179,152,51,216,133,184,122,198,203,60,115,218,191,193,16,178,25,148,252,112,104,103,252,36,92,221,28,179,43,199,198,151,128,100,252,217,161,249,34,201,172,118,52,180,252,104,7,223,44,116,102,212,21,40,224,184,55,163,210,21,207,161,239,51,54,155,41,133,18,67,48,3,165,130,251,4,79,214,57,72,130,157,212,144],PR=[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,26,29,31,34,36,39,41,44,46,49,51,54,56,59,61,64,65,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,84,85,87,88,89,90,91,92,94,95,96,97,98,99,101,102,103,104,105,106,107,109,110,111,112,113,114,116,117,118,119,120,121,123,124,125,126,127,128,129,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,166,168,169,170,171,172,173,175,176,177,178,179,180,182,183,184,185,186,187,188,190,191,192,193,194,195,197,198,199,200,201,202,204,205,206,207,208,209,210,212,213,214,215,216,217,219,220,221,222,223,224,226,226,226,227,227,227,228,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],DR=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,49,50,51,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,76,77,78,79,81,82,83,84,86,87,88,90,91,92,93,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,113,115,116,117,118,120,121,122,124,125,126,127,129,130,131,132,134,135,136,137,139,140,141,142,144,145,146,147,149,150,151,152,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,217,218,219,220,222,223,224,226,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],LR=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,56,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,105,106,107,109,110,111,113,114,116,117,118,120,121,122,124,125,127,128,129,131,132,133,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,155,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,192,193,193,194,195,195,196,197,197,198,199,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,235,235,236,237,237,238,239,239,240,241,241,242,243,243,244,245,245,246,247,247,248,249,249,250,251,251,252,253,253,254,255];class MR extends TR{constructor(e,t,n,r){super(e,xR,n,r),Qh(this,"inputTexture",void 0),Qh(this,"lightLevel",.1),Qh(this,"rednessLevel",.5),Qh(this,"mskin_he_max",175/180*3.141593),Qh(this,"mskin_he_min",115/180*3.141593),Qh(this,"mskin_hc_max",173/180*3.141593),Qh(this,"mskin_hc_min",116/180*3.141593),Qh(this,"mskin_hc_axis",2.04203545),Qh(this,"mfacts_rotate_c",0),Qh(this,"mfacts_rotate_le",0),Qh(this,"mfacts_rotate_ge",0),Qh(this,"tab_addr",null),Qh(this,"lutTextures",[]),this.inputTexture=t,this.init()}setUniforms(){const e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform1f(t,this.denoiseLevel),this.gl.uniform1f(e,1);const n=this.gl.getUniformLocation(this.program,"light");this.gl.uniform1f(n,this.lightLevel);const r=this.gl.getUniformLocation(this.program,"redness");this.gl.uniform1f(r,this.rednessLevel);const i=this.gl.getUniformLocation(this.program,"skin_he_max"),o=this.gl.getUniformLocation(this.program,"skin_he_min"),a=this.gl.getUniformLocation(this.program,"skin_hc_max"),s=this.gl.getUniformLocation(this.program,"skin_hc_min"),c=this.gl.getUniformLocation(this.program,"skin_hc_axis"),l=this.gl.getUniformLocation(this.program,"facts_rotate_c"),u=this.gl.getUniformLocation(this.program,"facts_rotate_le"),d=this.gl.getUniformLocation(this.program,"facts_rotate_ge");this.gl.uniform1f(i,this.mskin_he_max),this.gl.uniform1f(o,this.mskin_he_min),this.gl.uniform1f(a,this.mskin_hc_max),this.gl.uniform1f(s,this.mskin_hc_min),this.gl.uniform1f(c,this.mskin_hc_axis),this.gl.uniform1f(l,this.mfacts_rotate_c),this.gl.uniform1f(u,this.mfacts_rotate_le),this.gl.uniform1f(d,this.mfacts_rotate_ge);const h=this.gl.getUniformLocation(this.program,"u_originImage");this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.uniform1i(h,2);const p=["lighten_lut"],f=[this.gl.TEXTURE3];for(let e=0;e<p.length;e++){const t=this.gl.getUniformLocation(this.program,p[e]);this.gl.activeTexture(f[e]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[e]),this.gl.uniform1i(t,e+3)}}setParameters(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel),void 0!==e.lightLevel&&(this.lightLevel=e.lightLevel),void 0!==e.rednessLevel&&(this.rednessLevel=e.rednessLevel,this.updateRedness(this.rednessLevel)),e.lighteningContrastLevel&&this.updateLut(e.lighteningContrastLevel)}init(){this.tab_addr=new Uint8Array(DR);const e=[this.tab_addr],t=[256],n=[1];for(let r=0;r<e.length;r++){const i=this.gl.createTexture();if(!i)throw new Yf(Kf.WEBGL_INTERNAL_ERROR,"create lut texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t[r],n[r],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,e[r]),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.lutTextures.push(i)}}updateRedness(e){const t=3.141593;let n,r,i=e,o=i;i>1&&(i=1),i<0&&(i=0),o>1&&(o=1),o<0&&(o=0),this.mfacts_rotate_c=.8*i,o<.8&&(o=0),this.mskin_he_max=175/180*t,this.mskin_hc_max=173/180*t,this.mskin_he_min=(115-4*o)/180*t,this.mskin_hc_min=(116-4*o)/180*t,this.mskin_hc_axis=(117-4*o)/180*t,this.mskin_hc_axis<this.mskin_hc_min&&(this.mskin_hc_axis=this.mskin_hc_min),this.mskin_hc_min<t/2&&(this.mskin_hc_min=t/2),this.mskin_hc_axis<t/2&&(this.mskin_hc_axis=t/2),this.mskin_he_min<t/2&&(this.mskin_he_min=t/2),this.mskin_hc_max>t&&(this.mskin_hc_max=t),this.mskin_hc_axis>t&&(this.mskin_hc_axis=t),this.mskin_he_max>t&&(this.mskin_he_max=t),n=this.mskin_he_max-this.mskin_hc_max,r=this.mskin_hc_max-this.mskin_hc_axis,this.mfacts_rotate_ge=n>.01?this.mfacts_rotate_c*r/n:this.mfacts_rotate_c,n=this.mskin_hc_min-this.mskin_he_min,r=this.mskin_hc_axis-this.mskin_hc_min,this.mfacts_rotate_le=n>.01?this.mfacts_rotate_c*r/n:this.mfacts_rotate_c}updateLut(e){let t=null;if(0===e&&(t=DR),1===e&&(t=LR),2===e&&(t=PR),!t)throw new Yf(Kf.WEBGL_INTERNAL_ERROR,"invalid ylut_table value:"+e);this.tab_addr=new Uint8Array(t);const n=[this.tab_addr],r=[256],i=[1];for(let e=0;e<n.length;e++)this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[e]),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,r[e],i[e],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,n[e])}}class FR{constructor(){Qh(this,"gl",null),Qh(this,"canvas",null),Qh(this,"programs",[]),Qh(this,"commonProgram",null),Qh(this,"inputTexture",null),Qh(this,"outputTextures",[]),Qh(this,"fbos",[]),Qh(this,"originalFrameWidth",0),Qh(this,"originalFrameHeight",0),Qh(this,"enableBeauty",!1),Qh(this,"denoiseLevel",5),Qh(this,"lightLevel",.35),Qh(this,"rednessLevel",.5),Qh(this,"lighteningContrastLevel",1)}setEnableBeauty(e){this.enableBeauty=!!e}init(e,t,n){if(!ly().supportWebGL)throw new Yf(Kf.NOT_SUPPORTED,"your browser is not support webGL");if(this.gl=n.getContext("webgl"),!this.gl)throw new Yf(Kf.WEBGL_INTERNAL_ERROR,"can not get webgl context");if(this.initGL(e,t),!this.inputTexture)throw new Yf(Kf.WEBGL_INTERNAL_ERROR,"can not find input texture");this.canvas=n,this.programs.push(new wR(this.gl)),this.programs.push(new RR(this.gl,e,t)),this.programs.push(new OR(this.gl,e,t)),this.programs.push(new NR(this.gl,e,t)),this.programs.push(new MR(this.gl,this.inputTexture,e,t)),this.commonProgram=this.programs[0].program,this.setDenoiseLevel(this.denoiseLevel),this.setLightLevel(this.lightLevel),this.setRednessLevel(this.rednessLevel),this.setContrastLevel(this.lighteningContrastLevel)}render(e){if(!this.gl||!this.commonProgram||!this.canvas)return void im.warning("video effect manager is not init!");let t=0;if(this.originalFrameHeight===e.videoWidth&&this.originalFrameWidth===e.videoHeight)t=2;else if(this.originalFrameHeight!==e.videoHeight||this.originalFrameWidth!==e.videoWidth){if(im.debug("beauty effect: resolution changed ".concat(this.originalFrameWidth,"x").concat(this.originalFrameHeight," -> ").concat(e.videoWidth,"x").concat(e.videoHeight)),0===e.videoHeight||0===e.videoWidth)return void im.debug("beauty effect: skip 0 resolution frame");this.canvas.width=e.videoWidth,this.canvas.height=e.videoHeight,e.setAttribute("width",e.videoWidth.toString()),e.setAttribute("height",e.videoHeight.toString()),this.release(),this.init(e.videoWidth,e.videoHeight,this.canvas)}this.gl.viewport(0,0,e.videoWidth,e.videoHeight),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e);const n=this.enableBeauty?this.programs.length-1:0;for(let e=0;e<=n;e++){const n=this.programs[e].program;this.gl.useProgram(n);const r=this.gl.getUniformLocation(n,"u_image");this.programs[e].setUniforms(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbos[t+e%2]),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.outputTextures[t+e%2]),this.gl.uniform1i(r,0)}this.gl.useProgram(this.commonProgram);const r=this.gl.getUniformLocation(this.commonProgram,"u_flipY");this.gl.uniform1f(r,-1),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}setDenoiseLevel(e){this.programs.forEach((t=>{t instanceof TR&&t.setParameters({denoiseLevel:e})})),this.denoiseLevel=e}setLightLevel(e){this.programs.forEach((t=>{t instanceof TR&&t.setParameters({lightLevel:e})})),this.lightLevel=e}setRednessLevel(e){this.programs.forEach((t=>{t instanceof TR&&t.setParameters({rednessLevel:e})})),this.rednessLevel=e}setContrastLevel(e){this.programs.forEach((t=>{t instanceof TR&&t.setParameters({lighteningContrastLevel:e})})),this.lighteningContrastLevel=e}setSize(e,t){this.programs.forEach((n=>{n instanceof TR&&n.setSize(e,t)}))}release(){this.gl=null,this.commonProgram=null,this.inputTexture=null,this.programs=[],this.outputTextures=[],this.fbos=[]}initGL(e,t){if(!this.gl)throw new Yf(Kf.WEBGL_INTERNAL_ERROR,"can not find webgl context");this.inputTexture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);for(let n=0;n<4;n++){const r=this.gl.createTexture();if(!r)throw new Yf(Kf.WEBGL_INTERNAL_ERROR,"create texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),n<2?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,t,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null):this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,t,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null);const i=this.gl.createFramebuffer();if(!i)throw new Yf(Kf.WEBGL_INTERNAL_ERROR,"create frame buffer failed");this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,i),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,r,0),this.outputTextures.push(r),this.fbos.push(i)}this.gl.viewport(0,0,e,t),this.originalFrameWidth=e,this.originalFrameHeight=t}}class UR{constructor(){Qh(this,"targetFrameRate",0),Qh(this,"recordedFrameCount",0),Qh(this,"recordingTime",2),Qh(this,"recordID",void 0)}async startRecordBeautyEffectOutput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(this.recordID)throw new Yf(Kf.UNEXPECTED_ERROR,"another beauty effect recording is in progress");const n=$_(6,"");return this.recordID=n,this.targetFrameRate=e,this.recordedFrameCount=0,this.recordingTime=t,await J_(1e3*this.recordingTime),this.recordID!==n?(this.recordID=void 0,!0):(this.recordID=void 0,this.recordedFrameCount<this.targetFrameRate*this.recordingTime/2?(im.warning("detect beauty effect overload, current framerate",this.recordedFrameCount/2),!1):(im.debug("beauty effect current framerate",this.recordedFrameCount/2),!0))}stopRecordBeautyEffectOutput(){this.targetFrameRate=0,this.recordedFrameCount=0,this.recordID=void 0}addFrame(){this.recordID&&(this.recordedFrameCount+=1)}}class jR extends bR.exports.VideoProcessor{constructor(){super(),Qh(this,"name","BeautyProcessor"),Qh(this,"fps",15),Qh(this,"canvas",void 0),Qh(this,"video",void 0),Qh(this,"manager",void 0),Qh(this,"overloadDetector",new UR),Qh(this,"stopChromeBackgroundLoop",null),Qh(this,"onOverload",void 0),Qh(this,"stopLoop",void 0),Qh(this,"lastRenderTime",0),this.fps=30,this.manager=new FR,this._enabled=!1}async onEnableChange(e){this.manager.setEnableBeauty(e),this.context&&this.inputTrack&&(e?await this.startEffect(this.inputTrack,this.context):await this.stopEffect(this.inputTrack,this.context))}async setBeautyEffectOptions(e){if(function(e){void 0!==e.smoothnessLevel&&Sv(e.smoothnessLevel,"options.smoothnessLevel",0,1,!1),void 0!==e.lighteningLevel&&Sv(e.lighteningLevel,"options.lighteningLevel",0,1,!1),void 0!==e.rednessLevel&&Sv(e.rednessLevel,"options.rednessLevel",0,1,!1),void 0!==e.lighteningContrastLevel&&_v(e.lighteningContrastLevel,"options.lighteningContrastLevel",[0,1,2])}(e),void 0!==e.smoothnessLevel){const t=Math.max(.1,10*e.smoothnessLevel);this.manager.setDenoiseLevel(t)}if(void 0!==e.lighteningLevel){const t=Math.max(.1,e.lighteningLevel/2);this.manager.setLightLevel(t)}if(void 0!==e.rednessLevel){const t=Math.max(.01,e.rednessLevel);this.manager.setRednessLevel(t)}if(void 0!==e.lighteningContrastLevel){const t=e.lighteningContrastLevel;this.manager.setContrastLevel(t)}}async onTrack(e,t){var n;this.video&&this.enabled&&(null===(n=this.stopLoop)||void 0===n||n.call(this),await this.stopEffect(e,t)),await this.startEffect(e,t)}async startEffect(e,t){if(!this.enabled)return;const n=Sh(),r=await this.renderWithWebGL(e);this.output(r,t),im.info("start video effect, output:",this.outputTrack),this.overloadDetector.startRecordBeautyEffectOutput(this.fps).then((e=>{e||this.onOverload&&this.onOverload()}));let i=!1;this.stopLoop=()=>{i=!0};const o=()=>{this.enabled&&!i&&requestAnimationFrame(o);const e=Date.now(),t=1e3/this.fps,n=this.lastRenderTime?e-this.lastRenderTime:t;n<t||(this.lastRenderTime=e-(n-t),this.video&&this.video.paused&&this.video.play(),this.enabled&&this.video&&(this.manager.render(this.video),this.outputTrack&&this.outputTrack.requestFrame&&this.outputTrack.requestFrame(),this.overloadDetector.addFrame()))};requestAnimationFrame(o),n.name===yh.CHROME&&document.addEventListener("visibilitychange",(()=>{document.hidden?this.stopChromeBackgroundLoop=rE((()=>{this.enabled&&this.video&&this.manager.render(this.video),this.outputTrack&&this.outputTrack.requestFrame&&this.outputTrack.requestFrame(),this.overloadDetector.addFrame()}),this.fps):this.stopChromeBackgroundLoop&&(this.stopChromeBackgroundLoop(),this.stopChromeBackgroundLoop=null)}),!1)}async renderWithWebGL(e){this.canvas&&(this.canvas.remove(),this.canvas=void 0),this.video&&(this.video.remove(),this.video=void 0),this.canvas=document.createElement("canvas"),this.video=document.createElement("video"),this.video.setAttribute("autoplay",""),this.video.setAttribute("muted",""),this.video.muted=!0,this.video.setAttribute("playsinline",""),this.video.setAttribute("style","display:none"),this.video.srcObject=new MediaStream([e]);const t=new sd((e=>{const t=()=>{this.video&&this.video.removeEventListener("playing",t),e(void 0)};this.video&&this.video.addEventListener("playing",t)}));this.video.play(),await t;const n=e.getSettings(),r=n.width||this.video.videoWidth,i=n.height||this.video.videoHeight;if(n.frameRate&&this.fps!==n.frameRate&&(this.fps=n.frameRate,im.debug("beauty video processor: set fps to",this.fps)),im.debug("beauty video processor: width ".concat(r," height ").concat(i)),!r||!i)throw new Yf(Kf.BEAUTY_PROCESSOR_INTERNAL_ERROR,"can not get track resolution");this.canvas.width=r,this.canvas.height=i,this.video.setAttribute("width",r.toString()),this.video.setAttribute("height",i.toString()),this.manager.init(r,i,this.canvas);const o=ly();return this.canvas.captureStream(o.supportRequestFrame?0:this.fps).getVideoTracks()[0]}async stopEffect(e,t){im.info("stop video effect"),this.overloadDetector.stopRecordBeautyEffectOutput(),this.manager.release(),this.canvas&&this.canvas.remove(),this.video&&this.video.remove(),this.canvas=void 0,this.video=void 0,this.output(e,t)}}function VR(e){const t={};if(e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId}),!e.encoderConfig)return t;const n=hm(e.encoderConfig);return t.width=n.width,t.height=n.height,!jh()&&n.frameRate&&(t.frameRate=n.frameRate),Sh().name===yh.EDGE&&"object"==typeof t.frameRate&&(t.frameRate.max=60),kh()&&(t.frameRate={ideal:30,max:30}),t}function BR(e){const t={};if(jh()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,Ih()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){const n=vm(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),Bh()&&(t.sampleRate=void 0),t}var zR,GR;!function(e){e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE"}(zR||(zR={})),function(e){e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT"}(GR||(GR={}));var HR,qR,WR,ZR,KR,YR,QR,JR,XR,$R,eI,tI,nI,rI,iI,oI,aI,sI,cI,lI,uI,dI,hI,pI,fI,mI,vI,gI,yI,bI,EI,_I=new class{constructor(){Qh(this,"_clientSize",null),Qh(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),Qh(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),Qh(this,"getStyle",(e=>window.getComputedStyle(e,null))),Qh(this,"checkCssVisibleProperty",(e=>{let t=!0;const n=this.getStyle(e),{display:r,visibility:i,opacity:o,filter:a}=n;return("none"===r||["hidden","collapse"].includes(i)||Number(o)<.1)&&(t=!1),!!t&&(a&&a.split(" ").filter((e=>{const t=e.split("(")[0];return["brightness","blur","opacity"].includes(t)})).map((e=>{const[t,n]=e.split(/\(|\)/);return[t,Number(n.match(/^[0-9\.]+/))]})).forEach((e=>{const[n,r]=e;switch(n){case"brightness":(r<.1||r>3)&&(t=!1);break;case"blur":r>3&&(t=!1);break;case"opacity":r<.1&&(t=!1)}})),t)})),Qh(this,"checkPropertyUpToAllParentNodes",((e,t)=>{let n=!0,r=!0;const i=e=>t(e);let o=e;for(;o&&r;)i(o)||(n=!1,r=!1),o=o.parentElement,o||(r=!1);return n})),Qh(this,"checkActualCssVisibleIncludeInherit",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),Qh(this,"getSizeAboutClient",(e=>{const{width:t,height:n,left:r,right:i,top:o,bottom:a}=e.getBoundingClientRect(),s=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:n,left:r,right:i,top:o,bottom:a,clientWidth:s,clientHeight:c,clientMin:Math.min(s,c)}})),Qh(this,"checkActualSize",(()=>{const{width:e,height:t,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(e,t,n)})),Qh(this,"elementFromPoint",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),Qh(this,"checkCoverForAPoint",((e,t,n)=>{const r=this.elementFromPoint(e,t);return null!==r&&r!==n})),Qh(this,"getPointPositionList",(()=>{const{width:e,height:t,left:n,top:r}=this._clientSize,i=e/6,o=t/6,a=[],s=10**6;for(let e=0;e<5;e++)for(let t=0;t<5;t++){const c=(n*s+(0===e?.1:4===e?(i*e*s-1e5)/s:i*e)*s)/s,l=(r*s+(0===t?.1:4===t?(o*t*s-1e5)/s:o*t)*s)/s;a.push({x:c,y:l})}return[...a]})),Qh(this,"checkElementCover",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),Qh(this,"checkSizeIsVisible",((e,t,n)=>(e>50||n/e<=10)&&(t>50||n/t<=10))),Qh(this,"checkSizeOfPartInClient",(()=>{const{left:e,right:t,top:n,bottom:r,clientHeight:i,clientWidth:o,clientMin:a}=this._clientSize;let s,c,l,u;if(e<0)s=0;else{if(!(e<o))return!1;s=e}if(t<0)return!1;if(c=t<o?t:o,n<0)l=0;else{if(!(n<i))return!1;l=n}if(r<0)return!1;u=r<i?r:i;const d=c-s,h=u-l;return this.checkSizeIsVisible(d,h,a)})),Qh(this,"returnHiddenResult",(e=>(this._clientSize=null,{visible:!1,reason:e}))),Qh(this,"checkOneElementVisible",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(zR.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(zR.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(zR.SIZE)}}return this.returnHiddenResult(zR.STYLE)}return this.returnHiddenResult(GR.UNMOUNTED)}return this.returnHiddenResult(GR.INVALID_HTML_ELEMENT)})),Qh(this,"checkElementIsMountedOnDom",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SI(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let wI=(HR=zb({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:"HTMLElement",n]}),qR=AE(),WR=zb({argsMap:e=>[e.getTrackId()]}),ZR=Kb("LocalVideoTrack","_enabledMutex"),KR=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),YR=AE(),QR=Kb("LocalVideoTrack","_enabledMutex"),JR=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),XR=AE(),$R=AE(),eI=zb({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),tI=AE(),nI=AE(),rI=AE(),iI=AE(),oI=AE(),aI=AE(),sI=AE(),cI=zb({argsMap:(e,t)=>[e.getTrackId(),t.name]}),lI=zb({argsMap:e=>[e.getTrackId()]}),uI=zb({argsMap:e=>[e.getTrackId()]}),yb((dI=class e extends Yb{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==xv.PLAYING)}get __className__(){return"LocalVideoTrack"}constructor(e,t,n,r,i,o){super(e,i),Qh(this,"trackMediaType","video"),Qh(this,"_player",void 0),Qh(this,"_videoBeautyProcessor",void 0),Qh(this,"_videoVisibleTimer",null),Qh(this,"_previousVideoVisibleStatus",void 0),Qh(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),Qh(this,"_encoderConfig",void 0),Qh(this,"_scalabiltyMode",{numSpatialLayers:1,numTemporalLayers:1}),Qh(this,"_optimizationMode",void 0),Qh(this,"_videoHeight",void 0),Qh(this,"_videoWidth",void 0),Qh(this,"_forceBitrateLimit",void 0),Qh(this,"_enabled",!0),Qh(this,"processorDestination",void 0),Qh(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this._encoderConfig=t,this._scalabiltyMode=n,this._optimizationMode=r,this._hints=o||[],-1===this._hints.indexOf(Lg.SCREEN_TRACK)&&this.updateBitrateFromProfile(),this.processorContext=new y_(this.getTrackId(),"local"),this.processorDestination=new g_(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){const t=document.getElementById(e);t?e=t:(im.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}im.debug("[".concat(this.getTrackId(),"] start video playback"),JSON.stringify(t));const n=AI(AI(AI({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(this._player=new vR(n),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.emit(Ug.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),ym("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,im.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(im.info("[".concat(this.getTrackId(),"] start setEnabled"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await oS(this,Dg.NEED_DISABLE_TRACK,this)}catch(e){throw im.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}return t||(this._enabled=!1),void im.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await oS(this,Dg.NEED_ENABLE_TRACK,this)}catch(e){throw im.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.toString()),e}im.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,im.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await oS(this,Dg.NEED_MUTE_TRACK,this):await oS(this,Dg.NEED_UNMUTE_TRACK,this))}getStats(){return pS((()=>{im.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")}),"localVideoTrackGetStatsWarning"),aS(this,Dg.GET_STATS)||AI({},dg)}async setBeautyEffect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e||this._videoBeautyProcessor){if(Ch()===gh.IOS||Ch()===gh.ANDROID)throw new Yf(Kf.INVALID_OPERATION,"can not enable beauty effect on mobile device");if(!this._enabled&&e)throw new Yf(Kf.TRACK_IS_DISABLED,"can not enable beauty effect when track is disabled");if(im.info("[".concat(this.getTrackId(),"] start setBeautyEffect"),e,JSON.stringify(t)),this._videoBeautyProcessor||e){try{if(!this._videoBeautyProcessor)if(this._videoBeautyProcessor=new jR,this.processor){const e=this.processor;this.pipe(this._videoBeautyProcessor).pipe(e)}else this.pipe(this._videoBeautyProcessor).pipe(this.processorDestination);await this._videoBeautyProcessor.setBeautyEffectOptions(t),e?await this._videoBeautyProcessor.enable():await this._videoBeautyProcessor.disable()}catch(e){throw im.error("[".concat(this.getTrackId(),"] setBeautyEffect error"),e.toString()),e}im.info("[".concat(this.getTrackId(),"] setBeautyEffect success"))}}}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await hR(e)}clone(t,n,r,i){const o=this._mediaStreamTrack.clone();return new e(o,t,n,r,i)}async setBitrateLimit(e){if(im.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await oS(this,Dg.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw()}}}async setOptimizationMode(e){if("motion"!==e&&"detail"!==e&&"balanced"!==e)return void im.error(Kf.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const t=this._optimizationMode;try{this._optimizationMode=e,await oS(this,Dg.SET_OPTIMIZATION_MODE,this)}catch(e){throw this._optimizationMode=t,im.error("[".concat(this.getTrackId(),"] set optimization mode failed"),e.toString()),e}im.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(e,")"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return im.error(Kf.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabiltyMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabiltyMode=e,im.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(e,")"))}updateMediaStreamTrackResolution(){nS(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(tS)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:n}=this.getMediaStreamTrackSettings();if(!e||!t||!n)return;const[r,i]=function(e,t,n){const r=ym("BITRATE_ADAPTER_TYPE");let i;const o=200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75),a=o;if("STANDARD_BITRATE"===r)i=4*o;else{if("COMPATIABLE_BITRATE"!==r)return;i=2*o}return[Math.floor(i),Math.floor(a)]}(e,t,n)||[void 0,void 0];this._encoderConfig.bitrateMin||this._encoderConfig.bitrateMax||(this._encoderConfig.bitrateMin=i,this._encoderConfig.bitrateMax=r,im.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(r,", brMin: ").concat(i,"]")))}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:i,slot:o}=r;if(this.isPlaying&&i instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=_I.checkOneElementVisible(i),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new Yf(Kf.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this._videoBeautyProcessor&&e!==this._videoBeautyProcessor)return this._videoBeautyProcessor.pipe(e);if(this.processor===e)return e;if(e._source)throw new Yf(Kf.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;if(this._videoBeautyProcessor&&this.processor===this._videoBeautyProcessor)return void this._videoBeautyProcessor.unpipe();const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}bindProcessorDestinationEvents(){this.processorDestination.on(ey.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await oS(this,Dg.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await oS(this,Dg.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(ey.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(ty.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(ty.REQUEST_CONSTRAINTS)}}).prototype,"play",[HR,qR],Object.getOwnPropertyDescriptor(dI.prototype,"play"),dI.prototype),yb(dI.prototype,"stop",[WR],Object.getOwnPropertyDescriptor(dI.prototype,"stop"),dI.prototype),yb(dI.prototype,"setEnabled",[ZR,KR,YR],Object.getOwnPropertyDescriptor(dI.prototype,"setEnabled"),dI.prototype),yb(dI.prototype,"setMuted",[QR,JR,XR],Object.getOwnPropertyDescriptor(dI.prototype,"setMuted"),dI.prototype),yb(dI.prototype,"getStats",[$R],Object.getOwnPropertyDescriptor(dI.prototype,"getStats"),dI.prototype),yb(dI.prototype,"setBeautyEffect",[eI,tI],Object.getOwnPropertyDescriptor(dI.prototype,"setBeautyEffect"),dI.prototype),yb(dI.prototype,"getCurrentFrameData",[nI],Object.getOwnPropertyDescriptor(dI.prototype,"getCurrentFrameData"),dI.prototype),yb(dI.prototype,"getCurrentFrameImage",[rI],Object.getOwnPropertyDescriptor(dI.prototype,"getCurrentFrameImage"),dI.prototype),yb(dI.prototype,"setBitrateLimit",[iI],Object.getOwnPropertyDescriptor(dI.prototype,"setBitrateLimit"),dI.prototype),yb(dI.prototype,"setOptimizationMode",[oI],Object.getOwnPropertyDescriptor(dI.prototype,"setOptimizationMode"),dI.prototype),yb(dI.prototype,"setScalabiltyMode",[aI],Object.getOwnPropertyDescriptor(dI.prototype,"setScalabiltyMode"),dI.prototype),yb(dI.prototype,"updateMediaStreamTrackResolution",[sI],Object.getOwnPropertyDescriptor(dI.prototype,"updateMediaStreamTrackResolution"),dI.prototype),yb(dI.prototype,"pipe",[cI],Object.getOwnPropertyDescriptor(dI.prototype,"pipe"),dI.prototype),yb(dI.prototype,"unpipe",[lI],Object.getOwnPropertyDescriptor(dI.prototype,"unpipe"),dI.prototype),yb(dI.prototype,"close",[uI],Object.getOwnPropertyDescriptor(dI.prototype,"close"),dI.prototype),dI),TI=(hI=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),pI=AE(),fI=Kb("CameraVideoTrack","_enabledMutex"),mI=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),vI=AE(),gI=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),yI=AE(),bI=zb({argsMap:e=>[e.getTrackId()]}),yb((EI=class extends wI{get __className__(){return"CameraVideoTrack"}constructor(e,t,n,r,i,o){super(e,t.encoderConfig?hm(t.encoderConfig):{},r,i,o),Qh(this,"_config",void 0),Qh(this,"_originalConstraints",void 0),Qh(this,"_constraints",void 0),Qh(this,"_enabled",!0),Qh(this,"_deviceName","default"),Qh(this,"tryResumeVideoForIOS15WeChat",(async()=>{Ph()&&!Mh()&&Uh()&&this._enabled&&!this._isClosed&&(im.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())})),this._config=t,this._originalConstraints=n,this._constraints=n,this._deviceName=e.label,this._config.encoderConfig&&(this._encoderConfig=hm(this._config.encoderConfig)),$b.on(qb.IOS_15_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),$b.on(qb.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),this.bindProcessorContextEvents()}async setDevice(e){if(im.info("[".concat(this.getTrackId(),"] set device to ").concat(e)),this._enabled)try{const t=await EE.getDeviceById(e),n={};n.video=AI({},this._constraints),n.video.deviceId={exact:e},n.video.facingMode=void 0,this._originMediaStreamTrack.stop();let r=null;try{r=await vE(n,this.getTrackId())}catch(e){throw im.error("[".concat(this.getTrackId(),"] setDevice failed"),e.toString()),r=await vE({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw im.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}else try{const t=await EE.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw im.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}im.info("[".concat(this.getTrackId(),"] setDevice success"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(im.info("[".concat(this.getTrackId(),"] start setEnabled"),e),!e){this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),t||(this._enabled=!1);try{await oS(this,Dg.NEED_DISABLE_TRACK,this)}catch(e){throw im.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}return void im.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}const n=AI({},this._constraints),r=EE.searchDeviceIdByName(this._deviceName);r&&!n.deviceId&&(n.deviceId={exact:r});try{const e=await vE({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),await oS(this,Dg.NEED_ENABLE_TRACK,this)}catch(e){throw im.error("[".concat(this.getTrackId(),"] setEnabled true error"),e.toString()),e}this.updateMediaStreamTrackResolution(),im.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}async setEncoderConfiguration(e,t){if(!this._enabled)throw new Yf(Kf.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");e=hm(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin);const n=dS(this._config);n.encoderConfig=e;const r=VR(n);(Oh()||Nh()||Fh())&&(r.deviceId=void 0),im.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(r));try{await this._originMediaStreamTrack.applyConstraints(r),this.updateMediaStreamTrackResolution()}catch(e){const t=new Yf(Kf.UNEXPECTED_ERROR,e.toString());throw im.error("[".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),t}this._config=n,this._constraints=r,this._originalConstraints=r,this._encoderConfig=e,-1===this._hints.indexOf(Lg.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await oS(this,Dg.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw()}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((Nh()||Fh())&&this._enabled&&!this._isClosed&&$b.duringInterruption){const e=async()=>{$b.off(qb.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(im.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};$b.on(qb.IOS_INTERRUPTION_END,e)}else im.debug("[".concat(this.getTrackId(),"] track ended")),this.emit(Ug.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=EE.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId={exact:n}),this._enabled){const e=await vE({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),$b.off(qb.IOS_15_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),$b.off(qb.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat)}bindProcessorContextEvents(){this.processorContext.on(ty.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})),this.processorContext.on(ty.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}).prototype,"setDevice",[hI,pI],Object.getOwnPropertyDescriptor(EI.prototype,"setDevice"),EI.prototype),yb(EI.prototype,"setEnabled",[fI,mI,vI],Object.getOwnPropertyDescriptor(EI.prototype,"setEnabled"),EI.prototype),yb(EI.prototype,"setEncoderConfiguration",[gI,yI],Object.getOwnPropertyDescriptor(EI.prototype,"setEncoderConfiguration"),EI.prototype),yb(EI.prototype,"close",[bI],Object.getOwnPropertyDescriptor(EI.prototype,"close"),EI.prototype),EI);class CI{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio)return this._audioTrack}get videoTrack(){if(this.hasVideo)return this._videoTrack}constructor(e,t){Qh(this,"uid",void 0),Qh(this,"_uintid",void 0),Qh(this,"_trust_in_room_",!0),Qh(this,"_trust_audio_enabled_state_",!0),Qh(this,"_trust_video_enabled_state_",!0),Qh(this,"_trust_audio_mute_state_",!0),Qh(this,"_trust_video_mute_state_",!0),Qh(this,"_audio_muted_",!1),Qh(this,"_video_muted_",!1),Qh(this,"_audio_enabled_",!0),Qh(this,"_video_enabled_",!0),Qh(this,"_audio_added_",!1),Qh(this,"_video_added_",!1),Qh(this,"_trust_video_stream_added_state_",!0),Qh(this,"_trust_audio_stream_added_state_",!0),Qh(this,"_audioTrack",void 0),Qh(this,"_videoTrack",void 0),Qh(this,"_audioSSRC",void 0),Qh(this,"_videoSSRC",void 0),Qh(this,"_audioOrtc",void 0),Qh(this,"_videoOrtc",void 0),Qh(this,"_cname",void 0),Qh(this,"_rtxSsrcId",void 0),this.uid=e,this._uintid=t}}var RI=ad,II=ol,OI=pl;yn({target:"Promise",stat:!0},{try:function(e){var t=II.f(this),n=OI(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var kI=RI,NI=yn,xI=h,PI=t,DI=hy,LI=Z,MI=Ue,FI=wn,UI=Nm,jI=by,VI=Xy,BI=se,zI=rt("isConcatSpreadable"),GI=9007199254740991,HI="Maximum allowed index exceeded",qI=xI.TypeError,WI=BI>=51||!PI((function(){var e=[];return e[zI]=!1,e.concat()[0]!==e})),ZI=VI("concat"),KI=function(e){if(!LI(e))return!1;var t=e[zI];return void 0!==t?!!t:DI(e)};NI({target:"Array",proto:!0,forced:!WI||!ZI},{concat:function(e){var t,n,r,i,o,a=MI(this),s=jI(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(KI(o=-1===t?a:arguments[t])){if(c+(i=FI(o))>GI)throw qI(HI);for(n=0;n<i;n++,c++)n in o&&UI(s,c,o[n])}else{if(c>=GI)throw qI(HI);UI(s,c++,o)}return s.length=c,s}});var YI={},QI=D,JI=q,XI=wr.f,$I=Fm,eO="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];YI.f=function(e){return eO&&"Window"==QI(e)?function(e){try{return XI(e)}catch(e){return $I(eO)}}(e):XI(JI(e))};var tO={},nO=rt;tO.f=nO;var rO=K,iO=Be,oO=tO,aO=zt.f,sO=function(e){var t=rO.Symbol||(rO.Symbol={});iO(t,e)||aO(t,e,{value:oO.f(e)})},cO=yn,lO=h,uO=$,dO=g,hO=A,pO=l,fO=E,mO=ue,vO=t,gO=Be,yO=hy,bO=y,EO=Z,_O=u,SO=ge,AO=Kt,wO=Ue,TO=q,CO=pt,RO=To,IO=k,OO=wi,kO=ii,NO=wr,xO=YI,PO=Hr,DO=b,LO=zt,MO=ti,FO=w,UO=ac,jO=Ia,VO=ke.exports,BO=Dr,zO=We,GO=rt,HO=tO,qO=sO,WO=Wa,ZO=Ea,KO=Ry.forEach,YO=ar("hidden"),QO="Symbol",JO=GO("toPrimitive"),XO=ZO.set,$O=ZO.getterFor(QO),ek=Object.prototype,tk=lO.Symbol,nk=tk&&tk.prototype,rk=lO.TypeError,ik=lO.QObject,ok=uO("JSON","stringify"),ak=DO.f,sk=LO.f,ck=xO.f,lk=FO.f,uk=pO([].push),dk=VO("symbols"),hk=VO("op-symbols"),pk=VO("string-to-symbol-registry"),fk=VO("symbol-to-string-registry"),mk=VO("wks"),vk=!ik||!ik.prototype||!ik.prototype.findChild,gk=fO&&vO((function(){return 7!=OO(sk({},"a",{get:function(){return sk(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=ak(ek,t);r&&delete ek[t],sk(e,t,n),r&&e!==ek&&sk(ek,t,r)}:sk,yk=function(e,t){var n=dk[e]=OO(nk);return XO(n,{type:QO,tag:e,description:t}),fO||(n.description=t),n},bk=function(e,t,n){e===ek&&bk(hk,t,n),AO(e);var r=CO(t);return AO(n),gO(dk,r)?(n.enumerable?(gO(e,YO)&&e[YO][r]&&(e[YO][r]=!1),n=OO(n,{enumerable:IO(0,!1)})):(gO(e,YO)||sk(e,YO,IO(1,{})),e[YO][r]=!0),gk(e,r,n)):sk(e,r,n)},Ek=function(e,t){AO(e);var n=TO(t),r=kO(n).concat(wk(n));return KO(r,(function(t){fO&&!hO(_k,n,t)||bk(e,t,n[t])})),e},_k=function(e){var t=CO(e),n=hO(lk,this,t);return!(this===ek&&gO(dk,t)&&!gO(hk,t))&&(!(n||!gO(this,t)||!gO(dk,t)||gO(this,YO)&&this[YO][t])||n)},Sk=function(e,t){var n=TO(e),r=CO(t);if(n!==ek||!gO(dk,r)||gO(hk,r)){var i=ak(n,r);return!i||!gO(dk,r)||gO(n,YO)&&n[YO][r]||(i.enumerable=!0),i}},Ak=function(e){var t=ck(TO(e)),n=[];return KO(t,(function(e){gO(dk,e)||gO(BO,e)||uk(n,e)})),n},wk=function(e){var t=e===ek,n=ck(t?hk:TO(e)),r=[];return KO(n,(function(e){!gO(dk,e)||t&&!gO(ek,e)||uk(r,dk[e])})),r};if(mO||(jO(nk=(tk=function(){if(_O(nk,this))throw rk("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?RO(arguments[0]):void 0,t=zO(e),n=function(e){this===ek&&hO(n,hk,e),gO(this,YO)&&gO(this[YO],t)&&(this[YO][t]=!1),gk(this,t,IO(1,e))};return fO&&vk&&gk(ek,t,{configurable:!0,set:n}),yk(t,e)}).prototype,"toString",(function(){return $O(this).tag})),jO(tk,"withoutSetter",(function(e){return yk(zO(e),e)})),FO.f=_k,LO.f=bk,MO.f=Ek,DO.f=Sk,NO.f=xO.f=Ak,PO.f=wk,HO.f=function(e){return yk(GO(e),e)},fO&&sk(nk,"description",{configurable:!0,get:function(){return $O(this).description}})),cO({global:!0,wrap:!0,forced:!mO,sham:!mO},{Symbol:tk}),KO(kO(mk),(function(e){qO(e)})),cO({target:QO,stat:!0,forced:!mO},{for:function(e){var t=RO(e);if(gO(pk,t))return pk[t];var n=tk(t);return pk[t]=n,fk[n]=t,n},keyFor:function(e){if(!SO(e))throw rk(e+" is not a symbol");if(gO(fk,e))return fk[e]},useSetter:function(){vk=!0},useSimple:function(){vk=!1}}),cO({target:"Object",stat:!0,forced:!mO,sham:!fO},{create:function(e,t){return void 0===t?OO(e):Ek(OO(e),t)},defineProperty:bk,defineProperties:Ek,getOwnPropertyDescriptor:Sk}),cO({target:"Object",stat:!0,forced:!mO},{getOwnPropertyNames:Ak,getOwnPropertySymbols:wk}),cO({target:"Object",stat:!0,forced:vO((function(){PO.f(1)}))},{getOwnPropertySymbols:function(e){return PO.f(wO(e))}}),ok&&cO({target:"JSON",stat:!0,forced:!mO||vO((function(){var e=tk();return"[null]"!=ok([e])||"{}"!=ok({a:e})||"{}"!=ok(Object(e))}))},{stringify:function(e,t,n){var r=UO(arguments),i=t;if((EO(t)||void 0!==e)&&!SO(e))return yO(t)||(t=function(e,t){if(bO(i)&&(t=hO(i,this,e,t)),!SO(t))return t}),r[1]=t,dO(ok,null,r)}}),!nk[JO]){var Tk=nk.valueOf;jO(nk,JO,(function(e){return hO(Tk,this)}))}WO(tk,QO),BO[YO]=!0,sO("asyncIterator"),sO("hasInstance"),sO("isConcatSpreadable"),sO("iterator"),sO("match"),sO("matchAll"),sO("replace"),sO("search"),sO("species"),sO("split"),sO("toPrimitive"),sO("toStringTag"),sO("unscopables"),Wa(h.JSON,"JSON",!0);var Ck=K.Symbol;sO("asyncDispose"),sO("dispose"),sO("matcher"),sO("metadata"),sO("observable"),sO("patternMatch"),sO("replaceAll");var Rk=Ck,Ik=tO.f("asyncIterator"),Ok=Ik;function kk(e){this.wrapped=e}function Nk(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof kk;kI.resolve(s?a.wrapped:a).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new kI((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function xk(e){return function(){return new Nk(e.apply(this,arguments))}}function Pk(e){return new kk(e)}Nk.prototype["function"==typeof Rk&&Ok||"@@asyncIterator"]=function(){return this},Nk.prototype.next=function(e){return this._invoke("next",e)},Nk.prototype.throw=function(e){return this._invoke("throw",e)},Nk.prototype.return=function(e){return this._invoke("return",e)};var Dk=tO.f("iterator");function Lk(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new kI((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n[void 0!==Rk&&Dk||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}var Mk=Ik,Fk={exports:{}};function Uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uk(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vk(e,t,n,r,i,o,a){let s=[],c=[],l=[],u=[],d=!1,h=!1;if(Fk.exports.parse(e).mediaDescriptions.forEach((e=>{a&&a!==e.attributes.direction||("video"!==e.media.mediaType||d||(c=e.attributes.payloads,u=e.attributes.extmaps,d=!0),"audio"!==e.media.mediaType||h||(s=e.attributes.payloads,l=e.attributes.extmaps,h=!0))})),!u||0===c.length)throw new Error("Cannot get video capabilities from SDP.");if(!l||0===s.length)throw new Error("Cannot get audio capabilities from SDP.");return c.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))})),s.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))})),t&&(s=s.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),c=c.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),n&&(c=c.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),r&&(s=s.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),i&&(null==i?void 0:i.length)>0&&(s=s.filter((e=>{var t;return i.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),o&&(null==o?void 0:o.length)>0&&(c=c.filter((e=>{var t;return o.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),{audioCodecs:s,videoCodecs:c,audioExtensions:l,videoExtensions:u}}function Bk(e){const t=Fk.exports.parse(e);let n,r;for(const e of t.mediaDescriptions){if(!n){const t=e.attributes.iceUfrag,r=e.attributes.icePwd;if(!t||!r)throw new Error("Cannot get iceUfrag or icePwd from SDP.");n={iceUfrag:t,icePwd:r}}if(!r){const t=e.attributes.fingerprints;t.length>0&&(r={fingerprints:t})}}if(!r&&t.attributes.fingerprints.length>0&&(r={fingerprints:t.attributes.fingerprints}),!r||!n)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:n,dtlsParameters:r}}function zk(e,t){const n=[],r=e.attributes.ssrcGroups.filter((e=>"FID"===e.semantic)),i=e.attributes.ssrcGroups.find((e=>"SIM"===e.semantic)),o=e.attributes.ssrcs;if(i)i.ssrcIds.forEach((e=>{var i;const o=null===(i=r.find((t=>t.ssrcIds[0]===e)))||void 0===i?void 0:i.ssrcIds[1];n.push({ssrcId:e,rtx:t?o:void 0})}));else if(r.length>0){const e=r[0].ssrcIds[0],i=r[0].ssrcIds[1];n.push({ssrcId:e,rtx:t?i:void 0})}else{if(0===o.length)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:o[0].ssrcId})}return n}function Gk(e,t){const{cname:n}=e;let r;t&&t.ip&&"number"==typeof t.port?(r=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip,port:t.port.toString(),type:"host",extension:{}}],im.debug("Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),t.ip6&&(r.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip6,port:t.port.toString(),type:"host",extension:{}}),im.debug("Using IPV6 remote candidate from AP ".concat(t.ip6,":").concat(t.port)))):r=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}})));const i={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},o={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let a;switch(e.dtlsParameters.role){case"server":a="passive";break;case"client":a="active";break;case"auto":a="actpass"}return{dtlsParameters:i,iceParameters:o,candidates:r,rtpCapabilities:$k(e.rtpCapabilities),setup:a,cname:n}}function Hk(e,t,n){const r=[],i=[];return e.forEach((e=>{let{ssrcId:o,rtx:a}=e;const s=$_(8,"track-"),c={ssrcId:o,attributes:jk({label:s,mslabel:n=n||$_(10,""),msid:"".concat(n," ").concat(s)},t&&{cname:t})};if(r.push(c),void 0!==a){const e={ssrcId:a,attributes:jk({label:s,mslabel:n,msid:"".concat(n," ").concat(s)},t&&{cname:t})};r.push(e),i.push({semantic:"FID",ssrcIds:[o,a]})}})),e.length>1&&i.push({semantic:"SIM",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:r,ssrcGroups:i}}function qk(e,t){t instanceof T_&&e.attributes.payloads.forEach((e=>{var n;const r=null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase();if(!r||-1===["opus","pcmu","pcma","g722"].indexOf(r))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime="10",e.fmtp.parameters.useinbandfec="1";const i=t._encoderConfig;i&&"pcmu"!==r&&"pcma"!==r&&"g722"!==r&&(i.bitrate&&!kh()&&(e.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*i.bitrate))),i.sampleRate&&(e.fmtp.parameters.maxplaybackrate="".concat(i.sampleRate),e.fmtp.parameters["sprop-maxcapturerate"]="".concat(i.sampleRate)),i.stereo&&(e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"))}))}function Wk(e){const t=e.attributes.unrecognized.findIndex((e=>"x-google-flag"===e.attField&&"conference"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function Zk(e,t){if(!(t instanceof wI&&t._encoderConfig&&-1===t._hints.indexOf(Lg.SCREEN_TRACK)))return;const n=t._encoderConfig;ly().supportMinBitrate&&n.bitrateMin&&e.attributes.payloads.forEach((e=>{var t;["h264","vp8","vp9","av1"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-min-bitrate"]="".concat(n.bitrateMin))})),ly().supportMinBitrate&&!t._hints.includes(Lg.LOW_STREAM)&&n.bitrateMax&&e.attributes.payloads.forEach((e=>{var t;["h264","vp8","vp9","av1"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-start-bitrate"]="".concat(ym("X_GOOGLE_START_BITRATE")||Math.floor(n.bitrateMax)))}))}function Kk(e){if("video"!==e.media.mediaType)return;const t=Sh();if(t.name!==yh.SAFARI&&t.os!==gh.IOS)return;const n=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==n&&e.attributes.extmaps.splice(n,1)}function Yk(e,t,n){if(!t)return;let r,i;if("video"===e.media.mediaType?(r=n.videoExtensions,i=n.videoCodecs):(r=n.audioExtensions,i=n.audioCodecs),!0===t.tcc){const t=r.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));t&&(e.attributes.extmaps.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"}),function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))))))}(i,e.attributes.payloads).forEach((e=>{e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))||e.rtcpFeedbacks.push({type:"transport-cc"})})))}else if(!1===t.tcc){const t=e.attributes.extmaps.findIndex((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){const t=r.find((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName));t&&(e.attributes.extmaps.find((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}),function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))))))}(i,e.attributes.payloads).forEach((e=>{e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))||e.rtcpFeedbacks.push({type:"goog-remb"})})))}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"goog-remb"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function Qk(e,t,n){if(kh())return;if("video"!==e.media.mediaType)return;if(!(t instanceof wI))return;if("vp9"!==n&&"vp8"!==n)return;if("vp8"===n&&!ym("SIMULCAST"))return;if(void 0===t._scalabiltyMode||t._scalabiltyMode.numSpatialLayers<=1)return;const r="vp8"===n?2:t._scalabiltyMode.numSpatialLayers,i=e.attributes.ssrcs[0],o=e.attributes.ssrcGroups.find((e=>"FID"===e.semantic&&e.ssrcIds[0]===i.ssrcId)),a={semantic:"SIM",ssrcIds:[i.ssrcId]};for(let t=1;t<r;t++)e.attributes.ssrcs.push({ssrcId:i.ssrcId+t,attributes:dS(i.attributes)}),a.ssrcIds.push(i.ssrcId+t),o&&(e.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+t,attributes:dS(i.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[i.ssrcId+t,o.ssrcIds[1]+t]}));e.attributes.ssrcGroups.unshift(a)}async function Jk(e,t,n,r,i){const o=new RTCPeerConnection;o.addTransceiver("video",{direction:"sendonly"}),o.addTransceiver("audio",{direction:"sendonly"}),o.addTransceiver("video",{direction:"recvonly"}),o.addTransceiver("audio",{direction:"recvonly"});const a=(await o.createOffer()).sdp,s=Vk(a,e,t,n,r,i,"sendonly"),c=Vk(a,e,t,n,r,i,"recvonly"),l={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},u={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},d={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Xk(s,c,"videoExtensions",l,u,d),Xk(s,c,"videoCodecs",l,u,d),Xk(s,c,"audioExtensions",l,u,d),Xk(s,c,"audioCodecs",l,u,d),ym("RAISE_H264_BASELINE_PRIORITY")){const e=d.videoCodecs.findIndex((e=>{var t,n;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"===(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])}));if(-1!==e){const t=d.videoCodecs.findIndex((e=>{var t;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())}));if(t<e){im.debug("raising H264 baseline profile priority");const n=d.videoCodecs[e];d.videoCodecs.splice(e,1),d.videoCodecs.splice(t,0,n)}-1!==t&&(u.videoCodecs=u.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))}))),-1!==t&&ym("FILTER_SEND_H264_BASELINE")&&(l.videoCodecs=l.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))})))}}try{o.close()}catch(e){}return{send:l,recv:u,sendrecv:d}}function Xk(e,t,n,r,i,o){if("videoExtensions"===n||"audioExtensions"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return a.push(n),!0}))?o[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&i[n].push(e)}))}if("videoCodecs"===n||"audioCodecs"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return a.push(n),!0}))?o[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&i[n].push(e)}))}}function $k(e){const{send:t,recv:n,sendrecv:r}=e;if(!r){if(!t||!n)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:t,recv:n}}let i,o;return t?(i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i.audioCodecs=[...t.audioCodecs,...r.audioCodecs],i.videoCodecs=[...t.videoCodecs,...r.videoCodecs],i.audioExtensions=[...t.audioExtensions,...r.audioExtensions],i.videoExtensions=[...t.videoExtensions,...r.videoExtensions]):i=r,n?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...n.audioCodecs,...r.audioCodecs],o.videoCodecs=[...n.videoCodecs,...r.videoCodecs],o.audioExtensions=[...n.audioExtensions,...r.audioExtensions],o.videoExtensions=[...n.videoExtensions,...r.videoExtensions]):o=r,{send:i,recv:o}}function eN(e){"audio"===e.media.mediaType&&e.attributes.payloads.filter((e=>{var t;return"opus"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"}))}!function(e,t){e.exports=(()=>{var e={8:(e,t,n)=>{n.r(t),n.d(t,{Parser:()=>S,Printer:()=>R,parse:()=>N,print:()=>x});const r="\n",i="".concat("\r").concat(r),o=" ";let a;function s(e){return e>="0"&&e<="9"}function c(e){return e>="!"&&e<="~"}function l(e){return c(e)||e>="Â"&&e<="Ã¿"}function u(e){return"!"===e||e>="#"&&e<="'"||e>="*"&&e<="+"||e>="-"&&e<="."||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="^"&&e<="~"}function d(e){return e>="1"&&e<="9"}function h(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"}function p(e){return"d"===e||"h"===e||"m"===e||"s"===e}function f(e){return e>""&&e<"\t"||e>"\v"&&e<"\f"||e>""&&e<"Ã¿"}function m(e){return h(e)||s(e)||"+"===e||"/"===e}function v(e){return s(e)||h(e)||"+"===e||"/"===e||"-"===e||"_"===e}function g(e){return h(e)||s(e)||"+"===e||"/"===e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.VERSION="v",e.ORIGIN="o",e.SESSION_NAME="s",e.INFORMATION="i",e.URI="u",e.EMAIL="e",e.PHONE="p",e.CONNECTION="c",e.BANDWIDTH="b",e.TIME="t",e.REPEAT="r",e.ZONE_ADJUSTMENTS="z",e.KEY="k",e.ATTRIBUTE="a",e.MEDIA="m"}(a||(a={}));class _{consumeText(e,t){let n=t;for(;n<e.length;){const t=e[n];if("\0"===t||"\r"===t||t===r)break;n+=1}if(n-t==0)throw new Error("Invalid text, at ".concat(e));return n}consumeUnicastAddress(e,t,n){return this.consumeTill(e,t,o)}consumeOneOrMore(e,t,n){let r=t;for(;n(e[r]);)r++;if(r-t==0)throw new Error("Invalid rule at ".concat(t,"."));return r}consumeSpace(e,t){if(e[t]===o)return t+1;throw new Error("Invalid space at ".concat(t,"."))}consumeIP4Address(e,t){let n=t;for(let t=0;t<4;t++)if(n=this.consumeDecimalUChar(e,n),3!==t){if("."!==e[n])throw new Error("Invalid IP4 address.");n++}return n}consumeDecimalUChar(e,t){let n=t;for(let t=0;t<3&&s(e[n]);t++,n++);if(n-t==0)throw new Error("Invalid decimal uchar.");const r=parseInt(e.slice(t,n));if(r>=0&&r<=255)return n;throw new Error("Invalid decimal uchar")}consumeIP6Address(e,t){let n=this.consumeHexpart(e,t);return":"===e[n]?(n+=1,n=this.consumeIP4Address(e,n),n):n}consumeHexpart(e,t){let n=t;if(":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}if(n=this.consumeHexseq(e,n),":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}return n}consumeHexseq(e,t){let n=t;for(;n=this.consumeHex4(e,n),":"===e[n]&&":"!==e[n+1];)n+=1;return n}consumeHex4(e,t){let n=0;for(;n<4;n++)if(!((r=e[t+n])>="0"&&r<="9"||r>="a"&&r<="f"||r>="A"&&r<="F")){if(0===n)throw new Error("Invalid hex 4");break}var r;return t+n}consumeFQDN(e,t){let n=t;for(;s(e[n])||h(e[n])||"-"===e[n]||"."===e[n];)n+=1;if(n-t<4)throw new Error("Invalid FQDN");return n}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,l)}consumeMulticastAddress(e,t,n){switch(n){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(n){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const n=this.consumeHexpart(e,t);return"/"===e[n]?this.consumeInteger(e,n+1):n}consumeIP4MulticastAddress(e,t){let n=t+3;const r=e.slice(t,n),i=parseInt(r);if(i<224||i>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let t=0;t<3;t++){if("."!==e[n])throw new Error("Invalid IP4 multicast address.");n+=1,n=this.consumeDecimalUChar(e,n)}return"/"===e[n]&&(n+=1),n=this.consumeTTL(e,n),"/"===e[n]&&(n=this.consumeInteger(e,n)),n}consumeInteger(e,t){if(!d(e[t]))throw new Error("Invalid integer.");for(t+=1;s(e[t]);)t+=1;return t}consumeTTL(e,t){if("0"===e[t])return t+1;if(!d(e[t]))throw new Error("Invalid TTL.");t+=1;for(let n=0;n<2&&s(e[t]);n++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,u)}consumeTime(e,t){let n=t;if("0"===e[n])return n+1;for(d(e[n])&&(n+=1);s(e[n]);)n++;if(n-t<10)throw new Error("Invalid time");return n}consumeAddress(e,t){return this.consumeTill(e,t,o)}consumeTypedTime(e,t){let n=t;return n=this.consumeOneOrMore(e,n,s),p(e[n])?n+1:n}consumeRepeatInterval(e,t){if(!d(e[t]))throw new Error("Invalid repeat interval");for(t+=1;s(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,s)}consume(e,t,n){for(let r=0;r<n.length;r++){if(t+r>=e.length)throw new Error("consume exceeding value length");if(e[t+r]!==n[r])throw new Error("consume ".concat(n," failed at ").concat(r))}return t+n.length}consumeTill(e,t,n){let r=t;for(;r<e.length&&("string"!=typeof n||e[r]!==n)&&("function"!=typeof n||!n(e[r]));)r++;return r}}class S extends _{constructor(){super(),E(this,"records",[]),E(this,"currentLine",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!e.trim())).map(this.parseLine),this.currentLine=0;const n=this.parseVersion(),r=this.parseOrigin(),i=this.parseSessionName(),o=this.parseInformation(),a=this.parseUri(),s=this.parseEmail(),c=this.parsePhone(),l=this.parseConnection(),u=this.parseBandWidth(),d=this.parseTimeFields(),h=this.parseKey(),p=this.parseSessionAttribute(),f=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:n,origin:r,sessionName:i,information:o,uri:a,emails:s,phones:c,connection:l,bandwidths:u,timeFields:d,key:h,attributes:p,mediaDescriptions:f}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error("Record doesn't exit.");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===r)return"\r"===e[t-1]?i:r;throw new Error("Invalid newline character.")}parseLine(e,t){if(e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const n=e[0];if("="!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:n,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new w;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(t,(e=>u(e)&&":"!==e)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,n.attValue=this.extractOneOrMore(t,f)),e.parse(n),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new T(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(e,(e=>u(e)&&":"!==e)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,n.attValue=this.extractOneOrMore(e,f)),t.parse(n),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===a.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const e=this.getCurrentRecord();if(e.type===a.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const n=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let r=!1;"-"===e.value[e.cur]&&(r=!0,e.cur+=1);const i=this.extract(e,this.consumeTypedTime);t.push({time:n,typedTime:i,back:r})}catch(e){break}if(0===t.length)throw new Error("Invalid zone adjustments");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.REPEAT)break;{const n=this.extract(t,this.consumeRepeatInterval),r=this.parseTypedTime(t);e.push({repeatInterval:n,typedTimes:r}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error("Invalid typed time.");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:n}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.BANDWIDTH)break;{const n=this.extractOneOrMore(t,u);if(":"!==t.value[t.cur])throw new Error("Invalid bandwidth field.");t.cur++;const r=this.extractOneOrMore(t,s);e.push({bwtype:n,bandwidth:r}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==a.VERSION)throw new Error("first sdp record must be version");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,s));if(t.length!==e.value.length)throw new Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==a.ORIGIN)throw new Error("second line of sdp must be origin");const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:n,sessVersion:r,nettype:i,addrtype:o,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===a.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==a.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===a.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===a.CONNECTION){const t=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const r=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:n,address:r}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let n=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,n+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const r=[];for(r.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,r.push(this.extract(e,this.consumeToken));if(0===r.length)throw new Error("Invalid proto");const i=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:n,protos:r,fmts:i}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===a.TIME;){const t=this.parseTime(),n=this.parseRepeat(),r=this.parseZone();e.push({time:t,repeats:n,zones:r})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.MEDIA;){const t=this.parseMedia(),n=this.parseInformation(),r=this.parseConnections(),i=this.parseBandWidth(),o=this.parseKey(),a=this.parseMediaAttributes(t);e.push({media:t,information:n,connections:r,bandwidths:i,key:o,attributes:a})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error("Invalid fmts");return t}extract(e,t,...n){const r=t.call(this,e.value,e.cur,...n),i=e.value.slice(e.cur,r);return e.cur=r,i}extractOneOrMore(e,t){const n=this.consumeOneOrMore(e.value,e.cur,t),r=e.value.slice(e.cur,n);return e.cur=n,r}consumeSpaceForRecord(e){if(e.value[e.cur]!==o)throw new Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}class A extends _{constructor(...e){super(...e),E(this,"attributes",void 0),E(this,"digested",!1)}extractOneOrMore(e,t,n){const r=this.consumeOneOrMore(e.attValue,e._cur,t),i=e.attValue.slice(e._cur,r),[o,a]=n||[];if("number"==typeof o&&i.length<o)throw new Error("error in length, should be more or equal than ".concat(o," characters."));if("number"==typeof a&&i.length>a)throw new Error("error in length, should be less or equal than ".concat(a," characters."));return e._cur=r,i}consumeAttributeSpace(e){if(e.attValue[e._cur]!==o)throw new Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}extract(e,t,...n){if(!e.attValue)throw new Error("Nothing to extract from attValue.");const r=t.call(this,e.attValue,e._cur,...n),i=e.attValue.slice(e._cur,r);return e._cur=r,i}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let n=0;n<t.length;n++)if(t[n]!==e.attValue[e._cur+n])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,m,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,m,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,m));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:n})}parseExtmap(e){const t=this.extractOneOrMore(e,s);let n;"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),n=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill,o),i=b(b({entry:parseInt(t,10)},n&&{direction:n}),{},{extensionName:r});this.peekChar(e)===o&&(this.consumeAttributeSpace(e),i.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(i)}parseSetup(e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const t=this.extract(e,this.consumeTill);if("active"!==t&&"passive"!==t&&"actpass"!==t&&"holdconn"!==t)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=t}}class w extends A{constructor(...e){super(...e),E(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing session attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;)this.consumeAttributeSpace(e),n.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:n})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,v)}parseIdentity(e){const t=this.extractOneOrMore(e,g),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");const r=this.extractOneOrMore(e,(e=>e!==o&&f(e)));n.push({name:t,value:r})}this.attributes.identities.push({assertionValue:t,extensions:n})}parseMsidSemantic(e){this.peekChar(e)===o&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}{const n=this.extract(e,this.consumeTill,o);t.identifierList.push(n)}}this.attributes.msidSemantic=t}}class T extends A{constructor(e){super(),E(this,"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing media attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}parseCandidate(e){const t=this.extractOneOrMore(e,m,[1,32]);this.consumeAttributeSpace(e);const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extractOneOrMore(e,s,[1,10]);this.consumeAttributeSpace(e);const a=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const l=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e);const u={foundation:t,componentId:n,transport:r,priority:i,connectionAddress:a,port:l,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),u.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),u.relPort=this.extract(e,this.consumePort));this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),u.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(u)}parseRemoteCandidate(e){const t=[];for(;;){const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumePort);t.push({componentId:n,connectionAddress:r,port:i});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/");const r={encodingName:n,clockRate:this.extractOneOrMore(e,s)};this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),r.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const i=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));i?i.rtpMap=r:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:r,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,s);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,":");let r;":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),r=this.extract(e,this.consumeTill));const i=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));i?i.attributes[n]=r:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[n]:r}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,o);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill),r={};n.split(";").forEach((e=>{let[t,n]=e.split("=");t=t.trim();const i="string"==typeof n?n.trim():null;"string"==typeof t&&t.length>0&&(r[t]=i)}));const i=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));i?i.fmtp={parameters:r}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:r}})}parseFmtParameters(e){const t={},n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");for(t[n]=r;";"===e.attValue[e._cur];){const n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");t[n]=r}return t}parseRtcpFb(e){let t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill,o),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,o);let r;if("trr-int"===n)r={type:n,interval:this.extract(e,this.consumeTill)};else{const t={type:n};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===o&&(t.additional=this.extract(e,this.consumeTill))),r=t}if("*"===t)this.attributes.rtcpFeedbackWildcards.push(r);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(r):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[r]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,u),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,u),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,u,[1,64])};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,u,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>h(e)||s(e)||"_"===e||"-"===e));this.consumeAttributeSpace(e);const n={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===o){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");const t=[];for(;;){const n=this.extract(e,this.consumeToken);t.push(n);try{this.extract(e,this.consume,",")}catch(e){break}}n.payloads=t,this.peekChar(e)===o&&this.extract(e,this.consume,o)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case"depend":{const r={type:t,rids:this.extract(e,this.consume,"=").split(",")};n.params.push(r);break}default:{const r={type:t};"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),r.val=this.extract(e,this.consumeTill,";")),n.params.push(r)}}try{this.extract(e,this.consume,";")}catch(e){break}}}this.attributes.rids.push(n)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,s,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,s,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);n.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:n})}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R{constructor(){C(this,"eol",i)}print(e,t){let n="";return t&&(this.eol=t),n+=this.printVersion(e.version),n+=this.printOrigin(e.origin),n+=this.printSessionName(e.sessionName),n+=this.printInformation(e.information),n+=this.printUri(e.uri),n+=this.printEmail(e.emails),n+=this.printPhone(e.phones),n+=this.printConnection(e.connection),n+=this.printBandwidth(e.bandwidths),n+=this.printTimeFields(e.timeFields),n+=this.printKey(e.key),n+=this.printSessionAttributes(e.attributes),n+=this.printMediaDescription(e.mediaDescriptions),n}printVersion(e){return"v=".concat(e).concat(this.eol)}printOrigin(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?"s=".concat(e).concat(this.eol):""}printInformation(e){return e?"i=".concat(e).concat(this.eol):""}printUri(e){return e?"u=".concat(e).concat(this.eol):""}printEmail(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printPhone(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printConnection(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}printBandwidth(e){let t="";for(const n of e)t+="b=".concat(n.bwtype,":").concat(n.bandwidth).concat(this.eol);return t}printTimeFields(e){let t="";for(const n of e){t+="t=".concat(n.time.startTime," ").concat(n.time.startTime).concat(this.eol);for(const e of n.repeats)t+="r=".concat(e.repeatInterval," ").concat(e.typedTimes.join(" ")).concat(this.eol);n.zoneAdjustments&&(t+="z=",t+="z=".concat(n.zoneAdjustments.map((e=>"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime))).join(" ")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?"k=".concat(e).concat(this.eol):""}printAttributes(e){let t="";for(const n of e)t+="a=".concat(n.attField).concat(n.attValue?":".concat(n.attValue):"").concat(this.eol);return t}printMediaDescription(e){let t="";for(const n of e)t+=this.printMedia(n.media),t+=this.printInformation(n.information),t+=this.printConnections(n.connections),t+=this.printBandwidth(n.bandwidths),t+=this.printKey(n.key),t+=this.printMediaAttributes(n);return t}printConnections(e){let t="";for(const n of e)t+=this.printConnection(n);return t}printMedia(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}printSessionAttributes(e){return new O(this.eol).print(e)}printMediaAttributes(e){return new k(this.eol).print(e)}}class I{constructor(e){C(this,"eol",void 0),this.eol=e}printIceUfrag(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?"":"a=ice-options:".concat(e.join(o)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>"a=fingerprint:".concat(e.hashFunction).concat(o).concat(e.fingerprint))).join(this.eol)+this.eol:""}printExtmap(e){return e.map((e=>"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(o).concat(e.extensionName).concat(e.extensionAttributes?"".concat(o).concat(e.extensionAttributes):"").concat(this.eol))).join("")}printSetup(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(this.eol))).join("")}}class O extends I{print(e){let t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t="";return e.length>0&&(t+=e.map((e=>"a=group:".concat(e.semantic).concat(e.identificationTag.map((e=>"".concat(o).concat(e))).join("")).concat(this.eol))).join("")),t}printIceLite(e){return void 0===e?"":"a=ice-lite"+this.eol}printTlsId(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}printIdentity(e){return 0===e.length?"":e.map((e=>"a=identity:".concat(e.assertionValue).concat(e.extensions.map((e=>"".concat(o).concat(e.name).concat(e.value?"=".concat(e.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return"";let t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(o,"*"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>"".concat(o).concat(e)))),t+this.eol}}class k extends I{print(e){const t=e.attributes;let n="";return n+=this.printRTCP(t.rtcp),n+=this.printIceUfrag(t.iceUfrag),n+=this.printIcePwd(t.icePwd),n+=this.printIceOptions(t.iceOptions),n+=this.printCandidates(t.candidates),n+=this.printRemoteCandidatesList(t.remoteCandidatesList),n+=this.printEndOfCandidates(t.endOfCandidates),n+=this.printFingerprints(t.fingerprints),n+=this.printSetup(t.setup),n+=this.printMid(t.mid),n+=this.printExtmap(t.extmaps),n+=this.printRTPRelated(t),n+=this.printPtime(t.ptime),n+=this.printMaxPtime(t.maxPtime),n+=this.printDirection(t.direction),n+=this.printSSRCGroups(t.ssrcGroups),n+=this.printSSRC(t.ssrcs),n+=this.printRTCPMux(t.rtcpMux),n+=this.printRTCPMuxOnly(t.rtcpMuxOnly),n+=this.printRTCPRsize(t.rtcpRsize),n+=this.printMSId(t.msids),n+=this.printImageattr(t.imageattr),n+=this.printRid(t.rids),n+=this.printSimulcast(t.simulcast),n+=this.printSCTPPort(t.sctpPort),n+=this.printMaxMessageSize(t.maxMessageSize),n+=this.printUnrecognized(t.unrecognized),n}printCandidates(e){return e.map((e=>"a=candidate:".concat(e.foundation).concat(o).concat(e.componentId).concat(o).concat(e.transport).concat(o).concat(e.priority).concat(o).concat(e.connectionAddress).concat(o).concat(e.port).concat(o,"typ").concat(o).concat(e.type).concat(e.relAddr?"".concat(o,"raddr").concat(o).concat(e.relAddr):"").concat(e.relPort?"".concat(o,"rport").concat(o).concat(e.relPort):"").concat(Object.keys(e.extension).map((t=>"".concat(o).concat(t).concat(o).concat(e.extension[t]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(e){return e.map((e=>"a=remote-candidates:".concat(e.join(o)).concat(this.eol))).join("")}printEndOfCandidates(e){return void 0===e?"":"a=end-of-candidates"+this.eol}printRTPRelated(e){if(!e.payloads)return"";const t=e.payloads;let n="";n+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback("*",e))).join("");for(const e of t)n+=this.printRtpMap(e.payloadType,e.rtpMap),n+=this.printFmtp(e.payloadType,e.fmtp),n+=e.rtcpFeedbacks.map((t=>this.printRTCPFeedback(e.payloadType,t))).join("");return n}printFmtp(e,t){if(!t)return"";const n=Object.keys(t.parameters);return 1===n.length&&null===t.parameters[n[0]]?"a=fmtp:".concat(e).concat(o).concat(n[0]).concat(this.eol):"a=fmtp:".concat(e).concat(o).concat(Object.keys(t.parameters).map((e=>"".concat(e,"=").concat(t.parameters[e]))).join(";")).concat(this.eol)}printRtpMap(e,t){return t?"a=rtpmap:".concat(e).concat(o).concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(e,t){let n="a=rtcp-fb:".concat(e).concat(o),r=t;return"trr-int"===r.type?n+="ttr-int".concat(o).concat(r.interval):(n+="".concat(r.type),r.parameter&&(n+="".concat(o).concat(r.parameter),r.additional&&(n+="".concat(o).concat(r.additional)))),n+this.eol}printPtime(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}printDirection(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>"a=ssrc:".concat(e.ssrcId.toString(10)).concat(o).concat(t).concat(e.attributes[t]?":".concat(e.attributes[t]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(e){if(void 0===e)return"";let t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(o).concat(e.netType)),e.addressType&&(t+="".concat(o).concat(e.addressType)),e.address&&(t+="".concat(o).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>"a=msid:".concat(e.id).concat(e.appdata?"".concat(o).concat(e.appdata):"").concat(this.eol))).join("")}printImageattr(e){return e.map((e=>"a=imageattr:".concat(e).concat(this.eol))).join("")}printRid(e){return e.map((e=>{let t="a=rid:".concat(e.id).concat(o).concat(e.direction);return e.payloads&&(t+="".concat(o,"pt=").concat(e.payloads.join(","))),e.params.length>0&&(t+="".concat(o).concat(e.params.map((e=>"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val))).join(";"))),t+this.eol})).join("")}printSimulcast(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?"":"a=max-message-size:".concat(e).concat(this.eol)}printMid(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map((e=>"".concat(o).concat(e.toString(10)))).join("")).concat(this.eol))).join("")}}function N(e){return(new S).parse(e)}function x(e,t){return(new R).print(e,t)}}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8)})()}(Fk);class tN{constructor(e){Qh(this,"sessionDesc",void 0),Qh(this,"localCapabilities",void 0),Qh(this,"rtpCapabilities",void 0),Qh(this,"candidates",void 0),Qh(this,"iceParameters",void 0),Qh(this,"dtlsParameters",void 0),Qh(this,"setup",void 0),Qh(this,"currentMidIndex",void 0),Qh(this,"cname",void 0),e=dS(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:i,remoteSetup:o,localCapabilities:a,sdkCodec:s,cname:c}=e,l=Fk.exports.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n");this.rtpCapabilities=i,this.candidates=r,this.iceParameters=t,this.dtlsParameters=n,this.setup=o,this.localCapabilities=a,this.cname=c;for(let e=0;e<l.mediaDescriptions.length;e++){const a=l.mediaDescriptions[e];if(a.attributes.iceUfrag=t.iceUfrag,a.attributes.icePwd=t.icePwd,a.attributes.fingerprints=n.fingerprints,a.attributes.candidates=r,a.attributes.setup=o,"video"===a.media.mediaType){a.media.fmts=i.videoCodecs.map((e=>e.payloadType.toString(10)));const e=i.videoCodecs.filter((e=>{var t;return null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase().includes(s)}));if(0===e.length)throw new Error("Codec ".concat(s," not supported by remote SDP."));a.attributes.payloads=e,a.attributes.extmaps=i.videoExtensions}"audio"===a.media.mediaType&&(a.media.fmts=i.audioCodecs.map((e=>e.payloadType.toString(10))),a.attributes.payloads=i.audioCodecs,a.attributes.extmaps=i.audioExtensions),l.mediaDescriptions[e]=this.mungMediaDesc(a)}this.sessionDesc=l,this.currentMidIndex=l.mediaDescriptions.length-1}toString(){return Fk.exports.print(this.sessionDesc)}send(e,t,n){const{ssrcs:r,ssrcGroups:i}=Hk(t,this.cname),o=this.sessionDesc.mediaDescriptions.find((t=>e===Kg.VIDEO?"video"===t.media.mediaType:"audio"===t.media.mediaType)),a=r[0].attributes.label,s=r[0].attributes.mslabel;return o.attributes.ssrcs=o.attributes.ssrcs.concat(r),o.attributes.ssrcGroups=o.attributes.ssrcGroups.concat(i),{id:a,mslabel:s}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:n}=e;return this.send(t,n,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const n=[],r=[],i=[];t.attributes.ssrcs.forEach((t=>{e.includes(t.attributes.label||"")?i.push(t):n.push(t)})),t.attributes.ssrcGroups.forEach((e=>{i.map((e=>e.ssrcId)).includes(e.ssrcIds[0])||r.push(e)})),t.attributes.ssrcs=n,t.attributes.ssrcGroups=r}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}receive(e,t,n){e.forEach(((e,t)=>{const n=e._mediaStreamTrack,r=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===n.kind)),i=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[r],e);this.sessionDesc.mediaDescriptions[r]=i}))}stopReceiving(e){}restartICE(e){e=dS(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}mungRecvMediaDsec(e,t){const n=dS(e);return qk(n,t),Zk(n,t),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,n){const r=this.sessionDesc.mediaDescriptions.find((t=>e===Kg.VIDEO?"video"===t.attributes.mid:"audio"===t.attributes.mid));if(r){const e=r.attributes.ssrcs.find((e=>e.attributes.label===t));var i;e&&(e.attributes.label=n,null===(i=e.attributes.msid)||void 0===i||i.replace(t,n))}}mungMediaDesc(e){const t=dS(e);return Wk(t),function(e){const t=e.attributes.extmaps.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const n of t.attributes.ssrcs)if(n.attributes.label===e)return[n]}}function nN(e){if(Array.isArray(e))return e.map((function(e){return e}));if(!rN(e))return e;var t={};for(var n in e)rN(e[n])||Array.isArray(e[n])?t[n]=nN(e[n]):t[n]=e[n];return t}function rN(e){return!("object"!=typeof e||Array.isArray(e)||!e)}var iN=function(){function e(e){this.input=[],this.size=e}return e.prototype.add=function(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)},e.prototype.diffMean=function(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length},e}(),oN=function(e,t){return(oN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function aN(e,t){function n(){this.constructor=e}oN(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var sN=function(){return(sN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function cN(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function lN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var uN,dN={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},hN={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:dN,remoteCandidate:dN}},pN={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},fN={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,qpSumPerFrame:0},mN={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0},vN={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0},gN=function(){function e(e,t){var n=this;this.videoIsReady=!1,this.videoIsReady2={},this.stats=nN(hN),this.isFirstVideoReceived={},this.isFirstVideoDecoded={},this.isFirstAudioReceived={},this.isFirstAudioDecoded={},this.lossRateWindowStats=[],this.pc=e,this.options=t,this.intervalTimer=window.setInterval((function(){return cN(n,void 0,void 0,(function(){return lN(this,(function(e){return this.updateStats(),[2]}))}))}),this.options.updateInterval)}return e.prototype.getStats=function(){return this.stats},e.prototype.setVideoIsReady=function(e){this.videoIsReady=e},e.prototype.setVideoIsReady2=function(e,t){this.videoIsReady2[e]=t},e.prototype.getVideoIsReady=function(e){return this.videoIsReady2[e]||!1},e.prototype.setIsFirstAudioDecoded=function(e){},e.prototype.destroy=function(){window.clearInterval(this.intervalTimer),this.pc=void 0},e.prototype.calcLossRate=function(e){var t=this;this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);for(var n=this.lossRateWindowStats.length,r=0,i=0,o=0,a=0,s=function(s){e[s].forEach((function(e,c){if(t.lossRateWindowStats[n-1][s][c]&&t.lossRateWindowStats[0][s][c]){var l=t.lossRateWindowStats[n-1][s][c].packets-t.lossRateWindowStats[0][s][c].packets,u=t.lossRateWindowStats[n-1][s][c].packetsLost-t.lossRateWindowStats[0][s][c].packetsLost;"videoSend"===s||"audioSend"===s?(r+=l,o+=u):(i+=l,a+=u),Number.isNaN(l)||Number.isNaN(l)?e.packetLostRate=0:e.packetLostRate=l<=0||u<=0?0:u/(l+u)}}))},c=0,l=["videoSend","audioSend","videoRecv","audioRecv"];c<l.length;c++)s(l[c]);e.sendPacketLossRate=r<=0||o<=0?0:o/(r+o),e.recvPacketLossRate=i<=0||a<=0?0:a/(i+a)},e}(),yN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=hN,t.lastDecodeVideoReceiverStats=new Map,t}return aN(t,e),t.prototype.updateStats=function(){return cN(this,void 0,void 0,(function(){var e,t,n,r;return lN(this,(function(i){switch(i.label){case 0:return[4,this._getStats()];case 1:return e=i.sent(),t=this.statsResponsesToObjects(e),this._stats=nN(hN),n=t.filter((function(e){return"ssrc"===e.type})),this.processSSRCStats(n),(r=t.find((function(e){return"VideoBwe"===e.type})))&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processBandwidthStats=function(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)},t.prototype.processSSRCStats=function(e){var t=this;e.forEach((function(e){var n=e.id.includes("send");switch("".concat(e.mediaType,"_").concat(n?"send":"recv")){case"video_send":var r=nN(fN);r.codec=e.googCodecName,r.adaptionChangeReason="none",e.googCpuLimitedResolution&&(r.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(r.adaptionChangeReason="bandwidth"),r.avgEncodeMs=Number(e.googAvgEncodeMs),r.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},r.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},r.firsCount=Number(e.googFirReceived),r.nacksCount=Number(e.googNacksReceived),r.plisCount=Number(e.googPlisReceived),r.frameCount=Number(e.framesEncoded),r.bytes=Number(e.bytesSent),r.packets=Number(e.packetsSent),r.packetsLost=Number(e.packetsLost),r.ssrc=Number(e.ssrc),r.rttMs=Number(e.googRtt||0),t._stats.videoSend.push(r),t._stats.rtt=r.rttMs;break;case"video_recv":var i=nN(pN),o=t.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(i.codec=e.googCodecName,i.targetDelayMs=Number(e.googTargetDelayMs),i.renderDelayMs=Number(e.googRenderDelayMs),i.currentDelayMs=Number(e.googCurrentDelayMs),i.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),i.decodeMs=Number(e.googDecodeMs),i.maxDecodeMs=Number(e.googMaxDecodeMs),i.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},i.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},i.decodeFrameRate=Number(e.googFrameRateDecoded),i.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},i.jitterBufferMs=Number(e.googJitterBufferMs),i.firsCount=Number(e.googFirsSent),i.nacksCount=Number(e.googNacksSent),i.plisCount=Number(e.googPlisSent),i.framesDecodeCount=Number(e.framesDecoded),i.bytes=Number(e.bytesReceived),i.packets=Number(e.packetsReceived),i.packetsLost=Number(e.packetsLost),i.ssrc=Number(e.ssrc),i.packets>0&&!t.isFirstVideoReceived[i.ssrc]&&(t.onFirstVideoReceived&&t.onFirstVideoReceived(i.ssrc),t.isFirstVideoReceived[i.ssrc]=!0),i.framesDecodeCount>0&&!t.isFirstVideoDecoded[i.ssrc]&&(t.onFirstVideoDecoded&&t.onFirstVideoDecoded(i.ssrc,i.decodedFrame.width,i.decodedFrame.height),t.isFirstVideoDecoded[i.ssrc]=!0),o){var a=o.stats,s=Date.now()-o.lts;i.framesDecodeFreezeTime=a.framesDecodeFreezeTime,i.framesDecodeInterval=a.framesDecodeInterval,i.framesDecodeCount>a.framesDecodeCount&&t.isFirstVideoDecoded[i.ssrc]?(o.lts=Date.now(),i.framesDecodeInterval=s,i.framesDecodeInterval>=t.options.freezeRateLimit&&(t.getVideoIsReady(parseInt(e.ssrc,10))?i.framesDecodeFreezeTime+=i.framesDecodeInterval:t.setVideoIsReady2(parseInt(e.ssrc,10),!0))):i.framesDecodeCount<o.stats.framesDecodeCount&&(i.framesDecodeInterval=0)}t.lastDecodeVideoReceiverStats.set(i.ssrc,{stats:sN({},i),lts:Date.now()}),t._stats.videoRecv.push(i);break;case"audio_recv":var c=nN(vN);c.codec=e.googCodecName,c.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,c.decodingCNG=Number(e.googDecodingCNG),c.decodingCTN=Number(e.googDecodingCTN),c.decodingCTSG=Number(e.googDecodingCTSG),c.decodingNormal=Number(e.googDecodingNormal),c.decodingPLC=Number(e.googDecodingPLC),c.decodingPLCCNG=Number(e.googDecodingPLCCNG),c.expandRate=Number(e.googExpandRate),c.accelerateRate=Number(e.googAccelerateRate),c.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),c.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),c.speechExpandRate=Number(e.googSpeechExpandRate),c.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),c.jitterBufferMs=Number(e.googJitterBufferMs),c.jitterMs=Number(e.googJitterReceived),c.bytes=Number(e.bytesReceived),c.packets=Number(e.packetsReceived),c.packetsLost=Number(e.packetsLost),c.ssrc=Number(e.ssrc),c.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),c.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),c.receivedFrames>0&&!t.isFirstAudioReceived[c.ssrc]&&(t.onFirstAudioReceived&&t.onFirstAudioReceived(c.ssrc),t.isFirstAudioReceived[c.ssrc]=!0),c.decodingNormal>0&&!t.isFirstAudioDecoded[c.ssrc]&&(t.onFirstAudioDecoded&&t.onFirstAudioDecoded(c.ssrc),t.isFirstAudioDecoded[c.ssrc]=!0),t._stats.audioRecv.push(c);break;case"audio_send":var l=nN(mN);l.codec=e.googCodecName,l.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,l.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),l.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),l.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),l.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),l.bytes=Number(e.bytesSent),l.packets=Number(e.packetsSent),l.packetsLost=Number(e.packetsLost),l.ssrc=Number(e.ssrc),l.rttMs=Number(e.googRtt||0),t._stats.rtt=l.rttMs,t._stats.audioSend.push(l)}}))},t.prototype._getStats=function(){var e=this;return new Promise((function(t,n){e.pc.getStats(t,n)}))},t.prototype.statsResponsesToObjects=function(e){var t=[];return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t.push(n)})),t},t}(gN);!function(e){e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver"}(uN||(uN={}));var bN,EN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=hN,t.lastDecodeVideoReceiverStats=new Map,t.lastVideoFramesRecv=new Map,t.lastVideoFramesSent=new Map,t.lastVideoFramesDecode=new Map,t.lastVideoJBDelay=new Map,t.lastAudioJBDelay=new Map,t.mediaBytesSent=new Map,t.mediaBytesRetransmit=new Map,t.mediaBytesTargetEncode=new Map,t.lastEncoderMs=new Map,t}return aN(t,e),t.prototype.updateStats=function(){return cN(this,void 0,void 0,(function(){var e,t=this;return lN(this,(function(n){switch(n.label){case 0:return e=this,[4,this.pc.getStats()];case 1:return e.report=n.sent(),this._stats=nN(hN),this.report.forEach((function(e){switch(e.type){case uN.OUTBOUND:"audio"===e.mediaType?t.processAudioOutboundStats(e):"video"===e.mediaType&&t.processVideoOutboundStats(e);break;case uN.INBOUND:"audio"===e.mediaType?t.processAudioInboundStats(e):"video"===e.mediaType&&t.processVideoInboundStats(e);break;case uN.TRANSPORT:var n=t.report.get(e.selectedCandidatePairId);n&&t.processCandidatePairStats(n);break;case uN.CANDIDATE_PAIR:e.selected&&t.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processCandidatePairStats=function(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){var t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){var n=this.report.get(e.remoteCandidateId);n&&this.processCandidateStats(n)}},t.prototype.processCandidateStats=function(e){var t;e.type===uN.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===uN.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===uN.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(sN({},t),sN({},this.stats.selectedCandidatePair.localCandidate)),e.type===uN.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(sN({},t),sN({},this.stats.selectedCandidatePair.remoteCandidate)))},t.prototype.processAudioInboundStats=function(e){var t=this._stats.audioRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=nN(vN),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,this.processAudioTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),"number"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples)},t.prototype.processVideoInboundStats=function(e){var t=this._stats.videoRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=nN(pN),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay;var n=this.lastDecodeVideoReceiverStats.get(t.ssrc),r=this.lastVideoFramesDecode.get(t.ssrc),i=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){var o=t.decodedFrame?t.decodedFrame.width:0,a=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,o,a),this.isFirstVideoDecoded[t.ssrc]=!0}if(n){var s=n.stats,c=i-n.lts;t.framesDecodeFreezeTime=s.framesDecodeFreezeTime,t.framesDecodeInterval=s.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&c>this.options.firstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),t.framesDecodeCount>s.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=c,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<s.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(n.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-n.qpSum)/(e.framesDecoded-n.stats.framesDecodeCount))}r&&i-r.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-r.count)/((i-r.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:t.decodeFrameRate})):r?t.decodeFrameRate=r.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:sN({},t),lts:n?n.lts:Date.now(),qpSum:e.qpSum})},t.prototype.processVideoOutboundStats=function(e){var t=this._stats.videoSend.find((function(t){return t.ssrc===e.ssrc}));t||(t=nN(fN),this._stats.videoSend.push(t));var n,r=this.mediaBytesSent.get(e.ssrc);if(r?r.add(e.bytesSent):((o=new iN(10)).add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,o)),void 0!==e.retransmittedBytesSent){var i=this.mediaBytesRetransmit.get(e.ssrc);i?i.add(e.retransmittedBytesSent):((o=new iN(10)).add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,o))}if(e.totalEncodedBytesTarget){var o,a=this.mediaBytesTargetEncode.get(e.ssrc);a?a.add(e.totalEncodedBytesTarget):((o=new iN(10)).add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,o))}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,e.totalEncodeTime&&e.framesEncoded)if(!(n=this.lastEncoderMs.get(e.ssrc))||n.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{var s=e.framesEncoded-n.lastFrameCount,c=e.totalEncodeTime-n.lastEncoderTime;t.avgEncodeMs=1e3*c/s}if(e.framesEncoded&&e.qpSum&&(!(n=this.lastEncoderMs.get(e.ssrc))||n.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-n.lastQpSum)/(e.framesEncoded-n.lastFrameCount)),this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var l=this.findRemoteStatsId(e.ssrc,uN.REMOTE_INBOUND);l&&this.processRemoteInboundStats(l,t)}},t.prototype.processAudioOutboundStats=function(e){var t=this._stats.audioSend.find((function(t){return t.ssrc===e.ssrc}));if(t||(t=nN(mN),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var n=this.findRemoteStatsId(e.ssrc,uN.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}},t.prototype.findRemoteStatsId=function(e,t){var n=Array.from(this.report.values()).find((function(n){return n.type===t&&n.ssrc===e}));return n?n.id:null},t.prototype.processVideoMediaSource=function(e,t){var n=this.report.get(e);n&&n.width&&n.height&&n.framesPerSecond&&(t.inputFrame={width:n.width,height:n.height,frameRate:n.framesPerSecond})},t.prototype.processAudioMediaSource=function(e,t){var n=this.report.get(e);n&&(t.inputLevel=n.audioLevel)},t.prototype.processVideoTrackSenderStats=function(e,t,n){var r,i,o,a=t?this.report.get(t):void 0,s=null!==(r=null==a?void 0:a.framesSent)&&void 0!==r?r:e.framesSent,c=null!==(i=null==a?void 0:a.frameWidth)&&void 0!==i?i:e.frameWidth,l=null!==(o=null==a?void 0:a.frameHeight)&&void 0!==o?o:e.frameHeight;if("number"==typeof s&&"number"==typeof c&&"number"==typeof l){var u=0,d=Date.now(),h=this.lastVideoFramesSent.get(n.ssrc);h&&d-h.lts>=800?(u=Math.round((s-h.count)/((d-h.lts)/1e3)),this.lastVideoFramesSent.set(n.ssrc,{count:s,lts:d,rate:u})):h?u=h.rate:this.lastVideoFramesSent.set(n.ssrc,{count:s,lts:d,rate:0}),n.sentFrame={width:c,height:l,frameRate:u}}},t.prototype.processVideoTrackReceiverStats=function(e,t,n){var r,i,o,a,s,c=t?this.report.get(t):void 0,l=null!==(r=null==c?void 0:c.framesReceived)&&void 0!==r?r:e.framesReceived,u=null!==(i=null==c?void 0:c.frameWidth)&&void 0!==i?i:e.frameWidth,d=null!==(o=null==c?void 0:c.frameHeight)&&void 0!==o?o:e.frameHeight,h=null!==(a=null==c?void 0:c.jitterBufferDelay)&&void 0!==a?a:e.jitterBufferDelay,p=null!==(s=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==s?s:e.jitterBufferEmittedCount;if("number"==typeof l){var f=this.lastVideoFramesRecv.get(n.ssrc),m=Date.now();n.framesReceivedCount=l;var v=0;f&&m-f.lts>=800?(v=Math.round((l-f.count)/((m-f.lts)/1e3)),this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:m,rate:v})):f?v=f.rate:this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:m,rate:0}),n.receivedFrame={width:u||0,height:d||0,frameRate:v||0},n.decodedFrame={width:u||0,height:d||0,frameRate:n.decodeFrameRate||0},n.outputFrame={width:u||0,height:d||0,frameRate:n.decodeFrameRate||0}}if(h&&p){var g=this.lastVideoJBDelay.get(n.ssrc);this.lastVideoJBDelay.set(n.ssrc,{jitterBufferDelay:h,jitterBufferEmittedCount:p}),g||(g={jitterBufferDelay:0,jitterBufferEmittedCount:0});var y=1e3*(h-g.jitterBufferDelay)/(p-g.jitterBufferEmittedCount);n.jitterBufferMs=y,n.currentDelayMs=Math.round(y)}},t.prototype.processAudioTrackSenderStats=function(e,t,n){var r,i,o,a,s=t?this.report.get(t):void 0,c=null!==(i=null!==(r=null==s?void 0:s.echoReturnLoss)&&void 0!==r?r:e.echoReturnLoss)&&void 0!==i?i:0,l=null!==(a=null!==(o=null==s?void 0:s.echoReturnLossEnhancement)&&void 0!==o?o:e.echoReturnLossEnhancement)&&void 0!==a?a:0;n.aecReturnLoss=c,n.aecReturnLossEnhancement=l},t.prototype.processAudioTrackReceiverStats=function(e,t,n){var r,i,o,a,s,c,l,u=t?this.report.get(t):void 0,d=null!==(r=null==u?void 0:u.removedSamplesForAcceleration)&&void 0!==r?r:e.removedSamplesForAcceleration,h=null!==(i=null==u?void 0:u.totalSamplesReceived)&&void 0!==i?i:e.totalSamplesReceived,p=null!==(o=null==u?void 0:u.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,f=null!==(a=null==u?void 0:u.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount,m=null!==(s=null==u?void 0:u.audioLevel)&&void 0!==s?s:null==e?void 0:e.audioLevel,v=null!==(c=null==u?void 0:u.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,g=null!==(l=null==u?void 0:u.concealedSamples)&&void 0!==l?l:e.concealedSamples;if(d&&h&&(n.accelerateRate=d/h),p&&f){var y=this.lastAudioJBDelay.get(n.ssrc);this.lastAudioJBDelay.set(n.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:f}),y||(y={jitterBufferDelay:0,jitterBufferEmittedCount:0});var b=1e3*(p-y.jitterBufferDelay)/(f-y.jitterBufferEmittedCount);n.jitterBufferMs=Math.round(b)}n.outputLevel=m;var E=1920;v&&h&&(E=h/v/50,n.receivedFrames=Math.round(h/E)),g&&(n.droppedFrames=Math.round(g/E))},t.prototype.processRemoteInboundStats=function(e,t){var n=this.report.get(e);n&&(t.packetsLost=n.packetsLost,n.roundTripTime&&(t.rttMs=1e3*n.roundTripTime))},t.prototype.getCodecFromCodecStats=function(e){var t=this.report.get(e);if(!t)return"";var n=t.mimeType.match(/\/(.*)$/);return n&&n[1]?n[1]:""},t.prototype.updateSendBitrate=function(){var e=0,t=null,n=null;this.mediaBytesSent.forEach((function(t){e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((function(e){t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((function(e){n=null===n?e.diffMean():n+e.diffMean()}));var r=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*r/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))},t}(gN),_N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return aN(t,e),t.prototype.updateStats=function(){return Promise.resolve()},t}(gN);function SN(e,t,n,r,i){void 0===t&&(t=250),void 0===n&&(n=8),void 0===r&&(r=500),void 0===i&&(i=1e4);var o,a=(o=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i))&&o[0]?Number(o[0].split("/")[1]):null;return a?a<76?new yN(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new EN(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):function(e){return!!window.RTCStatsReport&&e.getStats()instanceof Promise}(e)?new EN(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new _N(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i})}function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let TN=(yb((bN=class e extends sy{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}constructor(t,n){super(t,n),Qh(this,"store",void 0),Qh(this,"peerConnection",void 0),Qh(this,"remoteSDP",void 0),Qh(this,"initialOffer",void 0),Qh(this,"statsFilter",void 0),Qh(this,"useRTX",!1),Qh(this,"localCapabilities",void 0),Qh(this,"localCandidateCount",0),Qh(this,"allCandidatesReceived",!1),Qh(this,"mutex",new Zb("P2PConnection-mutex")),this.store=n,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=SN(this.peerConnection,void 0,void 0,kh()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=Bk(e.sdp),n=Vk(e.sdp,!this.useRTX,ym("FILTER_VIDEO_FEC"),ym("FILTER_AUDIO_FEC"),["opus"]);return this.localCapabilities=n,this.initialOffer=e,wN(wN({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:n},offerSDP:e.sdp})}catch(e){throw new Yf(Kf.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,r,i,o){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new tN({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:r.send,remoteSetup:i,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:o});const a=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}send(e,t){var n=this;return xk((function*(){const r=yield Pk(n.mutex.lock());try{if(!n.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const r=e.map((e=>n.peerConnection.addTrack(e._mediaStreamTrack))),i=yield Pk(n.peerConnection.createOffer()),o=Fk.exports.parse(i.sdp),a=e.map((e=>{const t=e._mediaStreamTrack,r=o.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!r)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t,n){const r=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),i=e.attributes.ssrcGroups;if(0===r.length)throw new Error("Cannot extract ssrc from plan-b SDP.");if(i&&r.length>1){const e=i.find((e=>-1!==e.ssrcIds.indexOf(r[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:n?e.ssrcIds[1]:void 0}]:[{ssrcId:r[0].ssrcId}]}return[{ssrcId:r[0].ssrcId}]}(r,t.id,n.useRTX)}));let s;try{s=yield a}catch(e){throw r.forEach((e=>{Oh()&&e.replaceTrack(null),n.peerConnection.removeTrack(e)})),e}const c=n.mungSendOfferSDP(i.sdp,e);n.remoteSDP.receive(e,t,s);const l=n.remoteSDP.toString();return yield Pk(n.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield Pk(n.applySendEncodings(r,e)),yield Pk(n.peerConnection.setRemoteDescription({type:"answer",sdp:l})),e.map(((e,t)=>{const n=e._mediaStreamTrack.id;return{localSSRC:a[t],id:n}}))}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{r()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{Oh()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{id:n,mslabel:i}=this.remoteSDP.send(e,t,r),o=new sd(((t,r)=>{const o=setTimeout((()=>{r(new Error("Cannot receive track, id: ".concat(n)))}),1e4),a=r=>{const s=Sh();if(("Safari"===s.name&&11===Number(s.version)||Nh())&&r.track.id!==n&&r.streams[0].id===i){var c;const i=r.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,n,r.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(o),void t(i)}if(r.track.id===n)return this.peerConnection.removeEventListener("track",a),clearTimeout(o),void t(r.track)};this.peerConnection.addEventListener("track",a)})),a=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:a});const s=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(s),{track:await o,id:n}}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const n=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(n)}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("sender' length doesn't match mids' length.");t.map((e=>{if(Oh()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Senders' length doesn't match mids' length.");t.map((async e=>{if(Oh()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(){var e=this;return xk((function*(){const t=yield Pk(e.mutex.lock("From P2PConnection.restartICE"));try{const t=yield Pk(e.peerConnection.createOffer({iceRestart:!0}));if(!t.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const n=Bk(t.sdp),{remoteIceParameters:r}=yield n.iceParameters;if(!e.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");e.remoteSDP.restartICE(r);const i=e.remoteSDP.toString();yield Pk(e.peerConnection.setLocalDescription(t)),yield Pk(e.peerConnection.setRemoteDescription({type:"answer",sdp:i}))}catch(e){im.warning("restart ICE failed, abort operation",e)}finally{t()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const e=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const r=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:n}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getSenders().filter((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e}));1===n.length&&await this.applySendEncodings(n,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getSenders().find((e=>{var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t}));n&&await n.replaceTrack(e._mediaStreamTrack)}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,im.debug("[pc-".concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,im.debug("[pc-".concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),ym("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[],sdpSemantics:"plan-b"};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(sg(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),ym("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}async applySendEncodings(e,t){try{if(!ly().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let r=0;r<e.length;r++){var n;const i=e[r],o=t[r];if(!o)continue;const a={},s={};if(o instanceof wI)switch(o._optimizationMode){case"motion":a.degradationPreference="maintain-framerate";break;case"detail":a.degradationPreference="maintain-resolution";break;default:a.degradationPreference="balanced"}if(ym("DSCP_TYPE")&&Vh()){const e=ym("DSCP_TYPE");["very-low","low","medium","high"].includes(e)&&(s.networkPriority=e)}const c=i.getParameters(),l=null===(n=c.encodings)||void 0===n?void 0:n[0];l&&Object.assign(l,s),Object.assign(c,a),await i.setParameters(c)}}catch(e){im.debug("Apply RTPSendEncodings failed.")}}mungSendOfferSDP(e,t){const n=Fk.exports.parse(e);return t.forEach(((e,t)=>{const r=e._mediaStreamTrack,i=n.mediaDescriptions.find((e=>e.attributes.mid===r.kind));i&&qk(i,e)})),Fk.exports.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const t=this.remoteSDP.batchSend(e).map(((t,n)=>{let{id:r,mslabel:i}=t;const{kind:o}=e[n];return new sd(((e,t)=>{const n=setTimeout((()=>{t(new Error("Cannot receive track, id: ".concat(r)))}),1e4),a=t=>{const s=Sh();if("Safari"===s.name&&11===Number(s.version)&&t.track.id!==r&&t.streams[0].id===i){var c;const i=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(o,r,t.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:i,id:r})}if(t.track.id===r)return this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:t.track,id:r})};this.peerConnection.addEventListener("track",a)}))})),n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const r=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(r),await sd.all(t)}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}}).prototype,"connect",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"connect"),bN.prototype),yb(bN.prototype,"stopSending",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"stopSending"),bN.prototype),yb(bN.prototype,"receive",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"receive"),bN.prototype),yb(bN.prototype,"stopReceiving",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"stopReceiving"),bN.prototype),yb(bN.prototype,"muteRemote",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"muteRemote"),bN.prototype),yb(bN.prototype,"unmuteRemote",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"unmuteRemote"),bN.prototype),yb(bN.prototype,"muteLocal",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"muteLocal"),bN.prototype),yb(bN.prototype,"unmuteLocal",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"unmuteLocal"),bN.prototype),yb(bN.prototype,"close",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"close"),bN.prototype),yb(bN.prototype,"updateEncoderConfig",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"updateEncoderConfig"),bN.prototype),yb(bN.prototype,"updateSendParameters",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"updateSendParameters"),bN.prototype),yb(bN.prototype,"replaceTrack",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"replaceTrack"),bN.prototype),yb(bN.prototype,"getRemoteSSRC",[CN],Object.getOwnPropertyDescriptor(bN.prototype,"getRemoteSSRC"),bN.prototype),bN);function CN(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("Locking from P2PConnection.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}const RN="9";class IN{get localCapabilities(){return dS(this._localCapabilities)}get rtpCapabilities(){return dS(this._rtpCapabilities)}get candidates(){return dS(this._candidates)}get iceParameters(){return dS(this._iceParameters)}get dtlsParameters(){return dS(this._dtlsParameters)}constructor(e){Qh(this,"sessionDesc",void 0),Qh(this,"_localCapabilities",void 0),Qh(this,"_rtpCapabilities",void 0),Qh(this,"_candidates",void 0),Qh(this,"_iceParameters",void 0),Qh(this,"_dtlsParameters",void 0),Qh(this,"setup",void 0),Qh(this,"currentMidIndex",void 0),Qh(this,"cname",void 0),Qh(this,"firefoxSsrcMidMap",new Map),e=dS(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:i,remoteSetup:o,localCapabilities:a,cname:s}=e,c=Fk.exports.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n");this._rtpCapabilities=i,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=o,this.cname=s;const l=this.rtpCapabilities.send;for(const e of c.mediaDescriptions){if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=n.fingerprints,e.attributes.candidates=r,e.attributes.setup=o,"video"===e.media.mediaType&&(e.media.fmts=l.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=l.videoCodecs,e.attributes.extmaps=l.videoExtensions,ym("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:t,ssrcGroups:n}=Hk([{ssrcId:4e4,rtx:ym("USE_RTX")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=n}if("audio"===e.media.mediaType&&(e.media.fmts=l.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=l.audioCodecs,e.attributes.extmaps=l.audioExtensions,eN(e),ym("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:t,ssrcGroups:n}=Hk([{ssrcId:2e4}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=n}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}preloadRemoteMedia(){const e=ym("PRELOAD_MEDIA_COUNT");this.rtpCapabilities;const t=this.candidates,n=this.dtlsParameters,r=this.iceParameters,i=this.rtpCapabilities.send;for(let o=1;o<e;o++){const e=2*o+2e4,a=2*o+4e4,{ssrcs:s,ssrcGroups:c}=Hk([{ssrcId:e}],this.cname),{ssrcs:l,ssrcGroups:u}=Hk([{ssrcId:a,rtx:ym("USE_RTX")?a+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:RN,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:l,ssrcGroups:u,rtcpFeedbackWildcards:[],payloads:i.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:RN,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:s,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:i.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return Fk.exports.print(this.sessionDesc)}send(e,t,n,r){const{ssrcs:i,ssrcGroups:o}=Hk(t,this.cname,n),a=this.findPreloadMediaDesc(i);if(a){if(kh()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,a.attributes.mid),r&&(r.tcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,i);let n;return-1===t||Oh()||Nh()||xh()?(n=this.createOrRecycleSendMedia(e,i,o,"sendonly",r),this.updateBundleMids()):(n=dS(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=i,n.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,r)),kh()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,n.attributes.mid),{mid:n.attributes.mid,needExchangeSDP:!0}}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:n,mslabel:r}=e;return this.send(t,n,r)})),n=[];let r=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:i}=e;i&&(r=!0),n.push(t)})),{mids:n,needExchangeSDP:r}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{"0"===e.attributes.mid||kh()||Oh()||Nh()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>e.includes(t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>e.includes(t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}receive(e,t,n,r){e.forEach(((e,i)=>{this.createOrRecycleRecvMedia(e,[],"recvonly",t,n,r[i])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}restartICE(e){e=dS(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const r=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(kh()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return r}))}createOrRecycleRecvMedia(e,t,n,r,i,o){const a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,c=this.localCapabilities.send;let l=[];if(a===Kg.VIDEO){var u,d;if(ym("H264_PROFILE_LEVEL_ID")&&"h264"===r&&(l=s.videoCodecs.filter((e=>{var t,n;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)&&(null==e||null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])===ym("H264_PROFILE_LEVEL_ID")}))),!l||0===(null===(u=l)||void 0===u?void 0:u.length)){const e=c.videoCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)}));0!==e.length&&(l=s.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(ym("USE_RTX")){const e=l.map((e=>e.payloadType.toString())),t=s.videoCodecs.filter((t=>{var n,r;return"rtx"===(null===(n=t.rtpMap)||void 0===n?void 0:n.encodingName)&&e.includes((null===(r=t.fmtp)||void 0===r?void 0:r.parameters.apt)||"")}));l=[...l,...t]}0===l.length&&(im.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(null===(d=s.videoCodecs[0].rtpMap)||void 0===d?void 0:d.encodingName)),l=s.videoCodecs)}else l=s.audioCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(i)})),0===l.length&&(im.warning("codec ".concat(i," not included in rtpCapabilities, fallback to opus")),l=s.audioCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes("opus")})));const h=a===Kg.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const p="".concat(this.currentMidIndex);let f={media:{mediaType:a,port:RN,protos:["UDP","TLS","RTP","SAVPF"],fmts:l.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:h,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:l,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(p)}};f=this.mungRecvMediaDsec(f,e,o);const m=this.findFirstClosedMedia(a);if(m){const e=this.sessionDesc.mediaDescriptions.indexOf(m);this.sessionDesc.mediaDescriptions[e]=f}else this.sessionDesc.mediaDescriptions.push(f);return f}createOrRecycleSendMedia(e,t,n,r,i){const o=this.rtpCapabilities.send,a=e===Kg.VIDEO?o.videoCodecs:o.audioCodecs,s=e===Kg.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let l={media:{mediaType:e,port:RN,protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:s,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};l=this.mungSendMediaDesc(l,i);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,n){const r=dS(e);return Wk(r),qk(r,t),Zk(r,t),Kk(r),Yk(r,n,this.localCapabilities.send),r}mungSendMediaDesc(e,t){const n=dS(e);return Yk(n,t,this.localCapabilities.recv),eN(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>kh()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n,r;return(null===(n=t.attributes)||void 0===n||null===(r=n.ssrcs[0])||void 0===r?void 0:r.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}var ON;function kN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kN(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let xN=(yb((ON=class e extends sy{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(t,n){super(t,n),Qh(this,"store",void 0),Qh(this,"peerConnection",void 0),Qh(this,"remoteSDP",void 0),Qh(this,"initialOffer",void 0),Qh(this,"transportEventReceiver",void 0),Qh(this,"statsFilter",void 0),Qh(this,"useRTX",ym("USE_RTX")),Qh(this,"localCapabilities",void 0),Qh(this,"localCandidateCount",0),Qh(this,"allCandidatesReceived",!1),Qh(this,"mutex",new Zb("P2PConnection-mutex")),this.store=n,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=SN(this.peerConnection,void 0,void 0,kh()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=Bk(e.sdp),n=await Jk(!this.useRTX,ym("FILTER_VIDEO_FEC"),ym("FILTER_AUDIO_FEC"));return this.localCapabilities=$k(n),this.initialOffer=e,NN(NN({},t),{},{rtpCapabilities:n,offerSDP:e.sdp})}catch(e){throw new Yf(Kf.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,r,i,o){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new IN({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:r,remoteSetup:i,localCapabilities:this.localCapabilities,cname:o});const a=this.remoteSDP.toString(),s=Fk.exports.parse(this.initialOffer.sdp),c=s.mediaDescriptions.find((e=>"audio"===e.media.mediaType));c&&eN(c);const l=Fk.exports.print(s),u=this.logSDPExchange(l||"","offer","local","connect");await this.peerConnection.setLocalDescription({type:"offer",sdp:l}),null==u||u(a),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a});const d=this.peerConnection.getTransceivers()[0];if(null!=d&&d.receiver&&this.tryBindTransportEvents(d.receiver),ym("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia();const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}send(e,t,n){var r=this;return xk((function*(){const i=yield Pk(r.mutex.lock("From P2PConnection.send"));try{if(!r.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=[];e.forEach((e=>{const t=r.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(t)})),kh()&&!0===ym("SIMULCAST")&&(yield Pk(r.applySimulcastForFirefox(o,e)));const a=yield Pk(r.peerConnection.createOffer()),s=r.remoteSDP.predictReceivingMids(e.length),c=r.mungSendOfferSDP(a.sdp,e,s),l=Fk.exports.parse(c),u=s.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return zk(t,r.useRTX)}));let d;try{d=yield u}catch(i){d=[],r.remoteSDP.receive(e,t,n,d);const o=r.remoteSDP.toString();throw yield Pk(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield Pk(r.peerConnection.setRemoteDescription({type:"answer",sdp:o})),yield Pk(r.stopSending(s,!0)),i}r.remoteSDP.receive(e,t,n,d);const h=r.remoteSDP.toString(),p=r.logSDPExchange(c,"offer","local","send");return yield Pk(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield Pk(r.applySimulcastEncodings(o,e)),yield Pk(r.applySendEncodings(o,e)),null==p||p(h),yield Pk(r.peerConnection.setRemoteDescription({type:"answer",sdp:h})),o.map(((e,t)=>{const n=s[t];return{localSSRC:u[t],id:n,transceiver:e}}))}catch(e){throw e instanceof Yf?e:new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{i()}}))()}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:i,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,r);if(o){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(r.sdp,i,e);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),im.debug("[P2PConnection] receive ".concat(e," by exchanging SDP."))}else im.debug("[P2PConnection] receive ".concat(e," no need to exchange SDP."));const a=this.peerConnection.getTransceivers().find((e=>e.mid===i));if(!a)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,id:i}}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:t,needExchangeSDP:n}=this.remoteSDP.batchSend(e);if(n){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const n=await this.peerConnection.createAnswer();null==t||t(n.sdp||""),await this.peerConnection.setLocalDescription(n),im.debug("[P2PConnection] batchReceive by exchanging SDP.")}else im.debug("[P2PConnection] batchReceive no need to exchange SDP.");return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e}}))}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async(e,t)=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(){var e=this;return xk((function*(){const t=yield Pk(e.mutex.lock("From P2PConnection.restartICE"));try{const t=yield Pk(e.peerConnection.createOffer({iceRestart:!0}));if(!t.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const n=Bk(t.sdp),{remoteIceParameters:r}=yield n.iceParameters;if(!e.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");e.remoteSDP.restartICE(r);const i=e.remoteSDP.toString(),o=e.logSDPExchange(t.sdp||"","offer","local","restartICE");yield Pk(e.peerConnection.setLocalDescription(t)),null==o||o(i),yield Pk(e.peerConnection.setRemoteDescription({type:"answer",sdp:i}))}catch(e){im.warning("restart ICE failed, abort operation",e)}finally{t()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const i=this.remoteSDP.toString(),o=this.logSDPExchange(r,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:r}),null==o||o(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?kh()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,im.debug("[pc-".concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,im.debug("[pc-".concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),ym("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[]};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(sg(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),ym("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),ym("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(U_(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!ym("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}tryBindTransportEvents(e){e.transport&&(this.transportEventReceiver=e,e.transport.onstatechange=()=>{var t,n;null!==(t=e.transport)&&void 0!==t&&t.state&&(null===(n=this.onDTLSTransportStateChange)||void 0===n||n.call(this,e.transport.state))},e.transport.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,e.error)},e.transport.iceTransport&&(e.transport.iceTransport.onstatechange=()=>{var t,n,r;null!==(t=e.transport)&&void 0!==t&&t.iceTransport.state&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,null===(r=e.transport)||void 0===r?void 0:r.iceTransport.state))}))}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async applySendEncodings(e,t){try{if(!ly().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let c=0;c<e.length;c++){const l=e[c],u=t[c];if(u&&u instanceof wI){var n,r;if(this.isVP8Simulcast(u))continue;const e={},t={};switch(u._optimizationMode){case"motion":e.degradationPreference="maintain-framerate";break;case"detail":e.degradationPreference="maintain-resolution";break;default:e.degradationPreference="balanced"}var i,o,a,s;if(null!==(n=u._encoderConfig)&&void 0!==n&&n.bitrateMax&&(t.maxBitrate=1e3*(null===(i=u._encoderConfig)||void 0===i?void 0:i.bitrateMax)),u._hints.includes(Lg.LOW_STREAM)&&(null!==(o=u._encoderConfig)&&void 0!==o&&o.frameRate&&(t.maxFramerate=V_(u._encoderConfig.frameRate)),null!==(a=u._encoderConfig)&&void 0!==a&&a.scaleResolutionDownBy&&(null===(s=u._encoderConfig)||void 0===s?void 0:s.scaleResolutionDownBy)>1&&(t.scaleResolutionDownBy=u._encoderConfig.scaleResolutionDownBy)),ym("DSCP_TYPE")&&Vh()){const e=ym("DSCP_TYPE");["very-low","low","medium","high"].includes(e)&&(t.networkPriority=e)}const c=l.sender.getParameters(),d=null===(r=c.encodings)||void 0===r?void 0:r[0];kh()&&!d&&(e.encodings=[t]),d&&Object.assign(d,t),Object.assign(c,e),await l.sender.setParameters(c)}}}catch(e){im.debug("Apply RTPSendEncodings failed.")}}mungSendOfferSDP(e,t,n){const r=Fk.exports.parse(e);return t.forEach(((e,t)=>{const i=n[t],o=r.mediaDescriptions.find((e=>e.attributes.mid===i));o&&(qk(o,e),Qk(o,e,this.store.codec))})),Fk.exports.print(r)}mungReceiveAnswerSDP(e,t,n){const r=Fk.exports.parse(e),i=r.mediaDescriptions.find((e=>e.attributes.mid===t));return i&&n===Kg.AUDIO&&"audio"===i.media.mediaType&&eN(i),Fk.exports.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var n,r,i,o;const s=e[a],c=t[a];if(c instanceof wI&&!c._hints.includes(Lg.LOW_STREAM)&&null!==(n=c._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=c._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(i=c._scalabiltyMode)&&void 0!==i&&i.numSpatialLayers&&(null===(o=c._scalabiltyMode)||void 0===o?void 0:o.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=s.sender.getParameters();await s.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!kh()&&e.length===t.length)for(let n=0;n<e.length;n++){const r=t[n];if(r instanceof wI&&this.isVP8Simulcast(r)){const t=e[n],i={},o={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};i.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,i))}}}isVP8Simulcast(e){var t,n,r,i;return!!(e instanceof wI&&ym("SIMULCAST")&&"vp8"===this.store.codec&&!e._hints.includes(Lg.LOW_STREAM)&&null!==(t=e._encoderConfig)&&void 0!==t&&t.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabiltyMode)&&void 0!==r&&r.numSpatialLayers&&(null===(i=e._scalabiltyMode)||void 0===i?void 0:i.numSpatialLayers)>1)}logSDPExchange(e,t,n,r){if(ym("SDP_LOGGING"))return im.upload("exchanging ".concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}}).prototype,"connect",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"connect"),ON.prototype),yb(ON.prototype,"receive",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"receive"),ON.prototype),yb(ON.prototype,"batchReceive",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"batchReceive"),ON.prototype),yb(ON.prototype,"stopReceiving",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"stopReceiving"),ON.prototype),yb(ON.prototype,"muteRemote",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"muteRemote"),ON.prototype),yb(ON.prototype,"unmuteRemote",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"unmuteRemote"),ON.prototype),yb(ON.prototype,"muteLocal",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"muteLocal"),ON.prototype),yb(ON.prototype,"unmuteLocal",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"unmuteLocal"),ON.prototype),yb(ON.prototype,"close",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"close"),ON.prototype),yb(ON.prototype,"updateEncoderConfig",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"updateEncoderConfig"),ON.prototype),yb(ON.prototype,"updateSendParameters",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"updateSendParameters"),ON.prototype),yb(ON.prototype,"replaceTrack",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"replaceTrack"),ON.prototype),yb(ON.prototype,"getRemoteSSRC",[PN],Object.getOwnPropertyDescriptor(ON.prototype,"getRemoteSSRC"),ON.prototype),ON);function PN(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}function DN(e,t){let n=document.createElement("video"),r=document.createElement("canvas");n.setAttribute("style","display:none"),r.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),r.width=V_(t.width),r.height=V_(t.height);const i=V_(t.framerate||15);document.body.append(n),document.body.append(r);let o=e._mediaStreamTrack;n.srcObject=new MediaStream([o]),n.play();const a=r.getContext("2d");if(!a)throw new Yf(Kf.UNEXPECTED_ERROR,"can not get canvas context");const s=ly(),c=r.captureStream(s.supportRequestFrame?0:i).getVideoTracks()[0],l=rE((()=>(()=>{if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){const e=n.videoWidth,t=n.videoHeight/e,i=r.width*t;Math.abs(i-r.height)>=2&&(im.debug("adjust low stream resolution","".concat(r.width,"x").concat(r.height," -> ").concat(r.width,"x").concat(i)),r.height=i)}a.drawImage(n,0,0,r.width,r.height),c.requestFrame&&c.requestFrame(),o!==e._mediaStreamTrack&&(o=e._mediaStreamTrack,n.srcObject=new MediaStream([o]))})()),i),u=c.stop;return c.stop=()=>{u.call(c),l(),n&&(n.remove(),n=null),r&&(r.width=0,r.remove(),r=null),im.debug("clean low stream renderer")},c}var LN,MN,FN,UN,jN,VN,BN,zN,GN,HN,qN,WN;function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZN(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class YN extends Hb{getUserId(){return this._userId}constructor(e,t,n,r){super(e,"track-".concat(e.kind,"-").concat(t,"-").concat(r.clientId,"_").concat($_(5,""))),Qh(this,"_userId",void 0),Qh(this,"_uintId",void 0),Qh(this,"_isDestroyed",!1),Qh(this,"store",void 0),Qh(this,"processor",void 0),Qh(this,"processorContext",void 0),this._userId=t,this._uintId=n,this.store=r}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,im.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let QN=(LN=zb({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:"HTMLElement",n]}),MN=zb({argsMap:e=>[e.getTrackId()]}),FN=zb({argsMap:(e,t)=>[e.getTrackId(),t.name]}),UN=zb({argsMap:e=>[e.getTrackId()]}),yb((jN=class extends YN{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==xv.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(e,t,n,r){super(e,t,n,r),Qh(this,"_videoVisibleTimer",null),Qh(this,"_previousVideoVisibleStatus",void 0),Qh(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),Qh(this,"trackMediaType","video"),Qh(this,"_videoWidth",void 0),Qh(this,"_videoHeight",void 0),Qh(this,"_player",void 0),Qh(this,"processorDestination",void 0),Qh(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new y_(this.getTrackId(),"remote"),this.processorDestination=new g_(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return pS((()=>{im.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")}),"remoteVideoTrackGetStatsWarning"),aS(this,Dg.GET_STATS)||KN({},fg)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){const t=document.getElementById(e);t?e=t:(im.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}im.debug("[".concat(this.getTrackId(),"] start video playback"),JSON.stringify(t));const n=KN(KN({fit:"cover"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(this._player=new vR(n),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.emit(jg.FIRST_FRAME_DECODED)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.emit(jg.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),ym("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,im.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){nS(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(tS)}_updatePlayerSource(){im.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:i,slot:o}=r;if(this.isPlaying&&i instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=_I.checkOneElementVisible(i),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new Yf(Kf.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new Yf(Kf.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(ey.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(ey.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}}).prototype,"play",[LN],Object.getOwnPropertyDescriptor(jN.prototype,"play"),jN.prototype),yb(jN.prototype,"stop",[MN],Object.getOwnPropertyDescriptor(jN.prototype,"stop"),jN.prototype),yb(jN.prototype,"pipe",[FN],Object.getOwnPropertyDescriptor(jN.prototype,"pipe"),jN.prototype),yb(jN.prototype,"unpipe",[UN],Object.getOwnPropertyDescriptor(jN.prototype,"unpipe"),jN.prototype),jN),JN=(VN=zb({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),BN=zb({argsMap:(e,t)=>[e.getTrackId(),t]}),zN=zb({argsMap:e=>[e.getTrackId()]}),GN=zb({argsMap:e=>[e.getTrackId()]}),HN=zb({argsMap:(e,t)=>[e.getTrackId(),t.name]}),qN=zb({argsMap:e=>[e.getTrackId()]}),yb((WN=class extends YN{get isPlaying(){return this._useAudioElement?SE.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(e,t,n,r){super(e,t,n,r),Qh(this,"trackMediaType","audio"),Qh(this,"_source",void 0),Qh(this,"_useAudioElement",!0),Qh(this,"_volume",100),Qh(this,"processorContext",void 0),Qh(this,"processorDestination",void 0),Qh(this,"_played",!1),Qh(this,"_bypassWebAudio",!1),ym("DISABLE_WEBAUDIO")?(this._source=new __,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new cE(e,!0),ym("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once(og.RECEIVE_TRACK_BUFFER,(()=>{this.emit(jg.FIRST_FRAME_DECODED)})),this.processorContext=new E_(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new b_(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(og.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(og.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(og.ON_AUDIO_BUFFER),this._source.on(og.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){this._volume=e,this._useAudioElement?SE.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement)throw new Yf(Kf.NOT_SUPPORTED,"your browser does not support setting the audio output device");await SE.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return pS((()=>{im.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")}),"remoteAudioTrackGetStatsWarning"),aS(this,Dg.GET_STATS)||KN({},hg)}play(){im.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(im.debug("[".concat(this.getTrackId(),"] use audio element to play")),SE.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){im.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?SE.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];im.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&SE.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new Yf(Kf.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===e)return e;if(e._source)throw new Yf(Kf.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new Yf(Kf.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(ey.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(ey.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(ey.ON_TRACK),this.processorDestination.removeAllListeners(ey.ON_NODE)}}).prototype,"setVolume",[VN],Object.getOwnPropertyDescriptor(WN.prototype,"setVolume"),WN.prototype),yb(WN.prototype,"setPlaybackDevice",[BN],Object.getOwnPropertyDescriptor(WN.prototype,"setPlaybackDevice"),WN.prototype),yb(WN.prototype,"play",[zN],Object.getOwnPropertyDescriptor(WN.prototype,"play"),WN.prototype),yb(WN.prototype,"stop",[GN],Object.getOwnPropertyDescriptor(WN.prototype,"stop"),WN.prototype),yb(WN.prototype,"pipe",[HN],Object.getOwnPropertyDescriptor(WN.prototype,"pipe"),WN.prototype),yb(WN.prototype,"unpipe",[qN],Object.getOwnPropertyDescriptor(WN.prototype,"unpipe"),WN.prototype),WN);function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XN(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class ex extends Wf{constructor(){super(),Qh(this,"uplinkStatsUploadInterval",void 0),Qh(this,"uplinkStatsUploadSlowInterval",void 0),Qh(this,"uplinkRelatedStatsUploadInterval",void 0),Qh(this,"uplinkDenoiserStatsUploadInterval",void 0),Qh(this,"transportStatsUploadInterval",void 0),Qh(this,"uplinkExtensionStatsUploadInterval",void 0),Qh(this,"downlinkExtensionStatsUploadInterval",void 0),Qh(this,"extensionUsageStatsUploadInterval",void 0),Qh(this,"downlinkStatsUploadInterval",void 0),Qh(this,"downlinkStatsUploadSlowInterval",void 0),Qh(this,"downlinkRelatedStatsUploadInterval",void 0),Qh(this,"lastStats",void 0),Qh(this,"uploadUnplinkStarted",!1),Qh(this,"uploadDownlinkStarted",!1),Qh(this,"uploadTransportStarted",!1),Qh(this,"uploadExtensionUsageStarted",!1),Qh(this,"requestStats",void 0),Qh(this,"requestLocalMedia",void 0),Qh(this,"requestRemoteMedia",void 0),Qh(this,"requestAllTracks",void 0),Qh(this,"requestVideoIsReady",void 0),Qh(this,"requestUpload",void 0)}startUploadTransportStats(){this.uploadTransportStarted||(this.uploadTransportStarted=!0,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadTransportStats(t)}),6e3))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.extensionUsageStatsUploadInterval&&window.clearInterval(this.extensionUsageStatsUploadInterval);const e=new Map;this.extensionUsageStatsUploadInterval=window.setInterval((async()=>{var t,n,r;const i=Date.now(),o={connectionInterval:ym("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:i};let a=[];const s=(null===(t=this.requestAllTracks)||void 0===t?void 0:t.call(this))||[];for(const e of s)!e.muted&&e.enabled&&(a=a.concat(await e.getProcessorUsage()));const c=(null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[];for(const[e,t]of c)t.has(Kg.VIDEO)&&e.videoTrack&&(a=a.concat(await e.videoTrack.getProcessorUsage())),t.has(Kg.AUDIO)&&e.audioTrack&&(a=a.concat(await e.audioTrack.getProcessorUsage()));if(0===a.length)return;o.details=function(e,t){const n={};for(const{id:a,value:s,level:c,direction:l}of e){var r;const e=null!==(r=t.get(a))&&void 0!==r?r:0,u=2===s?e+ym("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:e;var i,o;t.set(a,u),n[a]?(2===s&&(n[a].value=s),c>n[a].level&&(n[a].level=c),"remote"===l&&(n[a].remoteUidCount+=1),n[a].totalTs=null!==(i=t.get(a))&&void 0!==i?i:0):n[a]={value:s,level:c,remoteUidCount:"local"===l?0:1,totalTs:null!==(o=t.get(a))&&void 0!==o?o:0}}return Object.keys(n).map((e=>{const{level:t,value:r,totalTs:i}=n[e];return{id:e,level:t,value:r,totalTs:i}}))}(a,e);const l=Date.now(),u=l>i?l:i+1;null===(r=this.requestUpload)||void 0===r||r.call(this,ng.EXTENSION_USAGE_STATS,{usageStats:o,sendTs:u})}),ym("EXTENSION_USAGE_UPLOAD_INTERVAL"))}startUploadUplinkStats(){this.uploadUnplinkStarted||(this.uploadUnplinkStarted=!0,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadUplinkStats(t,this.lastStats),this.lastStats=t)}),3e3),this.uplinkStatsUploadSlowInterval&&window.clearInterval(this.uplinkStatsUploadSlowInterval),this.uplinkStatsUploadSlowInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadSlowUplinkStats(t)}),6e4),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadRelatedUplinkStats(t,this.lastStats),this.lastStats=t}),1e3),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadDenoiserStats(t)}),2e3),this.uplinkExtensionStatsUploadInterval&&window.clearInterval(this.uplinkExtensionStatsUploadInterval),this.uplinkExtensionStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadExtensionStats(t)}),2e3))}uploadTransportStats(e){uS((()=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,ng.TRANSPORT_STATS,function(e){const t={connectionType:100};if("relay"===e.selectedCandidatePair.localCandidate.candidateType){const n=e.selectedCandidatePair.localCandidate.relayProtocol;"udp"===n&&(t.connectionType=101),"tcp"===n&&(t.connectionType=103),"tls"===n&&(t.connectionType=104)}return t}(e))}))}uploadUplinkStats(e,t){var n;((null===(n=this.requestLocalMedia)||void 0===n?void 0:n.call(this))||[]).forEach((n=>{let[r,{track:i,ssrcs:o}]=n;switch(r){case Yg.LocalVideoLowTrack:case Yg.LocalVideoTrack:{const n=function(e,t,n){var r;const i=t.videoSend.find((t=>t.ssrc===e));if(!i)return null;const o={id:$_(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:i.ssrc.toString()};switch(o.A_vstd=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||n._mediaStreamTrack&&!n._mediaStreamTrack.enabled?"1":"0",i.sentFrame&&(o.A_fhs=i.sentFrame.height.toString(),o.A_frs=i.sentFrame.frameRate.toString(),o.A_fws=i.sentFrame.width.toString()),i.adaptionChangeReason){case"none":o.A_ac="0";break;case"cpu":o.A_ac="1";break;case"bandwidth":o.A_ac="2";break;case"other":o.A_ac="3"}return o.A_lvps=Pv[n._player?n._player.videoElementStatus:"uninit"].toString(),o.A_nr=null===(r=i.nacksCount)||void 0===r?void 0:r.toString(),i.avgEncodeMs&&(o.A_aem=i.avgEncodeMs.toFixed(0).toString()),o}(o[0].ssrcId,e,i),a=z_(o[0].ssrcId,e,t);n&&uS((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,ng.PUBLISH_STATS,{stream_type:r===Yg.LocalVideoLowTrack?"low":"high",stats:$N($N({},n),a)})}));const s=function(e){const t={id:"bweforvideo",timestamp:new Date(e.timestamp).toISOString(),type:"VideoBwe"};return e.bitrate.retransmit&&(t.A_rb=e.bitrate.retransmit.toString()),e.bitrate.targetEncoded&&(t.A_teb=e.bitrate.targetEncoded.toString()),t.A_aeb=e.bitrate.actualEncoded.toString(),t.A_tb=e.bitrate.transmit.toString(),void 0!==e.sendBandwidth&&(t.A_asb=e.sendBandwidth.toString()),t}(e);s&&setTimeout((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,ng.PUBLISH_STATS,{stream_type:r===Yg.LocalVideoLowTrack?"low":"high",stats:s})}),1e3);break}case Yg.LocalAudioTrack:{const t=function(e,t,n){const r=t.audioSend.find((t=>t.ssrc===e));if(!r)return null;const i={id:$_(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:r.ssrc.toString()};return i.A_astd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1",r.inputLevel?i.A_ail=Math.round(100*r.inputLevel).toString():i.A_ail=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),i.A_apil=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),r.aecReturnLoss&&(i.A_ecrl=Math.round(r.aecReturnLoss).toString()),r.aecReturnLossEnhancement&&(i.A_ecrle=Math.round(r.aecReturnLossEnhancement).toString()),i}(o[0].ssrcId,e,i);t&&uS((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,ng.PUBLISH_STATS,{stream_type:"high",stats:t})}));break}}}))}uploadSlowUplinkStats(e){var t;((null===(t=this.requestLocalMedia)||void 0===t?void 0:t.call(this))||[]).filter((e=>{let[t]=e;return t===Yg.LocalVideoLowTrack||t===Yg.LocalVideoTrack})).forEach((t=>{let[n,{ssrcs:r}]=t;const i=z_(r[0].ssrcId,e);i&&uS((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,ng.PUBLISH_STATS,{stream_type:n===Yg.LocalVideoLowTrack?"low":"high",stats:i})}))}))}uploadRelatedUplinkStats(e,t){var n;((null===(n=this.requestLocalMedia)||void 0===n?void 0:n.call(this))||[]).filter((e=>{let[t]=e;return t===Yg.LocalVideoLowTrack||t===Yg.LocalVideoTrack})).forEach((t=>{let[n,{ssrcs:r}]=t;const i=function(e,t){const n=t.videoSend.find((t=>t.ssrc===e));return n?{mediaType:"video",isVideoMute:!1,frameRateInput:n.inputFrame&&n.inputFrame.frameRate.toString(),frameRateSent:n.sentFrame&&n.sentFrame.frameRate.toString(),googRtt:n.rttMs.toString(),qpSumPerFrame:Math.floor(n.qpSumPerFrame).toString()}:null}(r[0].ssrcId,e);i&&uS((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,ng.PUBLISH_RELATED_STATS,{stream_type:n===Yg.LocalVideoLowTrack?"low":"high",stats:i})}))}))}uploadDenoiserStats(e){for(let i=0;i<e.length;i++){const o=e[i];if(o instanceof C_){var t,n,r;const e=null===(t=(n=o._external).getDenoiserStats)||void 0===t?void 0:t.call(n);return void(e&&(null===(r=this.requestUpload)||void 0===r||r.call(this,ng.DENOISER_STATS,e)))}}}uploadExtensionStats(e){for(let t=0;t<e.length;t++)e[t].getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}stopUploadUplinkStats(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkStatsUploadInterval=void 0,this.uplinkRelatedStatsUploadInterval=void 0,this.uplinkDenoiserStatsUploadInterval=void 0)}startUploadDownlinkStats(){if(this.uploadDownlinkStarted)return;let e;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);let t=!1;this.downlinkStatsUploadInterval=window.setInterval((()=>{var n;const r=null===(n=this.requestStats)||void 0===n?void 0:n.call(this);r&&(this.uploadDownlinkStats(r,t,e),e=r),t=!t}),3e3),this.downlinkStatsUploadSlowInterval&&window.clearInterval(this.downlinkStatsUploadSlowInterval),this.downlinkStatsUploadSlowInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadSlowDownlinkStats(t)}),6e4),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadRelatedDownlinkStats(t,this.lastStats),this.lastStats=t)}),1e3),this.downlinkExtensionStatsUploadInterval&&window.clearInterval(this.downlinkExtensionStatsUploadInterval),this.downlinkExtensionStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestRemoteMedia)||void 0===e?void 0:e.call(this);t&&this.uploadDownlinkExtensionStats(t)}),2e3)}uploadDownlinkStats(e,t,n){var r;((null===(r=this.requestRemoteMedia)||void 0===r?void 0:r.call(this))||[]).forEach((r=>{let[i,o]=r;if(o.has(Kg.VIDEO)&&i.videoTrack){const r=i.videoTrack?function(e,t,n,r,i){const o=t.videoRecv.find((t=>t.ssrc===e));if(!o)return null;const a={id:$_(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:o.ssrc.toString()};var s,c;if(a.bytesReceived=o.bytes.toString(),a.packetsLost=o.packetsLost.toString(),a.packetsReceived=o.packets.toString(),o.framesRateFirefox&&(a.A_frr=o.framesRateFirefox.toString()),o.receivedFrame?(a.A_frr=o.receivedFrame.frameRate.toString(),a.A_fhr=o.receivedFrame.height.toString(),a.A_fwr=o.receivedFrame.width.toString()):(a.A_fhr=null===(s=r._videoHeight)||void 0===s?void 0:s.toString(),a.A_fwr=null===(c=r._videoWidth)||void 0===c?void 0:c.toString()),a.A_frd=o.decodeFrameRate.toString(),o.outputFrame&&(a.A_fro=o.outputFrame.frameRate.toString()),void 0!==o.jitterBufferMs&&(a.A_jbm=Math.floor(o.jitterBufferMs).toString()),void 0!==o.currentDelayMs&&(a.A_cdm=Math.floor(o.currentDelayMs).toString()),a.A_fs=o.firsCount.toString(),a.A_ns=o.nacksCount.toString(),a.A_ps=o.plisCount.toString(),r&&(a.A_vrtd=r._originMediaStreamTrack.enabled&&r._mediaStreamTrack.enabled?"0":"1"),r._player&&r._player.freezeTimeCounterList.length>0&&(a.A_vrft=Math.round(r._player.freezeTimeCounterList.splice(0,1)[0]).toString()),i&&r._player&&"visible"===L_.visibility){const e=Math.min(6e3,r._player.renderFreezeAccTime);a.A_vrrft=Math.round(e).toString(),r._player.renderFreezeAccTime=Math.max(0,r._player.renderFreezeAccTime-e)}if(a.A_rvps=Pv[r._player?r._player.videoElementStatus:"uninit"].toString(),n){const t=n.videoRecv.find((t=>t.ssrc===e));if(t&&void 0!==o.totalInterFrameDelay&&void 0!==o.totalSquaredInterFrameDelay&&void 0!==t.totalInterFrameDelay&&void 0!==t.totalSquaredInterFrameDelay){const e=o.totalInterFrameDelay-t.totalInterFrameDelay,n=o.totalSquaredInterFrameDelay-t.totalSquaredInterFrameDelay,r=o.framesDecodeCount-t.framesDecodeCount,i=e/r*1e3,s=Math.round(1e3*Math.sqrt((n-Math.pow(e,2)/r)/r));!isNaN(s)&&i+s>Math.max(3*i,i+150)&&(a.A_ifdsd=s.toString())}}return a}(i._videoSSRC,e,n,i.videoTrack,t):void 0;r&&uS((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,ng.SUBSCRIBE_STATS,{stream_id:i.uid,stats:r})}))}if(o.has(Kg.AUDIO)&&i.audioTrack){const t=i.audioTrack?function(e,t,n,r){const i=t.audioRecv.find((t=>t.ssrc===e));if(!i)return null;const o={id:$_(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:i.ssrc.toString()};if(o.bytesReceived=i.bytes.toString(),o.packetsLost=i.packetsLost.toString(),o.packetsReceived=i.packets.toString(),i.outputLevel?o.A_aol=Math.round(100*i.outputLevel).toString():o.A_aol=Math.round(100*r._source.getAccurateVolumeLevel()).toString(),o.A_apol=Math.round(100*r._source.getAccurateVolumeLevel()).toString(),r&&(o.A_artd=r._originMediaStreamTrack.enabled&&r._mediaStreamTrack.enabled?"0":"1"),o.A_jr=i.jitterMs.toString(),o.A_jbm=Math.floor(i.jitterBufferMs).toString(),o.A_cdm=Math.floor(i.jitterBufferMs).toString(),o.A_raps=Pv[SE.getPlayerState(r.getTrackId())].toString(),n){const t=n.audioRecv.find((t=>t.ssrc===e));if(t){const e=i.concealedSamples-t.concealedSamples;e>0&&(o.A_cs=Math.round(e).toString())}}return o}(i._audioSSRC,e,n,i.audioTrack):void 0;t&&uS((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,ng.SUBSCRIBE_STATS,{stream_id:i.uid,stats:t})}))}}))}uploadSlowDownlinkStats(e){}uploadRelatedDownlinkStats(e,t){var n;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach((n=>{let[r,i]=n;if(i.has(Kg.VIDEO)&&r.videoTrack){var o;const n=!0===(r._videoSSRC&&(null===(o=this.requestVideoIsReady)||void 0===o?void 0:o.call(this,r._videoSSRC))||!1),i=function(e,t,n,r,i,o){const a=n.videoRecv.find((t=>t.ssrc===e)),s=i?i.videoRecv.find((t=>t.ssrc===e)):void 0;if(!a)return null;const c=D_.isRemoteVideoFreeze(o,a,s)&&t,l={mediaType:"video",isVideoMute:!1,peerId:r,frameRateReceived:a.receivedFrame&&a.receivedFrame.frameRate.toString(),frameRateDecoded:a.decodedFrame&&a.decodedFrame.frameRate.toString(),isFreeze:c,bytesReceived:a.bytes.toString(),packetsReceived:a.packets.toString(),packetsLost:a.packetsLost.toString(),qpSumPerFrame:Math.floor(a.qpSumPerFrame).toString()};return a.framesRateFirefox&&(l.frameRateDecoded=a.framesRateFirefox.toString(),l.frameRateReceived=a.framesRateFirefox.toString()),l}(r._videoSSRC,n,e,r.uid,t,r.videoTrack);i&&uS((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,ng.SUBSCRIBE_RELATED_STATS,{stream_id:r.uid,stats:i})}))}if(i.has(Kg.AUDIO)&&r.audioTrack){const t=function(e,t,n,r){const i=t.audioRecv.find((t=>t.ssrc===e));if(!i)return null;const o=D_.isRemoteAudioFreeze(r);return{mediaType:"audio",isAudioMute:!1,peerId:n,googJitterReceived:i.jitterMs.toString(),isFreeze:o,bytesReceived:i.bytes.toString(),packetsReceived:i.packets.toString(),packetsLost:i.packetsLost.toString(),frameReceived:i.receivedFrames.toString(),frameDropped:i.droppedFrames.toString()}}(r._audioSSRC,e,r.uid,r.audioTrack);t&&uS((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,ng.SUBSCRIBE_RELATED_STATS,{stream_id:r.uid,stats:t})}))}}))}stopUploadDownlinkStats(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkStatsUploadInterval=void 0,this.downlinkRelatedStatsUploadInterval=void 0)}stopUploadTransportStats(){this.uploadTransportStarted&&(this.uploadTransportStarted=!1,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=void 0)}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.extensionUsageStatsUploadInterval&&window.clearInterval(this.extensionUsageStatsUploadInterval),this.extensionUsageStatsUploadInterval=void 0)}uploadDownlinkExtensionStats(e){e.forEach((e=>{let[t,n]=e;n.has(Kg.VIDEO)&&t.videoTrack&&t.videoTrack.getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)})),n.has(Kg.AUDIO)&&t.audioTrack&&t.audioTrack.getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}))}}const tx="v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0\na=msid-semantic: WMS\na=ice-lite\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\nc=IN IP4 127.0.0.1\na=mid:0\n",nx="9",rx=2e4,ix=4e4;class ox{get localCapabilities(){return dS(this._localCapabilities)}get rtpCapabilities(){return dS(this._rtpCapabilities)}get candidates(){return dS(this._candidates)}get iceParameters(){return dS(this._iceParameters)}get dtlsParameters(){return dS(this._dtlsParameters)}constructor(e){Qh(this,"sessionDesc",void 0),Qh(this,"_localCapabilities",void 0),Qh(this,"_rtpCapabilities",void 0),Qh(this,"_candidates",void 0),Qh(this,"_iceParameters",void 0),Qh(this,"_dtlsParameters",void 0),Qh(this,"setup",void 0),Qh(this,"currentMidIndex",void 0),Qh(this,"cname",void 0),Qh(this,"firefoxSsrcMidMap",new Map),e=dS(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:i,remoteSetup:o,localCapabilities:a,cname:s}=e,c=Fk.exports.parse(tx);this._rtpCapabilities=i,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=o,this.cname=s;const l=this.rtpCapabilities.send;for(const e of c.mediaDescriptions){if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=n.fingerprints,e.attributes.candidates=r,e.attributes.setup=o,"application"===e.media.mediaType&&(e.attributes.sctpPort="5000"),"video"===e.media.mediaType&&(e.media.fmts=l.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=l.videoCodecs,e.attributes.extmaps=l.videoExtensions,ym("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:t,ssrcGroups:n}=Hk([{ssrcId:ix,rtx:ym("USE_RTX")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=n}if("audio"===e.media.mediaType&&(e.media.fmts=l.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=l.audioCodecs,e.attributes.extmaps=l.audioExtensions,eN(e),ym("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:t,ssrcGroups:n}=Hk([{ssrcId:rx}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=n}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}updateRemoteRTPCapabilities(e){const t=Fk.exports.parse(tx);this._rtpCapabilities=e;const n=this.rtpCapabilities.send;for(const e of t.mediaDescriptions){if(e.attributes.iceUfrag=this._iceParameters.iceUfrag,e.attributes.icePwd=this._iceParameters.icePwd,e.attributes.fingerprints=this._dtlsParameters.fingerprints,e.attributes.candidates=this._candidates,e.attributes.setup=this.setup,"application"===e.media.mediaType&&(e.attributes.sctpPort="5000"),"video"===e.media.mediaType&&(e.media.fmts=n.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=n.videoCodecs,e.attributes.extmaps=n.videoExtensions,ym("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:t,ssrcGroups:n}=Hk([{ssrcId:ix,rtx:ym("USE_RTX")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=n}if("audio"===e.media.mediaType&&(e.media.fmts=n.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=n.audioCodecs,e.attributes.extmaps=n.audioExtensions,ym("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:t,ssrcGroups:n}=Hk([{ssrcId:rx}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=n}}this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1}preloadRemoteMedia(e){this.rtpCapabilities;const t=this.candidates,n=this.dtlsParameters,r=this.iceParameters,i=this.rtpCapabilities.send;for(let o=1;o<e;o++){const e=2*o+rx,a=2*o+ix,{ssrcs:s,ssrcGroups:c}=Hk([{ssrcId:e}],this.cname),{ssrcs:l,ssrcGroups:u}=Hk([{ssrcId:a,rtx:ym("USE_RTX")?a+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:nx,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:l,ssrcGroups:u,rtcpFeedbackWildcards:[],payloads:i.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o-1)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:nx,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:s,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:i.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return Fk.exports.print(this.sessionDesc)}send(e,t,n,r){const{ssrcs:i,ssrcGroups:o}=Hk(t,this.cname,n),a=this.findPreloadMediaDesc(i);if(a){if(kh()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,a.attributes.mid),r&&(r.tcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,i);let n;return-1===t||Oh()||Nh()||xh()?(n=this.createOrRecycleSendMedia(e,i,o,"sendonly",r),this.updateBundleMids()):(n=dS(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=i,n.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,r)),kh()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,n.attributes.mid),{mid:n.attributes.mid,needExchangeSDP:!0}}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:n,mslabel:r}=e;return this.send(t,n,r)})),n=[];let r=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:i}=e;i&&(r=!0),n.push(t)})),{mids:n,needExchangeSDP:r}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{"0"===e.attributes.mid||kh()||Oh()||Nh()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>e.includes(t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>e.includes(t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}receive(e,t,n,r){e.forEach(((e,i)=>{this.createOrRecycleRecvMedia(e,[],"recvonly",t,n,r[i])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}restartICE(e){e=dS(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const r=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(kh()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return r}))}createOrRecycleRecvMedia(e,t,n,r,i,o){const a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,c=this.localCapabilities.send;let l=[];if(a===Kg.VIDEO){var u,d;if(ym("H264_PROFILE_LEVEL_ID")&&"h264"===r&&(l=s.videoCodecs.filter((e=>{var t,n;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)&&(null==e||null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])===ym("H264_PROFILE_LEVEL_ID")}))),!l||0===(null===(u=l)||void 0===u?void 0:u.length)){const e=c.videoCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)}));0!==e.length&&(l=s.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(ym("USE_RTX")){const e=l.map((e=>e.payloadType.toString())),t=s.videoCodecs.filter((t=>{var n,r;return"rtx"===(null===(n=t.rtpMap)||void 0===n?void 0:n.encodingName)&&e.includes((null===(r=t.fmtp)||void 0===r?void 0:r.parameters.apt)||"")}));l=[...l,...t]}0===l.length&&(im.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(null===(d=s.videoCodecs[0].rtpMap)||void 0===d?void 0:d.encodingName)),l=s.videoCodecs)}else l=s.audioCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(i)})),0===l.length&&(im.warning("codec ".concat(i," not included in rtpCapabilities, fallback to opus")),l=s.audioCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes("opus")})));const h=a===Kg.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const p="".concat(this.currentMidIndex);let f={media:{mediaType:a,port:nx,protos:["UDP","TLS","RTP","SAVPF"],fmts:l.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:h,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:l,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(p)}};f=this.mungRecvMediaDsec(f,e,o);const m=this.findFirstClosedMedia(a);if(m){const e=this.sessionDesc.mediaDescriptions.indexOf(m);this.sessionDesc.mediaDescriptions[e]=f}else this.sessionDesc.mediaDescriptions.push(f);return f}createOrRecycleSendMedia(e,t,n,r,i){const o=this.rtpCapabilities.send,a=e===Kg.VIDEO?o.videoCodecs:o.audioCodecs,s=e===Kg.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let l={media:{mediaType:e,port:nx,protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:s,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};l=this.mungSendMediaDesc(l,i);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,n){const r=dS(e);return Wk(r),qk(r,t),Zk(r,t),Kk(r),Yk(r,n,this.localCapabilities.send),r}mungSendMediaDesc(e,t){const n=dS(e);return Yk(n,t,this.localCapabilities.recv),eN(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>kh()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n,r;return(null===(n=t.attributes)||void 0===n||null===(r=n.ssrcs[0])||void 0===r?void 0:r.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}var ax;function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sx(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let lx=(yb((ax=class e extends sy{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(e,t,n){super(e,t),Qh(this,"store",void 0),Qh(this,"peerConnection",void 0),Qh(this,"remoteSDP",void 0),Qh(this,"initialOffer",void 0),Qh(this,"transportEventReceiver",void 0),Qh(this,"statsFilter",void 0),Qh(this,"useRTX",ym("USE_RTX")),Qh(this,"localCapabilities",void 0),Qh(this,"localCandidateCount",0),Qh(this,"allCandidatesReceived",!1),Qh(this,"mutex",new Zb("NVExtentionsConnection-mutex")),Qh(this,"rtcMedia",void 0),this.store=t,this.peerConnection=n,this.statsFilter=SN(this.peerConnection,void 0,void 0,kh()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e){try{const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=Bk(e.sdp),n=await Jk(!this.useRTX,ym("FILTER_VIDEO_FEC"),ym("FILTER_AUDIO_FEC"));return this.localCapabilities=n,this.initialOffer=e,cx(cx({},t),{},{rtpCapabilities:n,offerSDP:e.sdp})}catch(e){throw new Yf(Kf.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,r,i,o){try{if(!this.initialOffer)throw new Error("Cannot establish NVConnection without initial offer.");this.remoteSDP=new ox({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:r,remoteSetup:i,localCapabilities:$k(this.localCapabilities),cname:o});const a=this.remoteSDP.toString(),s=Fk.exports.parse(this.initialOffer.sdp),c=s.mediaDescriptions.find((e=>"audio"===e.media.mediaType));c&&eN(c);const l=Fk.exports.print(s),u=this.logSDPExchange(l||"","offer","local","connect");await this.peerConnection.setLocalDescription({type:"offer",sdp:l}),null==u||u(a),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"NV.connect failed; ".concat(e.toString()))}}async updateRemoteConnect(e){var t,n,r;null===(t=this.remoteSDP)||void 0===t||t.updateRemoteRTPCapabilities(e),null===(n=this.remoteSDP)||void 0===n||n.preloadRemoteMedia(2);const i=null===(r=this.remoteSDP)||void 0===r?void 0:r.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:i});const o=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(o),im.debug("[NVExtentionsConnection] updateRemoteRTPCapabilities by exchanging SDP.")}send(e,t,n){var r=this;return xk((function*(){const i=yield Pk(r.mutex.lock("From NVExtentionsConnection.send"));try{if(!r.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.send before remote SDP created");const o=[];e.forEach((e=>{const t=r.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(t)})),kh()&&!0===ym("SIMULCAST")&&(yield Pk(r.applySimulcastForFirefox(o,e)));const a=yield Pk(r.peerConnection.createOffer()),s=r.remoteSDP.predictReceivingMids(e.length),c=r.mungSendOfferSDP(a.sdp,e,s),l=Fk.exports.parse(c),u=s.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return zk(t,r.useRTX)}));let d;try{d=yield u}catch(i){d=[],r.remoteSDP.receive(e,t,n,d);const o=r.remoteSDP.toString();throw yield Pk(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield Pk(r.peerConnection.setRemoteDescription({type:"answer",sdp:o})),yield Pk(r.stopSending(s,!0)),i}r.remoteSDP.receive(e,t,n,d);const h=r.remoteSDP.toString(),p=r.logSDPExchange(c,"offer","local","send");return yield Pk(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield Pk(r.applySimulcastEncodings(o,e)),yield Pk(r.applySendEncodings(o,e)),null==p||p(h),yield Pk(r.peerConnection.setRemoteDescription({type:"answer",sdp:h})),o.map(((e,t)=>{const n=s[t];return{localSSRC:u[t],id:n,transceiver:e}}))}catch(e){throw e instanceof Yf?e:new Yf(Kf.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.send failed; ".concat(e.toString()))}finally{i()}}))()}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From NVExtentionsConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call NVExtentionsConnection.stopSending.");t.map((e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.receive ".concat(e," before remoteSDP created."));const{mid:i,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,r);if(o){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(r.sdp,i,e);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),im.debug("[NVExtentionsConnection] receive ".concat(e," by exchanging SDP."))}else im.debug("[NVExtentionsConnection] receive ".concat(e," no need to exchange SDP."));const a=this.peerConnection.getTransceivers().find((e=>e.mid===i));if(!a)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,id:i}}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.receive failed; ".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.batchReceive before remoteSDP created.");const{mids:t,needExchangeSDP:n}=this.remoteSDP.batchSend(e);if(n){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const n=await this.peerConnection.createAnswer();null==t||t(n.sdp||""),await this.peerConnection.setLocalDescription(n),im.debug("[NVExtentionsConnection] batchReceive by exchanging SDP.")}else im.debug("[NVExtentionsConnection] batchReceive no need to exchange SDP.");return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e}}))}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"NVExtentionsConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.muteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.muteRemote failed; ".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.unmuteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.unmuteRemote failed; ".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async(e,t)=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(){var e=this;return xk((function*(){const t=yield Pk(e.mutex.lock("From NVExtentionsConnection.restartICE"));try{const t=yield Pk(e.peerConnection.createOffer({iceRestart:!0}));if(!t.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const n=Bk(t.sdp),{remoteIceParameters:r}=yield n.iceParameters;if(!e.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");e.remoteSDP.restartICE(r);const i=e.remoteSDP.toString(),o=e.logSDPExchange(t.sdp||"","offer","local","restartICE");yield Pk(e.peerConnection.setLocalDescription(t)),null==o||o(i),yield Pk(e.peerConnection.setRemoteDescription({type:"answer",sdp:i}))}catch(e){im.warning("restart ICE failed, abort operation",e)}finally{t()}}))()}close(){var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const i=this.remoteSDP.toString(),o=this.logSDPExchange(r,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:r}),null==o||o(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new Yf(Kf.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?kh()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}getP2PConnectionParams(){var e;if(null===(e=this.peerConnection.currentLocalDescription)||void 0===e||!e.sdp||!this.localCapabilities)throw new Error;return cx(cx({},Bk(this.peerConnection.currentLocalDescription.sdp)),{},{rtpCapabilities:this.localCapabilities})}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,im.debug("[pc-".concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,im.debug("[pc-".concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),ym("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[]};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(sg(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),ym("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),ym("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(U_(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!ym("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}async applySendEncodings(e,t){try{if(!ly().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let c=0;c<e.length;c++){const l=e[c],u=t[c];if(u&&u instanceof wI){var n,r;if(this.isVP8Simulcast(u))continue;const e={},t={};switch(u._optimizationMode){case"motion":e.degradationPreference="maintain-framerate";break;case"detail":e.degradationPreference="maintain-resolution";break;default:e.degradationPreference="balanced"}var i,o,a,s;if(null!==(n=u._encoderConfig)&&void 0!==n&&n.bitrateMax&&(t.maxBitrate=1e3*(null===(i=u._encoderConfig)||void 0===i?void 0:i.bitrateMax)),u._hints.includes(Lg.LOW_STREAM)&&(null!==(o=u._encoderConfig)&&void 0!==o&&o.frameRate&&(t.maxFramerate=V_(u._encoderConfig.frameRate)),null!==(a=u._encoderConfig)&&void 0!==a&&a.scaleResolutionDownBy&&(null===(s=u._encoderConfig)||void 0===s?void 0:s.scaleResolutionDownBy)>1&&(t.scaleResolutionDownBy=u._encoderConfig.scaleResolutionDownBy)),ym("DSCP_TYPE")&&Vh()){const e=ym("DSCP_TYPE");["very-low","low","medium","high"].includes(e)&&(t.networkPriority=e)}const c=l.sender.getParameters(),d=null===(r=c.encodings)||void 0===r?void 0:r[0];kh()&&!d&&(e.encodings=[t]),d&&Object.assign(d,t),Object.assign(c,e),await l.sender.setParameters(c)}}}catch(e){im.debug("Apply RTPSendEncodings failed.")}}mungSendOfferSDP(e,t,n){const r=Fk.exports.parse(e);return t.forEach(((e,t)=>{const i=n[t],o=r.mediaDescriptions.find((e=>e.attributes.mid===i));o&&(qk(o,e),Qk(o,e,this.store.codec))})),Fk.exports.print(r)}mungReceiveAnswerSDP(e,t,n){const r=Fk.exports.parse(e),i=r.mediaDescriptions.find((e=>e.attributes.mid===t));return i&&n===Kg.AUDIO&&"audio"===i.media.mediaType&&eN(i),Fk.exports.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var n,r,i,o;const s=e[a],c=t[a];if(c instanceof wI&&!c._hints.includes(Lg.LOW_STREAM)&&null!==(n=c._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=c._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(i=c._scalabiltyMode)&&void 0!==i&&i.numSpatialLayers&&(null===(o=c._scalabiltyMode)||void 0===o?void 0:o.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=s.sender.getParameters();await s.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!kh()&&e.length===t.length)for(let n=0;n<e.length;n++){const r=t[n];if(r instanceof wI&&this.isVP8Simulcast(r)){const t=e[n],i={},o={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};i.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,i))}}}isVP8Simulcast(e){var t,n,r,i;return!!(e instanceof wI&&ym("SIMULCAST")&&"vp8"===this.store.codec&&!e._hints.includes(Lg.LOW_STREAM)&&null!==(t=e._encoderConfig)&&void 0!==t&&t.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabiltyMode)&&void 0!==r&&r.numSpatialLayers&&(null===(i=e._scalabiltyMode)||void 0===i?void 0:i.numSpatialLayers)>1)}logSDPExchange(e,t,n,r){if(ym("SDP_LOGGING"))return im.upload("exchanging ".concat(n," ").concat(t," SDP during NVExtentionsConnection.").concat(r,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}}).prototype,"connect",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"connect"),ax.prototype),yb(ax.prototype,"updateRemoteConnect",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"updateRemoteConnect"),ax.prototype),yb(ax.prototype,"receive",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"receive"),ax.prototype),yb(ax.prototype,"batchReceive",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"batchReceive"),ax.prototype),yb(ax.prototype,"stopReceiving",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"stopReceiving"),ax.prototype),yb(ax.prototype,"muteRemote",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"muteRemote"),ax.prototype),yb(ax.prototype,"unmuteRemote",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"unmuteRemote"),ax.prototype),yb(ax.prototype,"muteLocal",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"muteLocal"),ax.prototype),yb(ax.prototype,"unmuteLocal",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"unmuteLocal"),ax.prototype),yb(ax.prototype,"close",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"close"),ax.prototype),yb(ax.prototype,"updateEncoderConfig",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"updateEncoderConfig"),ax.prototype),yb(ax.prototype,"updateSendParameters",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"updateSendParameters"),ax.prototype),yb(ax.prototype,"replaceTrack",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"replaceTrack"),ax.prototype),yb(ax.prototype,"getRemoteSSRC",[ux],Object.getOwnPropertyDescriptor(ax.prototype,"getRemoteSSRC"),ax.prototype),ax);function ux(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From NVExtentionsConnection.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}var dx;function hx(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Mk,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new px(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function px(e){function t(e){if(Object(e)!==e)return sd.reject(new TypeError(e+" is not an object."));var t=e.done;return sd.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(px=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?sd.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?sd.reject(e):t(n.apply(this.s,arguments))}},new px(e)}let fx=(yb((dx=class e extends sy{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(t,n){super(t,n),Qh(this,"store",void 0),Qh(this,"peerConnection",void 0),Qh(this,"cname",void 0),Qh(this,"mutex",new Zb("DataChannelConnection-mutex")),Qh(this,"dataChannel",void 0),Qh(this,"_p2pConnection",void 0),Qh(this,"_nvMedia",void 0),this.store=n,this.store.dcId=this.store.dcId+1,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.dataChannel=this.peerConnection.createDataChannel("agora-signal",{ordered:!1,maxPacketLifeTime:50}),this.dataChannel.binaryType="arraybuffer",this._p2pConnection=new lx(t,n,this.peerConnection),this.bindPCEvents()}async establish(){var e;const t=null===(e=this._nvMedia)||void 0===e?void 0:e.getLocalRtpCapabilities();return await this._p2pConnection.establish(t)}getP2PConnectionParams(){return this._p2pConnection.getP2PConnectionParams()}async connect(e,t,n,r,i,o){return this.cname=o,await this._p2pConnection.connect(e,t,n,r,i,o),await new sd(((e,t)=>{const r=setTimeout((()=>{this.closeSignal(),t(new Yf(Kf.DATACHANNEL_CONNECTION_TIMEOUT,"Datachannel connection timed out, candidates: ".concat(JSON.stringify(n))))}),2e3);this.dataChannel.onopen=()=>{if("open"===this.dataChannel.readyState)return clearTimeout(r),void e()},this.dataChannel.onerror=e=>{this.closeSignal(),t(e)}})),{transmitter:this.dataChannel,close:this.closeSignal.bind(this)}}send(e,t,n){var r=this;return xk((function*(){const i=yield Pk(r.mutex.lock("From DataChannelConnection.send"));try{return yield*Lk(hx(r._p2pConnection.send(e,t,n)),Pk)}finally{i()}}))()}async stopSending(e,t){return this._p2pConnection.stopSending(e,t)}async receive(e,t,n,r){return this._nvMedia?(im.debug("[DataChannelConnection] receive ".concat(e," by DataChannel.")),await this._nvMedia.reveiveByRTCMedia(e,t,this.cname)):(im.debug("[DataChannelConnection] receive ".concat(e," by WebRTC.")),await this._p2pConnection.receive(e,t,n,r))}async batchReceive(e){return[...await this._p2pConnection.batchReceive(e)]}async stopReceiving(e){return await this._p2pConnection.stopReceiving(e)}async muteRemote(e){return await this._p2pConnection.muteRemote(e)}async unmuteRemote(e){return await this._p2pConnection.unmuteRemote(e)}async muteLocal(e){return await this._p2pConnection.muteLocal(e)}async unmuteLocal(e){return await this._p2pConnection.unmuteLocal(e)}restartICE(){var e=this;return xk((function*(){return yield*Lk(hx(e._p2pConnection.restartICE()),Pk)}))()}close(){var e;null===(e=this._nvMedia)||void 0===e||e.close(),this._p2pConnection.close(),this.unbindConnectionEvents(this._p2pConnection)}getStats(){return this._p2pConnection.getStats()}getRemoteVideoIsReady(e){return this._p2pConnection.getRemoteVideoIsReady(e)}updateRemoteConnect(e){var t;null===(t=this._nvMedia)||void 0===t||t.setRemoteRtpCapabilities(e),this._p2pConnection.updateRemoteConnect(e)}async updateEncoderConfig(e,t){return await this._p2pConnection.updateEncoderConfig(e,t)}async updateSendParameters(e,t){return await this._p2pConnection.updateSendParameters(e,t)}setStatsRemoteVideoIsReady(e,t){this._p2pConnection.setStatsRemoteVideoIsReady(e,t)}async replaceTrack(e,t){return await this._p2pConnection.replaceTrack(e,t)}async getRemoteSSRC(e){return this._p2pConnection.getRemoteSSRC(e)}logSDPExchange(e,t,n,r){if(ym("SDP_LOGGING"))return im.upload("exchanging ".concat(n," ").concat(t," SDP during DataChannelConnection.").concat(r,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}static resolvePCConfiguration(t){const n={iceServers:[]};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(sg(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),ym("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),ym("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(U_(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!ym("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}bindPCEvents(){this._p2pConnection.onICEConnectionStateChange=e=>{var t;return null===(t=this.onICEConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onConnectionStateChange=e=>{var t;return null===(t=this.onConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportStateChange=e=>{var t;return null===(t=this.onDTLSTransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportError=e=>{var t;return null===(t=this.onDTLSTransportError)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onICETransportStateChange=e=>{var t;return null===(t=this.onICETransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioReceived=e=>{var t;return null===(t=this.onFirstAudioReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoReceived=e=>{var t;return null===(t=this.onFirstVideoReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioDecoded=e=>{var t;return null===(t=this.onFirstAudioDecoded)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoDecoded=(e,t,n)=>{var r;return null===(r=this.onFirstVideoDecoded)||void 0===r?void 0:r.call(this,e,t,n)},this._p2pConnection.onFirstVideoDecodedTimeout=e=>{var t;return null===(t=this.onFirstVideoDecodedTimeout)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onSelectedLocalCandidateChanged=(e,t)=>{var n;return null===(n=this.onSelectedLocalCandidateChanged)||void 0===n?void 0:n.call(this,e,t)},this._p2pConnection.onSelectedRemoteCandidateChanged=(e,t)=>{var n;return null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n?void 0:n.call(this,e,t)}}closeSignal(){this.dataChannel.close(),this.peerConnection.close()}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}}).prototype,"connect",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"connect"),dx.prototype),yb(dx.prototype,"receive",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"receive"),dx.prototype),yb(dx.prototype,"stopReceiving",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"stopReceiving"),dx.prototype),yb(dx.prototype,"muteRemote",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"muteRemote"),dx.prototype),yb(dx.prototype,"unmuteRemote",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"unmuteRemote"),dx.prototype),yb(dx.prototype,"muteLocal",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"muteLocal"),dx.prototype),yb(dx.prototype,"unmuteLocal",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"unmuteLocal"),dx.prototype),yb(dx.prototype,"close",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"close"),dx.prototype),yb(dx.prototype,"updateEncoderConfig",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"updateEncoderConfig"),dx.prototype),yb(dx.prototype,"updateSendParameters",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"updateSendParameters"),dx.prototype),yb(dx.prototype,"replaceTrack",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"replaceTrack"),dx.prototype),yb(dx.prototype,"getRemoteSSRC",[mx],Object.getOwnPropertyDescriptor(dx.prototype,"getRemoteSSRC"),dx.prototype),dx);function mx(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From DataChannelConnection.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}var vx;function gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gx(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bx(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Mk,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ex(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ex(e){function t(e){if(Object(e)!==e)return sd.reject(new TypeError(e+" is not an object."));var t=e.done;return sd.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(Ex=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?sd.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?sd.reject(e):t(n.apply(this.s,arguments))}},new Ex(e)}let _x=(yb((vx=class extends Wf{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(Jg.StateChange,t,this._state)}constructor(e,t){super(),Qh(this,"store",void 0),Qh(this,"statsUploader",void 0),Qh(this,"connection",void 0),Qh(this,"localTrackMap",new Map),Qh(this,"remoteUserMap",new Map),Qh(this,"pendingLocalTracks",[]),Qh(this,"pendingRemoteTracks",[]),Qh(this,"statsCollector",void 0),Qh(this,"isPlanB",!1),Qh(this,"iceFailedCount",0),Qh(this,"dtlsFailedCount",0),Qh(this,"mutex",new Zb("P2PChannel-mutex")),Qh(this,"_state",Qg.Disconnected),Qh(this,"handleMuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==Qg.Connected)return void n(new Yf(Kf.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const i=r.find((e=>"videoLowTrack"===e[0]));i&&i[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createMuteMessage(r);await oS(this,Jg.RequestMuteLocal,o),t()}catch(e){n(e)}finally{r()}})),Qh(this,"handleUnmuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==Qg.Connected)return void n(new Yf(Kf.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const i=r.find((e=>"videoLowTrack"===e[0]));if(i){const t=i[1];if(t.track._originMediaStreamTrack.stop(),ly().supportDualStreamEncoding){const n=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}else{const n=DN(e,sS(this,Jg.RequestLowStreamParameter));t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}await new sd(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}await this.connection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnmuteMessage(r);await oS(this,Jg.RequestUnmuteLocal,o),t()}catch(e){n(e)}finally{r()}})),Qh(this,"handleUpdateVideoEncoder",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const n=this.localTrackMap.get(Yg.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==Qg.Connected)return void t();const{id:r,track:i}=n;await this.connection.updateSendParameters(r,i),await this.connection.updateEncoderConfig(r,i),this.emit(Jg.UpdateVideoEncoder,i),t()}catch(e){n(e)}finally{r()}})),Qh(this,"handleSetOptimizationMode",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleSetOptimizationMode");try{const n=this.localTrackMap.get(Yg.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==Qg.Connected)return;const{id:r,track:i}=n;await this.connection.updateSendParameters(r,i),t()}catch(e){n(e)}finally{r()}})),Qh(this,"handleReplaceTrack",(async(e,t,n,r)=>{let i;im.debug("P2PChannel handleReplaceTrack for [track-id-".concat(e.getTrackId(),"]")),"boolean"==typeof r&&r||(i=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var o;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!this.connection||!n||this.state!==Qg.Connected)return void t();if(await(null===(o=this.connection)||void 0===o?void 0:o.replaceTrack(e,n[1].id)),this.isPlanB){const t=n[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(n[0],t)}if(n[0]===Yg.LocalVideoTrack&&ly().supportDualStreamEncoding){const t=this.localTrackMap.get(Yg.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new sd(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}t()}catch(e){n(e)}finally{var a;null===(a=i)||void 0===a||a()}})),Qh(this,"handleGetLocalVideoStats",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),Qh(this,"handleGetLocalAudioStats",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),Qh(this,"handleGetRemoteVideoStats",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),Qh(this,"handleGetRemoteAudioStats",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new ex,this.bindStatsUploaderEvents(),this.isPlanB=!ly().supportUnifiedPlan||ym("CHROME_FORCE_PLAN_B")&&Vh()}async startP2PConnection(e,t){return this.state=Qg.New,this.connection=t?new fx(e,this.store):this.isPlanB?new TN(e,this.store):new xN(e,this.store),this.bindConnectionEvents(this.connection),this.connection.establish()}async connect(e,t,n,r,i,o){if(!this.connection)throw new Yf(Kf.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");this.connection instanceof fx?this.connection.updateRemoteConnect(r):(this.store.peerConnectionStart(),await this.connection.connect(e,t,n,r,i,o),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Qg.Connected)}async preConnect(e,t,n,r,i,o){if(!this.connection)throw new Yf(Kf.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");this.store.peerConnectionStart();const a=await this.connection.connect(e,t,n,r,i,o);return this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Qg.Connected,a}getEstablishParams(){if(this.connection instanceof fx)return this.connection.getP2PConnectionParams();throw new Error("Only DataChannelConnection needs to obtain establishParams")}publish(e,t,n){var r=this;return xk((function*(){const i=yield Pk(r.mutex.lock("From P2PChannel.publish"));try{if(!r.connection||r.state!==Qg.Connected){if(r.state===Qg.Disconnected)throw new Yf(Kf.UNEXPECTED_ERROR,"PeerConnection already disconnected.");r.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===r.pendingLocalTracks.indexOf(e)));return void(r.pendingLocalTracks=r.pendingLocalTracks.concat(t))}r.store.pubId=r.store.pubId+1,N_.markPublishStart(r.store.clientId,r.store.pubId);const i=r.filterTobePublishedTracks(e,t,n);if(0===i.length)return void(yield Pk(r.tryToUnmuteAudio(e)));yield*Lk(bx(r.doPublish(r.connection,i)),Pk)}finally{i()}}))()}doPublish(e,t){var n=this;return xk((function*(){t.forEach((e=>{let{track:t,type:r}=e;const i=Date.now();n.store.publish(t.getTrackId(),r===Yg.LocalAudioTrack?"audio":"video",i)})),n.bindLocalTrackEvents(t);const r=yield Pk(e.send(t.map((e=>{let{track:t}=e;return t})),n.store.codec,n.store.audioCodec)),i=(yield Pk(r.next())).value,o=n.createGatewayPublishMessage(t,i);let a;try{a=yield o}catch(e){throw r.throw(e),(null==e?void 0:e.code)===Kf.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)})),n.unbindLocalTrackEvents(t),e}const s=n.mapPubResToRemoteConfig(o,a),c=(yield Pk(r.next(s))).value;t.forEach((e=>{let{type:t}=e;n.statsCollector.addLocalStats(t)})),n.assignLocalTracks(t,c),n.statsUploader.startUploadUplinkStats(),t.forEach((e=>{let{track:t,type:r}=e;const i=Date.now();n.store.publish(t.getTrackId(),r===Yg.LocalAudioTrack?"audio":"video",void 0,i)}))}))()}publishLowStream(e){var t=this;return xk((function*(){if(!t.connection||t.state!==Qg.Connected)return;const n=yield Pk(t.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const n=t.localTrackMap.get(Yg.LocalVideoTrack);if(!n)throw new Yf(Kf.UNEXPECTED_ERROR,"Could not find high stream");if(t.localTrackMap.has(Yg.LocalVideoLowTrack))throw new Yf(Kf.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));const i=[{track:t.getLowVideoTrack(n.track,e),type:Yg.LocalVideoLowTrack}];if(yield*Lk(bx(t.doPublish(t.connection,i)),Pk),n.track.muted||!n.track.enabled){var r;const e=null===(r=t.localTrackMap.get(Yg.LocalVideoLowTrack))||void 0===r?void 0:r.id;void 0!==e&&(yield Pk(t.connection.muteLocal([e])))}}finally{n()}}))()}async republish(){this.pendingLocalTracks.length>0&&(im.debug("Emit P2PChannelEvents.RequestRePublish to republish tracks."),await iS(this,Jg.RequestRePublish,this.pendingLocalTracks),this.emit(Jg.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async reSubscribe(e){for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){const{user:t,kind:n}=this.pendingRemoteTracks[e];(n!==Kg.AUDIO||t._audio_added_&&t._audioSSRC)&&(n!==Kg.VIDEO||t._video_added_&&t._videoSSRC)||this.pendingRemoteTracks.splice(e,1)}if(e)await iS(this,Jg.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:e,kind:t}of this.pendingRemoteTracks)await this.subscribe(e,t,t===Kg.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(Jg.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==Qg.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find((e=>"videoLowTrack"===e[0]));return n&&n[1].track.close(),this.doUnpublish(this.connection,t)}async unpublishLowStream(){if(!this.connection||this.state!==Qg.Connected)return;const e=this.localTrackMap.get(Yg.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[Yg.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const n=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:n}]=e;return{type:t,track:n}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadUplinkStats(),n}async subscribe(e,t,n,r,i){var o;if(!this.connection||this.state!==Qg.Connected)throw new Yf(Kf.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if(null!==(o=this.remoteUserMap.get(e))&&void 0!==o&&o.has(t))return;let a,s;if(i){const n=i.find((e=>{let{stream_type:n}=e;return n===t}));if(!n)throw new Yf(Kf.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(t," for user: ").concat(e.uid," because subscribe answer from gateway does not contain stream_type: ").concat(t,"."));const r=await this.connection.receive(t,n.ssrcs,String(e._uintid),n.attributes);a=r.track,s=r.id}else{const i=await this.connection.receive(t,[{ssrcId:n,rtx:r}],String(e._uintid),void 0);a=i.track,s=i.id}t===Kg.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(a):(e._audioTrack=new JN(a,e.uid,e._uintid,this.store),im.info("[".concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(a):(e._videoTrack=new QN(a,e.uid,e._uintid,this.store),im.info("[".concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,s):this.remoteUserMap.set(e,new Map([[t,s]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadDownlinkStats();const l=this.pendingRemoteTracks.findIndex((n=>{let{user:r,kind:i}=n;return r.uid===e.uid&&t===i}));-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(Jg.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==Qg.Connected)throw new Yf(Kf.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");e=e.filter((e=>{var t;let{user:n,mediaType:r}=e;return!(null!==(t=this.remoteUserMap.get(n))&&void 0!==t&&t.has(r))}));const t=await this.connection.batchReceive(e.map((e=>{let{user:t,mediaType:n,ssrcId:r,rtxSsrcId:i}=e;return{kind:n,ssrcMsg:[{ssrcId:r,rtx:i}],mslabel:String(t._uintid)}})));e.forEach(((e,n)=>{let{user:r,mediaType:i}=e;const{track:o,id:a}=t[n];i===Kg.AUDIO?(r._audioTrack?r._audioTrack._updateOriginMediaStreamTrack(o):(r._audioTrack=new JN(o,r.uid,r._uintid,this.store),im.info("[".concat(this.store.p2pId,"] create remote audio track: ").concat(r._audioTrack.getTrackId()))),this.bindRemoteTrackEvents(r,r._audioTrack)):(r._videoTrack?r._videoTrack._updateOriginMediaStreamTrack(o):(r._videoTrack=new QN(o,r.uid,r._uintid,this.store),im.info("[".concat(this.store.p2pId,"] create remote video track: ").concat(r._videoTrack.getTrackId()))),this.bindRemoteTrackEvents(r,r._videoTrack));const s=this.remoteUserMap.get(r);s?s.set(i,a):this.remoteUserMap.set(r,new Map([[i,a]])),this.statsCollector.addRemoteStats(r.uid),this.statsUploader.startUploadDownlinkStats();const c=this.pendingRemoteTracks.findIndex((e=>{let{user:t,kind:n}=e;return t.uid===r.uid&&i===n}));-1!==c&&(this.pendingRemoteTracks.splice(c,1),this.emit(Jg.MediaReconnectEnd,r.uid))}))}async unsubscribe(e,t,n){const r=this.pendingRemoteTracks.filter((n=>{let{user:r,kind:i}=n;return void 0!==t?r.uid===e.uid&&t===i:r.uid===e.uid}));if(r.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection||n||r.forEach((t=>{let{kind:n}=t;var r;if(n===Kg.AUDIO)null===(r=e._audioTrack)||void 0===r||r._destroy(),e._audioTrack=void 0;else if(n===Kg.VIDEO){var i;null===(i=e._videoTrack)||void 0===i||i._destroy(),e._videoTrack=void 0}})),!this.connection)return;const i=this.filterTobeUnSubscribedTracks(e,t);if(0===i.length)return;await this.connection.stopReceiving(i.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnsubscribeMessage(i);return this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),i.forEach((e=>{let[t,{kind:r}]=e;var i,o;if(r===Kg.VIDEO&&t._videoSSRC&&(null===(i=this.connection)||void 0===i||i.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),r===Kg.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(r===Kg.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0)}})),o}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:n,mediaType:r}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:i}=e;return void 0!==r?t.uid===n.uid&&r===i:t.uid===n.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection)return void t.forEach((e=>{let{user:t,kind:n}=e;var r;if(n===Kg.AUDIO)null===(r=t._audioTrack)||void 0===r||r._destroy(),t._audioTrack=void 0;else if(n===Kg.VIDEO){var i;null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0}}));const n=qn(e).call(e,((e,t)=>{let{user:n,mediaType:r}=t;const i=this.filterTobeUnSubscribedTracks(n,r);return e.concat(i)}),[]);if(0===n.length)return;await this.connection.stopReceiving(n.map((e=>{let[,{id:t}]=e;return t})));const r=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),n.forEach((e=>{let[t,{kind:n}]=e;var r,i;if(n===Kg.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),n===Kg.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0;else if(n===Kg.AUDIO){var o;this.unbindRemoteTrackEvents(t._audioTrack),null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),r}async muteRemote(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);if(!n)return void im.warning("P2PChannel.muteRemote has no remote user ".concat(e.uid,"."));if(!n.get(t))return void im.warning("P2PChannel.muteRemote has no remote user ".concat(e.uid," media type ").concat(t,"."));const r=t===Kg.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==r&&this.connection.setStatsRemoteVideoIsReady(r,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);n?n.get(t)||im.warning("P2PChannel.unmuteRemote has no remote user ".concat(e.uid," media type ").concat(t,".")):im.warning("P2PChannel.unmuteRemote has no remote user ".concat(e.uid,"."))}getAllTracks(e){const t=this.localTrackMap.get(Yg.LocalAudioTrack);if((null==t?void 0:t.track)instanceof I_){const n=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==Yg.LocalAudioTrack})).filter((t=>{let[n]=t;return!(e&&n===Yg.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[n]=t;return!(e&&n===Yg.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,n,r,i){if(e){const n=this.localTrackMap.get(Yg.LocalAudioTrack),o=r?this.localTrackMap.get(Yg.LocalVideoLowTrack):this.localTrackMap.get(Yg.LocalVideoTrack);Gb.publish(this.store.sessionId,{eventElapse:N_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(Lg.SCREEN_TRACK)),audio:!!n,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}else{var o;n||(n=[]);const a=n.find((e=>e instanceof T_)),s=r?null===(o=this.localTrackMap.get(Yg.LocalVideoTrack))||void 0===o?void 0:o.track:n.find((e=>e instanceof wI));Gb.publish(this.store.sessionId,{eventElapse:N_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==a?void 0:a.getTrackLabel(),videoName:null==s?void 0:s.getTrackLabel(),screenshare:-1!==(null==s?void 0:s._hints.indexOf(Lg.SCREEN_TRACK)),audio:!!a,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}}reportSubscribeEvent(e,t,n,r){const i=r===Kg.VIDEO?n._videoSSRC:n._audioSSRC;i&&Gb.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===Kg.VIDEO,audio:r===Kg.AUDIO,peerid:n.uid,subscribeRequestid:r===Kg.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:N_.measureFromSubscribeStart(this.store.clientId,i)})}reset(){im.debug("P2PChannel.reset"),this.mutex=new Zb("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.state=Qg.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(Yg.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(Yg.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof wI||t&&t.track instanceof T_?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(Cb(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(Yg.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=bv(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(im.debug("P2PChannel.disconnectForReconnect closing P2PConnection"),this.state=Qg.Reconnecting,this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:n}]=e;switch(t){case Yg.LocalVideoTrack:n._hints.includes(Lg.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case Yg.LocalAudioTrack:n instanceof I_?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case Yg.LocalVideoLowTrack:}})),this.emit(Jg.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;Array.from(Cb(n).call(n)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(Jg.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),im.debug("P2PChannel disconnected, waiting to reconnect."))}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:r,kind:i}=n;if((e instanceof CI?e.uid:e)===r.uid&&t===i)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(){var e=this;return xk((function*(){if(!e.connection)throw new Error;const t=yield Pk(e.mutex.lock("From P2PChannel.restartICE"));try{yield*Lk(bx(e.connection.restartICE()),Pk)}finally{t()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(Yg.LocalVideoTrack),n=this.localTrackMap.get(Yg.LocalAudioTrack),r=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),i=e.audioSend.find((e=>e.ssrc===(null==n?void 0:n.ssrcs[0].ssrcId)));if(!r||!i)return 1;const o=aS(this,Jg.NeedSignalRTT),a=r?r.rttMs:void 0,s=i?i.rttMs:void 0,c=a&&s?(a+s)/2:a||s,l=(c&&o?(c+o)/2:c||o)||0,u=100*e.sendPacketLossRate*.7/50+.3*l/1500,d=u<.17?1:u<.36?2:u<.59?3:u<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(Lg.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return Tm[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][d]}}return d}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((n=>{let[r]=n;const i=r._audioSSRC,o=r._videoSSRC,a=e.audioRecv.find((e=>e.ssrc===i)),s=e.videoRecv.find((e=>e.ssrc===o));if(!a&&!s)return void(t+=1);const c=aS(this,Jg.NeedSignalRTT),l=e.rtt,u=(l&&c?(l+c)/2:l||c)||0,d=a?a.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*u/1500;d&&(p=.6*h*100/50+.2*u/1500+.2*d/400),t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new sd(((t,n)=>{this.handleMuteLocalTrack(e,t,n)}))}filterTobePublishedTracks(e,t,n){const r=[],i=ly(),o=this.getAllTracks();e=lS(e=e.filter((e=>-1===o.indexOf(e))));let a=!1,s=!1;for(const o of e){if(o instanceof wI&&(this.localTrackMap.has(Yg.LocalVideoTrack)||a?new Yf(Kf.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:o,type:Yg.LocalVideoTrack}),a=!0),t)){const e=this.getLowVideoTrack(o,n);r.push({track:e,type:Yg.LocalVideoLowTrack})}if(o instanceof T_){const e=this.localTrackMap.get(Yg.LocalAudioTrack);if(e){if(!(e.track instanceof I_))throw new Yf(Kf.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(o._bypassWebAudio)throw new Yf(Kf.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(o),this.bindLocalAudioTrackEvents(o,!0)}else if(s){const e=r.find((e=>{let{type:t}=e;return t===Yg.LocalAudioTrack}));if(!(e.track instanceof I_))throw new Yf(Kf.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(o._bypassWebAudio)throw new Yf(Kf.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(o)}else{if(!i.webAudioMediaStreamDest||o instanceof I_||o._bypassWebAudio)r.push({track:o,type:Yg.LocalAudioTrack});else{const e=new I_;e.addAudioTrack(o),r.push({track:e,type:Yg.LocalAudioTrack})}s=!0}}}return r}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=lS(e=e.filter((e=>-1!==n.indexOf(e))));for(const n of e){if(n instanceof T_){const e=this.localTrackMap.get(Yg.LocalAudioTrack);if(!e)continue;e.track instanceof I_?(e.track.removeAudioTrack(n),this.unbindLocalAudioTrackEvents(n),0===e.track.trackList.length&&(t.push([Yg.LocalAudioTrack,e]),e.track.close())):t.push([Yg.LocalAudioTrack,e])}if(n instanceof wI){const e=this.localTrackMap.get(Yg.LocalVideoTrack);if(!e)continue;t.push([Yg.LocalVideoTrack,e]);const n=this.localTrackMap.get(Yg.LocalVideoLowTrack);n&&t.push([Yg.LocalVideoLowTrack,n])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:n}=e;switch(n){case Yg.LocalVideoTrack:t.addListener(Dg.GET_STATS,this.handleGetLocalVideoStats),t.addListener(Dg.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(Dg.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(Dg.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(Dg.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(Dg.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(Dg.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(Dg.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Yg.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case Yg.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof I_?e.trackList.forEach((e=>{e.addListener(Dg.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Dg.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Dg.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Dg.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Dg.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(Dg.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Dg.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Dg.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Dg.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Dg.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(Dg.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:n}]=e;return{track:n,type:t}}))),e.forEach((e=>{let{track:t,type:n}=e;switch(n){case Yg.LocalVideoTrack:t.off(Dg.GET_STATS,this.handleGetLocalVideoStats),t.off(Dg.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(Dg.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(Dg.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(Dg.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(Dg.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(Dg.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(Dg.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Yg.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case Yg.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof I_?e.trackList.forEach((e=>{e.off(Dg.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Dg.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Dg.GET_STATS,this.handleGetLocalAudioStats),e.off(Dg.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Dg.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(Dg.GET_STATS,this.handleGetLocalAudioStats),e.off(Dg.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Dg.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Dg.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(Dg.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Dg.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof QN&&t.addListener(Dg.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof JN&&t.addListener(Dg.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(Dg.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;n.has(Kg.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(Kg.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,n)=>{let r,i,{track:o,type:a}=e;switch(a){case Yg.LocalAudioTrack:r=Ng.Audio,i={dtx:o instanceof C_&&o._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case Yg.LocalVideoTrack:r=o._hints.includes(Lg.SCREEN_TRACK)?Ng.Screen:Ng.High,i=yx(yx({},B_(o)),{},{codec:this.store.codec});break;case Yg.LocalVideoLowTrack:r=Ng.Low,i=yx(yx({},B_(o)),{},{codec:this.store.codec})}return{stream_type:r,attributes:i,ssrcs:t[n]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{let t,[n,{track:r,ssrcs:i,id:o}]=e;switch(n){case Yg.LocalVideoTrack:t=r._hints.includes(Lg.SCREEN_TRACK)?Ng.Screen:Ng.High;break;case Yg.LocalAudioTrack:t=Ng.Audio;break;case Yg.LocalVideoLowTrack:t=Ng.Low}return{stream_type:t,ssrcs:i,mid:o}}))}assignLocalTracks(e,t){e.forEach(((e,n)=>{let{track:r,type:i}=e;this.localTrackMap.set(i,{track:r,id:t[n].id,ssrcs:t[n].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(im.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(t,")")),this.emit(Jg.PeerConnectionStateChange,t),"connected"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"disconnected"===t&&"disconnected"===e.iceConnectionState)return setTimeout((()=>{"disconnected"===e.iceConnectionState&&ym("ICE_RESTART")&&"CONNECTED"===aS(this,Jg.QueryClientConnectionState)&&this.emit(Jg.RequestRestartICE)}),800),void setTimeout((()=>{"disconnected"===e.peerConnectionState&&(im.debug("P2PConnection disconnected timeout 4000ms, force reconnect"),setTimeout((()=>this.emit(Jg.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())}),4e3);"failed"===t&&(im.debug("P2PConnection state failed, force reconnect"),setTimeout((()=>this.emit(Jg.P2PLost)),0),this.iceFailedCount+=1,await this.requestReconnect())},e.onICEConnectionStateChange=e=>{"connected"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),im.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),Gb.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:Bv.TRACER}).onSuccess(),this.emit(Jg.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{im.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=e=>{im.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=e=>{im.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(Cb(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var r;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(r=n.audioTrack)||void 0===r||r.emit(jg.FIRST_FRAME_DECODED),Gb.firstRemoteFrame(this.store.sessionId,Mv.FIRST_AUDIO_DECODE,Fv.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:N_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(Cb(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));n&&Gb.firstRemoteFrame(this.store.sessionId,Mv.FIRST_AUDIO_RECEIVED,Fv.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:N_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(Cb(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));n&&Gb.firstRemoteFrame(this.store.sessionId,Mv.FIRST_VIDEO_RECEIVED,Fv.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:N_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,r="relay"===t.candidateType;"unknown"!==t.candidateType&&n===r||this.emit(Jg.ConnectionTypeChange,n),im.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(Z_(t))," -> ").concat(JSON.stringify(Z_(e)),")"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{im.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(Z_(t))," -> ").concat(JSON.stringify(Z_(e)),")"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(Yg.LocalAudioTrack);if(e instanceof T_&&(null==n?void 0:n.track)instanceof I_)return n.track.isActive||t.push([Yg.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r&&(t.push(r),r[0]===Yg.LocalVideoTrack)){const e=this.localTrackMap.get(Yg.LocalVideoLowTrack);e&&t.push([Yg.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(Yg.LocalAudioTrack);if(e instanceof T_&&(null==n?void 0:n.track)instanceof I_)return n.track.isActive&&t.push([Yg.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r)if(r[0]===Yg.LocalVideoTrack){t.push(r);const e=this.localTrackMap.get(Yg.LocalVideoLowTrack);e&&t.push([Yg.LocalVideoLowTrack,e])}else t.push(r);return t}createMuteMessage(e){return e.map((e=>{let t,[n,{track:r,ssrcs:i,id:o}]=e;switch(n){case Yg.LocalAudioTrack:t=Ng.Audio;break;case Yg.LocalVideoTrack:t=r._hints.includes(Lg.SCREEN_TRACK)?Ng.Screen:Ng.High;break;case Yg.LocalVideoLowTrack:t=Ng.Low}return{stream_type:t,ssrcs:i,mid:o}}))}createUnmuteMessage(e){return e.map((e=>{let t,[n,{track:r,ssrcs:i,id:o}]=e;switch(n){case Yg.LocalAudioTrack:t=Ng.Audio;break;case Yg.LocalVideoTrack:t=r._hints.includes(Lg.SCREEN_TRACK)?Ng.Screen:Ng.High;break;case Yg.LocalVideoLowTrack:t=Ng.Low}return{stream_type:t,ssrcs:i,mid:o}}))}filterTobeUnSubscribedTracks(e,t){const n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){const i=r.get(t);if(!i)return n;n.push([e,{kind:t,id:i}])}else Array.from(r.entries()).forEach((t=>{let[r,i]=t;n.push([e,{kind:r,id:i}])}));return n}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[n,{kind:r,id:i}]=e;switch(r){case Kg.VIDEO:return void(n._videoSSRC&&t.push({stream_type:Kg.VIDEO,ssrcId:n._videoSSRC}));case Kg.AUDIO:return void(n._audioSSRC&&t.push({stream_type:Kg.AUDIO,ssrcId:n._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[n,{kind:r}]=e;if(t.has(n)){let e=t.get(n);r===Kg.VIDEO?e|=Pg.Video:e|=Pg.Audio,t.set(n,e)}else r===Kg.VIDEO?t.set(n,Pg.Video):t.set(n,Pg.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,n]=e;return{stream_id:t.uid,stream_type:n}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:n}]=e;const r=this.remoteUserMap.get(t);r&&(r.delete(n),0===Array.from(r.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(Yg.LocalVideoTrack),n=this.localTrackMap.get(Yg.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return!this.connection||"connected"!==this.connection.peerConnectionState}mapPubResToRemoteConfig(e,t){return e.map(((e,n)=>{var r;let{stream_type:i}=e;return null===(r=t.find((e=>{let{stream_type:t}=e;return i===t})))||void 0===r?void 0:r.attributes}))}async tryToUnmuteAudio(e){for(let n=0;n<e.length;n++)if(e[n]instanceof T_){var t;const r=this.filterTobeUnmutedTracks(e[n]);if(0===r.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t}))));const i=this.createUnmuteMessage(r);return void await oS(this,Jg.RequestUnmuteLocal,i)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(Jg.RequestUploadStats,e,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await J_(Jf(this.dtlsFailedCount,Qf)),this.emit(Jg.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await iS(this,Jg.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(Jg.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(Yg.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof wI))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof wI)).length>1)throw new Yf(Kf.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof T_)).length>1&&(e.some((e=>e instanceof T_&&e._bypassWebAudio))||!ly().webAudioMediaStreamDest))throw new Yf(Kf.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof wI&&this.pendingLocalTracks.some((e=>e instanceof wI)))throw new Yf(Kf.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof T_&&this.pendingLocalTracks.some((e=>e instanceof T_))&&(!ly().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof T_&&e._bypassWebAudio))))throw new Yf(Kf.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){const n=ly().supportDualStreamEncoding,r=yx(yx({},{width:160,height:120,framerate:15,bitrate:50}),t);let i;i=n?e._mediaStreamTrack.clone():DN(e,r);const o=$_(8,"track-low-"),a=new wI(i,yx(yx({},n&&{scaleResolutionDownBy:W_(r,e)}),{},{frameRate:r.framerate,bitrateMax:r.bitrate,bitrateMin:r.bitrate}),void 0,void 0,o);return a._hints.push(Lg.LOW_STREAM),e.addListener(Dg.NEED_CLOSE,(()=>{a.close()})),a}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}reportVideoFirstFrameDecoded(e,t,n,r){var i;const o=Array.from(Cb(i=this.remoteUserMap).call(i)).find((t=>t._videoSSRC===e));if(o){r||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const i=this.store.keyMetrics,a=i.subscribe.find((e=>e.userId===o.uid&&"video"===e.type));Gb.firstRemoteVideoDecode(this.store.sessionId,Mv.FIRST_VIDEO_DECODE,Fv.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:n,subscribeElapse:N_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:i.requestAPEnd||0,apStart:i.requestAPStart||0,joinGwEnd:i.joinGatewayEnd||0,joinGwStart:i.joinGatewayStart||0,pcEnd:i.peerConnectionEnd||0,pcStart:i.peerConnectionStart||0,subscriberEnd:(null==a?void 0:a.subscribeEnd)||0,subscriberStart:(null==a?void 0:a.subscribeStart)||0,videoAddNotify:(null==a?void 0:a.streamAdded)||0,state:r?1:0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.connection)return!1;const r=this.remoteUserMap.get(e);if(!r)return!1;const i=r.get(t);if(!i)return!1;const o=await this.connection.getRemoteSSRC(i);return void 0!==o&&o!==n}}).prototype,"startP2PConnection",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"startP2PConnection"),vx.prototype),yb(vx.prototype,"connect",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"connect"),vx.prototype),yb(vx.prototype,"preConnect",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"preConnect"),vx.prototype),yb(vx.prototype,"unpublish",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"unpublish"),vx.prototype),yb(vx.prototype,"unpublishLowStream",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"unpublishLowStream"),vx.prototype),yb(vx.prototype,"subscribe",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"subscribe"),vx.prototype),yb(vx.prototype,"massSubscribe",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"massSubscribe"),vx.prototype),yb(vx.prototype,"unsubscribe",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"unsubscribe"),vx.prototype),yb(vx.prototype,"massUnsubscribe",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"massUnsubscribe"),vx.prototype),yb(vx.prototype,"muteRemote",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"muteRemote"),vx.prototype),yb(vx.prototype,"unmuteRemote",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"unmuteRemote"),vx.prototype),yb(vx.prototype,"hasRemoteMediaWithLock",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"hasRemoteMediaWithLock"),vx.prototype),yb(vx.prototype,"disconnectForReconnect",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"disconnectForReconnect"),vx.prototype),yb(vx.prototype,"updateBitrateLimit",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"updateBitrateLimit"),vx.prototype),yb(vx.prototype,"remoteMediaSsrcChanged",[Sx],Object.getOwnPropertyDescriptor(vx.prototype,"remoteMediaSsrcChanged"),vx.prototype),vx);function Sx(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PChannel.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}function Ax(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var wx,Tx="function"==typeof Symbol&&Symbol.observable||"@@observable",Cx=function(){return Math.random().toString(36).substring(7).split("").join(".")},Rx={INIT:"@@redux/INIT"+Cx(),REPLACE:"@@redux/REPLACE"+Cx(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Cx()}};function Ix(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Ax(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Ax(1));return n(Ix)(e,t)}if("function"!=typeof e)throw new Error(Ax(2));var i=e,o=t,a=[],s=a,c=!1;function l(){s===a&&(s=a.slice())}function u(){if(c)throw new Error(Ax(3));return o}function d(e){if("function"!=typeof e)throw new Error(Ax(4));if(c)throw new Error(Ax(5));var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error(Ax(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(Ax(7));if(void 0===e.type)throw new Error(Ax(8));if(c)throw new Error(Ax(9));try{c=!0,o=i(o,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return h({type:Rx.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Ax(10));i=e,h({type:Rx.REPLACE})}})[Tx]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Ax(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Tx]=function(){return this},e},r}function Ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ox(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_DC_ID="SET_DC_id",e.SET_UID="SET_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS"}(wx||(wx={}));class Nx{constructor(e,t,n,r){Qh(this,"store",void 0),Qh(this,"reducer",void 0);const i={codec:e,audioCodec:t,mode:n,clientId:r,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled"};this.reducer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wx.SET_SESSION_ID:return kx(kx({},e),{},{sessionId:t.sessionId});case wx.SET_P2P_ID:return kx(kx({},e),{},{p2pId:t.p2pId});case wx.SET_UID:return kx(kx({},e),{},{uid:t.uid});case wx.SET_PUB_ID:return kx(kx({},e),{},{pubId:t.pubId});case wx.KEY_METRIC_CLIENT_CREATED:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{clientCreated:t.metric})});case wx.KEY_METRIC_JOIN_START:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{joinStart:t.metric})});case wx.AVOID_JOIN_START:return kx(kx({},e),{},{avoidJoinStart:t.avoidJoinStart});case wx.KEY_METRIC_JOIN_END:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{joinEnd:t.metric})});case wx.KEY_METRIC_REQUEST_AP_START:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{requestAPStart:t.metric})});case wx.KEY_METRIC_REQUEST_AP_END:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{requestAPEnd:t.metric})});case wx.KEY_METRIC_JOIN_GATEWAY_START:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case wx.KEY_METRIC_JOIN_GATEWAY_END:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case wx.KEY_METRIC_PEER_CONNECTION_START:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case wx.KEY_METRIC_PEER_CONNECTION_END:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case wx.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case wx.KEY_METRIC_ICE_CONNECTION_END:return kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case wx.KEY_METRIC_PUBLISH:{const n=e.keyMetrics.publish,r=n.findIndex((e=>e.trackId===t.metric.trackId));return-1!==r?(n[r]=kx(kx({},n[r]),t.metric),kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{publish:[...n]})})):kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case wx.KEY_METRIC_SUBSCRIBE:{const n=e.keyMetrics.subscribe,r=n.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==r?(n[r]=kx(kx({},n[r]),t.metric),kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{subscribe:[...n]})})):kx(kx({},e),{},{keyMetrics:kx(kx({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case wx.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case wx.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=kx(kx({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case wx.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case wx.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;default:return e}},this.store=Ix(this.reducer)}set sessionId(e){this.store.dispatch({type:wx.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.store.getState().sessionId}get codec(){return this.store.getState().codec}get audioCodec(){return this.store.getState().audioCodec}get clientId(){return this.store.getState().clientId}set p2pId(e){this.store.dispatch({type:wx.SET_P2P_ID,p2pId:e})}get p2pId(){return this.store.getState().p2pId}set dcId(e){this.store.dispatch({type:wx.SET_DC_ID,dcId:e})}get dcId(){return this.store.getState().dcId}set uid(e){this.store.dispatch({type:wx.SET_UID,uid:e})}get uid(){return this.store.getState().uid}set pubId(e){this.store.dispatch({type:wx.SET_PUB_ID,pubId:e})}get pubId(){return this.store.getState().pubId}set cloudProxyServerMode(e){this.store.dispatch({type:wx.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.store.getState().cloudProxyServerMode}clientCreated(){this.store.dispatch({type:wx.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.store.dispatch({type:wx.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.store.dispatch({type:wx.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.store.dispatch({type:wx.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.store.dispatch({type:wx.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.store.dispatch({type:wx.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.store.dispatch({type:wx.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.store.dispatch({type:wx.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.store.dispatch({type:wx.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}signalChannelOpen(){this.store.dispatch({type:wx.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.store.dispatch({type:wx.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,n,r){this.store.dispatch({type:wx.KEY_METRIC_PUBLISH,metric:kx(kx({trackId:e,type:t},n&&{publishStart:n}),r&&{publishEnd:r})})}subscribe(e,t,n,r,i,o,a){this.store.dispatch({type:wx.KEY_METRIC_SUBSCRIBE,metric:kx(kx(kx(kx(kx({userId:e,type:t},n&&{subscribeStart:n}),r&&{subscribeEnd:r}),i&&{firstFrame:i}),o&&{streamAdded:o}),a&&{firstDecoded:a})})}massSubscribe(e,t,n,r){e.forEach((e=>{this.store.dispatch({type:wx.KEY_METRIC_SUBSCRIBE,metric:kx(kx(kx({userId:e.userId,type:e.type},t&&{subscribeStart:t}),n&&{subscribeEnd:n}),r&&{firstFrame:r})})}))}get keyMetrics(){return this.store.getState().keyMetrics}recordJoinChannelService(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2"))));try{return"number"!=typeof t?(this.store.dispatch({type:wx.RECORD_JOIN_CHANNEL_SERVICE,record:kx(kx({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.store.getState().joinChannelServiceRecords.length-1):(t<0||t>=this.store.getState().joinChannelServiceRecords.length||this.store.dispatch({type:wx.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.store.dispatch({type:wx.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.store.dispatch({type:wx.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.store.getState().joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.store.getState().avoidJoinStart}set avoidJoinStart(e){this.store.dispatch({type:wx.AVOID_JOIN_START,avoidJoinStart:e})}}let xx;const Px=()=>void 0!==window.isSecureContext;function Dx(e){let t={};e:for(;!Wx(e);){let n=nP(e);switch(n>>>3){case 0:break e;case 1:t.requestId=Yx(e,nP(e));break;case 2:t.requestType=nP(e)>>>0;break;case 3:t.scorePorn=eP(e);break;case 4:t.scoreSexy=eP(e);break;case 5:t.scoreNeutral=eP(e);break;case 6:t.requestScene=nP(e)>>>0;break;case 7:t.scene=nP(e)>>>0;break;default:Fx(e,7&n)}}return t}function Lx(e,t){let n=e.service;void 0!==n&&(rP(t,8),rP(t,n));let r=e.vendor;void 0!==r&&(rP(t,16),rP(t,r));let i=e.token;void 0!==i&&(rP(t,26),Qx(t,i));let o=e.callbackUrl;void 0!==o&&(rP(t,34),Qx(t,o))}function Mx(e){let t=nP(e),n=e.limit;return e.limit=e.offset+t,n}function Fx(e,t){switch(t){case 0:for(;128&Xx(e););break;case 2:qx(e,nP(e));break;case 5:qx(e,4);break;case 1:qx(e,8);break;default:throw new Error("Unimplemented type: "+t)}}let Ux=new Float32Array(1);new Uint8Array(Ux.buffer);let jx=new Float64Array(1),Vx=new Uint8Array(jx.buffer);function Bx(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let zx=[];function Gx(){const e=zx.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function Hx(e){zx.push(e)}function qx(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function Wx(e){return e.offset>=e.limit}function Zx(e,t){let n=e.bytes,r=e.offset,i=e.limit,o=r+t;if(o>n.length){let t=new Uint8Array(2*o);t.set(n),e.bytes=t}return e.offset=o,o>i&&(e.limit=o),r}function Kx(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function Yx(e,t){let n=Kx(e,t),r=String.fromCharCode,i=e.bytes,o="ï¿½",a="";for(let e=0;e<t;e++){let s,c,l,u,d=i[e+n];0==(128&d)?a+=r(d):192==(224&d)?e+1>=t?a+=o:(s=i[e+n+1],128!=(192&s)?a+=o:(u=(31&d)<<6|63&s,u<128?a+=o:(a+=r(u),e++))):224==(240&d)?e+2>=t?a+=o:(s=i[e+n+1],c=i[e+n+2],32896!=(49344&(s|c<<8))?a+=o:(u=(15&d)<<12|(63&s)<<6|63&c,u<2048||u>=55296&&u<=57343?a+=o:(a+=r(u),e+=2))):240==(248&d)?e+3>=t?a+=o:(s=i[e+n+1],c=i[e+n+2],l=i[e+n+3],8421504!=(12632256&(s|c<<8|l<<16))?a+=o:(u=(7&d)<<18|(63&s)<<12|(63&c)<<6|63&l,u<65536||u>1114111?a+=o:(u-=65536,a+=r(55296+(u>>10),56320+(1023&u)),e+=3))):a+=o}return a}function Qx(e,t){let n=t.length,r=0;for(let e=0;e<n;e++){let i=t.charCodeAt(e);i>=55296&&i<=56319&&e+1<n&&(i=(i<<10)+t.charCodeAt(++e)-56613888),r+=i<128?1:i<2048?2:i<65536?3:4}rP(e,r);let i=Zx(e,r),o=e.bytes;for(let e=0;e<n;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<n&&(r=(r<<10)+t.charCodeAt(++e)-56613888),r<128?o[i++]=r:(r<2048?o[i++]=r>>6&31|192:(r<65536?o[i++]=r>>12&15|224:(o[i++]=r>>18&7|240,o[i++]=r>>12&63|128),o[i++]=r>>6&63|128),o[i++]=63&r|128)}}function Jx(e,t){let n=Zx(e,t.limit),r=e.bytes,i=t.bytes;for(let e=0,o=t.limit;e<o;e++)r[e+n]=i[e]}function Xx(e){return e.bytes[Kx(e,1)]}function $x(e,t){let n=Zx(e,1);e.bytes[n]=t}function eP(e){let t=Kx(e,8),n=e.bytes;return Vx[0]=n[t++],Vx[1]=n[t++],Vx[2]=n[t++],Vx[3]=n[t++],Vx[4]=n[t++],Vx[5]=n[t++],Vx[6]=n[t++],Vx[7]=n[t++],jx[0]}function tP(e,t){let n=Zx(e,8),r=e.bytes;jx[0]=t,r[n++]=Vx[0],r[n++]=Vx[1],r[n++]=Vx[2],r[n++]=Vx[3],r[n++]=Vx[4],r[n++]=Vx[5],r[n++]=Vx[6],r[n++]=Vx[7]}function nP(e){let t,n=0,r=0;do{t=Xx(e),n<32&&(r|=(127&t)<<n),n+=7}while(128&t);return r}function rP(e,t){for(t>>>=0;t>=128;)$x(e,127&t|128),t>>>=7;$x(e,t)}function iP(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,i=t.high>>>24,o=0===i?0===r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10,a=Zx(e,o),s=e.bytes;switch(o){case 10:s[a+9]=i>>>7&1;case 9:s[a+8]=9!==o?128|i:127&i;case 8:s[a+7]=8!==o?r>>>21|128:r>>>21&127;case 7:s[a+6]=7!==o?r>>>14|128:r>>>14&127;case 6:s[a+5]=6!==o?r>>>7|128:r>>>7&127;case 5:s[a+4]=5!==o?128|r:127&r;case 4:s[a+3]=4!==o?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==o?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==o?n>>>7|128:n>>>7&127;case 1:s[a]=1!==o?128|n:127&n}}var oP={};Object.defineProperty(oP,"__esModule",{value:!0});var aP=function(){function e(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return e.hashStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},e.hashAsciiStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},e._hex=function(t){var n,r,i,o,a=e.hexChars,s=e.hexOut;for(o=0;o<4;o+=1)for(r=8*o,n=t[o],i=0;i<8;i+=2)s[r+1+i]=a.charAt(15&n),n>>>=4,s[r+0+i]=a.charAt(15&n),n>>>=4;return s.join("")},e._md5cycle=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0},e.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this},e.prototype.appendStr=function(t){var n,r,i=this._buffer8,o=this._buffer32,a=this._bufferLength;for(r=0;r<t.length;r+=1){if((n=t.charCodeAt(r))<128)i[a++]=n;else if(n<2048)i[a++]=192+(n>>>6),i[a++]=63&n|128;else if(n<55296||n>56319)i[a++]=224+(n>>>12),i[a++]=n>>>6&63|128,i[a++]=63&n|128;else{if((n=1024*(n-55296)+(t.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[a++]=240+(n>>>18),i[a++]=n>>>12&63|128,i[a++]=n>>>6&63|128,i[a++]=63&n|128}a>=64&&(this._dataLength+=64,e._md5cycle(this._state,o),a-=64,o[0]=o[16])}return this._bufferLength=a,this},e.prototype.appendAsciiStr=function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t.charCodeAt(a++);if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},e.prototype.appendByteArray=function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t[a++];if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},e.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},e.prototype.setState=function(e){var t,n=e.buffer,r=e.state,i=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)},e.prototype.end=function(t){void 0===t&&(t=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,o=1+(n>>2);this._dataLength+=n;var a=8*this._dataLength;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(e.buffer32Identity.subarray(o),o),n>55&&(e._md5cycle(this._state,i),i.set(e.buffer32Identity)),a<=4294967295)i[14]=a;else{var s=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var c=parseInt(s[2],16),l=parseInt(s[1],16)||0;i[14]=c,i[15]=l}return e._md5cycle(this._state,i),t?this._state:e._hex(this._state)},e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,e}(),sP=oP.Md5=aP;if("5d41402abc4b2a76b9719d911017c592"!==aP.hashStr("hello"))throw new Error("Md5 self test failed.");function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const lP=new Map([["moderation",1],["supervise",2]]);class uP extends Wf{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(iy.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=qn(t=e.map((e=>lP.get(e)||0))).call(t,((e,t)=>e+t)),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),Qh(this,"name","AgoraRTCVideoContentInspect"),Qh(this,"_connectionState",ny.CONNECTING),Qh(this,"_innerConnectionState",void 0),Qh(this,"sequence",0),Qh(this,"inspectStartTime",void 0),Qh(this,"workerManagerConnection",void 0),Qh(this,"workerConnection",void 0),Qh(this,"workerMessageLengthLimit",void 0),Qh(this,"inspectIntervalMinimum",void 0),Qh(this,"qualityRatio",void 0),Qh(this,"_connectInfo",void 0),Qh(this,"_cancelTokenSource",Hf.CancelToken.source()),Qh(this,"_retryConfig",void 0),Qh(this,"wmSequence",0),Qh(this,"inspectInterval",void 0),Qh(this,"inspectTimer",null),Qh(this,"ossFilePrefix",void 0),Qh(this,"extraInfo",void 0),Qh(this,"_inspectType",void 0),Qh(this,"_inspectMode",void 0),Qh(this,"_quality",1),Qh(this,"qualityTimer",null),Qh(this,"_inspectId",void 0),Qh(this,"_needWorkUrlOnly",!1),Qh(this,"inspectImage",(()=>{if(this.connectionState!==ny.CONNECTED)throw new Yf(Kf.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{this.connectionState===ny.CONNECTED?this.requestToInspectImage():im.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=$_(5,"inspect-"),this.workerMessageLengthLimit=ym("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=ym("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=ym("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new vC("worker-manager-"+this._inspectId,Qf),this.on(iy.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,im.debug("[".concat(this._inspectId,"] Inspect operation :").concat(ry[e]," ").concat(t||""))})),this.handleWorkerManagerEvents(),this.workerConnection=new vC("worker-"+this._inspectId,Qf),this.handleWorkerEvents()}async init(e,t){this.emit(iy.STATE_CHANGE,ry.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new sd(((r,i)=>{this.on(iy.CONNECTION_STATE_CHANGE,((e,t)=>{t===ny.CONNECTED&&r()})),this.requestAP(e,n,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{i(e)}))}))}async requestAP(e,t,n){const r=ym("WEBCS_DOMAIN").map((e=>"https://".concat(e,"/api/v1"))),i=await function(e,t,n,r){let{appId:i,areaCode:o,cname:a,sid:s,token:c,uid:l}=t;BC++;const u="image_moderation_api",d={service_name:u,json_body:JSON.stringify({appId:i,areaCode:o,cname:a,command:"allocateEdge",requestId:BC,seq:BC,sid:s,token:c,ts:Date.now(),uid:l+""})};let h,p,f=e[0];return Xf((async()=>{h=Date.now();const e=await Nb(f,{data:d,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==e.code){const t=new Yf(Kf.UNEXPECTED_RESPONSE,"image inspect ap error, code"+e.code,{retry:!0,responseTime:p});throw im.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new Yf(Kf.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:p});throw im.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new Yf(Kf.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:t.code,responseTime:p});throw im.error(e.toString()),e}const r=ym("VIDEO_INSPECT_WORKER_MANAGER_HOST"),i=ym("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:t.servers.map((e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(r,":").concat(i||n)})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,responseTime:p}}),((t,n)=>(Gb.apworkerEvent(s,{success:!0,sc:200,serviceName:u,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1)),((t,n)=>(Gb.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:u,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==Kf.OPERATION_ABORTED&&t.code!==Kf.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(f=e[(n+1)%e.length],!0))),r)}(r,e,t,n);this.emit(iy.STATE_CHANGE,ry.AP_CONNECTED);const{addressList:o}=i;return this.wmSequence++,o}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(iy.STATE_CHANGE,ry.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(mg.CONNECTED,(async()=>{this.emit(iy.STATE_CHANGE,ry.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.16.1",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)})),this.workerManagerConnection.on(mg.CLOSED,(()=>{this._innerConnectionState<ry.GET_WORKER_MANAGER_RESPONSE&&im.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))})),this.workerManagerConnection.on(mg.FAILED,(()=>{this._innerConnectionState<ry.GET_WORKER_MANAGER_RESPONSE&&im.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))})),this.workerManagerConnection.on(mg.RECONNECTING,(()=>{this._innerConnectionState<ry.GET_WORKER_MANAGER_RESPONSE&&im.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))})),this.workerManagerConnection.on(mg.ON_MESSAGE,(async e=>{this.emit(iy.STATE_CHANGE,ry.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const n=JSON.parse(e.data);if(200!==n.code)throw im.error("[".concat(this._inspectId,"] Unexpected code ").concat(n.code," from worker manager")),new Yf(Kf.UNEXPECTED_RESPONSE,"response code of worker is unexpected",n);if(!(n.serverResponse&&n.serverResponse.portWss&&t))throw im.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(n))),new Yf(Kf.UNEXPECTED_RESPONSE,"response content of worker is unexpected",n);{const e=ym("VIDEO_INSPECT_WORKER_PORT")||n.serverResponse.portWss,r=t.replace(/:\d+\/?$/,":".concat(e));this.emit(iy.STATE_CHANGE,ry.CONNECT_WORKER,r),this._needWorkUrlOnly?this.emit(iy.REQUEST_NEW_WORKER_URL,r):await this.connectWorker(r)}})),this.workerManagerConnection.on(mg.WILL_RECONNECT,((e,t)=>{t(e)})),this.workerManagerConnection.on(mg.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(mg.CONNECTED,(async()=>{this.emit(iy.STATE_CHANGE,ry.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=ny.CONNECTED})),this.workerConnection.on(mg.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const n=function(e){return function(e){let t={};e:for(;!Wx(e);){let n=nP(e);switch(n>>>3){case 0:break e;case 1:t.code=nP(e);break;case 2:t.msg=Yx(e,nP(e));break;case 3:{let n=Mx(e);t.data=Dx(e),e.limit=n;break}default:Fx(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}(new Uint8Array(e.data));if(ym("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&im.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(n)),200===n.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&"supervise"===this.inspectType[0])return void this.emit(iy.INSPECT_RESULT,void 0,void 0);if(n.data&&n.data.scorePorn&&n.data.scoreSexy&&n.data.scoreNeutral){var t;const e={porn:n.data.scorePorn,sexy:n.data.scoreSexy,neutral:n.data.scoreNeutral},r=qn(t=Object.keys(e)).call(t,((t,n)=>e[t]>e[n]?t:n),"porn"),i=Object.keys(e).find((e=>e===r));this.emit(iy.INSPECT_RESULT,i)}else this.emit(iy.INSPECT_RESULT,void 0,new Yf(Kf.UNEXPECTED_RESPONSE,n.code+"","There is an unexpected data on message"))}else this.emit(iy.INSPECT_RESULT,void 0,new Yf(Kf.UNEXPECTED_RESPONSE,n.code+"",n.msg))}else im.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(iy.INSPECT_RESULT,void 0,new Yf(Kf.UNEXPECTED_RESPONSE,"invalid worker message type"))})),this.workerConnection.on(mg.CLOSED,(()=>{this.connectionState=ny.CLOSED})),this.workerConnection.on(mg.FAILED,(()=>{this.connectionState=ny.CLOSED})),this.workerConnection.on(mg.RECONNECTING,(()=>{this.connectionState=this.connectionState===ny.CONNECTED?ny.RECONNECTING:ny.CONNECTING})),this.workerConnection.on(mg.WILL_RECONNECT,((e,t)=>{"recover"===e&&t(e),t("tryNext")})),this.workerConnection.on(mg.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(iy.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){this.sequence++;const e=aS(this,iy.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(iy.INSPECT_RESULT,void 0,new Yf(Kf.INVALID_OPERATION,"Only the track being played can be inspected"));const n=await this.generateRequestData(e,t);this.workerConnection.sendMessage(n,!0,!0)}else this.emit(iy.INSPECT_RESULT,void 0,new Yf(Kf.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(e,t){let{appId:n,cname:r,cid:i,vid:o,sid:a,uid:s}=t;const c=Date.now(),l=await e.getCurrentFrameImage("image/jpeg",this.quality),u=await(async(e,t,n)=>await(async(e,t,n)=>{const r=""+t+n,i=new Uint8Array(sP.hashStr(r,!0).buffer).slice(0,16),o=i.slice(0,12),a=await window.crypto.subtle.importKey("raw",i,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:o},a,e))})(e.buffer,t,n))(l,n,r),d=this.sequence+"-"+i+"-"+s+"-"+c+"-"+$_(12,""),h={appId:n,cid:i,cname:r,deviceId:"",elapse:uP.intToLong(Number(c-this.inspectStartTime)),fileSize:u.byteLength,jpgEncryption:2,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:d,sdkVersion:"4.16.1",sequence:this.sequence,sid:a,timestamp:uP.intToLong(c),uid:s,vid:o,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const p=function(e){let t=Gx();return function(e,t){let n=e.appId;void 0!==n&&(rP(t,10),Qx(t,n));let r=e.cid;void 0!==r&&(rP(t,16),rP(t,r));let i=e.cname;void 0!==i&&(rP(t,26),Qx(t,i));let o=e.deviceId;void 0!==o&&(rP(t,34),Qx(t,o));let a=e.elapse;void 0!==a&&(rP(t,40),iP(t,a));let s=e.fileSize;void 0!==s&&(rP(t,48),iP(t,Bx(s)));let c=e.height;void 0!==c&&(rP(t,56),iP(t,Bx(c)));let l=e.jpg;void 0!==l&&(rP(t,66),rP(t,l.length),function(e,t){let n=Zx(e,t.length);e.bytes.set(t,n)}(t,l));let u=e.networkType;void 0!==u&&(rP(t,72),iP(t,Bx(u)));let d=e.osType;void 0!==d&&(rP(t,80),iP(t,Bx(d)));let h=e.requestId;void 0!==h&&(rP(t,90),Qx(t,h));let p=e.sdkVersion;void 0!==p&&(rP(t,98),Qx(t,p));let f=e.sequence;void 0!==f&&(rP(t,104),iP(t,Bx(f)));let m=e.sid;void 0!==m&&(rP(t,114),Qx(t,m));let v=e.timestamp;void 0!==v&&(rP(t,120),iP(t,v));let g=e.uid;void 0!==g&&(rP(t,128),rP(t,g));let y=e.vid;void 0!==y&&(rP(t,136),rP(t,y));let b=e.width;void 0!==b&&(rP(t,144),iP(t,Bx(b)));let E=e.service;void 0!==E&&(rP(t,152),rP(t,E));let _=e.callbackData;void 0!==_&&(rP(t,162),Qx(t,_));let S=e.jpgEncryption;void 0!==S&&(rP(t,168),rP(t,S));let A=e.requestType;void 0!==A&&(rP(t,176),rP(t,A));let w=e.scorePorn;void 0!==w&&(rP(t,185),tP(t,w));let T=e.scoreSexy;void 0!==T&&(rP(t,193),tP(t,T));let C=e.scoreNeutral;void 0!==C&&(rP(t,201),tP(t,C));let R=e.scene;void 0!==R&&(rP(t,208),rP(t,R));let I=e.ossFilePrefix;void 0!==I&&(rP(t,218),Qx(t,I));let O=e.serviceVendor;if(void 0!==O)for(let e of O){rP(t,226);let n=Gx();Lx(e,n),rP(t,n.limit),Jx(t,n),Hx(n)}}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}(h);if(p.byteLength<this.workerMessageLengthLimit){if(ym("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cP(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h);delete e.jpg,im.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(e))}return p}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:r,cid:i,vid:o,sid:a,uid:s})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=Hf.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=ny.CLOSED,this.emit(iy.STATE_CHANGE,ry.CLOSED)}}var dP,hP,pP,fP,mP,vP,gP,yP,bP,EP,_P,SP,AP,wP,TP,CP,RP,IP,OP,kP,NP,xP,PP,DP,LP,MP,FP,UP,jP,VP,BP,zP,GP,HP,qP,WP,ZP,KP,YP;function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QP(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let XP=(dP=zb(),hP=zb({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),t.map((e=>e?Object(e).toString():"null")))}),pP=zb({argsMap:(e,t)=>(t||(t=[]),Array.isArray(t)||(t=[t]),t.map((e=>e.getTrackId())))}),fP=zb({argsMap:(e,t,n)=>[t.uid,n]}),mP=zb({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:n}=e;return[null==t?void 0:t.uid,n]}))}),vP=zb({argsMap:(e,t,n)=>[t.uid,n]}),gP=zb({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:n}=e;return{uid:null==t?void 0:t.uid,mediaType:n}}))}),yP=zb(),bP=zb(),EP=zb(),_P=zb(),SP=zb(),AP=zb(),wP=zb(),TP=zb(),CP=zb(),RP=zb(),IP=zb(),OP=zb(),kP=zb(),NP=zb(),xP=zb({argsMap:(e,t)=>[t]}),PP=zb(),DP=zb(),LP=zb(),MP=zb(),FP=zb(),UP=zb(),jP=zb(),VP=zb(),BP=zb(),zP=zb(),GP=zb({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),HP=zb(),qP=zb(),WP=zb(),ZP=zb({reportResult:!0}),KP=zb(),yb((YP=class extends Wf{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(e){let t;if(super(),Qh(this,"store",void 0),Qh(this,"_uid",void 0),Qh(this,"_channelName",void 0),Qh(this,"_uintUid",void 0),Qh(this,"_users",[]),Qh(this,"_codec",void 0),Qh(this,"_mode",void 0),Qh(this,"_config",void 0),Qh(this,"_clientId",void 0),Qh(this,"_appId",void 0),Qh(this,"_sessionId",null),Qh(this,"_key",void 0),Qh(this,"_joinInfo",void 0),Qh(this,"_gateway",void 0),Qh(this,"_statsCollector",void 0),Qh(this,"_configDistribute",void 0),Qh(this,"_leaveMutex",new Zb("client-leave")),Qh(this,"_publishMutex",new Zb("client-publish")),Qh(this,"_renewTokenMutex",new Zb("client-renewtoken")),Qh(this,"_subscribeMutex",new Zb("client-subscribe")),Qh(this,"_encryptionMode","none"),Qh(this,"_encryptionSecret",null),Qh(this,"_encryptionSalt",null),Qh(this,"_proxyServer",void 0),Qh(this,"_turnServer",{servers:[],mode:"auto"}),Qh(this,"_cloudProxyServerMode","disabled"),Qh(this,"_isDualStreamEnabled",!1),Qh(this,"_defaultStreamFallbackType",void 0),Qh(this,"_lowStreamParameter",void 0),Qh(this,"_streamFallbackTypeCacheMap",new Map),Qh(this,"_remoteStreamTypeCacheMap",new Map),Qh(this,"_axiosCancelSource",Hf.CancelToken.source()),Qh(this,"_audioVolumeIndicationInterval",void 0),Qh(this,"_networkQualityInterval",void 0),Qh(this,"_userOfflineTimeout",void 0),Qh(this,"_streamRemovedTimeout",void 0),Qh(this,"_injectStreamingClient",void 0),Qh(this,"_liveTranscodeStreamingClient",void 0),Qh(this,"_liveRawStreamingClient",void 0),Qh(this,"_channelMediaRelayClient",void 0),Qh(this,"_networkQualitySensitivity","normal"),Qh(this,"_p2pChannel",void 0),Qh(this,"_useLocalAccessPoint",!1),Qh(this,"_setLocalAPVersion",void 0),Qh(this,"_joinAndNotLeaveYet",!1),Qh(this,"_numberOfJoinCount",0),Qh(this,"_remoteDefaultVideoStreamType",void 0),Qh(this,"_inspect",void 0),Qh(this,"_license",void 0),Qh(this,"_handleLocalTrackEnable",((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),Qh(this,"_handleLocalTrackDisable",((e,t,n)=>{this.unpublish(e).then(t).catch(n)})),Qh(this,"_handleUserOnline",(e=>{this.isStringUID&&"string"!=typeof e.uid&&im.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0;else{const t=new CI(e.uid,e.uint_id||e.uid);this._users.push(t),im.debug("[".concat(this._clientId,"] user online"),e.uid),this.emit(Jv.USER_JOINED,t)}})),Qh(this,"_handleUserOffline",(e=>{const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),cS(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),im.debug("[".concat(this._clientId,"] user offline"),e.uid,"reason:",e.reason),this.emit(Jv.USER_LEAVED,t,e.reason))})),Qh(this,"_handleAddAudioOrVideoStream",((e,t,n,r,i,o,a)=>{const s=this._users.find((e=>e.uid===t));if(!s)return void im.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));im.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),this.store.subscribe(s.uid,e,void 0,void 0,void 0,Date.now());const c="audio"===e?s.hasAudio:s.hasVideo;s._uintid||(s._uintid=i||t),"audio"===e?s._trust_audio_stream_added_state_=!0:s._trust_video_stream_added_state_=!0,"audio"===e?(s._audio_added_=!0,void 0!==n&&(s._audioSSRC=n),void 0!==r&&(s._cname=r),o&&(s._audioOrtc=o)):(s._video_added_=!0,void 0!==n&&(s._videoSSRC=n),void 0!==r&&(s._cname=r),void 0!==a&&(s._rtxSsrcId=a),o&&(s._videoOrtc=o)),("audio"===e?s.hasAudio:s.hasVideo)&&!c&&(im.info("[".concat(this._clientId,"] remote user ").concat(s.uid," published ").concat(e)),this.emit(Jv.USER_PUBLISHED,s,e)),"video"===e?Gb.onGatewayStream(this._sessionId,Mv.ON_ADD_VIDEO_STREAM,Fv.ON_ADD_VIDEO_STREAM,{peer:i||t}):Gb.onGatewayStream(this._sessionId,Mv.ON_ADD_AUDIO_STREAM,Fv.ON_ADD_AUDIO_STREAM,{peer:i||t}),this._p2pChannel.remoteMediaSsrcChanged(s,e,n).then((t=>{if(t)return im.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after rejoin because SSRC id changed.")),this._p2pChannel.unsubscribe(s,e,!0).then((()=>this._subscribe(s,e,!0).catch((e=>{im.error("[".concat(this._clientId,"] resubscribe error"),e.toString())}))))})),this._p2pChannel.hasPendingRemoteMedia(s,e)&&(im.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after reconnect.")),this._subscribe(s,e,!0).catch((e=>{im.error("[".concat(this._clientId,"] resubscribe error"),e.toString())})))})),Qh(this,"_handleRemoveStream",(e=>{const t=this._users.find((t=>t.uid===e.uid));if(!t)return void im.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));im.debug("[".concat(this._clientId,"] stream removed with uid ").concat(e.uid));let n=()=>{};t.hasAudio&&t.hasVideo?n=()=>{im.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.emit(Jv.USER_UNPUBLISHED,t,"audio"),im.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.emit(Jv.USER_UNPUBLISHED,t,"video")}:t.hasVideo?n=()=>{im.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.emit(Jv.USER_UNPUBLISHED,t,"video")}:t.hasAudio&&(n=()=>{im.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.emit(Jv.USER_UNPUBLISHED,t,"audio")}),t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel.unsubscribe(t).then((e=>{if(e)return this._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0,Gb.onGatewayStream(this._sessionId,Mv.ON_REMOVE_STREAM,Fv.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),n()})),Qh(this,"_handleSetStreamLocalEnable",((e,t,n)=>{const r=this._users.find((e=>e.uid===t));if(!r)return void im.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));im.debug("[".concat(this._clientId,"] local ").concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t));const i="audio"===e?r.hasAudio:r.hasVideo;if("audio"===e){r._trust_audio_enabled_state_=!0;const e=r._audio_enabled_;if(r._audio_enabled_=n,r._audio_enabled_===e)return;{const e=r._audio_enabled_?"enable-local-audio":"disable-local-audio";im.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(t,", msg: ").concat(e)),this.emit(Jv.USER_INFO_UPDATED,t,e)}}else{r._trust_video_enabled_state_=!0;const e=r._video_enabled_;if(r._video_enabled_=n,r._video_enabled_===e)return;{const e=r._video_enabled_?"enable-local-video":"disable-local-video";im.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(e)),this.emit(Jv.USER_INFO_UPDATED,t,e)}}const o="audio"===e?r.hasAudio:r.hasVideo;return i!==o?!i&&o?(im.info("[".concat(this._clientId,"] remote user ").concat(t," published ").concat(e)),void this.emit(Jv.USER_PUBLISHED,r,e)):("video"===e&&r._videoTrack&&r._videoTrack._destroy(),"audio"===e&&r._audioTrack,this._p2pChannel.muteRemote(r,e),im.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished ").concat(e)),void this.emit(Jv.USER_UNPUBLISHED,r,e)):void 0})),Qh(this,"_handleMuteStream",((e,t,n)=>{im.debug("[".concat(this._clientId,"] receive mute message"),e,t,n);const r=this._users.find((t=>t.uid===e));if(!r)return void im.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(e));const i="audio"===t?r.hasAudio:r.hasVideo;if("audio"===t){r._trust_audio_mute_state_=!0;const t=r._audio_muted_;if(r._audio_muted_=n,r._audio_muted_===t)return;{const t=r._audio_muted_?"mute-audio":"unmute-audio";im.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.emit(Jv.USER_INFO_UPDATED,e,t)}}else{r._trust_video_mute_state_=!0;const t=r._video_muted_;if(r._video_muted_=n,r._video_muted_===t)return;{const t=r._video_muted_?"mute-video":"unmute-video";im.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.emit(Jv.USER_INFO_UPDATED,e,t)}}const o="audio"===t?r.hasAudio:r.hasVideo;if(i!==o){if(!i&&o)return("audio"===t?r._audioSSRC:r._videoSSRC)?(im.info("[".concat(this._clientId,"] remote user ").concat(e," published ").concat(t)),void this.emit(Jv.USER_PUBLISHED,r,t)):void im.warning("[".concat(this._clientId,"] remote user ").concat(e," receive ").concat(t," unmute message  before add stream message, ").concat(t," SSRC doesn't exist yet."));"video"===t&&r._videoTrack&&r._videoTrack._destroy(),"audio"===t&&r._audioTrack,this._p2pChannel.muteRemote(r,t),im.info("[".concat(this._clientId,"] remote user ").concat(e," unpublished ").concat(t)),this.emit(Jv.USER_UNPUBLISHED,r,t)}})),Qh(this,"_handleP2PLost",(async e=>{im.debug("[".concat(this._clientId,"] receive p2p lost"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():im.warning("P2PLost stream not found",e)})),Qh(this,"_handleTokenWillExpire",(()=>{im.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.emit(Jv.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),Qh(this,"_handleBeforeUnload",(e=>{"beforeunload"===e.type&&void 0!==e.returnValue&&""!==e.returnValue||(this.leave(),im.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))})),Qh(this,"_handleUpdateNetworkQuality",(()=>{if("normal"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.emit(Jv.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.emit(Jv.NETWORK_QUALITY,e)})),this._codec=e.codec,this._mode=e.mode,this._clientId=$_(5,"client-"),this.store=new Nx(e.codec,e.audioCodec,e.mode,this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),im.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(am," build: ").concat(om,", mode: ").concat(this._mode,", codec: ").concat(this._codec)),e.clientRoleOptions)try{lg(e.clientRoleOptions),t=Object.assign({},e.clientRoleOptions)}catch(e){im.warning("[".concat(this._clientId,"] ").concat(e.toString()))}this._statsCollector=new D_(this.store),this._statsCollector.onStatsException=(e,t,n)=>{im.debug("[".concat(this._clientId,"] receive exception msg, code: ").concat(e,", msg: ").concat(t,", uid: ").concat(n)),this.emit(Jv.EXCEPTION,{code:e,msg:t,uid:n})},this._statsCollector.onUploadPublishDuration=(e,t,n,r)=>{const i=this._users.find((t=>t.uid===e));i&&Gb.peerPublishStatus(this._sessionId,{subscribeElapse:r,audioPublishDuration:t,videoPublishDuration:n,peer:i._uintid})},this._gateway=new NC(this.store,{clientId:this._clientId,mode:this._mode,codec:this._codec,websocketRetryConfig:e.websocketRetryConfig||Qf,httpRetryConfig:e.httpRetryConfig||Qf,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:t}),this._config=e,this._configDistribute=new tR,this._p2pChannel=new _x(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async join(e,t,n,r,i){const o=++this._numberOfJoinCount;this.store.joinStart(),r&&(this.store.uid=r);const a="HTTPS"===(xx||xx||(xx=(window.location.protocol.split(":")[0]||"").toUpperCase(),xx)),s=Px()?window.isSecureContext:"Browser Not Support";if(!Px()&&!a||!window.isSecureContext){const e="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser";im.warning(e)}const c=eS();"DISCONNECTED"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),im.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart)));const l=Gb.reportApiInvoke(c,{name:Vv.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:s},tag:Bv.TRACER});Gb.setAppId(e);try{if(!n&&null!==n)throw new Yf(Kf.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&wv(n,"token",1,2047),wv(e,"appid",1,2047),Cv(t),r&&Rv(r),i&&wv(i,"optionalInfo",1,2047)}catch(e){throw l.onError(e),e}if(im.info("[".concat(this._clientId,"] start join channel ").concat(t,", join number: ").concat(o)),this._leaveMutex.isLocked&&(im.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),im.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,"DISCONNECTED"!==this.connectionState){const e=new Yf(Kf.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw l.onError(e),e}this._sessionId||(this._sessionId=c,this.store.sessionId=this._sessionId),this._gateway.state="CONNECTING";const u=JP({clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:"string"!=typeof r?r:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:i,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(u.setLocalAPVersion=this._setLocalAPVersion),"string"==typeof r&&(u.stringUid=r,this._uintUid?(u.uid=this._uintUid,this._uintUid=void 0):u.uid=0),"none"!==this._encryptionMode&&this._encryptionSecret){if(u.aesmode=this._encryptionMode,u.aespassword=await(async e=>{const t=fS("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),n=await window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),r=Fb(e),i=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r);return mS(new Uint8Array(i))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new Yf(Kf.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(u.aessalt=this._encryptionSalt)}this._startSession(this._sessionId,{channel:t,appId:e});const d=this._sessionId;setTimeout((()=>{"CONNECTING"===this.connectionState&&d===this._sessionId&&Gb.joinChannelTimeout(this._sessionId,5)}),5e3);try{let r;const i=u.cloudProxyServer;if(["proxy3","proxy4","proxy5"].includes(i)){const e=ym("PROXY_SERVER_TYPE3");Array.isArray(e)?u.proxyServer=e[0]:u.proxyServer=e}if(Gb.setProxyServer(u.proxyServer),im.setProxyServer(u.proxyServer),this.store.requestAPStart(),u.stringUid&&!u.uid){const e=await YC(u.stringUid,u,this._axiosCancelSource.token,this._config.httpRetryConfig||Qf,this.store);im.debug("getUserAccount Success ".concat(u.stringUid," => ").concat(e)),u.uid=e,r=await KC(u,this._axiosCancelSource.token,this._config.httpRetryConfig||Qf,!0,this.store)}else r=await KC(u,this._axiosCancelSource.token,this._config.httpRetryConfig||Qf,!0,this.store);if(!this._joinAndNotLeaveYet)throw new Yf(Kf.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this.store.requestAPEnd(),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(u,this._axiosCancelSource.token),this._configDistribute.on(Wg.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=n||e;const o=r.gatewayInfo;this._joinInfo=JP(JP({},u),{},{cid:o.cid,uid:u.uid?u.uid:o.uid,vid:o.vid,apResponse:o.res,uni_lbs_ip:o.uni_lbs_ip,gatewayAddrs:o.gatewayAddrs});const a=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new Yf(Kf.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));l.onSuccess(a),this._appId=e,this._channelName=u.cname,this._uid=a,this.store.uid=a,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(Oh()?"beforeunload":"pagehide",this._handleBeforeUnload)}),0);const s=u.stringUid?"string uid: ".concat(u.stringUid,",uid: ").concat(u.uid):"uid: ".concat(this._uid);return im.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(t,",").concat(s)),setTimeout((()=>{im.startUpload()}),5e3),this.store.joinEnd(),this,Cm.includes(this)||Cm.push(this),a}catch(e){const t=Array.isArray(e)?e[0]:e;throw im.error("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),t),t.code!==Kf.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state="DISCONNECTED",this._reset()),l.onError(t),t}}_joinGateway(){if(!this._joinInfo||!this._key)throw new Yf(Kf.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!ym("JOIN_WITH_FALLBACK_SIGNAL_PROXY"))).then((e=>e)).catch((e=>{if(e.code===Kf.INIT_WEBSOCKET_TIMEOUT)return this._gateway.leave(!0,Qv.FALLBACK),e;if(e.code===Kf.INIT_DATACHANNEL_TIMEOUT)return this._gateway.leave(!0,Qv.FALLBACK),e;throw e})).then((e=>{if(e instanceof Yf){if(e.code===Kf.INIT_WEBSOCKET_TIMEOUT){if(im.info("[".concat(this._clientId,"] join timeout, fallback to proxy")),!this._joinInfo||!this._key)throw new Yf(Kf.INVALID_OPERATION);this._joinInfo.cloudProxyServer="fallback",this._cloudProxyServerMode="fallback",this.store.cloudProxyServerMode="fallback";const e=ym("PROXY_SERVER_TYPE3");if(Array.isArray(e))if(this._joinInfo.apUrl){const t=new lC(this._joinInfo.apUrl).host.split("."),n=t.slice(t.length-2).join(".");e.forEach((e=>{this._joinInfo&&e.includes(n)&&(this._joinInfo.proxyServer=e)})),this._joinInfo.proxyServer||(this._joinInfo.proxyServer=e[0])}else this._joinInfo.proxyServer=e[0];else this._joinInfo.proxyServer=e;const t=ym("LOG_UPLOAD_SERVER").match(/.+:(\d{1,5})$/);return t&&t[1]&&"443"!==t[1]&&im.setProxyServer(this._joinInfo.proxyServer),"443"!==ym("STATS_COLLECTOR_PORT").toString()&&Gb.setProxyServer(this._joinInfo.proxyServer),Gb.reportApiInvoke(this._sessionId,{name:Vv.JOIN_FALLBACK_TO_PROXY,options:[this._joinInfo.proxyServer],tag:Bv.TRACER}).onSuccess(),this.emit(Jv.JOIN_FALLBACK_TO_PROXY,this._joinInfo.proxyServer),this._gateway.join(this._joinInfo,this._key)}if(im.info("[".concat(this._clientId,"] join by datachannel timeout, fallback to websocket")),!this._joinInfo||!this._key)throw new Yf(Kf.INVALID_OPERATION);return Gb.reportApiInvoke(this._sessionId,{name:Vv.DATACHANNEL_FAILBACK,options:[this.store.clientId],tag:Bv.TRACER}).onSuccess(),this._joinGateway()}return e})).then((e=>e))}async leave(){im.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(Oh()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(e){const t=Cm.indexOf(e);-1!==t&&Cm.splice(t,1)}(this);const e=await this._leaveMutex.lock();if("DISCONNECTED"===this.connectionState)return im.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void e();await this._gateway.leave("CONNECTED"!==this.connectionState),im.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Array.isArray(e)||(e=[e]),0===e.length)throw new Yf(Kf.INVALID_PARAMS,"track list is empty");if("audience"===this._gateway.role)throw new Yf(Kf.INVALID_OPERATION,"audience can not publish stream");for(const n of e){if(!(n instanceof Yb))throw new Yf(Kf.INVALID_PARAMS,"parameter is not local track");if(!n._enabled&&t)throw new Yf(Kf.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(n.getTrackId()))}im.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(e.map((e=>"".concat(e.getTrackId()," "))))),await this._configDistribute.awaitConfigDistributeComplete(),t&&e.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof wI&&t&&e.setBitrateLimit(t.uplink)}));const n=await this._publishMutex.lock();try{await this._publishHighStream(e),im.info("[".concat(this._clientId,"] Publish success, id ").concat(e.map((e=>"".concat(e.getTrackId()," ")))))}catch(e){throw im.error("[".concat(this._clientId,"] publish error"),e.toString()),e}finally{n()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new Yf(Kf.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");e?Array.isArray(e)||(e=[e]):e=this._p2pChannel.getAllTracks(!0),im.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(e.map((e=>"".concat(e.getTrackId()," ")))," "));const t=await this._publishMutex.lock();try{const t=await this._p2pChannel.unpublish(e);t&&await this._gateway.unpublish(t,this._uid),im.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(e.map((e=>"".concat(e.getTrackId())))))}catch(e){throw im.error("[".concat(this._clientId,"] unpublish error"),e.toString()),e}finally{t&&t()}}async subscribe(e,t){return this._subscribe(e,t)}async _subscribe(e,t,n){if(_v(t,"mediaType",["audio","video"]),!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Yf(Kf.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find((t=>t===e))){const t=new Yf(Kf.INVALID_REMOTE_USER,"user is not in the channel");throw im.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),t}if(!e.hasAudio&&!e.hasVideo){const t=new Yf(Kf.INVALID_REMOTE_USER,"user is not published");throw im.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),t}if(!(n||("audio"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&("video"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const n=new Yf(Kf.REMOTE_USER_IS_NOT_PUBLISHED);throw im.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),n}const r="audio"===t?e._audioSSRC:e._videoSSRC,i="audio"===t?e._audioOrtc:e._videoOrtc,o="video"===t?e._rtxSsrcId:void 0,a={stream_type:"audio"===t?Kg.AUDIO:Kg.VIDEO,ssrcId:r},s=await this._subscribeMutex.lock();im.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{N_.markSubscribeStart(this.store.clientId,r),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,r,o,i);try{await this._gateway.subscribe(e.uid,a,!0)}catch(n){if((null==n?void 0:n.code)!==Kf.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),n;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(n){throw this._p2pChannel.reportSubscribeEvent(!1,null==n?void 0:n.code,e,t),n}im.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{im.warning("[".concat(this._clientId,"] auto set fallback failed"),e)}));const s="audio"===t?e._audioTrack:e._videoTrack;if(!s)throw new Yf(Kf.UNEXPECTED_ERROR,"can not find remote track in user object");return s}catch(t){throw im.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),t),t}finally{s()}}async massSubscribe(e){if(Tv(e,"subscribeList"),!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Yf(Kf.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const t=Date.now(),n=new Map,r=await this._subscribeMutex.lock();im.info("[".concat(this._clientId,"]start massSubscribe user ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; ")));const i=(e=[...e]).map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n}})),o=await this._p2pChannel.globalLock();try{var a;for(let t=e.length-1;t>=0;t--){const r=e[t],{user:o,mediaType:a}=r;if(_v(a,"mediaType",["audio","video"]),!o){const e=new Yf(Kf.INVALID_PARAMS,"user property does not exist in subscribeList item");throw im.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),e}if(!this._users.find((e=>e===o))){const n=new Yf(Kf.INVALID_REMOTE_USER,"user is not in the channel");im.error("[".concat(this._clientId,"] can not massSubscribe ").concat(o.uid,", this user is not in the channel")),i[t].error=n,e.splice(t,1);continue}if("audio"===a&&(!o.hasAudio||void 0===o._audioSSRC)||"video"===a&&(!o.hasVideo||void 0===o._videoSSRC)){const n=new Yf(Kf.REMOTE_USER_IS_NOT_PUBLISHED);im.error("[".concat(this._clientId,"] can not subscribe ").concat(o.uid," with mediaType ").concat(a,", remote user is not published")),i[t].error=n,e.splice(t,1);continue}const s=Pg.Video|Pg.LwoVideo,c=n.get(o);if(c){if("video"===a?c&s:c&Pg.Audio){e.splice(t,1),im.warning("repeat massSubscribe user:".concat(o.uid,", mediaType:").concat(a," twice"));continue}n.set(o,c|("video"===a?s:Pg.Audio))}else n.set(o,"video"===a?s:Pg.Audio)}for(let t=e.length-1;t>=0;t--){const r=e[t],{user:i,mediaType:o}=r,a=Pg.Video|Pg.LwoVideo;if(this._p2pChannel.hasRemoteMedia(i,o)){await this._p2pChannel.unmuteRemoteNoLock(i,o);const r=n.get(i);n.set(i,"video"===o?r^a:r^Pg.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),t);const r=qn(a=Array.from(n.entries())).call(a,((e,t)=>{let[n,r]=t;if(0===r)return e;const i={stream_id:n.uid,stream_type:r};return r&Pg.Audio&&(i.audio_ssrc=n._audioSSRC),r&Pg.Video&&(i.video_ssrc=n._videoSSRC),e.push(i),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n,ssrcId:n===Kg.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:t._rtxSsrcId}})));const n=new Map;if(r.length>0){const e=await this._gateway.subscribeAll(r,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:r,audio_error_code:i,error_code:o}=e;(r||i||o)&&n.set(t,{video_error_code:r,audio_error_code:i,error_code:o})}))}if(Array.from(n.entries()).length>0){const e=Array.from(n.entries()).map((e=>{let t,[n,r]=e;return r.error_code||r.video_error_code&&r.audio_error_code?t=void 0:r.video_error_code?t=Kg.VIDEO:r.audio_error_code&&(t=Kg.AUDIO),{user:this.remoteUsers.find((e=>e.uid===n)),mediaType:t}}));await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of i){const t=n.get(e.user.uid);if(t){const n=t.error_code||"audio"===e.mediaType&&t.audio_error_code||"video"===e.mediaType&&t.video_error_code;if(n){const t=pC(n);im.error("user:".concat(e.user.uid," mediaType:").concat(e.mediaType," has massSubscribe error ").concat(t.desc)),e.error=new Yf(Kf.SUBSCRIBE_FAILED,"code ".concat(n,": ").concat(t.desc))}}e.error||("video"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(i.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),i.forEach((e=>{var n;Gb.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(n=e.error)||void 0===n?void 0:n.code)||null,video:e.mediaType===Kg.VIDEO,audio:e.mediaType===Kg.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===Kg.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t)},!0)})),im.info("[".concat(this._clientId,"] massSubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),i}catch(t){throw await this._p2pChannel.massUnsubscribeNoLock(e),t}}finally{o(),r()}}async unsubscribe(e,t){if(t&&_v(t,"mediaType",["audio","video"]),!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");if(!this._users.find((t=>t===e))){const t=new Yf(Kf.INVALID_REMOTE_USER,"user is not in the channel");throw im.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),t}im.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: ").concat(t));try{const n=await this._p2pChannel.unsubscribe(e,t);n&&await this._gateway.unsubscribe(n,e.uid),im.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(e.uid,", mediaType: ").concat(t))}catch(t){if(t.code===Kf.DISCONNECT_P2P)return void im.warning("disconnecting p2p, abort unsubscribe request.");throw im.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),t.toString()),t}}async massUnsubscribe(e){if(Tv(e,"unsubscribeList"),!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");im.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),e=[...e];const t=new Map;for(let n=e.length-1;n>=0;n--){const{user:r,mediaType:i}=e[n];if(!r){const e=new Yf(Kf.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw im.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),e}if(_v(i,"mediaType",["video","audio",void 0]),!this._users.find((e=>e===r))){im.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(r.uid,", user is not in the channel")),e.splice(n,1);continue}const o=Pg.Video|Pg.LwoVideo;if(t.has(r)){const a=t.get(r);let s;switch(i){case"video":s=a&o;break;case"audio":s=a&Pg.Audio;break;default:s=a&(Pg.Audio|o)}if(s){im.warning("repeat massUnsubscribe user:".concat(r.uid,",mediaType:").concat(i," twice.")),e.splice(n,1);continue}i?"audio"===i?t.set(r,a|Pg.Audio):"video"===i&&t.set(r,a|o):t.set(r,a|Pg.Audio|o)}else i?"audio"===i?t.set(r,Pg.Audio):"video"===i&&t.set(r,o):t.set(r,Pg.Audio|o)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),im.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join()))}catch(e){if(e.code===Kf.DISCONNECT_P2P)return void im.warning("disconnecting p2p, abort unsubscribe request.");throw im.error("[".concat(this._clientId,"] massUnsubscribe error"),e.toString()),e}}setLowStreamParameter(e){!function(e){if(!e)throw new Yf(Kf.INVALID_PARAMS);Iv(e.width)||Av(e.width,"streamParameter.width"),Iv(e.height)||Av(e.height,"streamParameter.height"),Iv(e.framerate)||Av(e.framerate,"streamParameter.framerate"),Iv(e.bitrate)||Sv(e.bitrate,"streamParameter.bitrate")}(e),(!e.width&&e.height||e.width&&!e.height)&&im.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),im.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e}async enableDualStream(){if(!ly().supportDualStream)throw Gb.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new Yf(Kf.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new Yf(Kf.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw Gb.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,Gb.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),im.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(Yg.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw Gb.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,Gb.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),im.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(e,t){if(function(e){_v(e,"role",["audience","host"])}(e),t&&lg(t),"rtc"===this._mode)throw im.warning("[".concat(this._clientId,"]rtc mode can not use setClientRole")),new Yf(Kf.INVALID_OPERATION,"rtc mode can not use setClientRole");if(t&&t.level&&"host"===e)throw new Yf(Kf.INVALID_OPERATION,"host mode can not set audience latency level");if("audience"===e&&this._p2pChannel.hasLocalMedia())throw new Yf(Kf.INVALID_OPERATION,"can not set client role to audience when publishing stream");await this._gateway.setClientRole(e,t),im.info("[".concat(this._clientId,"] set client role to ").concat(e,", level: ").concat(t&&t.level))}setProxyServer(e,t){if(wv(e,"proxyServer"),!t){if("DISCONNECTED"!==this.connectionState)throw new Yf(Kf.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Yf(Kf.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,Gb.setProxyServer(this._proxyServer),im.setProxyServer(this._proxyServer),im.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success."))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if("DISCONNECTED"!==this.connectionState)throw new Yf(Kf.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Yf(Kf.INVALID_OPERATION,"You have already set the proxy")}if(sg(e))return this._turnServer={servers:e,mode:"original-manual"},void im.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map((e=>e.urls)).join(","),"."));e.forEach((e=>cg(e))),this._turnServer={servers:e,mode:"manual"},im.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success."))}setLicense(e){if("DISCONNECTED"!==this.connectionState)throw new Yf(Kf.INVALID_OPERATION,"you should set license before join channel");if(wv(e,"license",32,32),!/^[A-Za-z\d]+$/.test(e))throw new Yf(Kf.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=e,im.info("[".concat(this._clientId,"] set license success"),e)}startProxyServer(e){if("DISCONNECTED"!==this.connectionState)throw new Yf(Kf.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint)throw new Yf(Kf.INVALID_OPERATION,"You have already set the proxy");const t=[3,4,5];let n;switch(void 0===e&&(e=3),e){case 1:case 2:throw new Yf(Kf.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:n="proxy3";break;case 4:n="proxy4";break;case 5:n="proxy5";break;default:throw new Yf(Kf.INVALID_PARAMS,"proxy server mode must be ".concat(t.join("|")))}this._cloudProxyServerMode=n,this.store.cloudProxyServerMode=n,im.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if("DISCONNECTED"!==this.connectionState)throw new Yf(Kf.INVALID_OPERATION,"Stop proxy server after leave channel");Gb.setProxyServer(),im.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",im.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new Yf(Kf.INVALID_PARAMS,"accessPoints is required.");Tv(e.accessPoints.serverList,"accessPoints.serverList"),wv(e.accessPoints.domain,"accessPoints.domain");const t=(e,t)=>{Sv(e,t,0,65535,!0)};let n=443;if(e.accessPoints.port&&(t(e.accessPoints.port,"accessPoints.port"),n=e.accessPoints.port),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new Yf(Kf.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");ym("CLOSE_AFB_FOR_LOCAL_AP")&&(gm("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),gm("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const r=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,i=e.accessPoints.domain,o=e.accessPoints.serverList.map((e=>r.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(i):e)),a=o.map((e=>"".concat(e,":").concat(n)));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,gm("WEBCS_DOMAIN",a),gm("WEBCS_DOMAIN_BACKUP_LIST",a),gm("GATEWAY_DOMAINS",[i]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(Tv(e.report.hostname,"report.hostname"),gm("EVENT_REPORT_DOMAIN",e.report.hostname[0]),gm("EVENT_REPORT_BACKUP_DOMAIN",e.report.hostname[1]||e.report.hostname[0])):(gm("EVENT_REPORT_DOMAIN",o[0]),gm("EVENT_REPORT_BACKUP_DOMAIN",o[1]||o[0]));let s=6443;e.report&&e.report.port&&(t(e.report.port,"report.port"),s=e.report.port),gm("STATS_COLLECTOR_PORT",s),e.report?gm("ENABLE_EVENT_REPORT",!0):gm("ENABLE_EVENT_REPORT",!1);let c="";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(Tv(e.log.hostname,"log.hostname"),c=e.log.hostname[0]):c=o[0];let l=6444;e.log&&e.log.port&&(t(e.log.port,"log.port"),l=e.log.port),gm("LOG_UPLOAD_SERVER","".concat(c,":").concat(l));let u=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(Tv(e.cds.hostname,"cds.hostname"),u=e.cds.hostname):u=o;let d=443;e.cds&&e.cds.port&&(t(e.cds.port,"cds.port"),d=e.cds.port),gm("CDS_AP",u.map((e=>"".concat(e,":").concat(d)))),e.cds?gm("ENABLE_CONFIG_DISTRIBUTE",!0):gm("ENABLE_CONFIG_DISTRIBUTE",!1),im.info("set local access point v2 success")}setLocalAccessPoints(e,t){if(Tv(e,"serverList"),wv(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new Yf(Kf.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map((e=>n.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(t):e)),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,gm("WEBCS_DOMAIN",e),gm("WEBCS_DOMAIN_BACKUP_LIST",e),gm("GATEWAY_DOMAINS",[t]),gm("EVENT_REPORT_DOMAIN",e[0]),gm("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),gm("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),im.info("set local access point success")}async setRemoteDefaultVideoStreamType(e){if(_v(e,"streamType",[0,1]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw im.error("[".concat(this._clientId,"] set default remote video stream type error"),e.toString()),e}else im.debug("haven't joined yet, cache remoteDefaultVideoStreamType ".concat(e))}async setRemoteVideoStreamType(e,t){_v(t,"streamType",[0,1]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e){throw im.error("[".concat(this._clientId,"] set remote video stream type error"),e.toString()),e}im.info("[".concat(this._clientId,"] set remote ").concat(e," video stream type to ").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){_v(t,"fallbackType",[0,1,2]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw im.error("[".concat(this._clientId,"] set stream fallback option"),e.toString()),e}im.info("[".concat(this._clientId,"] set remote ").concat(e," stream fallback type to ").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,n){if(function(e){_v(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])}(e),wv(t,"secret"),["aes-128-gcm2","aes-256-gcm2"].includes(e)){if(!n||!(n instanceof Uint8Array&&32===n.length))throw new Yf(Kf.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new Yf(Kf.INVALID_PARAMS,"current encrypt mode does not need salt");new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})").test(t)||im.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=mS(n))}async renewToken(e){if(wv(e,"token",1,2047),!this._key||!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"renewToken should not be called before user join");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const n=await this._renewTokenMutex.lock();try{if(ym("USE_NEW_TOKEN")){im.debug("start renew token with ticket from unilbs");const t=await XC(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Qf);im.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:e,ticket:t})}else im.debug("start renew token without ticket"),await this._gateway.renewToken({token:e});im.debug("[".concat(this._clientId,"] renewToken success"))}catch(e){throw this._key=t,this._joinInfo.token=t,im.error("[".concat(this._clientId,"] renewToken failed"),e.toString()),e}finally{n()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?im.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.emit(Jv.VOLUME_INDICATOR,e)}),ym("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if("h264"!==this._codec)throw new Yf(Kf.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new Yf(Kf.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new Yf(Kf.LIVE_STREAMING_TASK_CONFLICT);const n=t?vg.TRANSCODE:vg.RAW;return this._createLiveStreamingClient(n).startLiveStreamingTask(e,n)}setLiveTranscoding(e){return this._createLiveStreamingClient(vg.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!t.length)throw new Yf(Kf.INVALID_PARAMS,"can not find live streaming url to stop");await sd.all(t.map((t=>t&&t.stopLiveStreamingTask(e))))}async addInjectStreamUrl(e,t){if(!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"can not addInjectStreamUrl, no joininfo");const n=this._createLiveStreamingClient(vg.INJECT);n.setInjectStreamConfig(t,0),await n.startLiveStreamingTask(e,vg.INJECT)}async removeInjectStreamUrl(){var e;const t=this._createLiveStreamingClient(vg.INJECT),n=Array.from(f_(e=t.streamingTasks).call(e)).find((e=>e.mode===vg.INJECT));if(!this._joinInfo||!n)throw new Yf(Kf.INVALID_OPERATION,"can remove addInjectStreamUrl, no joininfo or inject task");await t.stopLiveStreamingTask(n.url)}async startChannelMediaRelay(e){lR(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){lR(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay()}sendStreamMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"can not send data stream, not joined");if("string"==typeof e&&(e=(new TextEncoder).encode(e)),new Blob([e]).size>1024)throw new Yf(Kf.INVALID_PARAMS,"stream message out of range.");return this._gateway.signal.request(tg.DATA_STREAM,{payload:mS(e)},!t)}sendMetadata(e){if(!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([e]).size>1024)throw new Yf(Kf.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(tg.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:mS(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(Dv),!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"can not send custom report, not joined");await Gb.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){_v(t.spatialLayer,"spatialLayer",[0,1,2,3]),_v(t.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw im.error("[".concat(this._clientId,"] pick SVC layer failed"),e.toString()),e}}_reset(){if(im.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=Hf.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy()})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new Zb("client-publish"),this._subscribeMutex=new Zb("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}}_startSession(e,t){const n=e||eS();e?im.debug("[".concat(this._clientId,"] new Session ").concat(n)):im.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(n)),this._sessionId=n,this.store.sessionId=n,t?Gb.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:t.channel,appid:t.appId,mode:this._mode}):this._joinInfo?Gb.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._joinInfo.cname,appid:this._joinInfo.appId,mode:this._mode}):this._gateway.joinInfo&&Gb.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId,mode:this._mode}),this._joinInfo&&(this._joinInfo.sid=n),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=n)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new Yf(Kf.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Yf(Kf.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&ym("FORCE_TURN")&&!ym("TURN_ENABLE_TCP")&&!ym("TURN_ENABLE_UDP"))throw new Yf(Kf.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");im.debug("[".concat(this._clientId,"] publish high stream"));try{const n=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter),r=(await n.next()).value;if(r){var t;let i;try{i=await this._gateway.publish(this._uid,r,!0)}catch(e){if(e.code!==Kf.DISCONNECT_P2P)throw n.throw(e),e}await n.next((null===(t=i)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof wI&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===Kf.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new Yf(Kf.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Yf(Kf.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));im.debug("[".concat(this._clientId,"] publish low stream"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),n=(await e.next()).value;if(n){var t;let r;try{r=await this._gateway.publish(this._uid,n,!0)}catch(t){if(t.code!==Kf.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=r)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===Kf.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){if(!this._joinInfo||!this._appId)return new Yf(Kf.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const t=()=>new sR(this._joinInfo,this._config.websocketRetryConfig||Qf,this._config.httpRetryConfig||Qf),n=e=>{e.onLiveStreamError=(e,t)=>{Gb.reportApiInvoke(this._sessionId,{name:Vv.ON_LIVE_STREAM_ERROR,options:[e,t],tag:Bv.TRACER}).onSuccess(),this.emit(Jv.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{Gb.reportApiInvoke(this._sessionId,{name:Vv.ON_LIVE_STREAM_WARNING,options:[e,t],tag:Bv.TRACER}).onSuccess(),this.emit(Jv.LIVE_STREAMING_WARNING,e,t)},e.on(wg.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new Yf(Kf.INVALID_OPERATION,"can not find join info to get worker manager"));JC(e,this._joinInfo,this._axiosCancelSource.token,Qf).then(t).catch(n)}))};switch(e){case vg.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=t(),n(this._liveRawStreamingClient)),this._liveRawStreamingClient;case vg.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=t(),n(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case vg.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=t(),this._injectStreamingClient.on(wg.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new Yf(Kf.INVALID_OPERATION,"can not find join info to get worker manager"));JC(e,this._joinInfo,this._axiosCancelSource.token,Qf).then(t).catch(n)})),this._injectStreamingClient.onInjectStatusChange=(e,t,n)=>{this.emit(Jv.INJECT_STREAM_STATUS,e,t,n)}),this._injectStreamingClient}}_createChannelMediaRelayClient(){return this._joinInfo?(this._channelMediaRelayClient||(this._channelMediaRelayClient=new dR(this._joinInfo,this._clientId,this._config.websocketRetryConfig||Qf,this._config.httpRetryConfig||Qf),this._channelMediaRelayClient.on("state",(e=>{e===Og.RELAY_STATE_FAILURE&&this._channelMediaRelayClient&&this._channelMediaRelayClient.dispose(),this.emit(Jv.CHANNEL_MEDIA_RELAY_STATE,e)})),this._channelMediaRelayClient.on("event",(e=>{this.emit(Jv.CHANNEL_MEDIA_RELAY_EVENT,e)}))),this._channelMediaRelayClient):new Yf(Kf.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw()}_handleGatewayEvents(){this._gateway.on(xg.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(xg.CONNECTION_STATE_CHANGE,((e,t,n)=>{var r;if(n===Qv.FALLBACK)return;const i=()=>{this.emit(Jv.CONNECTION_STATE_CHANGE,e,t,n)};if(Gb.reportApiInvoke(this._sessionId||(null===(r=this._gateway.joinInfo)||void 0===r?void 0:r.sid)||null,{name:Vv.CONNECTION_STATE_CHANGE,options:[e,t,n],tag:Bv.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:n})),im.info("[".concat(this._clientId,"] connection state change: ").concat(t," -> ").concat(e)),"DISCONNECTED"===e)return this._reset(),void i();if("RECONNECTING"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._audioSSRC=void 0,e._videoSSRC=void 0,e._videoOrtc=void 0,e._audioOrtc=void 0,e._cname=void 0,e._rtxSsrcId=void 0})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if("CONNECTED"===e){var o;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{im.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),e)}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{im.warning("[".concat(this._clientId,"] auto set remote stream type failed"),e)}))})),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(o=this._joinInfo)||void 0===o?void 0:o.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{im.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))})).catch((e=>{im.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(e))})),this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._userOfflineTimeout=void 0,this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{im.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(e.uid)),this._handleUserOffline({uid:e.uid})})))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(im.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,"audio",!1)),e._trust_video_mute_state_||(im.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,"video",!1)),e._trust_audio_enabled_state_||(im.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(e.uid)),this._handleSetStreamLocalEnable("audio",e.uid,!0)),e._trust_video_enabled_state_||(im.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(e.uid)),this._handleSetStreamLocalEnable("video",e.uid,!0)),e._trust_video_stream_added_state_||(im.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(e.uid)),this._handleResetAddStream(e,"video")),e._trust_audio_stream_added_state_||(im.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(e.uid)),this._handleResetAddStream(e,"audio")),e._video_added_||e._audio_added_||(im.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3)}i()})),this._gateway.on(xg.REQUEST_NEW_GATEWAY_LIST,((e,t)=>{if(!this._joinInfo)return t(new Yf(Kf.UNEXPECTED_ERROR,"can not recover, no join info"));ZC(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Qf,this.store).then((t=>{this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip),e(t.gatewayInfo.gatewayAddrs.map((e=>{if(this._joinInfo&&this._joinInfo.proxyServer){const t=e.address.split(":");return"wss://".concat(this._joinInfo.proxyServer,"/ws/?h=").concat(t[0],"&p=").concat(t[1])}return"wss://".concat(e.address)})))})).catch(t)})),this._gateway.on(xg.NETWORK_QUALITY,(e=>{"normal"===this._networkQualitySensitivity&&this.emit(Jv.NETWORK_QUALITY,e)})),this._gateway.on(xg.STREAM_TYPE_CHANGE,((e,t)=>{this.emit(Jv.STREAM_TYPE_CHANGED,e,t),Gb.reportApiInvoke(this._sessionId,{name:Vv.STREAM_TYPE_CHANGE,options:[e,t],tag:Bv.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.on(xg.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(xg.NEED_RENEW_SESSION,(()=>{this._startSession()})),this._gateway.on(xg.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,n)=>{try{t(await this._p2pChannel.startP2PConnection(e))}catch(e){n(e)}})),this._gateway.on(xg.JOIN_RESPONSE,((e,t)=>{const{dtlsParameters:n,iceParameters:r,candidates:i,rtpCapabilities:o,setup:a,cname:s}=Gk(e.ortc,t);this._p2pChannel.connect(r,n,i,o,a,s)})),this._gateway.on(xg.REQUEST_DC_CONNECTION_PARAMS,(e=>{e(this._p2pChannel.getEstablishParams())})),this._gateway.on(xg.RESET_CONNECTION_EVENTS,(()=>{this._handleGatewaySignalEvents()})),this._gateway.on(xg.DATACHANNEL_FAILBACK,(()=>{this._joinGateway()})),this._gateway.on(xg.DATACHANNEL_PRECONNECT,(async(e,t,n,r)=>{var i,o,a,s,c,l;await this._p2pChannel.startP2PConnection({turnServer:null===(i=this._joinInfo)||void 0===i?void 0:i.turnServer},!0);const u=function(e,t){let n;return t&&t.ip&&"number"==typeof t.port?(n=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip,port:t.port.toString(),type:"host",extension:{}}],im.debug("Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),t.ip6&&(n.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip6,port:t.port.toString(),type:"host",extension:{}}),im.debug("Using IPV6 remote candidate from AP ".concat(t.ip6,":").concat(t.port)))):n=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip,port:e.port.toString(),type:"host",extension:{}}],n}(e,t);return this._p2pChannel.preConnect({iceUfrag:"".concat(null===(o=this._joinInfo)||void 0===o?void 0:o.apResponse.cid,"_").concat(null===(a=this._joinInfo)||void 0===a?void 0:a.apResponse.cert),icePwd:"".concat(null===(s=this._joinInfo)||void 0===s?void 0:s.apResponse.cid,"_").concat(null===(c=this._joinInfo)||void 0===c?void 0:c.apResponse.cert)},{fingerprints:[{hashFunction:"sha-256",fingerprint:null!==(l=ym("FINGERPRINT"))&&void 0!==l?l:e.fingerprint}]},u,{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},"active","o/i14u9pJrxRKAsu").then(n).catch(r)}))}_handleGatewaySignalEvents(){this._gateway.signal.on(rg.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(rg.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(rg.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream("audio",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc))),this._gateway.signal.on(rg.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream("video",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(rg.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(rg.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(rg.MUTE_AUDIO,(e=>this._handleMuteStream(e.uid,"audio",!0))),this._gateway.signal.on(rg.UNMUTE_AUDIO,(e=>this._handleMuteStream(e.uid,"audio",!1))),this._gateway.signal.on(rg.MUTE_VIDEO,(e=>this._handleMuteStream(e.uid,"video",!0))),this._gateway.signal.on(rg.UNMUTE_VIDEO,(e=>this._handleMuteStream(e.uid,"video",!1))),this._gateway.signal.on(rg.RECEIVE_METADATA,(e=>{const t=fS(e.metadata);this.emit(Jv.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(rg.ON_DATA_STREAM,(e=>{e.seq&&delete e.seq,e.payload=fS(e.payload),this.emit(Jv.STREAM_MESSAGE,e.uid,e.payload),this.onStreamMessage&&this.onStreamMessage(e)})),this._gateway.signal.on(rg.ON_CRYPT_ERROR,(()=>{pS((()=>{im.warning("[".concat(this._clientId,"] on crypt error")),this.emit(Jv.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(rg.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(rg.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{im.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0),this.emit(Jv.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(rg.ON_STREAM_FALLBACK_UPDATE,(e=>{im.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(e.stream_id,", attr: ").concat(e.stream_type)),this.emit(Jv.STREAM_FALLBACK,e.stream_id,1===e.stream_type?"fallback":"recover")})),this._gateway.signal.on(rg.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),im.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(e))))})),this._gateway.signal.on(rg.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!0)})),this._gateway.signal.on(rg.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!1)})),this._gateway.signal.on(eg.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case tg.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var n,r,i,o;const a=e.some((e=>{let{stream_type:t}=e;return t===Ng.Audio})),s=e.some((e=>{let{stream_type:t}=e;return t!==Ng.Audio})),c=e.some((e=>{let{stream_type:t}=e;return t===Ng.Screen||t===Ng.ScreenLow}));"offer"===t.state&&Gb.publish(this._joinInfo.sid,{eventElapse:N_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:Kf.TIMEOUT,audio:a,video:s,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:c,audioName:a?null===(n=e.find((e=>{let{stream_type:t}=e;return t===Ng.Audio})))||void 0===n||null===(r=n.ssrcs[0])||void 0===r?void 0:r.ssrcId.toString():void 0,videoName:s?null===(i=e.find((e=>{let{stream_type:t}=e;return t!==Ng.Audio})))||void 0===i||null===(o=i.ssrcs[0])||void 0===o?void 0:o.ssrcId.toString():void 0})}break}case tg.SUBSCRIBE:t&&Gb.subscribe(this._joinInfo.sid,{succ:!1,ec:Kf.TIMEOUT,audio:t.stream_type===Kg.AUDIO,video:t.stream_type===Kg.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:N_.measureFromSubscribeStart(this.store.clientId,t.ssrcId)})}})),this._gateway.signal.on(rg.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(rg.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;const t=[],n=[];for(const r of e.users){let e=this._users.find((e=>e.uid===r.stream_id));e?e._trust_in_room_=!0:(e=new CI(r.stream_id,r.stream_id),this._users.push(e),0===this.getListeners(Jv.PUBLISHED_USER_LIST).length&&(im.debug("[".concat(this._clientId,"] user online"),r.stream_id),this.emit(Jv.USER_JOINED,e)));const i=Pg.Audio&r.stream_type,o=(Pg.Video|Pg.LwoVideo)&r.stream_type,a=i&&e.hasAudio,s=o&&e.hasVideo;o&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=r.video_ssrc),i&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=r.audio_ssrc),i&&!a&&0===this.getListeners(Jv.PUBLISHED_USER_LIST).length&&(im.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published audio")),this.emit(Jv.USER_PUBLISHED,e,"audio")),o&&!s&&0===this.getListeners(Jv.PUBLISHED_USER_LIST).length&&(im.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published video")),this.emit(Jv.USER_PUBLISHED,e,"video")),(i&&!a||o&&!s)&&t.push(e),o&&this._p2pChannel.hasPendingRemoteMedia(e,"video")&&n.push({user:e,mediaType:"video"}),i&&this._p2pChannel.hasPendingRemoteMedia(e,"audio")&&n.push({user:e,mediaType:"audio"})}n.length>0&&(im.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(n.map((e=>"user: ".concat(e.user.uid,", mediaType: ").concat(e.mediaType))).join("; ")," ")),this.massSubscribe(n).catch((e=>{im.error("[".concat(this._clientId,"] mass resubscribe error"),e.toString())}))),this.getListeners(Jv.PUBLISHED_USER_LIST).length>0?(im.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(t.map((e=>e.uid)).join(", "))),this.emit(Jv.PUBLISHED_USER_LIST,t)):im.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(t.map((e=>e.uid)).join(", ")))}))}_handleP2PChannelEvents(){this._p2pChannel.on(Jg.RequestMuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===Kf.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(Jg.RequestUnmuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===Kf.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(Jg.RequestRePublish,((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),this._p2pChannel.on(Jg.RequestReSubscribe,(async(e,t,n)=>{try{for(const{user:t,kind:n}of e)n===Kg.VIDEO?await this.subscribe(t,"video"):await this.subscribe(t,"audio");t()}catch(e){n(e)}})),this._p2pChannel.on(Jg.RequestUploadStats,((e,t)=>{this._gateway.uploadStats(e,t)})),this._p2pChannel.on(Jg.MediaReconnectStart,(e=>{this.emit(Jv.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(Jg.MediaReconnectEnd,(e=>{this.emit(Jv.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(Jg.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(Jg.RequestRestartICE,(async()=>{const e=await this._p2pChannel.restartICE(),t=await e.next();if(t.done)return;const n=t.value;let r;try{r=await this._gateway.restartICE({iceParameters:n})}catch(t){return void e.throw(t)}const{iceParameters:i}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(r);await e.next({remoteIceParameters:i})})),this._p2pChannel.on(Jg.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(Jg.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:i,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:n,rtpCapabilities:r}),{dtlsParameters:a,iceParameters:s,candidates:c,rtpCapabilities:l,setup:u,cname:d}=Gk(i,o);await this._p2pChannel.connect(s,a,c,l,u,d),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(Jg.RequestUnpublishForReconnectPC,(async(e,t,n)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):n()})),this._p2pChannel.on(Jg.P2PLost,(()=>{this.emit(Jv.P2P_LOST,this.store.uid)})),this._p2pChannel.on(Jg.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(Jg.ConnectionTypeChange,(e=>{this.emit(Jv.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on(Jg.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on(Jg.QueryClientConnectionState,(e=>{e(this.connectionState)}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if("CONNECTED"!==this.connectionState||!this._joinInfo)throw new Yf(Kf.INVALID_OPERATION,"[".concat(this._clientId,"] Client did not join channel"));if(this._inspect)throw new Yf(Kf.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));if(!e)throw new Yf(Kf.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig is necessary"));if(!e.inspectType||!Array.isArray(e.inspectType))throw new Yf(Kf.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.inspectType is necessary and is an instance of Array."));{const t=[...new Set(e.inspectType)];t.forEach((e=>{if(!["supervise","moderation"].includes(e))throw new Yf(Kf.INVALID_PARAMS,"[".concat(this._clientId,"] ").concat(e," is not a valid inspect type."))})),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new Yf(Kf.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.extraInfo length cannot exceed 1024 bytes"));try{const t=new uP(e);this._inspect=t,this.handleVideoInspectEvents(this._inspect),await t.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},Qf)}catch(e){throw Array.isArray(e)?e[0]:e}}async disableContentInspect(){if(!this._inspect)throw new Yf(Kf.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}handleVideoInspectEvents(e){e.on(iy.CONNECTION_STATE_CHANGE,((t,n)=>{if(this.emit(Jv.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,n),n===ny.CONNECTED){if("CONNECTED"!==this.connectionState)return void this.emit(Jv.CONTENT_INSPECT_ERROR,new Yf(Kf.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}})),e.on(iy.INSPECT_RESULT,((e,t)=>{var n;if((null==t?void 0:t.code)===Kf.INVALID_OPERATION&&"DISCONNECTED"===this.connectionState)return im.debug("Stop inspect content because that has left channel"),null==this||null===(n=this._inspect)||void 0===n||n.close(),void(this._inspect=void 0);this.emit(Jv.CONTENT_INSPECT_RESULT,e,t)})),e.on(iy.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>"video"===e.trackMediaType))[0])}))}getJoinChannelServiceRecords(){return im.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){Ev(e,"enabled"),gm("ENABLE_PUBLISH_AUDIO_FILTER",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}}).prototype,"leave",[dP],Object.getOwnPropertyDescriptor(YP.prototype,"leave"),YP.prototype),yb(YP.prototype,"publish",[hP],Object.getOwnPropertyDescriptor(YP.prototype,"publish"),YP.prototype),yb(YP.prototype,"unpublish",[pP],Object.getOwnPropertyDescriptor(YP.prototype,"unpublish"),YP.prototype),yb(YP.prototype,"subscribe",[fP],Object.getOwnPropertyDescriptor(YP.prototype,"subscribe"),YP.prototype),yb(YP.prototype,"massSubscribe",[mP],Object.getOwnPropertyDescriptor(YP.prototype,"massSubscribe"),YP.prototype),yb(YP.prototype,"unsubscribe",[vP],Object.getOwnPropertyDescriptor(YP.prototype,"unsubscribe"),YP.prototype),yb(YP.prototype,"massUnsubscribe",[gP],Object.getOwnPropertyDescriptor(YP.prototype,"massUnsubscribe"),YP.prototype),yb(YP.prototype,"setLowStreamParameter",[yP],Object.getOwnPropertyDescriptor(YP.prototype,"setLowStreamParameter"),YP.prototype),yb(YP.prototype,"enableDualStream",[bP],Object.getOwnPropertyDescriptor(YP.prototype,"enableDualStream"),YP.prototype),yb(YP.prototype,"disableDualStream",[EP],Object.getOwnPropertyDescriptor(YP.prototype,"disableDualStream"),YP.prototype),yb(YP.prototype,"setClientRole",[_P],Object.getOwnPropertyDescriptor(YP.prototype,"setClientRole"),YP.prototype),yb(YP.prototype,"setProxyServer",[SP],Object.getOwnPropertyDescriptor(YP.prototype,"setProxyServer"),YP.prototype),yb(YP.prototype,"setTurnServer",[AP],Object.getOwnPropertyDescriptor(YP.prototype,"setTurnServer"),YP.prototype),yb(YP.prototype,"setLicense",[wP],Object.getOwnPropertyDescriptor(YP.prototype,"setLicense"),YP.prototype),yb(YP.prototype,"startProxyServer",[TP],Object.getOwnPropertyDescriptor(YP.prototype,"startProxyServer"),YP.prototype),yb(YP.prototype,"stopProxyServer",[CP],Object.getOwnPropertyDescriptor(YP.prototype,"stopProxyServer"),YP.prototype),yb(YP.prototype,"setLocalAccessPointsV2",[RP],Object.getOwnPropertyDescriptor(YP.prototype,"setLocalAccessPointsV2"),YP.prototype),yb(YP.prototype,"setLocalAccessPoints",[IP],Object.getOwnPropertyDescriptor(YP.prototype,"setLocalAccessPoints"),YP.prototype),yb(YP.prototype,"setRemoteDefaultVideoStreamType",[OP],Object.getOwnPropertyDescriptor(YP.prototype,"setRemoteDefaultVideoStreamType"),YP.prototype),yb(YP.prototype,"setRemoteVideoStreamType",[kP],Object.getOwnPropertyDescriptor(YP.prototype,"setRemoteVideoStreamType"),YP.prototype),yb(YP.prototype,"setStreamFallbackOption",[NP],Object.getOwnPropertyDescriptor(YP.prototype,"setStreamFallbackOption"),YP.prototype),yb(YP.prototype,"setEncryptionConfig",[xP],Object.getOwnPropertyDescriptor(YP.prototype,"setEncryptionConfig"),YP.prototype),yb(YP.prototype,"renewToken",[PP],Object.getOwnPropertyDescriptor(YP.prototype,"renewToken"),YP.prototype),yb(YP.prototype,"enableAudioVolumeIndicator",[DP],Object.getOwnPropertyDescriptor(YP.prototype,"enableAudioVolumeIndicator"),YP.prototype),yb(YP.prototype,"startLiveStreaming",[LP],Object.getOwnPropertyDescriptor(YP.prototype,"startLiveStreaming"),YP.prototype),yb(YP.prototype,"setLiveTranscoding",[MP],Object.getOwnPropertyDescriptor(YP.prototype,"setLiveTranscoding"),YP.prototype),yb(YP.prototype,"stopLiveStreaming",[FP],Object.getOwnPropertyDescriptor(YP.prototype,"stopLiveStreaming"),YP.prototype),yb(YP.prototype,"addInjectStreamUrl",[UP],Object.getOwnPropertyDescriptor(YP.prototype,"addInjectStreamUrl"),YP.prototype),yb(YP.prototype,"removeInjectStreamUrl",[jP],Object.getOwnPropertyDescriptor(YP.prototype,"removeInjectStreamUrl"),YP.prototype),yb(YP.prototype,"startChannelMediaRelay",[VP],Object.getOwnPropertyDescriptor(YP.prototype,"startChannelMediaRelay"),YP.prototype),yb(YP.prototype,"updateChannelMediaRelay",[BP],Object.getOwnPropertyDescriptor(YP.prototype,"updateChannelMediaRelay"),YP.prototype),yb(YP.prototype,"stopChannelMediaRelay",[zP],Object.getOwnPropertyDescriptor(YP.prototype,"stopChannelMediaRelay"),YP.prototype),yb(YP.prototype,"sendCustomReportMessage",[GP],Object.getOwnPropertyDescriptor(YP.prototype,"sendCustomReportMessage"),YP.prototype),yb(YP.prototype,"pickSVCLayer",[HP],Object.getOwnPropertyDescriptor(YP.prototype,"pickSVCLayer"),YP.prototype),yb(YP.prototype,"enableContentInspect",[qP],Object.getOwnPropertyDescriptor(YP.prototype,"enableContentInspect"),YP.prototype),yb(YP.prototype,"disableContentInspect",[WP],Object.getOwnPropertyDescriptor(YP.prototype,"disableContentInspect"),YP.prototype),yb(YP.prototype,"getJoinChannelServiceRecords",[ZP],Object.getOwnPropertyDescriptor(YP.prototype,"getJoinChannelServiceRecords"),YP.prototype),yb(YP.prototype,"setPublishAudioFilterEnabled",[KP],Object.getOwnPropertyDescriptor(YP.prototype,"setPublishAudioFilterEnabled"),YP.prototype),YP);class $P extends sE{set currentState(e){e!==this._currentState&&(this._currentState=e,this.emit(og.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Qh(this,"audioBuffer",void 0),Qh(this,"sourceNode",void 0),Qh(this,"startPlayTime",0),Qh(this,"startPlayOffset",0),Qh(this,"pausePlayTime",0),Qh(this,"options",void 0),Qh(this,"currentLoopCount",0),Qh(this,"_currentState","stopped"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer.duration}get currentTime(){return"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:(this.context.currentTime-this.startPlayTime+this.startPlayOffset)%this.audioBuffer.duration}updateOptions(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):im.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const eD=new Map;function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(n),!0).forEach((function(t){Qh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rD(e,t,n,r){n.optimizationMode&&(r&&r.width&&r.height?(n.encoderConfig=nD(nD({},r),{},{bitrateMin:r.bitrateMin,bitrateMax:r.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?im.debug("[".concat(e,"] set content hint to"),n.optimizationMode):im.debug("[".concat(e,"] set content hint failed")))):im.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")))}const iD=Sh().name;class oD{constructor(e,t){Qh(this,"id",0),Qh(this,"element",void 0),Qh(this,"peerPair",void 0),Qh(this,"context",void 0),Qh(this,"audioPlayerElement",void 0),Qh(this,"audioTrack",void 0),oD.count+=1,this.id=oD.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement("audio");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const n="offer"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(n),"complete"===e.iceGatheringState?e.localDescription:new sd((t=>{e.onicegatheringstatechange=()=>{"complete"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const n=await e(this.peerPair[0],"offer");await t(this.peerPair[1],n);const r=await e(this.peerPair[1],"answer");await t(this.peerPair[0],r)}catch(e){throw new Yf(Kf.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e).connect(t)}catch(e){throw new Yf(Kf.LOCAL_AEC_ERROR,e.toString()).print()}if(!t)throw new Yf(Kf.LOCAL_AEC_ERROR,"no dest node when local aec").print();const n=t.stream.getAudioTracks()[0];return this.audioTrack=n,n}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){im.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}var aD,sD;Qh(oD,"count",0);const cD=window.AudioContext||window.webkitAudioContext,lD=new(aD=zb({report:Gb}),yb((sD=class{constructor(){Qh(this,"units",[]),Qh(this,"context",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return im.debug("the system does not need to process local aec"),-1;this.context||(this.context=new cD);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new oD(e,this.context),this.units.push(t)),t.startEchoCancellation(),im.debug("start processing local audio echo cancellation, id is",t.id),t.id}_doesEnvironmentNeedAEC(){return Sh().name!==yh.SAFARI}}).prototype,"processExternalMediaAEC",[aD],Object.getOwnPropertyDescriptor(sD.prototype,"processExternalMediaAEC"),sD.prototype),sD);gm("PROCESS_ID","process-".concat($_(8,""),"-").concat($_(4,""),"-").concat($_(4,""),"-").concat($_(4,""),"-").concat($_(12,""))),function(){const e=Sh();cy.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),cy.getStreamFromExtension=e.name===yh.CHROME&&Number(e.version)>34,cy.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver("audio"),t=!0}catch(e){}return e.close(),t}(),cy.supportMinBitrate=e.name===yh.CHROME||e.name===yh.EDGE,cy.supportSetRtpSenderParameters=function(){const e=Sh();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!Vh()||!(!Oh()&&!Rh())||e.name===yh.FIREFOX&&Number(e.version)>=64)}(),e.name===yh.SAFARI&&(Number(e.version)>=14?cy.supportDualStream=!0:cy.supportDualStream=!1),cy.webAudioMediaStreamDest=function(){const e=Sh();return!(e.name===yh.SAFARI&&Number(e.version)<12)}(),cy.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,cy.supportWebGL="undefined"!=typeof WebGLRenderingContext,cy.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,Vh()||(cy.webAudioWithAEC=!0),cy.supportShareAudio=function(){const e=Sh();return(e.os===gh.WIN_10||e.os===gh.WIN_81||e.os===gh.WIN_7||e.os===gh.LINUX||e.os===gh.MAC_OS)&&e.name===yh.CHROME&&Number(e.version)>=74}(),cy.supportDualStreamEncoding=function(){const e=Sh();return!!ym("DISABLE_WEBAUDIO")||"Safari"===e.name&&Number(e.version)>=14||!!("Chrome"===e.name&&/Windows/i.test(e.os||"")&&Number(e.version)>=100&&ym("CHROME_DUAL_STREAM_USE_ENCODING"))}(),cy.supportDataChannel=!!(function(e){const t=Sh();return!(t.name!==yh.CHROME||!t.osVersion)&&Number(t.version)>=76}()||function(e){const t=Sh();return!(t.name!==yh.FIREFOX||!t.osVersion)&&Number(t.version)>=68}()||function(e){const t=Sh();return!(t.name!==yh.SAFARI||!t.osVersion)&&Number(t.version)>=14}()),im.info("browser compatibility",JSON.stringify(cy),JSON.stringify(e))}(),function(){let e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(e){return void im.error("Error loading sdk config",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),n=Date.now();im.debug("Loading global parameters from cache",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(bm,e)){const{value:r,expires:i}=t[e];if(i&&i<=n)return;Em[e]=r,bm[e]=r}}))}catch(t){im.error("Error loading mutableParamsCache: ".concat(e),t.message)}}();const uD={__CLIENT_LIST__:Cm,__TRACK_LIST__:Rm,VERSION:am,BUILD:om,setParameter:(e,t,n)=>{im.debug("setParameter key:".concat(e,", value:").concat(JSON.stringify(t))),gm(e,t,n)},getParameter:ym,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:"recvonly"}),t.addTransceiver("audio",{direction:"recvonly"});const n=(await t.createOffer()).sdp;if(!n)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ AV1/i)&&t.video.push("AV1"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ opus/i)&&t.audio.push("OPUS"),e.match(/ PCMU/i)&&t.audio.push("PCMU"),e.match(/ PCMA/i)&&t.audio.push("PCMA"),e.match(/ G722/i)&&t.audio.push("G722"),t}(n)}catch(e){throw new Yf(Kf.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=Gb.reportApiInvoke(null,{name:Vv.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:Bv.TRACER});let t=!1;try{const e=window.RTCPeerConnection,n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket;t=!!(e&&n&&r)}catch(e){return im.error("check system requirement failed: ",e),!1}let n=!1;const r=Sh();r.name===yh.CHROME&&Number(r.version)>=58&&(!("WebKit"===_h.engine.name)||function(){const e=Sh();if(Rh()){if(e.os===gh.MAC_OS)return!0;if(e.os===gh.IOS){const e=_h.os.version&&_h.os.version.split(".");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}())&&(n=!0),r.name===yh.FIREFOX&&Number(r.version)>=56&&(n=!0),r.name===yh.OPERA&&Number(r.version)>=45&&(n=!0),r.name===yh.SAFARI&&Number(r.version)>=11&&(n=!0),(Uh()||Sh().name===yh.QQ)&&(n=!0),im.debug("checkSystemRequirements, api:",t,"browser",n);const i=t&&n;return e.onSuccess(i),i},getDevices:function(e){return EE.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return EE.getRecordingDevices(e)},getCameras:function(e){return EE.getCamerasDevices(e)},getElectronScreenSources:uE,getPlaybackDevices:function(e){return EE.getSpeakers(e)},createClient:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const t=Gb.reportApiInvoke(null,{name:Vv.CREATE_CLIENT,options:[e],tag:Bv.TRACER});try{!function(e){_v(e.codec,"config.codec",["vp8","vp9","av1","h264"]),_v(e.mode,"config.mode",["rtc","live"]),void 0!==e.audioCodec&&_v(e.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==e.proxyServer&&wv(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&cg(e.turnServer),void 0!==e.httpRetryConfig&&ag(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&ag(e.websocketRetryConfig)}(e)}catch(e){throw t.onError(e),e}return void 0===e.audioCodec&&(e.audioCodec="opus"),t.onSuccess(),new XP(JP(JP({forceWaitGatewayResponse:!0},e),{},{role:"rtc"===e.mode?"host":e.role}))},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{encoderConfig:"480p_1"};const t=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.CREATE_CAM_VIDEO_TRACK,options:[nD({},e)]}),n=VR(e),r=$_(8,"track-cam-");let i=null;im.info("start create camera video track with config",JSON.stringify(e),"trackId",r);try{i=(await vE({video:n},r)).getVideoTracks()[0]||null}catch(e){throw t.onError(e),e}if(!i){const e=new Yf(Kf.UNEXPECTED_ERROR,"can not find track in media stream");return t.onError(e),e.throw()}e.optimizationMode&&rD(r,i,e,e.encoderConfig&&hm(e.encoderConfig));const o=new TI(i,e,n,e.scalabiltyMode?fm(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,r);return t.onSuccess(o.getTrackId()),im.info("create camera video success, trackId:",r),o},createCustomVideoTrack:function(e){const t=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),n=new wI(e.mediaStreamTrack,{bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?fm(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode);return t.onSuccess(n.getTrackId()),im.info("create custom video track success with config",e,"trackId",n.getTrackId()),n},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disable";const n=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.CREATE_SCREEN_VIDEO_TRACK,options:[nD({},e),t]});e.encoderConfig?"string"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig="1080p_2";const r=function(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&Ih()&&(t.extensionId=e.extensionId),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const n=e.encoderConfig?pm(e.encoderConfig):null;return t.mandatory={chromeMediaSource:"desktop",maxWidth:n?n.width:void 0,maxHeight:n?n.height:void 0},n&&n.frameRate&&("number"==typeof n.frameRate?(t.mandatory.maxFrameRate=n.frameRate,t.mandatory.minFrameRate=n.frameRate):(t.mandatory.maxFrameRate=n.frameRate.max||n.frameRate.ideal||n.frameRate.exact||void 0,t.mandatory.minFrameRate=n.frameRate.min||n.frameRate.ideal||n.frameRate.exact||void 0),t.frameRate=n.frameRate),n&&n.width&&(t.width=n.width),n&&n.height&&(t.height=n.height),t}(e),i=$_(8,"track-scr");let o=null,a=null;const s=ly();if(!s.supportShareAudio&&"enable"===t){const e=new Yf(Kf.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return n.onError(e),e.throw()}im.info("start create screen video track with config",e,"withAudio",t,"trackId",i);try{const e=await vE({screen:r,screenAudio:"auto"===t?s.supportShareAudio:"enable"===t},i);o=e.getVideoTracks()[0]||null,a=e.getAudioTracks()[0]||null}catch(e){throw n.onError(e),e}if(!o){const e=new Yf(Kf.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(e),e.throw()}if(!a&&"enable"===t){o&&o.stop();const e=new Yf(Kf.SHARE_AUDIO_NOT_ALLOWED);return n.onError(e),e.throw()}e.optimizationMode||(e.optimizationMode="detail"),e.optimizationMode&&(rD(i,o,e,e.encoderConfig&&pm(e.encoderConfig)),e.encoderConfig&&"string"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const c=new wI(o,e.encoderConfig?pm(e.encoderConfig):{},e.scalabiltyMode?fm(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,i,[Lg.SCREEN_TRACK]);if(!a)return n.onSuccess(c.getTrackId()),im.info("create screen video track success","video:",c.getTrackId()),c;const l=new T_(a);return n.onSuccess([c.getTrackId(),l.getTrackId()]),im.info("create screen video track success","video:",c.getTrackId(),"audio:",l.getTrackId()),[c,l]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{encoderConfig:"480p_1"};const n=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.CREATE_MIC_AND_CAM_TRACKS,options:[e,t]}),r=VR(t),i=BR(e),o=$_(8,"track-mic-"),a=$_(8,"track-cam-");let s=null,c=null;im.info("start create camera video track(".concat(a,") and microphone audio track(").concat(o,") with config, audio: ").concat(JSON.stringify(e),", video: ").concat(JSON.stringify(t)));try{const e=await vE({audio:i,video:r},"".concat(o,"-").concat(a));s=e.getAudioTracks()[0],c=e.getVideoTracks()[0]}catch(e){throw n.onError(e),e}if(!s||!c){const e=new Yf(Kf.UNEXPECTED_ERROR,"can not find tracks in media stream");return n.onError(e),e.throw()}t.optimizationMode&&rD(a,c,t,t.encoderConfig&&hm(t.encoderConfig));const l=new C_(s,e,i,o),u=new TI(c,t,r,t.scalabiltyMode?fm(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,a);return n.onSuccess([l.getTrackId(),u.getTrackId()]),im.info("create camera video track(".concat(a,") and microphone audio track(").concat(o,") success")),[l,u]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.CREATE_MIC_AUDIO_TRACK,options:[e]}),n=BR(e),r=$_(8,"track-mic-");let i=null;im.info("start create microphone audio track with config",JSON.stringify(e),"trackId",r);try{i=(await vE({audio:n},r)).getAudioTracks()[0]||null}catch(e){throw t.onError(e),e}if(!i){const e=new Yf(Kf.UNEXPECTED_ERROR,"can not find track in media stream");return t.onError(e),e.throw()}const o=new C_(i,e,n,r);return t.onSuccess(o.getTrackId()),im.info("create microphone audio track success, trackId:",r),o},createCustomAudioTrack:function(e){const t=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),n=new T_(e.mediaStreamTrack,e.encoderConfig?vm(e.encoderConfig):{});return im.info("create custom audio track success with config",e,"trackId",n.getTrackId()),t.onSuccess(n.getTrackId()),n},createBufferSourceAudioTrack:async function(e){const t=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.CREATE_BUFFER_AUDIO_TRACK,options:[e]});if(ym("DISABLE_WEBAUDIO"))throw new Yf(Kf.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");const n=$_(8,"track-buf-");im.info("start create buffer source audio track with config",JSON.stringify(e),"trackId",n);const r=e.source;if(!(e.source instanceof AudioBuffer))try{e.source=await async function(e,t){let n=null;if("string"==typeof e){const t=eD.get(e);if(t)return im.debug("use cached audio resource: ",e),t;try{n=(await Xf((()=>Hf.get(e,{responseType:"arraybuffer"})),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new Yf(Kf.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new sd(((t,n)=>{const r=new FileReader;r.onload=e=>{e.target?t(e.target.result):n(new Yf(Kf.READ_LOCAL_AUDIO_FILE_ERROR))},r.onerror=()=>{n(new Yf(Kf.READ_LOCAL_AUDIO_FILE_ERROR))},r.readAsArrayBuffer(e)}));n=await t}const r=await function(e){const t=eE();return new sd(((n,r)=>{t.decodeAudioData(e,(e=>{n(e)}),(e=>{r(new Yf(Kf.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(n);return"string"==typeof e&&t&&eD.set(e,r),r}(e.source,e.cacheOnlineFile)}catch(e){return t.onError(e),e.throw()}const i=new $P(e.source),o=new R_(r,i,e.encoderConfig?vm(e.encoderConfig):{},n);return im.info("create buffer source audio track success, trackId:",n),t.onSuccess(o.getTrackId()),o},setAppType:function(e){if(im.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&e>=0))throw im.debug("Invalid appType"),new Yf(Kf.INVALID_PARAMS,"invalid app type",e);gm("APP_TYPE",Math.floor(e))},setLogLevel:function(e){im.setLogLevel(e)},enableLogUpload:function(){ym("USE_NEW_LOG")?gm("UPLOAD_LOG",!0):im.enableLogUpload()},disableLogUpload:function(){ym("USE_NEW_LOG")?gm("UPLOAD_LOG",!1):im.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new cR},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof T_||e instanceof JN)){const e=new Yf(Kf.INVALID_TRACK,"the parameter is not a audio track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof T_?e.getTrackLabel():"remote_track",i=e.getVolumeLevel();let o=i,a=i;const s=Date.now();return new sd((i=>{const c=setInterval((()=>{const l=e.getVolumeLevel();o=l>o?l:o,a=l<a?l:a;const u=o-a>1e-4,d=Date.now()-s;if(u||d>t){clearInterval(c);const t=u,a={duration:d,deviceLabel:r,maxVolumeLevel:o,result:t};im.info("[track-".concat(e.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(a))),n.onSuccess(a),i(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=Gb.reportApiInvoke(null,{tag:Bv.TRACER,name:Vv.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof wI||e instanceof QN)){const e=new Yf(Kf.INVALID_TRACK,"the parameter is not a video track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof wI?e.getTrackLabel():"remote_track",i=e.getMediaStreamTrack(!0),o=document.createElement("video");o.style.width="1px",o.style.height="1px",o.setAttribute("muted",""),o.muted=!0,o.setAttribute("playsinline",""),o.controls=!1,(Oh()||Rh())&&(o.style.opacity="0.01",o.style.position="fixed",o.style.left="0",o.style.top="0",document.body.appendChild(o)),o.srcObject=new MediaStream([i]),o.play();const a=document.createElement("canvas");a.width=160,a.height=120;let s=0,c=0;try{const e=Date.now();s=await function(e,t,n,r){let i,o=0,a=null;return new sd(((s,c)=>{setTimeout((()=>{i&&(i(),s(o))}),t),i=rE((()=>{!function(){o>r&&i&&(i(),s(o));const t=n.getContext("2d");if(!t){const e=new Yf(Kf.UNEXPECTED_ERROR,"can not get canvas 2d context.");return im.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const l=t.getImageData(0,0,n.width,n.height),u=Math.floor(l.data.length/3);if(a){for(let e=0;e<u;e+=3)if(l.data[e]!==a[e])return o+=1,void(a=l.data);a=l.data}else a=l.data}()}),30)}))}(o,t,a,4),c=Date.now()-e}catch(e){throw n.onError(e),e}iD===yh.SAFARI&&(o.pause(),o.remove()),o.srcObject=null;const l=s>4,u={duration:c,changedPicNum:s,deviceLabel:r,result:l};return im.info("[track-".concat(e.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(u))),n.onSuccess(u),l},setArea:function(e){const t=Gb.reportApiInvoke(null,{name:Vv.SET_AREA,options:e,tag:Bv.TRACER});try{let t=[];if("string"==typeof e&&(t=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!Gg.includes(e))throw new Yf(Kf.INVALID_PARAMS,"invalid area code")})),t=e),"[object Object]"===Object.prototype.toString.call(e)){const{areaCode:n,excludedArea:r}=e;if(!n)throw new Yf(Kf.INVALID_PARAMS,"area code is needed");let i=n;"string"==typeof n&&(i=[n]),t=r?function(e,t){let n=[];if(e.includes(Vg.GLOBAL)){const o=[Vg.GLOBAL,Vg.OVERSEA],a=Object.keys(qg);if(t===Vg.GLOBAL)throw new Yf(Kf.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===Vg.CHINA)n=[Vg.OVERSEA];else if(i=t,qC.includes(i)){const e=(r=t,HC[Vg.GLOBAL][r]||[]),i=[...o,t,...e];n=a.filter((e=>!i.includes(e)))}else if(function(e){let t=!1;return qC.forEach((n=>{HC[Vg.GLOBAL][n].includes(e)&&(t=!0)})),t}(t)){const e=function(e){let t;return qC.forEach((n=>{HC[Vg.GLOBAL][n].includes(e)&&(t=n)})),t}(t),r=[...o,e,t];n=a.filter((e=>!r.includes(e)))}else n=e;n=function(e){const t=[];return WC.forEach((n=>{e.includes(n)&&t.push(n)})),t.concat(e.filter((e=>!WC.includes(e))))}(n)}else n=e;var r,i;return n}(i,r):i}gm("AREAS",t);const n=(e=>{const t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const n=qg[e],r=Object.keys(n);r&&r.map((e=>{"CODE"!==e&&(t[e]=t[e].concat(n[e]))}))})),t})(t);Object.keys(n).map((e=>{gm(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?n[e][0]:n[e])})),im.debug("set area success:",t.join(","))}catch(e){throw t.onError(e),e}t.onSuccess()},audioElementPlayCenter:SE,processExternalMediaAEC:function(e){lD.processExternalMediaAEC(e)},registerExtensions:function(e){e.forEach((e=>{const t=e;t.__registered__=!0,t.logger.hookLog=im.extLog,t.reporter.hookApiInvoke=Gb.extApiInvoke,t.parameters&&Object.keys(t.parameters).forEach((e=>{t.parameters[e]=ym(e)}))}))},ChannelMediaRelayError:kg,ChannelMediaRelayEvent:Ig,ChannelMediaRelayState:Og,RemoteStreamFallbackType:Fg,RemoteStreamType:Mg,ConnectionDisconnectedReason:Qv,AudienceLatencyLevelType:Yv,AREAS:Vg},dD=window||document;return Object.defineProperties(uD,{onAudioAutoplayFailed:{get:()=>Lb.onAudioAutoplayFailed,set:e=>{Lb.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>Lb.onAutoplayFailed,set:e=>{Lb.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>uD._onSecurityPolicyViolation,set(e){if(uD._onSecurityPolicyViolation=e,!dD)return;const t=e=>{if(!(e&&e.blockedURI&&uD.onSecurityPolicyViolation))return;const t=e.blockedURI;ym("CSP_DETECTED_HOSTNAME_LIST").some((e=>t.includes(e)))&&uD.onSecurityPolicyViolation&&"function"==typeof uD.onSecurityPolicyViolation&&uD.onSecurityPolicyViolation(e)},n=uD._cspEventHandlerPointer;n&&dD.removeEventListener("securitypolicyviolation",n),e&&"function"==typeof e&&dD.addEventListener("securitypolicyviolation",t),uD._cspEventHandlerPointer=t}}}),EE.on(Gv.CAMERA_DEVICE_CHANGED,(e=>{im.info("camera device changed",JSON.stringify(e)),uD.onCameraChanged&&uD.onCameraChanged(e)})),EE.on(Gv.RECORDING_DEVICE_CHANGED,(e=>{im.info("microphone device changed",JSON.stringify(e)),uD.onMicrophoneChanged&&uD.onMicrophoneChanged(e)})),EE.on(Gv.PLAYOUT_DEVICE_CHANGED,(e=>{im.debug("playout device changed",JSON.stringify(e)),uD.onPlaybackDeviceChanged&&uD.onPlaybackDeviceChanged(e)})),SE.onAutoplayFailed=()=>{im.info("detect audio element autoplay failed"),Lb.onAudioAutoplayFailed&&Lb.onAudioAutoplayFailed()},$b.on("autoplay-failed",(()=>{im.info("detect webaudio autoplay failed"),Lb.onAudioAutoplayFailed&&Lb.onAudioAutoplayFailed()})),window&&(window.__ARTC__=uD),uD}()},2813:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var t;module=__webpack_require__.nmd(module),t=function(){function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wm(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ma(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){function o(e){wm(s,r,i,o,a,"next",e)}function a(e){wm(s,r,i,o,a,"throw",e)}var s=e.apply(t,n);o(void 0)}))}}function va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eb(e,t,n){return t&&xm(e.prototype,t),n&&xm(e,n),e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jf(e,t)}function Td(e){return(Td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jf(e,t){return(Jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ym(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ji(e,t,n){return(Ji=ym()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),e=new(Function.bind.apply(e,r)),n&&Jf(e,n.prototype),e}).apply(null,arguments)}function Kf(e){var t="function"==typeof Map?new Map:void 0;return(Kf=function(e){function n(){return Ji(e,arguments,Td(this).constructor)}if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Jf(n,e)})(e)}function Ki(e,t){if(null==e)return{};if(null==e)var n={};else{n={};var r,i=Object.keys(e);for(r=0;r<i.length;r++){var o=i[r];0<=t.indexOf(o)||(n[o]=e[o])}}if(Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(e),o=0;o<r.length;o++)i=r[o],0<=t.indexOf(i)||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i]);return n}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(e){var t=ym();return function(){var n=Td(e);if(t){var r=Td(this).constructor;n=Reflect.construct(n,arguments,r)}else n=n.apply(this,arguments);return!n||"object"!=typeof n&&"function"!=typeof n?z(this):n}}function Li(e,t,n){return(Li="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Td(e)););if(e)return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function $a(e,t){var n=Array.isArray(e)?e:void 0;if(!n)if(null==(n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"])))n=void 0;else{var r,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0;var s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}n=i}if(!(e=n||zm(e,t)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function Z(e){var t=Array.isArray(e)?Mi(e):void 0;if(t||(t="undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"]?Array.from(e):void 0),!(e=t||zm(e)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function zm(e,t){if(e){if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(e,t)}}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Da(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function xb(e){var t={exports:{}};return e(t,t.exports),t.exports}function Ce(e){e||(e={});var t=e.ua;if(t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!=typeof t)return!1;var n=Zt.test(t)&&!$t.test(t)||!!e.tablet&&au.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&1<navigator.maxTouchPoints&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}function Am(e,t){var n,r=3>arguments.length?e:arguments[2];return Ia(e)===r?e[t]:(n=dc.f(e,t))?ka(n,"value")?n.value:void 0===n.get?void 0:n.get.call(r):xa(n=uc(e))?Am(n,t,r):void 0}function bu(e){var t=e.charCodeAt(0)<<24,n=0|cu(~t),r=0,i=0|e.length,o="";if(5>n&&i>=n){for(t=t<<n>>>24+n,r=1;r<n;r=r+1|0)t=t<<6|63&e.charCodeAt(r);65535>=t?o+=Ud(t):1114111>=t?o+=Ud(55296+((t=t-65536|0)>>10)|0,56320+(1023&t)|0):r=0}for(;r<i;r=r+1|0)o+="ï¿½";return o}function Bm(){}function du(e){var t=0|e.charCodeAt(0);if(55296<=t&&56319>=t){var n=0|e.charCodeAt(1);if(!(n==n&&56320<=n&&57343>=n))return Ud(239,191,189);if(65535<(t=(t-55296<<10)+n-56320+65536|0))return Ud(240|t>>>18,128|t>>>12&63,128|t>>>6&63,128|63&t)}return 127>=t?e:2047>=t?Ud(192|t>>>6,128|63&t):Ud(224|t>>>12,128|t>>>6&63,128|63&t)}function Cm(){}function Ba(){Ba.init.call(this)}function Wg(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+qa(e))}function Dm(e,t,n,r){Wg(n);var i=e._events;if(void 0===i)i=e._events=Object.create(null),e._eventsCount=0;else{void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events);var o=i[t]}return void 0===o?(i[t]=n,++e._eventsCount):("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),0<(n=void 0===e._maxListeners?Ba.defaultMaxListeners:e._maxListeners)&&o.length>n&&!o.warned&&(o.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,console&&console.warn&&console.warn(n))),e}function eu(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Em(e,t,n){return e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},(t=eu.bind(e)).listener=n,e.wrapFn=t}function Fm(e,t,n){if(void 0===(e=e._events))return[];if(void 0===(t=e[t]))return[];if("function"==typeof t)return n?[t.listener||t]:[t];if(n)for(n=Array(t.length),e=0;e<n.length;++e)n[e]=t[e].listener||t[e];else n=Gm(t,t.length);return n}function Hm(e){var t=this._events;if(void 0!==t){if("function"==typeof(e=t[e]))return 1;if(void 0!==e)return e.length}return 0}function Gm(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function fu(e,t,n){"function"==typeof e.on&&Im(e,"error",t,n)}function Im(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+qa(e));e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}function gu(e){return e?Z(e):hu((function(){return[]}),(function(e,t){return e.push(t),e}))}function Jm(e,t){var n,r,i,o;return N.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=Km(e)([Lm,Lm,function(e,t){return t}])[2],r=0;case 2:if(!(r<t.length)){a.next=17;break}if(i=t[r],!((o=n(Ni,i))instanceof Xg)){a.next=11;break}if((o=Oi(o.deref()))===Ni){a.next=10;break}return a.next=10,o;case 10:return a.abrupt("return");case 11:if(o===Ni){a.next=14;break}return a.next=14,o;case 14:r++,a.next=2;break;case 17:case"end":return a.stop()}}),iu)}function Yg(e,t){return null!=t&&"function"==typeof t[Symbol.iterator]?Jm(Yg(e),t):function(t){var n=t[2];return ju(t,(function(t,r){return n(t,e(r))}))}}function $c(e){return Object.prototype.toString.call(e).slice(8,-1)}function De(e){return"Object"===$c(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Mm(e){var t;return(t="Boolean"===$c(e)||"Null"===$c(e)||"Undefined"===$c(e))||(t="Number"===$c(e)&&!isNaN(e)),t||"String"===$c(e)||"Symbol"===$c(e)}function Vd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Lf(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Zg;++t<n;)this.add(e[t])}function Ge(e){this.size=(this.__data__=new $g(e)).size}function He(e,t,n,r,i,o){var a,s=1&t,c=2&t,l=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Gb(e))return e;if(r=ub(e)){if(a=ku(e),!s)return Pi(e,a)}else{var u=Mf(e),d="[object Function]"==u||"[object GeneratorFunction]"==u;if(Nf(e))return Nm(e,s);if("[object Object]"==u||"[object Arguments]"==u||d&&!i){if(a=c||d?{}:Om(e),!s)return c?lu(e,mu(a,e)):nu(e,ou(a,e))}else{if(!Oa[u])return i?e:{};a=pu(e,u,s)}}if(o||(o=new Ie),i=o.get(e))return i;o.set(e,a),qu(e)?e.forEach((function(r){a.add(He(r,t,n,r,e,o))})):ru(e)&&e.forEach((function(r,i){a.set(i,He(r,t,n,i,e,o))})),c=l?c?Pm:Qi:c?Of:Wd;var h=r?void 0:c(e);return su(h||e,(function(r,i){h&&(r=e[i=r]),Qm(a,i,He(r,t,n,i,e,o))})),a}function Ri(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;return o.has(i)?o.get(i):(r=e.apply(this,r),n.cache=o.set(i,r)||o,r)};return n.cache=new(Ri.Cache||Zg),n}function Rm(e){if("string"==typeof e)return e;if(ub(e))return Je(e,Rm)+"";if(Ke(e))return Sm?Sm.call(e):"";var t=e+"";return"0"==t&&1/e==-tu?"-0":t}function Si(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=uu),i||(i=[]);++o<a;){var s=e[o];0<t&&n(s)?1<t?Si(s,t-1,n,r,i):Ti(i,s):r||(i[i.length]=s)}return i}function Le(e,t,n,r,i){if(e===t)t=!0;else if(null==e||null==t||!Hc(e)&&!Hc(t))t=e!=e&&t!=t;else e:{var o=ub(e),a=ub(t),s=o?"[object Array]":Mf(e),c=a?"[object Array]":Mf(t),l="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s);if(a="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),(c=s==c)&&Nf(e)){if(!Nf(t)){t=!1;break e}o=!0,l=!1}if(c&&!l)i||(i=new Ie),t=o||Ui(e)?Tm(e,t,n,r,Le,i):vu(e,t,s,n,r,Le,i);else{if(!(1&n)&&(o=l&&Um.call(e,"__wrapped__"),s=a&&Um.call(t,"__wrapped__"),o||s)){e=o?e.value():e,t=s?t.value():t,i||(i=new Ie),t=Le(e,t,n,r,i);break e}if(c)t:if(i||(i=new Ie),o=1&n,s=Qi(e),a=s.length,c=Qi(t).length,a==c||o){for(c=a;c--;){var u=s[c];if(!(o?u in t:wu.call(t,u))){t=!1;break t}}if(l=i.get(e),u=i.get(t),l&&u)t=l==t&&u==e;else{l=!0,i.set(e,t),i.set(t,e);for(var d=o;++c<a;){var h=e[u=s[c]],p=t[u];if(r)var f=o?r(p,h,u,t,e,i):r(h,p,u,e,t,i);if(void 0===f?h!==p&&!Le(h,p,n,r,i):!f){l=!1;break}d||(d="constructor"==u)}l&&!d&&(n=e.constructor)!=(r=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(l=!1),i.delete(e),i.delete(t),t=l}}else t=!1;else t=!1}}return t}function Pa(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function Hb(e){return!0===(e&&e.__isLong__)}function Xd(e,t){var n;if(t){if((t=0<=(e>>>=0)&&256>e)&&(n=Vm[e]))return n;n=Qa(e,0>(0|e)?-1:0,!0),t&&(Vm[e]=n)}else{if((t=-128<=(e|=0)&&128>e)&&(n=Wm[e]))return n;n=Qa(e,0>e?-1:0,!1),t&&(Wm[e]=n)}return n}function ec(e,t){if(isNaN(e))return t?Yd:fc;if(t){if(0>e)return Yd;if(e>=Xm)return Ym}else{if(e<=-Zm)return Ib;if(e+1>=Zm)return $m}return 0>e?ec(-e,t).neg():Qa(e%Me|0,e/Me|0,t)}function Qa(e,t,n){return new Pa(e,t,n)}function Vi(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return fc;if("number"==typeof t?(n=t,t=!1):t=!!t,2>(n=n||10)||36<n)throw RangeError("radix");var r;if(0<(r=e.indexOf("-")))throw Error("interior hyphen");if(0===r)return Vi(e.substring(1),t,n).neg();r=ec(ah(n,8));for(var i=fc,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),s=parseInt(e.substring(o,o+a),n);8>a?(a=ec(ah(n,a)),i=i.mul(a).add(ec(s))):i=(i=i.mul(r)).add(ec(s))}return i.unsigned=t,i}function vc(e,t){return"number"==typeof e?ec(e,t):"string"==typeof e?Vi(e,t):Qa(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}function ha(e,t){function n(){this.constructor=e}Wi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Ne(e){return"function"==typeof e}function Oe(e){setTimeout((function(){throw e}),0)}function Xi(e){return null!==e&&"object"===qa(e)}function an(e){return e.reduce((function(e,t){return e.concat(t instanceof Pf?t.errors:t)}),[])}function Yi(e){for(;e;){var t=e.destination,n=e.isStopped;if(e.closed||n)return!1;e=t&&t instanceof za?t:null}return!0}function wd(e){return e}function Zi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bn(e)}function bn(e){return 0===e.length?wd:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}function cn(e){if(e||(e=gc.Promise||Promise),!e)throw Error("no Promise impl found");return e}function dn(){return function(e){return e.lift(new xu(e))}}function Qf(e){return e?yu(e):Sb}function yu(e){return new ua((function(t){return e.schedule((function(){return t.complete()}))}))}function ad(e){return e&&"function"==typeof e.schedule}function $i(e,t){return new ua((function(n){var r=new nb,i=0;return r.add(t.schedule((function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||r.add(this.schedule()))}))),r}))}function Rf(e,t){return t?$i(e,t):new ua(en(e))}function ob(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ad(t=e[e.length-1])?(e.pop(),$i(e,t)):Rf(e)}function ra(e,t){return new ua(t?function(n){return t.schedule(zu,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function zu(e){e.subscriber.error(e.error)}function Au(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Bu(e,t))}}function fn(e){return e in aj&&(delete aj[e],!0)}function Ic(){}function Ea(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Cu(e,t))}}function gn(e,t,n){if(t){if(!ad(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return gn(e,n).apply(void 0,r).pipe(Ea((function(e){return hc(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i,o=this,a={context:o,subject:i,callbackFunc:e,scheduler:n};return new ua((function(r){if(n)return n.schedule(Du,0,{args:t,subscriber:r,params:a});if(!i){i=new Sf;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(1>=e.length?e[0]:e),i.complete()}]))}catch(e){Yi(i)?i.error(e):console.warn(e)}}return i.subscribe(r)}))}}function Du(e){var t=this,n=e.args,r=e.subscriber,i=e.params;e=i.callbackFunc;var o=i.context,a=i.scheduler,s=i.subject;if(!s){s=i.subject=new Sf,i=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.add(a.schedule(Eu,0,{value:1>=e.length?e[0]:e,subject:s}))};try{e.apply(o,n.concat([i]))}catch(e){s.error(e)}}this.add(s.subscribe(r))}function Eu(e){var t=e.subject;t.next(e.value),t.complete()}function hn(e,t,n){if(t){if(!ad(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return hn(e,n).apply(void 0,r).pipe(Ea((function(e){return hc(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new ua((function(r){var o=i.context,a=i.subject;if(n)return n.schedule(Fu,0,{params:i,subscriber:r,context:o});if(!a){a=i.subject=new Sf;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(t=e.shift())?a.error(t):(a.next(1>=e.length?e[0]:e),a.complete())}]))}catch(e){Yi(a)?a.error(e):console.warn(e)}}return a.subscribe(r)}))}}function Fu(e){var t=this,n=e.params,r=e.subscriber;e=e.context;var i=n.callbackFunc,o=n.args,a=n.scheduler,s=n.subject;if(!s){s=n.subject=new Sf,n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(n=e.shift())?t.add(a.schedule(jn,0,{err:n,subject:s})):t.add(a.schedule(Gu,0,{value:1>=e.length?e[0]:e,subject:s}))};try{i.apply(e,o.concat([n]))}catch(e){this.add(a.schedule(jn,0,{err:e,subject:s}))}}this.add(s.subscribe(r))}function Gu(e){var t=e.subject;t.next(e.value),t.complete()}function jn(e){e.subject.error(e.err)}function kn(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}function bj(e,t,n,r,i){if(void 0===i&&(i=new Hu(e,n,r)),!i.closed)return t instanceof ua?t.subscribe(i):Tf(t)(i)}function Iu(e,t){return new ua((function(n){var r=new nb;return r.add(t.schedule((function(){var i=e[Pe]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}function Ju(e,t){return new ua((function(n){var r=new nb;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}function Ku(e,t){if(!e)throw Error("Iterable cannot be null");return new ua((function(n){var r,i=new nb;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[xd](),i.add(t.schedule((function(){if(!n.closed){try{var e=r.next(),t=e.value,i=e.done}catch(e){return void n.error(e)}i?n.complete():(n.next(t),this.schedule())}})))}))),i}))}function ln(e,t){if(null!=e){if(e&&"function"==typeof e[Pe])return Iu(e,t);if(kn(e))return Ju(e,t);if(mn(e))return $i(e,t);if(e&&"function"==typeof e[xd]||"string"==typeof e)return Ku(e,t)}throw new TypeError((null!==e&&qa(e)||e)+" is not observable")}function Jc(e,t){return t?ln(e,t):e instanceof ua?e:new ua(Tf(e))}function bd(e,t){if(!t.closed){if(e instanceof ua)return e.subscribe(t);try{var n=Tf(e)(t)}catch(e){t.error(e)}return n}}function Cb(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(Cb((function(n,r){return Jc(e(n,r)).pipe(Ea((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new Lu(e,n))})}function bh(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Cb(wd,e)}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bh(1)(ob.apply(void 0,e))}function yd(e){return new ua((function(t){try{var n=e()}catch(e){return void t.error(e)}return(n?Jc(n):Qf()).subscribe(t)}))}function ch(e,t){return new ua((function(n){var r=e.length;if(0===r)n.complete();else for(var i=Array(r),o=0,a=0,s=function(s){var c=Jc(e[s]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)s(c)}))}function Db(e,t,n,r){return Ne(n)&&(r=n,n=void 0),r?Db(e,t,n).pipe(Ea((function(e){return hc(e)?r.apply(void 0,e):r(e)}))):new ua((function(r){on(e,t,(function(e){1<arguments.length?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function on(e,t,n,r,i){if(e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener){e.addEventListener(t,n,i);var o=function(){return e.removeEventListener(t,n,i)}}else if(e&&"function"==typeof e.on&&"function"==typeof e.off)e.on(t,n),o=function(){return e.off(t,n)};else if(e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener)e.addListener(t,n),o=function(){return e.removeListener(t,n)};else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var a=0,s=e.length;a<s;a++)on(e[a],t,n,r,i)}r.add(o)}function pn(e,t,n){return n?pn(e,t).pipe(Ea((function(e){return hc(e)?n.apply(void 0,e):n(e)}))):new ua((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{var i=e(r)}catch(e){return void n.error(e)}if(Ne(t))return function(){return t(r,i)}}))}function Mu(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}try{var i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function cj(e){return!hc(e)&&0<=e-parseFloat(e)+1}function Qe(e,t){return void 0===e&&(e=0),void 0===t&&(t=cd),(!cj(e)||0>e)&&(e=0),t&&"function"==typeof t.schedule||(t=cd),new ua((function(n){return n.add(t.schedule(Nu,e,{subscriber:n,counter:0,period:e})),n}))}function Nu(e){var t=e.subscriber,n=e.counter;e=e.period,t.next(n),this.schedule({subscriber:t,counter:n+1,period:e},e)}function Jb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];t=Number.POSITIVE_INFINITY;var n=null,r=e[e.length-1];return ad(r)?(n=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof ua?e[0]:bh(t)(Rf(e,n))}function dj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return Sb;var n=e[0],r=e.slice(1);return 1===e.length&&hc(n)?dj.apply(void 0,n):new ua((function(e){var t=function(){return e.add(dj.apply(void 0,r).subscribe(e))};return Jc(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function Ou(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription;if(e=e.obj,!r.closed)if(n<t.length){var o=t[n];r.next([o,e[o]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:e}))}else r.complete()}function Pu(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function yb(e,t){return function(n){return n.lift(new Qu(e,t))}}function fb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!hc(e[0]))return e[0];e=e[0]}return Rf(e,void 0).lift(new Ru)}function Su(e){var t=e.start,n=e.index,r=e.subscriber;n>=e.count?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function dd(e,t,n){void 0===e&&(e=0);var r=-1;return cj(t)?r=1>Number(t)?1:Number(t):ad(t)&&(n=t),ad(n)||(n=cd),new ua((function(t){var i=cj(e)?e:+e-n.now();return n.schedule(Tu,i,{index:0,period:r,subscriber:t})}))}function Tu(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function ej(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"function"==typeof(t=e[e.length-1])&&e.pop(),Rf(e,void 0).lift(new Uu(t))}function dh(e){var t=arguments.length,n=cd;ad(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;2<=t&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return 3<=t&&(i=arguments[2]),function(t){return t.lift(new Vu(e,r,i,n))}}function qn(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function Wu(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(rn,n,{subscriber:r,context:o})),this.schedule(e,t))}function rn(e){e.subscriber.closeContext(e.context)}function ab(e){return function(t){var n=new Xu(e);return t=t.lift(n),n.caught=t}}function fj(e,t){return Cb(e,t,1)}function sn(e){return void 0===e&&(e=null),function(t){return t.lift(new Yu(e))}}function Zd(e,t){void 0===t&&(t=cd);var n=e instanceof Date&&!isNaN(+e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new Zu(n,t))}}function tn(e,t){return function(n){return n.lift(new $u(e,t))}}function $d(e){return void 0===e&&(e=av),function(t){return t.lift(new bv(e))}}function av(){return new eh}function hb(e){return function(t){return 0===e?Qf():t.lift(new cv(e))}}function fh(e){return function(t){return t.lift(new dv(e))}}function Ca(e,t){var n=2<=arguments.length;return function(r){return r.pipe(e?yb((function(t,n){return e(t,n,r)})):wd,hb(1),n?sn(t):$d((function(){return new eh})))}}function ev(){return function(e){return e.lift(new fv)}}function un(e){return function(t){return 0===e?Qf():t.lift(new gv(e))}}function Uf(e){return function(t){return t.lift(new hv(e))}}function gh(e,t){var n=!1;return 2<=arguments.length&&(n=!0),function(r){return r.lift(new iv(e,t,n))}}function vn(e,t){return 2<=arguments.length?function(n){return Zi(gh(e,t),un(1),sn(t))(n)}:function(t){return Zi(gh((function(t,n,r){return e(t,n,r+1)})),un(1))(t)}}function jv(e,t){return function(n){var r="function"==typeof e?e:function(){return e};if("function"==typeof t)return n.lift(new kv(r,t));var i=Object.create(n,lv);return i.source=n,i.subjectFactory=r,i}}function Re(e){return function(t){return t.lift(new mv(e,t))}}function nv(){return new rb}function Se(){return function(e){return dn()(jv(nv)(e))}}function wn(e,t,n){var r=e&&"object"===qa(e)?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n};return function(e){return e.lift(ov(r))}}function ov(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=void 0===(r=e.windowTime)?Number.POSITIVE_INFINITY:r,a=e.refCount,s=e.scheduler,c=0,l=!1,u=!1;return function(e){if(c++,!t||l){l=!1;var r=(t=new Te(i,o,s)).subscribe(this);n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){u=!0,n=void 0,t.complete()}}),u&&(n=void 0)}else r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),r=void 0,n&&!u&&a&&0===c&&(n.unsubscribe(),t=n=void 0)}))}}function Kb(e,t){return"function"==typeof t?function(n){return n.pipe(Kb((function(n,r){return Jc(e(n,r)).pipe(Ea((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new pv(e))}}function Kc(e){return function(t){return t.lift(new qv(e))}}function sa(e,t,n){return function(r){return r.lift(new rv(e,t,n))}}function sv(e,t,n){return void 0===t&&(t=cd),void 0===n&&(n=tv),function(r){return r.lift(new uv(e,t,n.leading,n.trailing))}}function vv(e){e.subscriber.clearThrottle()}function wv(e,t,n){return void 0===n&&(n=cd),function(r){var i=e instanceof Date&&!isNaN(+e),o=i?+e-n.now():Math.abs(e);return r.lift(new xv(o,i,t,n))}}function Lb(e,t){return void 0===t&&(t=cd),wv(e,ra(new Tb),t)}function yv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new zv(e,n))}}function xn(e){(gj||e)&&(yn.abort(),e&&(yn=new AbortController),gj=e)}function zn(e,t,n,r,i){e!==t&&An(t,(function(o,a){if(i||(i=new Ie),Gb(o)){o=i;var s=hj(e,a),c=hj(t,a),l=o.get(c);if(l)ij(e,a,l);else{var u=void 0===(l=r?r(s,c,a+"",e,t,o):void 0);if(u){var d=ub(c),h=!d&&Nf(c),p=!d&&!h&&Ui(c);l=c,d||h||p?ub(s)?l=s:Hc(s)&&ae(s)?l=Pi(s):h?(u=!1,l=Nm(c,!0)):p?(u=!1,l=Bn(c,!0)):l=[]:Cn(c)||Vf(c)?(l=s,Vf(s)?l=Ue(s,Of(s)):Gb(s)&&!jj(s)||(l=Om(c))):u=!1}u&&(o.set(c,l),zn(l,c,n,r,o),o.delete(c)),ij(e,a,l)}}else void 0===(s=r?r(hj(e,a),o,a+"",e,t,i):void 0)&&(s=o),ij(e,a,s)}),Of)}function Av(e){var t=1,n=kj;1==(1>=arguments.length?0:arguments.length-1)?"number"==typeof(1>=arguments.length?void 0:arguments[1])?t=1>=arguments.length?void 0:arguments[1]:n=1>=arguments.length?void 0:arguments[1]:2==(1>=arguments.length?0:arguments.length-1)&&(t=1>=arguments.length?void 0:arguments[1],n=2>=arguments.length?void 0:arguments[2]);var r=t||1;return function(t){return t.pipe(gh((function(t,i){var o=n.now(),a=o-e;if((t=t.filter((function(e){return e.until>a}))).length>=r){var s=t[t.length-1],c=t[0].until+e*Math.floor(t.length/r);t.push({delay:s.until<o?c-o:c-s.until,until:c,value:i})}else t.push({delay:0,until:o,value:i});return t}),[]),Ea((function(e){return e[e.length-1]})),fj((function(e){var t=ob(e.value);return e.delay?t.pipe(Zd(e.delay,n)):t})))}}function Bv(e,t){var n=(t=void 0===t?{protocols:Dn,makeWebSocket:En}:t).protocols,r=void 0===n?Dn:n,i=void 0===(t=t.makeWebSocket)?En:t;return new ua((function(t){var n,o=new rb,a=i(e,r),s=!1,c=!1,l=!1,u=function(e){if(n)throw s=!0,e=Error("Web socket message factory function called more than once"),t.error(e),e;return n=e.subscribe((function(e){a.send(e)})),o};return a.onopen=function(){l=!0,c?(s=!0,a.close()):t.next(u)},a.onmessage=function(e){o.next(e.data)},a.onerror=function(e){s=!0,t.error(Error(e.message))},a.onclose=function(e){s||(s=!0,c?(t.complete(),o.complete()):t.error(Error(1e3===e.code?"Normal closure":e.reason)))},function(){c=!0,n&&n.unsubscribe(),s||(s=!0,l&&a.close())}}))}function hh(){this._listeners={}}function Fn(e){return"undefined"!=typeof Float32Array?function(){function t(e,t,n){o[0]=e,t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3]}function n(e,t,n){o[0]=e,t[n]=a[3],t[n+1]=a[2],t[n+2]=a[1],t[n+3]=a[0]}function r(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],o[0]}function i(e,t){return a[3]=e[t],a[2]=e[t+1],a[1]=e[t+2],a[0]=e[t+3],o[0]}var o=new Float32Array([-0]),a=new Uint8Array(o.buffer),s=128===a[3];e.writeFloatLE=s?t:n,e.writeFloatBE=s?n:t,e.readFloatLE=s?r:i,e.readFloatBE=s?i:r}():function(){function t(e,t,n,r){var i=0>t?1:0;if(i&&(t=-t),0===t)e(0<1/t?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(34028234663852886e22<t)e((i<<31|2139095040)>>>0,n,r);else if(11754943508222875e-54>t)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){return n=e(t,n),e=2*(n>>31)+1,t=n>>>23&255,n&=8388607,255===t?n?NaN:1/0*e:0===t?1401298464324817e-60*e*n:e*Math.pow(2,t-150)*(n+8388608)}e.writeFloatLE=t.bind(null,Gn),e.writeFloatBE=t.bind(null,Hn),e.readFloatLE=n.bind(null,In),e.readFloatBE=n.bind(null,Jn)}(),"undefined"!=typeof Float64Array?function(){function t(e,t,n){o[0]=e,t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3],t[n+4]=a[4],t[n+5]=a[5],t[n+6]=a[6],t[n+7]=a[7]}function n(e,t,n){o[0]=e,t[n]=a[7],t[n+1]=a[6],t[n+2]=a[5],t[n+3]=a[4],t[n+4]=a[3],t[n+5]=a[2],t[n+6]=a[1],t[n+7]=a[0]}function r(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],a[4]=e[t+4],a[5]=e[t+5],a[6]=e[t+6],a[7]=e[t+7],o[0]}function i(e,t){return a[7]=e[t],a[6]=e[t+1],a[5]=e[t+2],a[4]=e[t+3],a[3]=e[t+4],a[2]=e[t+5],a[1]=e[t+6],a[0]=e[t+7],o[0]}var o=new Float64Array([-0]),a=new Uint8Array(o.buffer),s=128===a[7];e.writeDoubleLE=s?t:n,e.writeDoubleBE=s?n:t,e.readDoubleLE=s?r:i,e.readDoubleBE=s?i:r}():function(){function t(e,t,n,r,i,o){var a=0>r?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(0<1/r?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(17976931348623157e292<r)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else if(22250738585072014e-324>r)e((r/=5e-324)>>>0,i,o+t),e((a<<31|r/4294967296)>>>0,i,o+n);else{var s=Math.floor(Math.log(r)/Math.LN2);1024===s&&(s=1023),e(4503599627370496*(r*=Math.pow(2,-s))>>>0,i,o+t),e((a<<31|s+1023<<20|1048576*r&1048575)>>>0,i,o+n)}}function n(e,t,n,r,i){return t=e(r,i+t),r=e(r,i+n),e=2*(r>>31)+1,t=4294967296*(1048575&r)+t,2047==(n=r>>>20&2047)?t?NaN:1/0*e:0===n?5e-324*e*t:e*Math.pow(2,n-1075)*(t+4503599627370496)}e.writeDoubleLE=t.bind(null,Gn,0,4),e.writeDoubleBE=t.bind(null,Hn,4,0),e.readDoubleLE=n.bind(null,In,0,4),e.readDoubleBE=n.bind(null,Jn,4,0)}(),e}function Gn(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function Hn(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function In(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Jn(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function vb(e,t){this.lo=e>>>0,this.hi=t>>>0}function Wf(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function lj(){}function Cv(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Aa(){this.len=0,this.tail=this.head=new Wf(lj,0,0),this.states=null}function mj(e,t,n){t[n]=255&e}function nj(e,t){this.len=e,this.next=void 0,this.val=t}function oj(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo>>>=7;t[n++]=e.lo}function pj(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function Lc(){qj.call(this)}function Dv(e,t,n){40>e.length?pa.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}function wc(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function ib(e){this.buf=e,this.pos=0,this.len=e.length}function rj(){var e=new Kn(0,0),t=0;if(!(4<this.len-this.pos)){for(;3>t;++t){if(this.pos>=this.len)throw wc(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;4>t;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return e;if(t=0,4<this.len-this.pos){for(;5>t;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}else for(;5>t;++t){if(this.pos>=this.len)throw wc(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}throw Error("invalid varint encoding")}function ih(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function Ln(){if(this.pos+8>this.len)throw wc(this,8);return new Kn(ih(this.buf,this.pos+=4),ih(this.buf,this.pos+=4))}function be(e){sj.call(this,e)}function Xf(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");pa.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!n}function Mn(e){var t=[];return function e(n){if(null===n||"object"!==qa(n))return n;if(-1!==t.indexOf(n))return"[Circular]";if(t.push(n),"function"==typeof n.toJSON)try{var r=e(n.toJSON());return t.pop(),r}catch(e){return"[Throws: "+(e?e.message:"?")+"]"}return Array.isArray(n)?(r=n.map(e),t.pop(),r):(r=Object.keys(n).reduce((function(t,r){e:{if(Ev.call(n,r))try{var i=n[r];break e}catch(e){i="[Throws: "+(e?e.message:"?")+"]";break e}i=n[r]}return t[r]=e(i),t}),{}),t.pop(),r)}(e)}function Fv(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}function jh(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}function Gv(e){var t=e.areas,n=e.excludedArea;if(1===t.length&&t[0]===S.GLOBAL&&n===S.CHINA)return Ve([S.OVERSEA]);if(t.includes(S.GLOBAL)){if(e=Yf(kh).filter((function(e){return e!==S.GLOBAL&&e!==S.OVERSEA})),n in Zf){t=Zf[n];var r=[].concat(Z(null!=t?t:[]),[n]);return Ve(e.filter((function(e){return!r.includes(e)})))}if(Nn(n)){var i=Hv(n);return Ve(e.filter((function(e){return e!==n&&e!==i})))}}if(Nn(n)||n in Zf)return Ve(t);throw new ca("Invalid excludedArea area config")}function jb(e,t,n){void 0===n&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var e=this,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];this.invokeTracker.apply(this,["%s: ".concat(0<i.length?"%s with args: ".concat(i.map((function(){return"%o"}))):"%s"),this.name,t].concat(Z(i.map(We))));try{var a=r.apply(this,i)}catch(e){throw this.logError.apply(this,["".concat(void 0!==e.code?"Error Code ".concat(e.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(Z(i.map(We)))),e.originalError&&this.logError(e.originalError),this.errorTracker(e),e}var s=Date.now();return ma(N.mark((function n(){var r,o;return N.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a;case 3:r=n.sent,n.next=12;break;case 6:return n.prev=6,n.t0=n.catch(0),e.logError.apply(e,["".concat(void 0!==n.t0.code?"Error Code ".concat(n.t0.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(Z(i.map(We)))),n.t0.originalError&&e.logError(n.t0.originalError),e.errorTracker(n.t0),n.abrupt("return");case 12:r!==a?void 0===r?e.resultTracker("%s promise resolves after %dms",t,Date.now()-s):e.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-s,We(r)):"Object"!==$c(r)||De(r)?e.resultTracker("%s result is %o",t,We(r)):e.resultTracker("%s result is %s",t,r.name||(null===(o=r.constructor)||void 0===o?void 0:o.name));case 13:case"end":return n.stop()}}),n,null,[[0,6]])})))(),a},n}function Mc(e,t,n){void 0===n&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var e=this,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];this.invokeTracker.apply(this,["%s: ".concat(0<i.length?"%s with args: ".concat(i.map((function(){return"%o"}))):"%s"),this.name,t].concat(i));try{var a=r.apply(this,i)}catch(e){throw this.logError.apply(this,["".concat(void 0!==e.code?"Error Code ".concat(e.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(i)),e.originalError&&this.logError(e.originalError),this.errorTracker(e),e}var s=Date.now();return ma(N.mark((function n(){var r,o;return N.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a;case 3:r=n.sent,n.next=12;break;case 6:return n.prev=6,n.t0=n.catch(0),e.logError.apply(e,["".concat(void 0!==n.t0.code?"Error Code ".concat(n.t0.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(i)),n.t0.originalError&&e.logError(n.t0.originalError),e.errorTracker(n.t0),n.abrupt("return");case 12:r!==a?void 0===r?e.resultTracker("%s promise resolves after %dms",t,Date.now()-s):e.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-s,r):"Object"!==$c(r)||De(r)?e.resultTracker("%s result is %o",t,r):e.resultTracker("%s result is %s",t,r.name||(null===(o=r.constructor)||void 0===o?void 0:o.name));case 13:case"end":return n.stop()}}),n,null,[[0,6]])})))(),a},n}function bb(e,t,n){return tj.apply(this,arguments)}function tj(){return(tj=ma(N.mark((function e(t,n,r){var i,o,a,s=arguments;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=3<s.length&&void 0!==s[3]&&s[3],o=Iv[t].encode(n).finish(),a=function(){var e=ma(N.mark((function e(n){var s,c,l,u=arguments;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(3<(c=1<u.length&&void 0!==u[1]?u[1]:0))){e.next=3;break}return e.abrupt("return");case 3:if(l=Xe(l=r?"https://".concat(null!==(s=null==fa?void 0:fa.PROXY_NGINX[0])&&void 0!==s?s:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(n,"&p=443&d=events/proto-raw"):"https://".concat(n,"/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),l=Xe(l,"id",Jv[t].toString()),!i){e.next=9;break}return e.next=9,Kv(1e4);case 9:return e.next=11,lh(l,{body:o,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch((function(e){return a(n,c+1)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=3,e.next=6,a((null==fa?void 0:fa.EVENT_REPORT_DOMAIN[0])||$f(null)&&null||"webcollector-rtm.agora.io");case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,a(fa&&On(1<(null==fa?void 0:fa.EVENT_REPORT_DOMAIN.length)?null==fa?void 0:fa.EVENT_REPORT_DOMAIN.slice(1):null==fa?void 0:fa.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Xa(e){return void 0===e?P.fromNumber(0):P.fromNumber(Date.now()-e)}function Ta(e){return"string"==typeof e&&/^[\s\w!#$%&()+,.:;<=>?@[\]^{|}~-]{1,64}$/.test(e)&&"null"!==e}function Pn(e){try{var t=e.split(".").map((function(e){return Number(e)}))}catch(e){return!1}if(4!==t.length||0===t[0])return!1;for(e=0;e<t.length;e++){var n=t[e];if(!Number.isInteger(n)||0>n||255<n)return!1}return!0}function Qn(e,t){if(!Array.isArray(t)||0===t.length||32<t.length||t.some((function(e){return 0===e.length||32<e.length})))throw new ca("arguments is not valid",gb);if(!Ta(e))throw new ca("ID is invalid",gb)}function ag(e){var t=e.attributes,n=e.attrSizeMap,r=e.maxAttrsCount,i=e.maxAttrValueSize;if(e=e.maxTotalSize,!De(t))throw new ca("attributes must be an object",gb);if(Object.keys(t).length>r)throw new ic("Exceed the limit of ".concat(r," attributes"),Ye);if(0===Object.keys(t).length)throw new ca("The attributes is an empty object",gb);var o=0,a=0;for(t=Object.entries(t);a<t.length;a++){var s=$a(t[a],2),c=s[1];s=new Blob([s[0]]).size;var l=new Blob([c]).size;if(0===s||32<s)throw new ca("Invalid attribute key",gb);if(l>i)throw new ic("Invalid attribute value, over the limit of ".concat(i," bytes"),Ye);if("string"!=typeof c||0===c.length)throw new ca("Invalid attribute value",gb);o+=s,o+=l}if(o>e)throw new ic("The attributes size overflow",Ye);if(void 0!==n){if(Object.keys(n).length>r)throw new ic("Exceed the limit of ".concat(r," attributes"),Ye);for(o=r=0,n=Object.entries(n);o<n.length;o++){if(a=(t=$a(n[o],2))[1],0===(t=new Blob([t[0]]).size))throw new ca("Invalid attribute key",gb);if(a>i)throw new ic("Invalid attribute value, over the limit of ".concat(i," bytes"),Ye);r+=t,r+=a}if(r>e)throw new ic("The attributes size overflow",Ye)}}function mh(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1))+e}function nh(){var e=mh(0,4294967295),t=mh(1,4294967295);return new P(e,t,!0)}function sb(e){return e.toString().padEnd(32,"0")}function Rn(e,t){return new TypeError("Unexpected ".concat(e,": ").concat(t))}function Sn(e,t){return e=e.split(".").map((function(e){return Number(e)})),t=t.split(".").map((function(e){return Number(e)})),Math.sqrt(1e3*Math.pow(e[0]-t[0],2)+100*Math.pow(e[1]-t[1],2)+10*Math.pow(e[2]-t[2],2)+1*Math.pow(e[3]-t[3],2))}function Tn(e){return e.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?e.toNumber():e.toString()}function uj(e,t){t="".concat(e).concat(t||"");var n=Un.get(t)||1;return Un.set(t,n+1),"".concat(e).concat(n)}function Vn(e,t){var n="number"==typeof t?t:void 0!==t&&"string"!=typeof t?t.code:void 0;return t="number"!=typeof t&&"string"!=typeof t&&void 0!==t&&void 0!==t.serverCode?t.serverCode:void 0,n="".concat(void 0!==n?" Error Code ".concat(n):"").concat(void 0!==t?", server Code ".concat(t):""),e="string"==typeof e&&e?oh(e):Array.isArray(e)&&"string"==typeof e[0]&&e[0]?oh(Wn.apply(void 0,[e[0]].concat(Z(e.slice(1))))):"","".concat(""===n?"":"".concat(n," - ")).concat(e)}function Kv(e,t){return vj.apply(this,arguments)}function vj(){return(vj=ma(N.mark((function e(t,n){return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.aborted){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){setTimeout(e,t),null==n||n.addEventListener("abort",e)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lh(e,t,n){return wj.apply(this,arguments)}function wj(){return(wj=ma(N.mark((function e(t,n,r){var i,o,a,s,c,l,u,d,h,p,f,m,v,g,y,b,E,_,S,A,w,T,C,R,I,O;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.body,o=n.headers,a=void 0===o?{}:o,s=n.timeout,c=void 0===s?1e4:s,l=n.signal,u=n.withCredentials,d=void 0!==u&&u,h=(r||{}).useBinaryResponse,p=void 0!==h&&h,(f=new XMLHttpRequest).open("POST",t,!0),f.responseType=p?"arraybuffer":"text",f.withCredentials=d,f.timeout=c,m=i instanceof FormData,v=i instanceof Uint8Array,!(1<(g=Object.keys(a).filter((function(e){return"content-type"===e.toLowerCase()}))).length)){e.next=14;break}throw new RangeError("multiple content-type");case 14:0===g.length&&(v?a["Content-Type"]="application/octet-stream":m||(a["Content-Type"]="application/json"));case 15:if("setRequestHeader"in f){e.next=46;break}return f.abort(),e.next=19,fetch(t,{body:m||v?i:JSON.stringify(i),cache:"no-cache",credentials:d?"include":"same-origin",headers:a,method:"POST",mode:"cors",referrer:"no-referrer",signal:l});case 19:if(y=e.sent,!(200<=(b=y.status)&&300>b||304===b)){e.next=31;break}if(!p){e.next=27;break}return e.next=25,y.arrayBuffer();case 25:return E=e.sent,e.abrupt("return",{status:b,responseData:E});case 27:return e.next=29,y.text();case 29:return _=e.sent,e.abrupt("return",{status:b,responseText:_});case 31:return S=new Ja(["Post XHR failure, status %d",b]),e.prev=32,e.next=35,y.text();case 35:throw A=e.sent,S.statusCode=b,S.message=A||"Request failed, status ".concat(b),S;case 41:throw e.prev=41,e.t0=e.catch(32),S.statusCode=b,S.message="Request failed, status ".concat(b),S;case 46:if(0!==Object.keys(a).length)for(w=0,T=Object.entries(a);w<T.length;w++)C=$a(T[w],2),R=C[0],I=C[1],f.setRequestHeader(R,I);return void 0!==l&&(O=function e(){f.abort(),l.removeEventListener("abort",e)},l.addEventListener("abort",O)),m||v?f.send(i):f.send(JSON.stringify(i)),e.abrupt("return",new Promise((function(e,t){f.onload=function(){var n=f.status;if(200<=n&&300>n||304===n)e(p?{status:n,responseData:f.response}:{status:n,responseText:f.responseText});else{var r=new Ja(["Post XHR failure, status %d",n]);r.statusCode=n,r.message=f.response||"Request failed, status ".concat(f.status),t(r)}},f.ontimeout=function(e){t(new Ub(["XHR request timed out after %d ms",c],{originalError:e}))},f.onerror=function(){var e=new Ja(["Post XHR failure, status %d",f.status]);e.statusCode=f.status,e.message=f.response||"Request failed, status ".concat(f.status),t(e)},f.onabort=function(){try{t(new DOMException("The request aborted.","AbortError"))}catch(n){var e=Error("The request aborted.");e.name="AbortError",t(e)}}})));case 50:case"end":return e.stop()}}),e,null,[[32,41]])})))).apply(this,arguments)}function Xn(e,t){if(!De(e))throw new ca("message object is not a plain object",t);if(void 0===e.messageType)if(e.rawMessage instanceof Uint8Array){if(e.messageType="RAW",void 0!==e.text)throw new ca("Raw messages cannot have text property. Use description instead",t)}else{if("string"!=typeof e.text)throw new ca("messageType is undefined",t);if(e.messageType="TEXT",void 0!==e.rawMessage)throw new ca("Text messages cannot have rawMessage property",t)}}function ph(e){return xj.apply(this,arguments)}function xj(){return(xj=ma(N.mark((function e(t){var n,r,i,o,a,s,c,l,u,d,h,p,f,m,v,g,y,b,E,_,S;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.message,r=t.peerId,i=t.toPeer,o=t.session,a=t.errorCodes,s=t.diff,c=t.logger,void 0!==o){e.next=3;break}throw new da("The client is not logged in. Cannot do the operation",a.NOT_LOGGED_IN);case 3:if(l=!1,u=i?"TEXT"===n.messageType?Ka.P2pSMsgNoOfflineFlag:Ka.P2pRMsgNoOfflineFlag:"TEXT"===n.messageType?Ka.ChannelSMsg:Ka.ChannelRMsg,"TEXT"!==n.messageType||!n.text.startsWith("AgoraRTMLegacyEndcallCompatibleMessagePrefix")||!i){e.next=14;break}if(d=n.text.split("_"),h=$a(d,3),p=h[0],f=h[1],void 0!==h[2]&&Ta(f)&&"AgoraRTMLegacyEndcallCompatibleMessagePrefix"===p){e.next=13;break}throw o.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),o.emit("messageCount",{messageCategory:u,type:"common",key:"invalidmessagecount"}),new ca("Message is not valid",bg);case 13:l=!0;case 14:if(m=Date.now(),v=o.messageSentTimes.length-1,!((g=o.messageSentTimes[v])&&g+3e3<m)){e.next=21;break}o.messageSentTimes=[m],e.next=34;break;case 21:y=v;case 22:if(!(0<=y)){e.next=33;break}if(!(o.messageSentTimes[y]+3e3<m)){e.next=26;break}return o.messageSentTimes=o.messageSentTimes.slice(y+1,v+1),e.abrupt("break",33);case 26:if(!(180<=v-y+1)){e.next=30;break}throw o.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),o.emit("messageCount",{messageCategory:u,type:"common",key:"toooftencount"}),new ic("Message sent failed, exceeded the 180 message in 3 seconds",a.TOO_OFTEN);case 30:y--,e.next=22;break;case 33:o.messageSentTimes.push(m);case 34:e.t0=n.messageType,e.next="TEXT"===e.t0?37:"RAW"===e.t0?42:44;break;case 37:if(!l){e.next=41;break}return b=n.text.split("_"),E=$a(b,3),_=E[1],S=E[2],c.info("[rtm-API] EndCall message send api is called"),e.abrupt("return",o.sendInvitationMessage({peerId:r,type:"CallCancel",extra:S,channelId:_,callId:"0"}));case 41:return e.abrupt("return",o.sendTextMessage(n.text,r,i,1e4-s));case 42:return void 0===n.description&&(n.description=""),e.abrupt("return",o.sendRawMessage(n.rawMessage,n.description,r,i,1e4-s));case 44:throw o.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),o.emit("messageCount",{messageCategory:u,type:"common",key:"invalidmessagecount"}),new ca("Invalid message type",bg);case 47:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lv(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.replace(/(https?:\/\/)?(www.)?/i,"");return t||(n=n.split(".").slice(e.length-2).join(".")),-1!==n.indexOf("/")?n.split("/")[0]:n}function La(e){if("string"!=typeof e)return"[Sensitive Info]";var t=Math.floor(.7*e.length),n=e.length;return Yn(e,t,n,"*".repeat(n-t))}function Zn(e,t,n){function r(i){if(void 0===e)return e;if(Mm(i))return i;if(Array.isArray(i))return i.map(r);var o={},a=0;for(i=qh(i);a<i.length;a++){var s=$a(i[a],2),c=s[0];if("string"==typeof(s=s[1])&&n.includes(c)){o[c]="string"==typeof s?La(s):"[Sensitive Info]";break}t.includes(c)?o[c]="[Hidden Info]":o[c]=null==s?s:n.includes(c)?"[Sensitive Info]":r(s)}return o}return Array.isArray(e)?e.map(r):r(e)}function $n(e){return Object.getOwnPropertyNames(e).forEach((function(t){"object"==qa(t=e[t])&&null!==t&&$n(t)})),Object.freeze(e)}function cg(e){return new TextDecoder("utf-8").decode(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}function rh(e){return(new TextEncoder).encode(e).length}function ao(){for(var e=0,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e+=n[t].length;for(e=new Uint8Array(e),r=t=0;r<n.length;r++){var i=n[r];e.set(i,t),t+=i.length}return e}function Xe(e,t,n){var r=e.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(e=null==r?void 0:r[1],r=null==r?void 0:r[2]){var i;for(r=r.substr(1).split("&"),i=0;i<r.length;i++)if(r[i].split("=")[0]==t){r[i]=t+"="+encodeURIComponent(n);break}return i==r.length&&r.push(t+"="+encodeURIComponent(n)),e+"?"+r.join("&")}return e+"?"+t+"="+encodeURIComponent(n)}function Yn(e,t,n,r){return"string"!=typeof e?"[Sensitive Info]":e.substring(0,t)+r+e.substring(n)}function $f(e){return"string"==typeof e&&0!==e.length&&"false"!==e&&"null"!==e&&"undefined"!==e}function Mv(e,t){var n="".concat(e,"Uri");if("number"!=typeof(n=yj[n])||0===n)throw new TypeError("Got Unknown URI Name");return t=new(e=bo[e])(t),t=e.encode(t).finish(),new Nv({uri:n,data:t})}function co(e,t){var n=$f(null);return"".concat(e.split(".").join("-"),".edge.").concat(n?null:t?"sd-rtn.com":"agora.io")}function sh(e,t){return P.fromValue(e).eq(t)}function th(e,t){var n=void 0===t?e.val:t,r=e.isBoolean;t=e.isNumber;var i=e.oneof,o=e.len;if(2!==[r,t,i].filter((function(e){return!e})).length)throw new TypeError("invalid field type");if(void 0!==n&&(e=!1,void 0!==i&&(i=zj(i),Ov(i,sh).length===i.length&&void 0!==Pv(i,(function(e){return sh(n,e)}))&&(e=!0)),r=void 0!==r&&(0===n||1===n)&&1===o,t=void 0!==t&&n.toString(2).length<=o,!(e||r||t)))throw Error("invalid field value")}function eo(e){return e.reduce((function(e,t){return e.concat(t instanceof uh.UnsubscriptionError?t.errors:t)}),[])}function Qv(e,t){do{2147483647==dg?dg=0:dg++}while(Ze.hasOwnProperty(dg));var n=dg;return Ze[n]={callback:e,parameters:Array.prototype.slice.call(arguments,2)},Aj.postMessage({name:"setInterval",fakeId:n,time:t}),n}function fo(e){return function(){var t=e();if(!t)throw new da("Client is not logged in. Cannot do the operation");return t}}var Ya="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},vh=function(e){return e&&e.Math==Math&&e},R=vh("object"==typeof globalThis&&globalThis)||vh("object"==typeof window&&window)||vh("object"==typeof self&&self)||vh("object"==typeof Ya&&Ya)||function(){return this}()||Function("return this")(),la=function(e){try{return!!e()}catch(e){return!0}},wa=!la((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),go={}.propertyIsEnumerable,ho=Object.getOwnPropertyDescriptor,eg=ho&&!go.call({1:2},1)?function(e){return!!(e=ho(this,e))&&e.enumerable}:go,Nc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Rv={}.toString,xc=function(e){return Rv.call(e).slice(8,-1)},Sv="".split,fg=la((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==xc(e)?Sv.call(e,""):Object(e)}:Object,Eb=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Mb=function(e){return fg(Eb(e))},xa=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Oc=function(e,t){if(!xa(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!xa(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!xa(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!xa(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},pb=function(e){return Object(Eb(e))},Tv={}.hasOwnProperty,ka=function(e,t){return Tv.call(pb(e),t)},$e=R.document,wh=xa($e)&&xa($e.createElement),io=!wa&&!la((function(){return 7!=Object.defineProperty(wh?$e.createElement("div"):{},"a",{get:function(){return 7}}).a})),jo=Object.getOwnPropertyDescriptor,dc={f:wa?jo:function(e,t){if(e=Mb(e),t=Oc(t,!0),io)try{return jo(e,t)}catch(e){}if(ka(e,t))return Nc(!eg.call(e,t),e[t])}},Ia=function(e){if(!xa(e))throw TypeError(String(e)+" is not an object");return e},ko=Object.defineProperty,qb={f:wa?ko:function(e,t,n){if(Ia(e),t=Oc(t,!0),Ia(n),io)try{return ko(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},kb=wa?function(e,t,n){return qb.f(e,t,Nc(1,n))}:function(e,t,n){return e[t]=n,e},Bj=function(e,t){try{kb(R,e,t)}catch(n){R[e]=t}return t},zd=R["__core-js_shared__"]||Bj("__core-js_shared__",{}),Uv=Function.toString;"function"!=typeof zd.inspectSource&&(zd.inspectSource=function(e){return Uv.call(e)});var Cj=zd.inspectSource,lo=R.WeakMap,Vv="function"==typeof lo&&/native code/.test(Cj(lo)),Ad=xb((function(e){(e.exports=function(e,t){return zd[e]||(zd[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),Wv=0,Xv=Math.random(),af=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Wv+Xv).toString(36)},mo=Ad("keys"),xh=function(e){return mo[e]||(mo[e]=af(e))},bf={},Yv=R.WeakMap;if(Vv||zd.state)var ce=zd.state||(zd.state=new Yv),Zv=ce.get,no=ce.has,$v=ce.set,Dj=function(e,t){if(no.call(ce,e))throw new TypeError("Object already initialized");return t.facade=e,$v.call(ce,e,t),t},yh=function(e){return Zv.call(ce,e)||{}},Ej=function(e){return no.call(ce,e)};else{var cf=xh("state");bf[cf]=!0,Dj=function(e,t){if(ka(e,cf))throw new TypeError("Object already initialized");return t.facade=e,kb(e,cf,t),t},yh=function(e){return ka(e,cf)?e[cf]:{}},Ej=function(e){return ka(e,cf)}}var cb={set:Dj,get:yh,has:Ej,enforce:function(e){return Ej(e)?yh(e):Dj(e,{})},getterFor:function(e){return function(t){var n;if(!xa(t)||(n=yh(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Za=xb((function(e){var t=cb.get,n=cb.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable;if(o=!!o&&!!o.noTargetGet,"function"==typeof i){"string"!=typeof t||ka(i,"name")||kb(i,"name",t);var c=n(i);c.source||(c.source=r.join("string"==typeof t?t:""))}e===R?s?e[t]=i:Bj(t,i):(a?!o&&e[t]&&(s=!0):delete e[t],s?e[t]=i:kb(e,t,i))})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||Cj(this)}))})),oo=function(e){return"function"==typeof e?e:void 0},Pc=function(e,t){return 2>arguments.length?oo(R[e])||oo(R[e]):R[e]&&R[e][t]||R[e]&&R[e][t]},aw=Math.ceil,bw=Math.floor,yc=function(e){return isNaN(e=+e)?0:(0<e?bw:aw)(e)},cw=Math.min,Ma=function(e){return 0<e?cw(yc(e),9007199254740991):0},dw=Math.max,ew=Math.min,Vb=function(e,t){return 0>(e=yc(e))?dw(e+t,0):ew(e,t)},po=function(e){return function(t,n,r){t=Mb(t);var i=Ma(t.length);if(r=Vb(r,i),e&&n!=n){for(;i>r;)if((n=t[r++])!=n)return!0}else for(;i>r;r++)if((e||r in t)&&t[r]===n)return e||r||0;return!e&&-1}},qo=po(!0),Fj=po(!1),ro=function(e,t){e=Mb(e);var n,r=0,i=[];for(n in e)!ka(bf,n)&&ka(e,n)&&i.push(n);for(;t.length>r;)ka(e,n=t[r++])&&(~Fj(i,n)||i.push(n));return i},zh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),fw=zh.concat("length","prototype"),de={f:Object.getOwnPropertyNames||function(e){return ro(e,fw)}},gg={f:Object.getOwnPropertySymbols},so=Pc("Reflect","ownKeys")||function(e){var t=de.f(Ia(e)),n=gg.f;return n?t.concat(n(e)):t},to=function(e,t){for(var n=so(t),r=qb.f,i=dc.f,o=0;o<n.length;o++){var a=n[o];ka(e,a)||r(e,a,i(t,a))}},gw=/#|\.prototype\./,Qc=function(e,t){return(e=hw[iw(e)])==jw||e!=kw&&("function"==typeof t?la(t):!!t)},iw=Qc.normalize=function(e){return String(e).replace(gw,".").toLowerCase()},hw=Qc.data={},kw=Qc.NATIVE="N",jw=Qc.POLYFILL="P",lw=dc.f,ea=function(e,t){var n,r,i,o=e.target,a=e.global,s=e.stat;if(r=a?R:s?R[o]||Bj(o,{}):(R[o]||{}).prototype)for(i in t){var c=t[i],l=e.noTargetGet?(n=lw(r,i))&&n.value:r[i];if(!(n=Qc(a?i:o+(s?".":"#")+i,e.forced))&&void 0!==l){if(typeof c==typeof l)continue;to(c,l)}(e.sham||l&&l.sham)&&kb(c,"sham",!0);try{Za(r,i,c,e)}catch(e){}}},Gj=function(){var e=Ia(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Rc=la((function(){var e=/a/y;return e.lastIndex=2,null!=e.exec("abcd")})),mw=la((function(){var e=/^r/gy;return e.lastIndex=2,null!=e.exec("str")})),Ah=RegExp.prototype.exec,nw=Ad("native-string-replace",String.prototype.replace),uo=Ah,Hj=(c=/a/,b=/b*/g,Ah.call(c,"a"),Ah.call(b,"a"),0!==c.lastIndex||0!==b.lastIndex),vo=Rc||mw,Ij=void 0!==/()??/.exec("")[1],c,b;(Hj||Ij||vo)&&(uo=function(e){var t,n=vo&&this.sticky,r=Gj.call(this),i=this.source,o=0,a=e;if(n){-1===(r=r.replace("y","")).indexOf("g")&&(r+="g"),a=String(e).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&"\n"!==e[this.lastIndex-1])&&(i="(?: "+i+")",a=" "+a,o++);var s=new RegExp("^(?:"+i+")",r)}if(Ij&&(s=new RegExp("^"+i+"$(?!\\s)",r)),Hj)var c=this.lastIndex;var l=Ah.call(n?s:this,a);return n?l?(l.input=l.input.slice(o),l[0]=l[0].slice(o),l.index=this.lastIndex,this.lastIndex+=l[0].length):this.lastIndex=0:Hj&&l&&(this.lastIndex=this.global?l.index+l[0].length:c),Ij&&l&&1<l.length&&nw.call(l[0],s,(function(){for(t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(l[t]=void 0)})),l});var hg=uo;ea({target:"RegExp",proto:!0,forced:/./.exec!==hg},{exec:hg});var df=Pc("navigator","userAgent")||"",wo=R.process,xo=wo&&wo.versions,yo=xo&&xo.v8;if(yo)var Bd=yo.split("."),Jj=4>Bd[0]?1:Bd[0]+Bd[1];else df&&(Bd=df.match(/Edge\/(\d+)/),(!Bd||74<=Bd[1])&&(Bd=df.match(/Chrome\/(\d+)/))&&(Jj=Bd[1]));var Cd=Jj&&+Jj,Sc=!!Object.getOwnPropertySymbols&&!la((function(){return!String(Symbol())||!Symbol.sham&&Cd&&41>Cd})),zo=Sc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ig=Ad("wks"),jg=R.Symbol,ow=zo?jg:jg&&jg.withoutSetter||af,Fa=function(e){return ka(ig,e)&&(Sc||"string"==typeof ig[e])||(Sc&&ka(jg,e)?ig[e]=jg[e]:ig[e]=ow("Symbol."+e)),ig[e]},pw=Fa("species"),Kj=RegExp.prototype,qw=!la((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Ao="$0"==="a".replace(/./,"$0"),Bo=Fa("replace"),Co=!!/./[Bo]&&""===/./[Bo]("a","$0"),rw=!la((function(){var e=/(?:)/,t=e.exec;return e.exec=function(){return t.apply(this,arguments)},2!==(e="ab".split(e)).length||"a"!==e[0]||"b"!==e[1]})),Bh=function(e,t,n,r){var i=Fa(e),o=!la((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!la((function(){var t=!1,n=/a/;return"split"===e&&((n={constructor:{}}).constructor[pw]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||"replace"===e&&(!qw||!Ao||Co)||"split"===e&&!rw){var s=/./[i],c=(n=n(i,""[e],(function(e,t,n,r,i){var a=t.exec;return a===hg||a===Kj.exec?o&&!i?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Ao,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Co}))[1];Za(String.prototype,e,n[0]),Za(Kj,i,2==t?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}r&&kb(Kj[i],"sham",!0)},sw=Fa("match"),Lj=function(e){var t;return xa(e)&&(void 0!==(t=e[sw])?!!t:"RegExp"==xc(e))},Wb=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},tw=Fa("species"),ee=function(e,t){var n;return void 0===(e=Ia(e).constructor)||null==(n=Ia(e)[tw])?t:Wb(n)},Do=function(e){return function(t,n){t=String(Eb(t)),n=yc(n);var r,i=t.length;if(0>n||n>=i)return e?"":void 0;var o=t.charCodeAt(n);return 55296>o||56319<o||n+1===i||56320>(r=t.charCodeAt(n+1))||57343<r?e?t.charAt(n):o:e?t.slice(n,n+2):r-56320+(o-55296<<10)+65536}},uw=Do(!1),Eo=Do(!0),Mj=function(e,t,n){return t+(n?Eo(e,t).length:1)},ef=function(e,t){var n=e.exec;if("function"==typeof n){if("object"!=typeof(e=n.call(e,t)))throw TypeError("RegExp exec method returned something other than an Object or null");return e}if("RegExp"!==xc(e))throw TypeError("RegExp#exec called on incompatible receiver");return hg.call(e,t)},vw=[].push,ww=Math.min;Bh("split",2,(function(e,t,n){var r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,n){var r=String(Eb(this));if(0==(n=void 0===n?4294967295:n>>>0))return[];if(void 0===e)return[r];if(!Lj(e))return t.call(r,e,n);var i,o,a,s=[],c=0;for(e=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(i=hg.call(e,r))&&!((o=e.lastIndex)>c&&(s.push(r.slice(c,i.index)),1<i.length&&i.index<r.length&&vw.apply(s,i.slice(1)),a=i[0].length,c=o,s.length>=n));)e.lastIndex===i.index&&e.lastIndex++;return c===r.length?(a||!e.test(""))&&s.push(""):s.push(r.slice(c)),s.length>n?s.slice(0,n):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t;return[function(t,n){var i=Eb(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=Ia(e);e=String(this);var s=ee(a,RegExp);if(o=a.unicode,a=new s(Rc?"^(?:"+a.source+")":a,(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Rc?"g":"y")),0==(i=void 0===i?4294967295:i>>>0))return[];if(0===e.length)return null===ef(a,e)?[e]:[];var c=0,l=0;for(s=[];l<e.length;){a.lastIndex=Rc?0:l;var u,d=ef(a,Rc?e.slice(l):e);if(null===d||(u=ww(Ma(a.lastIndex+(Rc?l:0)),e.length))===c)l=Mj(e,l,o);else{if(s.push(e.slice(c,l)),s.length===i)return s;for(c=1;c<=d.length-1;c++)if(s.push(d[c]),s.length===i)return s;l=c=u}}return s.push(e.slice(c)),s}]}),Rc);var xw=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,yw=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,Nj=function(e){return function(t){return t=String(Eb(t)),1&e&&(t=t.replace(xw,"")),2&e&&(t=t.replace(yw,"")),t}};Nj(1),Nj(2);var Oj=Nj(3),Ch=R.parseInt,zw=/^[+-]?0[Xx]/,Fo=8!==Ch("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff08")||22!==Ch("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff0x16")?function(e,t){return e=Oj(String(e)),Ch(e,t>>>0||(zw.test(e)?16:10))}:Ch;ea({global:!0,forced:parseInt!=Fo},{parseInt:Fo});var Dd=function(e,t,n){if(Wb(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Ed=Array.isArray||function(e){return"Array"==xc(e)},Aw=Fa("species"),Dh=function(e,t){if(Ed(e)){var n=e.constructor;"function"!=typeof n||n!==Array&&!Ed(n.prototype)?xa(n)&&null===(n=n[Aw])&&(n=void 0):n=void 0}return new(void 0===n?Array:n)(0===t?0:t)},Go=[].push,Fd=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,l,u,d){var h=pb(c),p=fg(h);l=Dd(l,u,3),u=Ma(p.length);var f,m=0;for(d=d||Dh,c=t?d(c,u):n||a?d(c,0):void 0;u>m;m++)if((s||m in p)&&(f=l(d=p[m],m,h),e))if(t)c[m]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return m;case 2:Go.call(c,d)}else switch(e){case 4:return!1;case 7:Go.call(c,d)}return o?-1:r||i?i:c}},fe=Fd(0),Ho=Fd(1),Io=Fd(2),Bw=Fd(3),Cw=Fd(4),Jo=Fd(5),Dw=Fd(6);Fd(7);var Ew=Fa("species"),kg=function(e){return 51<=Cd||!la((function(){var t=[];return(t.constructor={})[Ew]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Fw=kg("filter");ea({target:"Array",proto:!0,forced:!Fw},{filter:function(e){return Io(this,e,1<arguments.length?arguments[1]:void 0)}});var ed=Object.keys||function(e){return ro(e,zh)},Gw=la((function(){ed(1)}));ea({target:"Object",stat:!0,forced:Gw},{keys:function(e){return ed(pb(e))}});var ff=function(e,t){var n=[][e];return!!n&&la((function(){n.call(null,t||function(){throw 1},1)}))},Hw=[].join,Iw=fg!=Object,Jw=ff("join",",");ea({target:"Array",proto:!0,forced:Iw||!Jw},{join:function(e){return Hw.call(Mb(this),void 0===e?",":e)}});var Kw=kg("map");ea({target:"Array",proto:!0,forced:!Kw},{map:function(e){return Ho(this,e,1<arguments.length?arguments[1]:void 0)}});var Pj=function(e){var t=e.return;if(void 0!==t)return Ia(t.call(e)).value},gf={},Lw=Fa("iterator"),Mw=Array.prototype,Qj=function(e){return void 0!==e&&(gf.Array===e||Mw[Lw]===e)},hf=function(e,t,n){(t=Oc(t))in e?qb.f(e,t,Nc(0,n)):e[t]=n},Nw=Fa("toStringTag"),Ko={};Ko[Nw]="z";var Rj="[object z]"===String(Ko),Ow=Fa("toStringTag"),Pw="Arguments"==xc(function(){return arguments}()),jf=Rj?xc:function(e){var t;if(void 0===e)var n="Undefined";else{if(null===e)var r="Null";else{e:{var i=e=Object(e);try{r=i[Ow];break e}catch(e){}r=void 0}r="string"==typeof(n=r)?n:Pw?xc(e):"Object"==(t=xc(e))&&"function"==typeof e.callee?"Arguments":t}n=r}return n},Qw=Fa("iterator"),lg=function(e){if(null!=e)return e[Qw]||e["@@iterator"]||gf[jf(e)]},ge=function(e){var t,n=pb(e),r="function"==typeof this?this:Array,i=arguments.length,o=1<i?arguments[1]:void 0,a=void 0!==o,s=lg(n),c=0;if(a&&(o=Dd(o,2<i?arguments[2]:void 0,2)),null==s||r==Array&&Qj(s)){var l=Ma(n.length);for(r=new r(l);l>c;c++)s=a?o(n[c],c):n[c],hf(r,c,s)}else for(i=(n=s.call(n)).next,r=new r;!(t=i.call(n)).done;c++){if(a){s=n;var u=o;t=[t.value,c];try{l=u(Ia(t)[0],t[1])}catch(e){throw Pj(s),e}}else l=t.value;hf(r,c,s=l)}return r.length=c,r},Lo=Fa("iterator"),Mo=!1;try{var Rw=0,No={next:function(){return{done:!!Rw++}},return:function(){Mo=!0}};No[Lo]=function(){return this},Array.from(No,(function(){throw 2}))}catch(c){}var Eh=function(e,t){if(!t&&!Mo)return!1;var n=!1;try{(t={})[Lo]=function(){return{next:function(){return{done:n=!0}}}},e(t)}catch(e){}return n},Sw=!Eh((function(e){Array.from(e)}));ea({target:"Array",stat:!0,forced:Sw},{from:ge});var Oo=!la((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Po=xh("IE_PROTO"),Tw=Object.prototype,uc=Oo?Object.getPrototypeOf:function(e){return e=pb(e),ka(e,Po)?e[Po]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Tw:null},Sj=Fa("iterator"),Qo=!1,Uw=function(){return this},he;if([].keys){var Ro=[].keys();if("next"in Ro){var So=uc(uc(Ro));So!==Object.prototype&&(he=So)}else Qo=!0}(null==he||la((function(){var e={};return he[Sj].call(e)!==e})))&&(he={}),ka(he,Sj)||kb(he,Sj,Uw);var Fh=he,Gh=Qo,To=wa?Object.defineProperties:function(e,t){Ia(e);for(var n,r=ed(t),i=r.length,o=0;i>o;)qb.f(e,n=r[o++],t[n]);return e},Tj=Pc("document","documentElement"),Uo=xh("IE_PROTO"),Uj=function(){},Vj,Hh=function(){try{Vj=document.domain&&new ActiveXObject("htmlfile")}catch(e){}if(Vj){var e=Vj;e.write("<script><\/script>"),e.close(),e=e.parentWindow.Object}else(e=wh?$e.createElement("iframe"):{}).style.display="none",Tj.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),e=e.F;for(Hh=e,e=zh.length;e--;)delete Hh.prototype[zh[e]];return Hh()};bf[Uo]=!0;var jc=Object.create||function(e,t){if(null!==e){Uj.prototype=Ia(e);var n=new Uj;Uj.prototype=null,n[Uo]=e}else n=Hh();return void 0===t?n:To(n,t)},Vw=qb.f,Vo=Fa("toStringTag"),zc=function(e,t,n){e&&!ka(e=n?e:e.prototype,Vo)&&Vw(e,Vo,{configurable:!0,value:t})},Ww=function(){return this},Wo=function(e,t,n){return t+=" Iterator",e.prototype=jc(Fh,{next:Nc(1,n)}),zc(e,t,!1),gf[t]=Ww,e},tb=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={};try{var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(t,[]),e=t instanceof Array}catch(e){}return function(t,r){if(Ia(t),!xa(r)&&null!==r)throw TypeError("Can't set "+String(r)+" as a prototype");return e?n.call(t,r):t.__proto__=r,t}}():void 0),mg=Fa("iterator"),Xw=function(){return this},Wj=function(e,t,n,r,i,o,a){Wo(n,t,r),r=function(e){if(e===i&&h)return h;if(!Gh&&e in u)return u[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}};var s,c=t+" Iterator",l=!1,u=e.prototype,d=u[mg]||u["@@iterator"]||i&&u[i],h=!Gh&&d||r(i),p="Array"==t&&u.entries||d;if(p&&(e=uc(p.call(new e)),Fh!==Object.prototype&&e.next&&(uc(e)!==Fh&&(tb?tb(e,Fh):"function"!=typeof e[mg]&&kb(e,mg,Xw)),zc(e,c,!0))),"values"==i&&d&&"values"!==d.name&&(l=!0,h=function(){return d.call(this)}),u[mg]!==h&&kb(u,mg,h),gf[t]=h,i){var f={values:r("values"),keys:o?h:r("keys"),entries:r("entries")};if(a)for(s in f)!Gh&&!l&&s in u||Za(u,s,f[s]);else ea({target:t,proto:!0,forced:Gh||l},f)}return f},Yw=cb.set,Zw=cb.getterFor("String Iterator");Wj(String,"String",(function(e){Yw(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e=Zw(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(t=Eo(t,n),e.index+=t.length,{value:t,done:!1})}));var Xj=Fa("unscopables"),Yj=Array.prototype;null==Yj[Xj]&&qb.f(Yj,Xj,{configurable:!0,value:jc(null)});var ng=function(e){Yj[Xj][e]=!0},Xo=!0;"find"in[]&&Array(1).find((function(){Xo=!1})),ea({target:"Array",proto:!0,forced:Xo},{find:function(e){return Jo(this,e,1<arguments.length?arguments[1]:void 0)}}),ng("find");var Yo=function(e){var t=String(Eb(this)),n="";if(0>(e=yc(e))||1/0==e)throw RangeError("Wrong number of repetitions");for(;0<e;(e>>>=1)&&(t+=t))1&e&&(n+=t);return n};ea({target:"String",proto:!0},{repeat:Yo});var Zo=[].indexOf,$o=!!Zo&&0>1/[1].indexOf(1,-0),$w=ff("indexOf");ea({target:"Array",proto:!0,forced:$o||!$w},{indexOf:function(e){return $o?Zo.apply(this,arguments)||0:Fj(this,e,1<arguments.length?arguments[1]:void 0)}});var Zt=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,$t=/CrOS/,au=/android|ipad|playbook|silk/i;Ce.isMobile=Ce,Ce.default=Ce,ea({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),ea({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),R.Number.isNaN;var ax=Rj?{}.toString:function(){return"[object "+jf(this)+"]"};Rj||Za(Object.prototype,"toString",ax,{unsafe:!0});var Ih=R.Promise,kf=function(e,t,n){for(var r in t)Za(e,r,t[r],n);return e},ap=Fa("species"),og=function(e){e=Pc(e);var t=qb.f;wa&&e&&!e[ap]&&t(e,ap,{configurable:!0,get:function(){return this}})},Ac=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},pg=function(e,t){this.stopped=e,this.result=t},Jh=function(e,t,n){var r,i=!(!n||!n.AS_ENTRIES),o=!(!n||!n.IS_ITERATOR),a=!(!n||!n.INTERRUPTED),s=Dd(t,n&&n.that,1+i+a),c=function(e){return l&&Pj(l),new pg(!0,e)};if(t=function(e){return i?(Ia(e),a?s(e[0],e[1],c):s(e[0],e[1])):a?s(e,c):s(e)},o)var l=e;else{if("function"!=typeof(o=lg(e)))throw TypeError("Target is not iterable");if(Qj(o)){for(o=0,n=Ma(e.length);n>o;o++)if((r=t(e[o]))&&r instanceof pg)return r;return new pg(!1)}l=o.call(e)}for(e=l.next;!(o=e.call(l)).done;){try{r=t(o.value)}catch(e){throw Pj(l),e}if("object"==typeof r&&r&&r instanceof pg)return r}return new pg(!1)},bp=/(?:iphone|ipod|ipad).*applewebkit/i.test(df),fd="process"==xc(R.process),Kh=R.location,Zj=R.setImmediate,cp=R.clearImmediate,bx=R.process,dp=R.MessageChannel,ak=R.Dispatch,bk=0,qg={},ck=function(e){if(qg.hasOwnProperty(e)){var t=qg[e];delete qg[e],t()}},dk=function(e){return function(){ck(e)}},ep=function(e){ck(e.data)},fp=function(e){R.postMessage(e+"",Kh.protocol+"//"+Kh.host)};if(!Zj||!cp)if(Zj=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return qg[++bk]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},rg(bk),bk},cp=function(e){delete qg[e]},fd)var rg=function(e){bx.nextTick(dk(e))};else if(ak&&ak.now)rg=function(e){ak.now(dk(e))};else if(dp&&!bp){var gp=new dp,hp=gp.port2;gp.port1.onmessage=ep,rg=Dd(hp.postMessage,hp,1)}else R.addEventListener&&"function"==typeof postMessage&&!R.importScripts&&Kh&&"file:"!==Kh.protocol&&!la(fp)?(rg=fp,R.addEventListener("message",ep,!1)):rg="onreadystatechange"in(wh?$e.createElement("script"):{})?function(e){Tj.appendChild(wh?$e.createElement("script"):{}).onreadystatechange=function(){Tj.removeChild(this),ck(e)}}:function(e){setTimeout(dk(e),0)};var ek=Zj,cx=/web0s(?!.*chrome)/i.test(df),dx=dc.f,ip=R.MutationObserver||R.WebKitMutationObserver,jp=R.document,kp=R.process,Lh=R.Promise,lp=dx(R,"queueMicrotask"),mp=lp&&lp.value,ie,sg;if(!mp){var Nh=function(){var e;for(fd&&(e=kp.domain)&&e.exit();ie;){var t=ie.fn;ie=ie.next;try{t()}catch(e){throw ie?Mh():sg=void 0,e}}sg=void 0,e&&e.enter()};if(bp||fd||cx||!ip||!jp)if(Lh&&Lh.resolve){var fk=Lh.resolve(void 0);fk.constructor=Lh;var ex=fk.then,Mh=function(){ex.call(fk,Nh)}}else Mh=fd?function(){kp.nextTick(Nh)}:function(){ek.call(R,Nh)};else{var np=!0,op=jp.createTextNode("");new ip(Nh).observe(op,{characterData:!0}),Mh=function(){op.data=np=!np}}}var pp=mp||function(e){e={fn:e,next:void 0},sg&&(sg.next=e),ie||(ie=e,Mh()),sg=e},fx=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Wb(t),this.reject=Wb(n)},gk={f:function(e){return new fx(e)}},gx=function(e,t){var n=R.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},hk=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},hx="object"==typeof window,ix=Fa("species"),qp=cb.get,jx=cb.set,kx=cb.getterFor("Promise"),je=Ih&&Ih.prototype,Xb=Ih,Oh=je,rp=R.TypeError,ik=R.document,jk=R.process,lf=gk.f,lx=lf,mx=!!(ik&&ik.createEvent&&R.dispatchEvent),sp="function"==typeof PromiseRejectionEvent,tp=!1,tg=Qc("Promise",(function(){var e=Cj(Xb)!==String(Xb);if(!e&&66===Cd)return!0;if(51<=Cd&&/native code/.test(Xb))return!1;var t=new Xb((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[ix]=n,!(tp=t.then((function(){}))instanceof n)||!e&&hx&&!sp})),nx=tg||!Eh((function(e){Xb.all(e).catch((function(){}))})),up=function(e){var t;return!(!xa(e)||"function"!=typeof(t=e.then))&&t},kk=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;pp((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s=n[o++],c=i?s.ok:s.fail,l=s.resolve,u=s.reject,d=s.domain;try{if(c){if(i||(2===e.rejection&&ox(e),e.rejection=1),!0===c)var h=r;else if(d&&d.enter(),h=c(r),d){d.exit();var p=!0}h===s.promise?u(rp("Promise-chain cycle")):(a=up(h))?a.call(h,l,u):l(h)}else u(r)}catch(e){d&&!p&&d.exit(),u(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&px(e)}))}},vp=function(e,t,n){var r;if(mx){var i=ik.createEvent("Event");i.promise=t,i.reason=n,i.initEvent(e,!1,!0),R.dispatchEvent(i)}else i={promise:t,reason:n};!sp&&(r=R["on"+e])?r(i):"unhandledrejection"===e&&gx("Unhandled promise rejection",n)},px=function(e){ek.call(R,(function(){var t=e.facade,n=e.value;if(1!==e.rejection&&!e.parent){var r=hk((function(){fd?jk.emit("unhandledRejection",n,t):vp("unhandledrejection",t,n)}));if(e.rejection=fd||1!==e.rejection&&!e.parent?2:1,r.error)throw r.value}}))},ox=function(e){ek.call(R,(function(){var t=e.facade;fd?jk.emit("rejectionHandled",t):vp("rejectionhandled",t,e.value)}))},mf=function(e,t,n){return function(r){e(t,r,n)}},nf=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,kk(e,!0))},lk=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw rp("Promise can't be resolved itself");var r=up(t);r?pp((function(){var n={done:!1};try{r.call(t,mf(lk,n,e),mf(nf,n,e))}catch(t){nf(n,t,e)}})):(e.value=t,e.state=1,kk(e,!1))}catch(t){nf({done:!1},t,e)}}};if(tg){Xb=function(e){Ac(this,Xb,"Promise"),Wb(e),mk.call(this);var t=qp(this);try{e(mf(lk,t),mf(nf,t))}catch(e){nf(t,e)}},Oh=Xb.prototype;var mk=function(e){jx(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};mk.prototype=kf(Oh,{then:function(e,t){var n=kx(this),r=lf(ee(this,Xb));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=fd?jk.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&kk(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}});var qx=function(){var e=new mk,t=qp(e);this.promise=e,this.resolve=mf(lk,t),this.reject=mf(nf,t)};if(gk.f=lf=function(e){return e===Xb||e===rx?new qx(e):lx(e)},"function"==typeof Ih&&je!==Object.prototype){var sx=je.then;tp||(Za(je,"then",(function(e,t){var n=this;return new Xb((function(e,t){sx.call(n,e,t)})).then(e,t)}),{unsafe:!0}),Za(je,"catch",Oh.catch,{unsafe:!0}));try{delete je.constructor}catch(c){}tb&&tb(je,Oh)}}ea({global:!0,wrap:!0,forced:tg},{Promise:Xb}),zc(Xb,"Promise",!1),og("Promise");var rx=Pc("Promise");ea({target:"Promise",stat:!0,forced:tg},{reject:function(e){var t=lf(this);return t.reject.call(void 0,e),t.promise}}),ea({target:"Promise",stat:!0,forced:tg},{resolve:function(e){if(Ia(this),!xa(e)||e.constructor!==this){var t=gk.f(this);(0,t.resolve)(e),e=t.promise}return e}}),ea({target:"Promise",stat:!0,forced:nx},{all:function(e){var t=this,n=lf(t),r=n.resolve,i=n.reject,o=hk((function(){var n=Wb(t.resolve),o=[],a=0,s=1;Jh(e,(function(e){var c=a++,l=!1;o.push(void 0),s++,n.call(t,e).then((function(e){l||(l=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=lf(t),r=n.reject,i=hk((function(){var i=Wb(t.resolve);Jh(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var tx=Math.floor,ux="".replace,vx=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,wx=/\$([$&'`]|\d{1,2})/g,xx=function(e,t,n,r,i,o){var a=n+e.length,s=r.length,c=wx;return void 0!==i&&(i=pb(i),c=vx),ux.call(o,c,(function(o,c){switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":o=i[c.slice(1,-1)];break;default:var l=+c;if(0===l)return o;if(l>s)return 0===(l=tx(l/10))?o:l<=s?void 0===r[l-1]?c.charAt(1):r[l-1]+c.charAt(1):o;o=r[l-1]}return void 0===o?"":o}))},yx=Math.max,zx=Math.min;Bh("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=Eb(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(t,e,this,r);if(s.done)return s.value}var c=Ia(e);e=String(this),(s="function"==typeof r)||(r=String(r));var l=c.global;if(l){var u=c.unicode;c.lastIndex=0}for(var d=[];;){var h=ef(c,e);if(null===h)break;if(d.push(h),!l)break;""===String(h[0])&&(c.lastIndex=Mj(e,Ma(c.lastIndex),u))}for(u="",l=c=0;l<d.length;l++){h=d[l];for(var p=String(h[0]),f=yx(zx(yc(h.index),e.length),0),m=[],v=1;v<h.length;v++){var g=m,y=h[v];g.push.call(g,void 0===y?y:String(y))}h=h.groups,s?(m=[p].concat(m,f,e),void 0!==h&&m.push(h),h=String(r.apply(void 0,m))):h=xx(p,e,f,m,h,r),f>=c&&(u+=e.slice(c,f)+h,c=f+p.length)}return u+e.slice(c)}]}));var Ax=kg("slice"),Bx=Fa("species"),Cx=[].slice,Dx=Math.max;ea({target:"Array",proto:!0,forced:!Ax},{slice:function(e,t){var n=Mb(this),r=Ma(n.length);if(e=Vb(e,r),t=Vb(void 0===t?r:t,r),Ed(n)){var i=n.constructor;if("function"!=typeof i||i!==Array&&!Ed(i.prototype)?xa(i)&&null===(i=i[Bx])&&(i=void 0):i=void 0,i===Array||void 0===i)return Cx.call(n,e,t)}for(i=new(void 0===i?Array:i)(Dx(t-e,0)),r=0;e<t;e++,r++)e in n&&hf(i,r,n[e]);return i.length=r,i}});var Ex=cb.set,Fx=cb.getterFor("Array Iterator"),Gd=Wj(Array,"Array",(function(e,t){Ex(this,{type:"Array Iterator",target:Mb(e),index:0,kind:t})}),(function(){var e=Fx(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");gf.Arguments=gf.Array,ng("keys"),ng("values"),ng("entries");var wp="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,of=function(e){if(void 0===e)return 0;e=yc(e);var t=Ma(e);if(e!==t)throw RangeError("Wrong length or index");return t},Gx=Math.abs,gd=Math.pow,Hx=Math.floor,Ix=Math.log,Jx=Math.LN2,xp=function(e){var t=pb(this),n=Ma(t.length),r=arguments.length,i=Vb(1<r?arguments[1]:void 0,n);for(n=void 0===(r=2<r?arguments[2]:void 0)?n:Vb(r,n);n>i;)t[i++]=e;return t},Kx=de.f,Lx=qb.f,pf=cb.get,yp=cb.set,Bc=R.ArrayBuffer,Yb=Bc,Cc=R.DataView,Ph=Cc&&Cc.prototype,zp=Object.prototype,Qh=R.RangeError,Ap=function(e,t,n){var r,i=Array(n),o=(1<<(n=8*n-t-1))-1,a=o>>1,s=23===t?gd(2,-24)-gd(2,-77):0,c=0>e||0===e&&0>1/e?1:0,l=0;if((e=Gx(e))!=e||1/0===e){e=e!=e?1:0;var u=o}else u=Hx(Ix(e)/Jx),1>e*(r=gd(2,-u))&&(u--,r*=2),2<=(e=1<=u+a?e+s/r:e+s*gd(2,1-a))*r&&(u++,r/=2),u+a>=o?(e=0,u=o):1<=u+a?(e=(e*r-1)*gd(2,t),u+=a):(e=e*gd(2,a-1)*gd(2,t),u=0);for(;8<=t;i[l++]=255&e,e/=256,t-=8);for(u=u<<t|e,n+=t;0<n;i[l++]=255&u,u/=256,n-=8);return i[--l]|=128*c,i},Bp=function(e,t){var n=e.length,r=8*n-t-1,i=(1<<r)-1,o=i>>1;r-=7,--n;var a=e[n--],s=127&a;for(a>>=7;0<r;s=256*s+e[n],n--,r-=8);var c=s&(1<<-r)-1;for(s>>=-r,r+=t;0<r;c=256*c+e[n],n--,r-=8);if(0===s)s=1-o;else{if(s===i)return c?NaN:a?-1/0:1/0;c+=gd(2,t),s-=o}return(a?-1:1)*c*gd(2,s-t)},Cp=function(e){return[255&e]},Dp=function(e){return[255&e,e>>8&255]},Ep=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Fp=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Mx=function(e){return Ap(e,23,4)},Nx=function(e){return Ap(e,52,8)},Rh=function(e,t){Lx(e.prototype,t,{get:function(){return pf(this)[t]}})},Hd=function(e,t,n,r){n=of(n);var i=pf(e);if(n+t>i.byteLength)throw Qh("Wrong index");return e=pf(i.buffer).bytes,n+=i.byteOffset,t=e.slice(n,n+t),r?t:t.reverse()},Id=function(e,t,n,r,i,o){n=of(n);var a=pf(e);if(n+t>a.byteLength)throw Qh("Wrong index");for(e=pf(a.buffer).bytes,n+=a.byteOffset,r=r(+i),i=0;i<t;i++)e[n+i]=r[o?i:t-i-1]};if(wp){if(!la((function(){Bc(1)}))||!la((function(){new Bc(-1)}))||la((function(){return new Bc,new Bc(1.5),new Bc(NaN),"ArrayBuffer"!=Bc.name}))){Yb=function(e){return Ac(this,Yb),new Bc(of(e))};for(var Ox=Yb.prototype=Bc.prototype,Gp=Kx(Bc),Hp=0,nk;Gp.length>Hp;)(nk=Gp[Hp++])in Yb||kb(Yb,nk,Bc[nk]);Ox.constructor=Yb}tb&&uc(Ph)!==zp&&tb(Ph,zp);var Sh=new Cc(new Yb(2)),Ip=Ph.setInt8;Sh.setInt8(0,2147483648),Sh.setInt8(1,2147483649),!Sh.getInt8(0)&&Sh.getInt8(1)||kf(Ph,{setInt8:function(e,t){Ip.call(this,e,t<<24>>24)},setUint8:function(e,t){Ip.call(this,e,t<<24>>24)}},{unsafe:!0})}else Yb=function(e){Ac(this,Yb,"ArrayBuffer"),e=of(e),yp(this,{bytes:xp.call(Array(e),0),byteLength:e}),wa||(this.byteLength=e)},Cc=function(e,t,n){Ac(this,Cc,"DataView"),Ac(e,Yb,"DataView");var r=pf(e).byteLength;if(0>(t=yc(t))||t>r)throw Qh("Wrong offset");if(t+(n=void 0===n?r-t:Ma(n))>r)throw Qh("Wrong length");yp(this,{buffer:e,byteLength:n,byteOffset:t}),wa||(this.buffer=e,this.byteLength=n,this.byteOffset=t)},wa&&(Rh(Yb,"byteLength"),Rh(Cc,"buffer"),Rh(Cc,"byteLength"),Rh(Cc,"byteOffset")),kf(Cc.prototype,{getInt8:function(e){return Hd(this,1,e)[0]<<24>>24},getUint8:function(e){return Hd(this,1,e)[0]},getInt16:function(e){var t=Hd(this,2,e,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Hd(this,2,e,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Fp(Hd(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return Fp(Hd(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return Bp(Hd(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return Bp(Hd(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){Id(this,1,e,Cp,t)},setUint8:function(e,t){Id(this,1,e,Cp,t)},setInt16:function(e,t){Id(this,2,e,Dp,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){Id(this,2,e,Dp,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){Id(this,4,e,Ep,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){Id(this,4,e,Ep,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){Id(this,4,e,Mx,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){Id(this,8,e,Nx,t,2<arguments.length?arguments[2]:void 0)}});zc(Yb,"ArrayBuffer"),zc(Cc,"DataView");var ug={ArrayBuffer:Yb,DataView:Cc},ok=ug.ArrayBuffer,Jp=ug.DataView,Kp=ok.prototype.slice,Px=la((function(){return!new ok(2).slice(1,void 0).byteLength}));ea({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Px},{slice:function(e,t){if(void 0!==Kp&&void 0===t)return Kp.call(Ia(this),e);var n=Ia(this).byteLength;e=Vb(e,n),t=Vb(void 0===t?n:t,n),n=new(ee(this,ok))(Ma(t-e));for(var r=new Jp(this),i=new Jp(n),o=0;e<t;)i.setUint8(o++,r.getUint8(e++));return n}});var Qx=qb.f,Th=R.Int8Array,pk=Th&&Th.prototype,Lp=R.Uint8ClampedArray,Mp=Lp&&Lp.prototype,Tc=Th&&uc(Th),Dc=pk&&uc(pk),Np=Object.prototype,Op=Np.isPrototypeOf,Pp=Fa("toStringTag"),qk=af("TYPED_ARRAY_TAG"),hd=wp&&!!tb&&"Opera"!==jf(R.opera),Qp=!1,Zb,Uc={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Rx={BigInt64Array:8,BigUint64Array:8},Uh=function(e){return!!xa(e)&&(e=jf(e),ka(Uc,e)||ka(Rx,e))};for(Zb in Uc)R[Zb]||(hd=!1);if((!hd||"function"!=typeof Tc||Tc===Function.prototype)&&(Tc=function(){throw TypeError("Incorrect invocation")},hd))for(Zb in Uc)R[Zb]&&tb(R[Zb],Tc);if((!hd||!Dc||Dc===Np)&&(Dc=Tc.prototype,hd))for(Zb in Uc)R[Zb]&&tb(R[Zb].prototype,Dc);if(hd&&uc(Mp)!==Dc&&tb(Mp,Dc),wa&&!ka(Dc,Pp))for(Zb in Qp=!0,Qx(Dc,Pp,{get:function(){return xa(this)?this[qk]:void 0}}),Uc)R[Zb]&&kb(R[Zb],qk,Zb);var vg=hd,Rp=Qp&&qk,Ua=function(e){if(Uh(e))return e;throw TypeError("Target is not a typed array")},qf=function(e){if(tb){if(Op.call(Tc,e))return e}else for(var t in Uc)if(ka(Uc,Zb)){var n=R[t];if(n&&(e===n||Op.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Ra=function(e,t,n){if(wa){if(n)for(var r in Uc){var i=R[r];if(i&&ka(i.prototype,e))try{delete i.prototype[e]}catch(e){}}Dc[e]&&!n||Za(Dc,e,n?t:hd&&pk[e]||t)}},Sp=function(e,t,n){var r,i;if(wa){if(tb){if(n)for(r in Uc)if((i=R[r])&&ka(i,e))try{delete i[e]}catch(e){}if(Tc[e]&&!n)return;try{return Za(Tc,e,n?t:hd&&Tc[e]||t)}catch(e){}}for(r in Uc)!(i=R[r])||i[e]&&!n||Za(i,e,t)}},Tp=Tc,wg=Dc,Sx=R.ArrayBuffer,ke=R.Int8Array,rk=!vg||!la((function(){ke(1)}))||!la((function(){new ke(-1)}))||!Eh((function(e){new ke,new ke(null),new ke(1.5),new ke(e)}),!0)||la((function(){return 1!==new ke(new Sx(2),1,void 0).length})),Vh=function(e,t){if(0>(e=yc(e)))throw RangeError("The argument can't be less than 0");if(e%t)throw RangeError("Wrong offset");return e},sk=function(e){var t=pb(e),n=arguments.length,r=1<n?arguments[1]:void 0,i=void 0!==r,o=lg(t);if(null!=o&&!Qj(o)){var a=o.call(t),s=a.next;for(t=[];!(o=s.call(a)).done;)t.push(o.value)}for(i&&2<n&&(r=Dd(r,arguments[2],2)),o=Ma(t.length),a=new(qf(this))(o),n=0;o>n;n++)a[n]=i?r(t[n],n):t[n];return a},Wh=function(e,t,n){var r,i;return tb&&"function"==typeof(r=t.constructor)&&r!==n&&xa(i=r.prototype)&&i!==n.prototype&&tb(e,i),e},xg=xb((function(e){var t=de.f,n=cb.get,r=cb.set,i=qb.f,o=dc.f,a=Math.round,s=R.RangeError,c=ug.ArrayBuffer,l=ug.DataView,u=function(e,t){var n=0,r=t.length;for(e=new(qf(e))(r);r>n;)e[n]=t[n++];return e},d=function(e,t){i(e,t,{get:function(){return n(this)[t]}})},h=function(e){var t;return e instanceof c||"ArrayBuffer"==(t=jf(e))||"SharedArrayBuffer"==t},p=function(e,t){return Uh(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},f=function(e,t){return p(e,t=Oc(t,!0))?Nc(2,e[t]):o(e,t)},m=function(e,t,n){return!(p(e,t=Oc(t,!0))&&xa(n)&&ka(n,"value"))||ka(n,"get")||ka(n,"set")||n.configurable||ka(n,"writable")&&!n.writable||ka(n,"enumerable")&&!n.enumerable?i(e,t,n):(e[t]=n.value,e)};wa?(vg||(dc.f=f,qb.f=m,d(wg,"buffer"),d(wg,"byteOffset"),d(wg,"byteLength"),d(wg,"length")),ea({target:"Object",stat:!0,forced:!vg},{getOwnPropertyDescriptor:f,defineProperty:m}),e.exports=function(e,o,d){var p=e.match(/\d+$/)[0]/8,f=e+(d?"Clamped":"")+"Array",m="get"+e,v="set"+e,g=R[f],y=g;e=y&&y.prototype;var b={},E=function(e,t){i(e,t,{get:function(){var e=n(this);return e.view[m](t*p+e.byteOffset,!0)},set:function(e){var r=n(this);d&&(e=0>(e=a(e))?0:255<e?255:255&e),r.view[v](t*p+r.byteOffset,e,!0)},enumerable:!0})};vg?rk&&(y=o((function(e,t,n,r){return Ac(e,y,f),Wh(xa(t)?h(t)?void 0!==r?new g(t,Vh(n,p),r):void 0!==n?new g(t,Vh(n,p)):new g(t):Uh(t)?u(y,t):sk.call(y,t):new g(of(t)),e,y)})),tb&&tb(y,Tp),fe(t(g),(function(e){e in y||kb(y,e,g[e])})),y.prototype=e):(y=o((function(e,t,n,i){Ac(e,y,f);var o=0,a=0;if(xa(t)){if(!h(t))return Uh(t)?u(y,t):sk.call(y,t);var d=t;if(a=Vh(n,p),t=t.byteLength,void 0===i){if(t%p)throw s("Wrong length");if(0>(i=t-a))throw s("Wrong length")}else if((i=Ma(i)*p)+a>t)throw s("Wrong length");t=i/p}else t=of(t),d=new c(i=t*p);for(r(e,{buffer:d,byteOffset:a,byteLength:i,length:t,view:new l(d)});o<t;)E(e,o++)})),tb&&tb(y,Tp),e=y.prototype=jc(wg)),e.constructor!==y&&kb(e,"constructor",y),Rp&&kb(e,Rp,f),b[f]=y,ea({global:!0,forced:y!=g,sham:!vg},b),"BYTES_PER_ELEMENT"in y||kb(y,"BYTES_PER_ELEMENT",p),"BYTES_PER_ELEMENT"in e||kb(e,"BYTES_PER_ELEMENT",p),og(f)}):e.exports=function(){}}));xg("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Tx=Math.min,Ux=[].copyWithin||function(e,t){var n=pb(this),r=Ma(n.length),i=Vb(e,r),o=Vb(t,r),a=2<arguments.length?arguments[2]:void 0;for(r=Tx((void 0===a?r:Vb(a,r))-o,r-i),a=1,o<i&&i<o+r&&(a=-1,o+=r-1,i+=r-1);0<r--;)o in n?n[i]=n[o]:delete n[i],i+=a,o+=a;return n};Ra("copyWithin",(function(e,t){return Ux.call(Ua(this),e,t,2<arguments.length?arguments[2]:void 0)})),Ra("every",(function(e){return Cw(Ua(this),e,1<arguments.length?arguments[1]:void 0)})),Ra("fill",(function(e){return xp.apply(Ua(this),arguments)})),Ra("filter",(function(e){var t=Io(Ua(this),e,1<arguments.length?arguments[1]:void 0),n=ee(this,this.constructor),r=0,i=t.length;for(n=new(qf(n))(i);i>r;)n[r]=t[r++];return n})),Ra("find",(function(e){return Jo(Ua(this),e,1<arguments.length?arguments[1]:void 0)})),Ra("findIndex",(function(e){return Dw(Ua(this),e,1<arguments.length?arguments[1]:void 0)})),Ra("forEach",(function(e){fe(Ua(this),e,1<arguments.length?arguments[1]:void 0)})),Ra("includes",(function(e){return qo(Ua(this),e,1<arguments.length?arguments[1]:void 0)})),Ra("indexOf",(function(e){return Fj(Ua(this),e,1<arguments.length?arguments[1]:void 0)}));var Up=Fa("iterator"),Vp=R.Uint8Array,Vx=Gd.values,Wx=Gd.keys,Xx=Gd.entries,tk=Vp&&Vp.prototype[Up],Wp=!!tk&&("values"==tk.name||null==tk.name),Xp=function(){return Vx.call(Ua(this))};Ra("entries",(function(){return Xx.call(Ua(this))})),Ra("keys",(function(){return Wx.call(Ua(this))})),Ra("values",Xp,!Wp),Ra(Up,Xp,!Wp);var Yx=[].join;Ra("join",(function(e){return Yx.apply(Ua(this),arguments)}));var Zx=Math.min,uk=[].lastIndexOf,Yp=!!uk&&0>1/[1].lastIndexOf(1,-0),$x=ff("lastIndexOf"),ay=Yp||!$x?function(e){if(Yp)return uk.apply(this,arguments)||0;var t=Mb(this),n=Ma(t.length),r=n-1;for(1<arguments.length&&(r=Zx(r,yc(arguments[1]))),0>r&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}:uk;Ra("lastIndexOf",(function(e){return ay.apply(Ua(this),arguments)})),Ra("map",(function(e){return Ho(Ua(this),e,1<arguments.length?arguments[1]:void 0,(function(e,t){return new(qf(ee(e,e.constructor)))(t)}))}));var Zp=function(e){return function(t,n,r,i){Wb(n),t=pb(t);var o=fg(t),a=Ma(t.length),s=e?a-1:0,c=e?-1:1;if(2>r)for(;;){if(s in o){i=o[s],s+=c;break}if(s+=c,e?0>s:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=s:a>s;s+=c)s in o&&(i=n(i,o[s],s,t));return i}},$p=Zp(!1),by=Zp(!0);Ra("reduce",(function(e){return $p(Ua(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)})),Ra("reduceRight",(function(e){return by(Ua(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}));var cy=Math.floor;Ra("reverse",(function(){for(var e,t=Ua(this).length,n=cy(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}));var dy=la((function(){new Int8Array(1).set({})}));Ra("set",(function(e){Ua(this);var t=Vh(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=pb(e),i=Ma(r.length),o=0;if(i+t>n)throw RangeError("Wrong length");for(;o<i;)this[t+o]=r[o++]}),dy);var ey=[].slice,fy=la((function(){new Int8Array(1).slice()}));Ra("slice",(function(e,t){e=ey.call(Ua(this),e,t);var n=ee(this,this.constructor);t=0;var r=e.length;for(n=new(qf(n))(r);r>t;)n[t]=e[t++];return n}),fy),Ra("some",(function(e){return Bw(Ua(this),e,1<arguments.length?arguments[1]:void 0)}));var gy=[].sort;Ra("sort",(function(e){return gy.call(Ua(this),e)})),Ra("subarray",(function(e,t){var n=Ua(this),r=n.length;return e=Vb(e,r),new(ee(n,n.constructor))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,Ma((void 0===t?r:Vb(t,r))-e))}));var Xh=R.Int8Array,aq=[].toLocaleString,hy=[].slice,iy=!!Xh&&la((function(){aq.call(new Xh(1))})),jy=la((function(){return[1,2].toLocaleString()!=new Xh([1,2]).toLocaleString()}))||!la((function(){Xh.prototype.toLocaleString.call([1,2])}));Ra("toLocaleString",(function(){return aq.apply(iy?hy.call(Ua(this)):Ua(this),arguments)}),jy);var bq=R.Uint8Array,ky=bq&&bq.prototype||{},Yh=[].toString,ly=[].join;la((function(){Yh.call({})}))&&(Yh=function(){return ly.call(this)}),Ra("toString",Yh,ky.toString!=Yh);var cq=ug.ArrayBuffer;ea({global:!0,forced:R.ArrayBuffer!==cq},{ArrayBuffer:cq}),og("ArrayBuffer");var my=qb.f,vk=Function.prototype,ny=vk.toString,oy=/^\s*function ([^ (]*)/;!wa||"name"in vk||my(vk,"name",{configurable:!0,get:function(){try{return ny.call(this).match(oy)[1]}catch(e){return""}}});var dq=RegExp.prototype,eq=dq.toString,py=la((function(){return"/a/b"!=eq.call({source:"a",flags:"b"})})),qy="toString"!=eq.name;(py||qy)&&Za(RegExp.prototype,"toString",(function(){var e=Ia(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in dq)?Gj.call(e):n)}),{unsafe:!0});var ry=kg("splice"),sy=Math.max,ty=Math.min;ea({target:"Array",proto:!0,forced:!ry},{splice:function(e,t){var n,r,i=pb(this),o=Ma(i.length),a=Vb(e,o),s=arguments.length;if(0===s?s=n=0:1===s?(s=0,n=o-a):(s-=2,n=ty(sy(yc(t),0),o-a)),9007199254740991<o+s-n)throw TypeError("Maximum allowed length exceeded");var c=Dh(i,n);for(r=0;r<n;r++){var l=a+r;l in i&&hf(c,r,i[l])}if(c.length=n,s<n){for(r=a;r<o-n;r++){var u=r+s;(l=r+n)in i?i[u]=i[l]:delete i[u]}for(r=o;r>o-n+s;r--)delete i[r-1]}else if(s>n)for(r=o-n;r>a;r--)u=r+s-1,(l=r+n-1)in i?i[u]=i[l]:delete i[u];for(r=0;r<s;r++)i[r+a]=arguments[r+2];return i.length=o-n+s,c}});var wk={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},xk=Fa("iterator"),fq=Fa("toStringTag"),yk=Gd.values,Zh;for(Zh in wk){var gq=R[Zh],id=gq&&gq.prototype;if(id){if(id[xk]!==yk)try{kb(id,xk,yk)}catch(c){id[xk]=yk}if(id[fq]||kb(id,fq,Zh),wk[Zh])for(var rf in Gd)if(id[rf]!==Gd[rf])try{kb(id,rf,Gd[rf])}catch(c){id[rf]=Gd[rf]}}}var hq=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};Bh("search",1,(function(e,t,n){return[function(t){var n=Eb(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;e=Ia(e);var i=String(this);return r=e.lastIndex,hq(r,0)||(e.lastIndex=0),i=ef(e,i),hq(e.lastIndex,r)||(e.lastIndex=r),null===i?-1:i.index}]})),xb((function(e){var t,n;t="undefined"!=typeof self?self:Ya,n=function(e){function t(e){return btoa(e).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function n(e){return e=(e+="===").slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function r(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function i(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function o(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=o(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=o(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function a(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function s(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(i(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":"n e d p q dp dq qi oth".split(" ").forEach((function(n){n in e&&(t[n]=e[n])}));break;default:throw new TypeError("Unsupported key type")}return t}function c(e){var n=l(e),r=!1;if("1.2.840.113549.1.1.1"!==(2<n.length&&(r=!0,n.shift()),e={ext:!0},n[0][0]))throw new TypeError("Unsupported key type");var o="n e d p q dp dq qi".split(" ");for(n=l(n[1]),r&&n.shift(),r=0;r<n.length;r++)n[r][0]||(n[r]=n[r].subarray(1)),e[o[r]]=t(i(n[r]));return e.kty="RSA",e}function l(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),2>t.end-t.pos||t.end>e.length)throw new RangeError("Malformed DER");var n=e[t.pos++],r=e[t.pos++];if(128<=r){if(r&=127,t.end-t.pos<r)throw new RangeError("Malformed DER");for(var o=0;r--;)o<<=8,o|=e[t.pos++];r=o}if(t.end-t.pos<r)throw new RangeError("Malformed DER");switch(n){case 2:n=e.subarray(t.pos,t.pos+=r);break;case 3:if(e[t.pos++])throw Error("Unsupported bit string");r--;case 4:n=new Uint8Array(e.subarray(t.pos,t.pos+=r)).buffer;break;case 5:n=null;break;case 6:if(!((e=btoa(i(e.subarray(t.pos,t.pos+=r))))in _))throw Error("Unsupported OBJECT ID "+e);n=_[e];break;case 48:for(n=[],r=t.pos+r;t.pos<r;)n.push(l(e,t));break;default:throw Error("Unsupported DER tag 0x"+n.toString(16))}return n}function u(e,t){t||(t=[]);var n=t.length+2;if(t.push(0,0),e instanceof Uint8Array)for(var i=2,o=e.length,a=0;a<o;a++)t.push(e[a]);else if(e instanceof ArrayBuffer)for(i=4,o=e.byteLength,e=new Uint8Array(e),a=0;a<o;a++)t.push(e[a]);else if(null===e)i=5,o=0;else if("string"==typeof e&&e in S)for(i=6,o=(e=r(atob(S[e]))).length,a=0;a<o;a++)t.push(e[a]);else if(e instanceof Array){for(a=0;a<e.length;a++)u(e[a],t);i=48,o=t.length-n}else{if(!("object"===qa(e)&&3===e.tag&&e.value instanceof ArrayBuffer))throw Error("Unsupported DER value "+e);for(i=3,o=(e=new Uint8Array(e.value)).byteLength,t.push(0),a=0;a<o;a++)t.push(e[a]);o++}if(128<=o){for(a=o,o=4,t.splice(n,0,a>>24&255,a>>16&255,a>>8&255,255&a);1<o&&!(a>>24);)a<<=8,o--;4>o&&t.splice(n,4-o),o|=128}return t.splice(n-2,2,i,o),t}function d(e,t,n,r){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===n?e.extractable:n,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===r?e.usages:r,enumerable:!0}})}function h(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function p(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}if("function"!=typeof Promise)throw"Promise support required";var f=e.crypto||e.msCrypto;if(f){var m=f.subtle||f.webkitSubtle;if(m){var v=e.Crypto||f.constructor||Object,g=e.SubtleCrypto||m.constructor||Object;e.CryptoKey||e.Key;var y=-1<e.navigator.userAgent.indexOf("Edge/"),b=!!e.msCrypto&&!y,E=!f.subtle&&!!f.webkitSubtle;if(b||E){var _={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},S={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(e){var t=m[e];m[e]=function(i,l,u){var v=[].slice.call(arguments);switch(e){case"generateKey":var g=o(i),y=l,_=u;break;case"importKey":g=o(u),y=v[3],_=v[4],"jwk"===i&&((l=s(l)).alg||(l.alg=a(g)),l.key_ops||(l.key_ops="oct"!==l.kty?"d"in l?_.filter(p):_.filter(h):_.slice()),v[1]=function(e){return e=s(e),b&&(e.extractable=e.ext,delete e.ext),r(unescape(encodeURIComponent(JSON.stringify(e)))).buffer}(l));break;case"unwrapKey":g=v[4],y=v[5],_=v[6],v[2]=u._key}if("generateKey"===e&&"HMAC"===g.name&&g.hash)return g.length=g.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[g.hash.name],m.importKey("raw",f.getRandomValues(new Uint8Array(g.length+7>>3)),g,y,_);if(E&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===g.name&&(!g.modulusLength||2048<=g.modulusLength))return(i=o(i)).name="RSAES-PKCS1-v1_5",delete i.hash,m.generateKey(i,!0,["encrypt","decrypt"]).then((function(e){return Promise.all([m.exportKey("jwk",e.publicKey),m.exportKey("jwk",e.privateKey)])})).then((function(e){return e[0].alg=e[1].alg=a(g),e[0].key_ops=_.filter(h),e[1].key_ops=_.filter(p),Promise.all([m.importKey("jwk",e[0],g,!0,e[0].key_ops),m.importKey("jwk",e[1],g,y,e[1].key_ops)])})).then((function(e){return{publicKey:e[0],privateKey:e[1]}}));if((E||b&&"SHA-1"===(g.hash||{}).name)&&"importKey"===e&&"jwk"===i&&"HMAC"===g.name&&"oct"===l.kty)return m.importKey("raw",r(n(l.k)),u,v[3],v[4]);if(E&&"importKey"===e&&("spki"===i||"pkcs8"===i))return m.importKey("jwk",c(l),u,v[3],v[4]);if(b&&"unwrapKey"===e)return m.decrypt(v[3],u,l).then((function(e){return m.importKey(i,e,v[4],v[5],v[6])}));try{var S=t.apply(m,v)}catch(e){return Promise.reject(e)}return b&&(S=new Promise((function(e,t){S.onabort=S.onerror=function(e){t(e)},S.oncomplete=function(t){e(t.target.result)}}))),S=S.then((function(e){return"HMAC"!==g.name||g.length||(g.length=8*e.algorithm.length),0==g.name.search("RSA")&&(g.modulusLength||(g.modulusLength=(e.publicKey||e).algorithm.modulusLength),g.publicExponent||(g.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e.publicKey&&e.privateKey?{publicKey:new d(e.publicKey,g,y,_.filter(h)),privateKey:new d(e.privateKey,g,y,_.filter(p))}:new d(e,g,y,_)}))}})),["exportKey","wrapKey"].forEach((function(e){var o=m[e];m[e]=function(c,l,d){var f=[].slice.call(arguments);switch(e){case"exportKey":f[1]=l._key;break;case"wrapKey":f[1]=l._key,f[2]=d._key}if((E||b&&"SHA-1"===(l.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===c&&"HMAC"===l.algorithm.name&&(f[0]="raw"),!E||"exportKey"!==e||"spki"!==c&&"pkcs8"!==c||(f[0]="jwk"),b&&"wrapKey"===e)return m.exportKey(c,l).then((function(e){return"jwk"===c&&(e=r(unescape(encodeURIComponent(JSON.stringify(s(e)))))),m.encrypt(f[3],d,e)}));try{var v=o.apply(m,f)}catch(e){return Promise.reject(e)}return b&&(v=new Promise((function(e,t){v.onabort=v.onerror=function(e){t(e)},v.oncomplete=function(t){e(t.target.result)}}))),"exportKey"===e&&"jwk"===c&&(v=v.then((function(e){return(E||b&&"SHA-1"===(l.algorithm.hash||{}).name)&&"HMAC"===l.algorithm.name?{kty:"oct",alg:a(l.algorithm),key_ops:l.usages.slice(),ext:!0,k:t(i(e))}:((e=s(e)).alg||(e.alg=a(l.algorithm)),e.key_ops||(e.key_ops="public"===l.type?l.usages.filter(h):"private"===l.type?l.usages.filter(p):l.usages.slice()),e)}))),!E||"exportKey"!==e||"spki"!==c&&"pkcs8"!==c||(v=v.then((function(e){var t=[["",null]],i=!1;if("RSA"!==(e=s(e)).kty)throw new TypeError("Unsupported key type");for(var o="n e d p q dp dq qi".split(" "),a=[],c=0;c<o.length&&o[c]in e;c++){var l=a[c]=r(n(e[o[c]]));128&l[0]&&(a[c]=new Uint8Array(l.length+1),a[c].set(l,1))}return 2<a.length&&(i=!0,a.unshift(new Uint8Array([0]))),t[0][0]="1.2.840.113549.1.1.1",t.push(new Uint8Array(u(a)).buffer),i?t.unshift(new Uint8Array([0])):t[1]={tag:3,value:t[1]},new Uint8Array(u(t)).buffer}))),v}})),["encrypt","decrypt","sign","verify"].forEach((function(e){var t=m[e];m[e]=function(n,r,i,a){if(b&&(!i.byteLength||a&&!a.byteLength))throw Error("Empty input is not allowed");var s=[].slice.call(arguments),c=o(n);if(!b||"sign"!==e&&"verify"!==e||"RSASSA-PKCS1-v1_5"!==n&&"HMAC"!==n||(s[0]={name:n}),b&&r.algorithm.hash&&(s[0].hash=s[0].hash||r.algorithm.hash),b&&"decrypt"===e&&"AES-GCM"===c.name){var l=n.tagLength>>3;s[2]=(i.buffer||i).slice(0,i.byteLength-l),n.tag=(i.buffer||i).slice(i.byteLength-l)}b&&"AES-GCM"===c.name&&void 0===s[0].tagLength&&(s[0].tagLength=128),s[1]=r._key;try{var u=t.apply(m,s)}catch(e){return Promise.reject(e)}return b&&(u=new Promise((function(t,n){u.onabort=u.onerror=function(e){n(e)},u.oncomplete=function(n){if(n=n.target.result,"encrypt"===e&&n instanceof AesGcmEncryptResult){var r=n.ciphertext,i=n.tag;(n=new Uint8Array(r.byteLength+i.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(i),r.byteLength),n=n.buffer}t(n)}}))),u}})),b){var A=m.digest;m.digest=function(e,t){if(!t.byteLength)throw Error("Empty input is not allowed");try{var n=A.call(m,e,t)}catch(e){return Promise.reject(e)}return n=new Promise((function(e,t){n.onabort=n.onerror=function(e){t(e)},n.oncomplete=function(t){e(t.target.result)}}))},e.crypto=Object.create(f,{getRandomValues:{value:function(e){return f.getRandomValues(e)}},subtle:{value:m}}),e.CryptoKey=d}E&&(f.subtle=m,e.Crypto=v,e.SubtleCrypto=g,e.CryptoKey=d)}}}},e.exports?e.exports=n(t):n(t)})),function(e){e.console||(e.console={}),e=e.console;for(var t,n=function(){},r=["memory"],i="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");t=r.pop();)e[t]||(e[t]={});for(;t=i.pop();)e[t]||(e[t]=n)}("undefined"==typeof window?Ya:window),ea({target:"Object",stat:!0},{setPrototypeOf:tb});var uy=la((function(){uc(1)}));ea({target:"Object",stat:!0,forced:uy,sham:!Oo},{getPrototypeOf:function(e){return uc(pb(e))}});var iq=[].slice,zk={},vy=Function.bind||function(e){var t=Wb(this),n=iq.call(arguments,1),r=function(){var i=n.concat(iq.call(arguments));if(this instanceof r){var o=i.length;if(!(o in zk)){for(var a=[],s=0;s<o;s++)a[s]="a["+s+"]";zk[o]=Function("C,a","return new C("+a.join(",")+")")}i=zk[o](t,i)}else i=t.apply(e,i);return i};return xa(t.prototype)&&(r.prototype=t.prototype),r},Ak=Pc("Reflect","construct"),jq=la((function(){function e(){}return!(Ak((function(){}),[],e)instanceof e)})),kq=!la((function(){Ak((function(){}))})),lq=jq||kq;ea({target:"Reflect",stat:!0,forced:lq,sham:lq},{construct:function(e,t){Wb(e),Ia(t);var n=3>arguments.length?e:Wb(arguments[2]);if(kq&&!jq)return Ak(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}return(n=[null]).push.apply(n,t),new(vy.apply(e,n))}n=n.prototype,n=jc(xa(n)?n:Object.prototype);var r=Function.apply.call(e,n,t);return xa(r)?r:n}}),ea({target:"Reflect",stat:!0},{get:Am});var mq=dc.f,wy=la((function(){mq(1)}));ea({target:"Object",stat:!0,forced:!wa||wy,sham:!wa},{getOwnPropertyDescriptor:function(e,t){return mq(Mb(e),t)}});var nq=de.f,xy={}.toString,oq="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Bk=function(e){if(oq&&"[object Window]"==xy.call(e))try{var t=nq(e)}catch(e){t=oq.slice()}else t=nq(Mb(e));return t},pq={f:Fa},yy=qb.f,$h=function(e){var t=R.Symbol||(R.Symbol={});ka(t,e)||yy(t,e,{value:pq.f(e)})},Nb=xh("hidden"),qq=Fa("toPrimitive"),zy=cb.set,rq=cb.getterFor("Symbol"),kc=Object.prototype,Ob=R.Symbol,yg=Pc("JSON","stringify"),sq=dc.f,Jd=qb.f,tq=Bk,Ay=eg,jd=Ad("symbols"),zg=Ad("op-symbols"),Ck=Ad("string-to-symbol-registry"),Dk=Ad("symbol-to-string-registry"),By=Ad("wks"),Ek=R.QObject,Fk=!Ek||!Ek.prototype||!Ek.prototype.findChild,Gk=wa&&la((function(){return 7!=jc(Jd({},"a",{get:function(){return Jd(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=sq(kc,t);r&&delete kc[t],Jd(e,t,n),r&&e!==kc&&Jd(kc,t,r)}:Jd,Hk=function(e,t){var n=jd[e]=jc(Ob.prototype);return zy(n,{type:"Symbol",tag:e,description:t}),wa||(n.description=t),n},Ik=zo?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Ob},ai=function(e,t,n){return e===kc&&ai(zg,t,n),Ia(e),t=Oc(t,!0),Ia(n),ka(jd,t)?(n.enumerable?(ka(e,Nb)&&e[Nb][t]&&(e[Nb][t]=!1),n=jc(n,{enumerable:Nc(0,!1)})):(ka(e,Nb)||Jd(e,Nb,Nc(1,{})),e[Nb][t]=!0),Gk(e,t,n)):Jd(e,t,n)},uq=function(e,t){Ia(e);var n=Mb(t);return t=ed(n).concat(Jk(n)),fe(t,(function(t){wa&&!Kk.call(n,t)||ai(e,t,n[t])})),e},Kk=function(e){e=Oc(e,!0);var t=Ay.call(this,e);return!(this===kc&&ka(jd,e)&&!ka(zg,e))&&(!(t||!ka(this,e)||!ka(jd,e)||ka(this,Nb)&&this[Nb][e])||t)},vq=function(e,t){if(e=Mb(e),t=Oc(t,!0),e!==kc||!ka(jd,t)||ka(zg,t)){var n=sq(e,t);return!n||!ka(jd,t)||ka(e,Nb)&&e[Nb][t]||(n.enumerable=!0),n}},wq=function(e){e=tq(Mb(e));var t=[];return fe(e,(function(e){ka(jd,e)||ka(bf,e)||t.push(e)})),t},Jk=function(e){var t=e===kc;e=tq(t?zg:Mb(e));var n=[];return fe(e,(function(e){!ka(jd,e)||t&&!ka(kc,e)||n.push(jd[e])})),n};if(Sc||(Ob=function(){if(this instanceof Ob)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=af(e),n=function(e){this===kc&&n.call(zg,e),ka(this,Nb)&&ka(this[Nb],t)&&(this[Nb][t]=!1),Gk(this,t,Nc(1,e))};return wa&&Fk&&Gk(kc,t,{configurable:!0,set:n}),Hk(t,e)},Za(Ob.prototype,"toString",(function(){return rq(this).tag})),Za(Ob,"withoutSetter",(function(e){return Hk(af(e),e)})),eg=Kk,qb.f=ai,dc.f=vq,de.f=Bk=wq,gg.f=Jk,pq.f=function(e){return Hk(Fa(e),e)},wa&&(Jd(Ob.prototype,"description",{configurable:!0,get:function(){return rq(this).description}}),Za(kc,"propertyIsEnumerable",Kk,{unsafe:!0}))),ea({global:!0,wrap:!0,forced:!Sc,sham:!Sc},{Symbol:Ob}),fe(ed(By),(function(e){$h(e)})),ea({target:"Symbol",stat:!0,forced:!Sc},{for:function(e){if(e=String(e),ka(Ck,e))return Ck[e];var t=Ob(e);return Ck[e]=t,Dk[t]=e,t},keyFor:function(e){if(!Ik(e))throw TypeError(e+" is not a symbol");if(ka(Dk,e))return Dk[e]},useSetter:function(){Fk=!0},useSimple:function(){Fk=!1}}),ea({target:"Object",stat:!0,forced:!Sc,sham:!wa},{create:function(e,t){return void 0===t?jc(e):uq(jc(e),t)},defineProperty:ai,defineProperties:uq,getOwnPropertyDescriptor:vq}),ea({target:"Object",stat:!0,forced:!Sc},{getOwnPropertyNames:wq,getOwnPropertySymbols:Jk}),ea({target:"Object",stat:!0,forced:la((function(){gg.f(1)}))},{getOwnPropertySymbols:function(e){return gg.f(pb(e))}}),yg){var Cy=!Sc||la((function(){var e=Ob();return"[null]"!=yg([e])||"{}"!=yg({a:e})||"{}"!=yg(Object(e))}));ea({target:"JSON",stat:!0,forced:Cy},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(xa(t)||void 0!==e)&&!Ik(e))return Ed(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Ik(t))return t}),i[1]=t,yg.apply(null,i)}})}Ob.prototype[qq]||kb(Ob.prototype,qq,Ob.prototype.valueOf),zc(Ob,"Symbol"),bf[Nb]=!0;var Dy=qb.f,kd=R.Symbol;if(wa&&"function"==typeof kd&&(!("description"in kd.prototype)||void 0!==kd().description)){var xq={},Ag=function(){var e=1>arguments.length||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Ag?new kd(e):void 0===e?kd():kd(e);return""===e&&(xq[t]=!0),t};to(Ag,kd);var Lk=Ag.prototype=kd.prototype;Lk.constructor=Ag;var Ey=Lk.toString,Fy="Symbol(test)"==String(kd("test")),Gy=/^Symbol\((.*)\)[^)]+$/;Dy(Lk,"description",{configurable:!0,get:function(){var e=xa(this)?this.valueOf():this,t=Ey.call(e);return ka(xq,e)?"":""===(e=Fy?t.slice(7,-1):t.replace(Gy,"$1"))?void 0:e}}),ea({global:!0,forced:!0},{Symbol:Ag})}$h("toStringTag"),zc(R.JSON,"JSON",!0),zc(Math,"Math",!0),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););if(e)return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}var s=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=0,r=(e=this.listeners[e]).length;n<r;n++)if(e[n].callback===t){e.splice(n,1);break}}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var i=t[n];try{i.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),t}(),c=function(t){function c(){e(this,c);var t=l.call(this);return t.listeners||s.call(o(t)),Object.defineProperty(o(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(t),"onabort",{value:null,writable:!0,configurable:!0}),t}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,t);var l=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(n,arguments,i)}else n=n.apply(this,arguments);return!n||"object"!==qa(n)&&"function"!=typeof n?o(this):n}}(c);return n(c,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),a(r(c.prototype),"dispatchEvent",this).call(this,e)}}]),c}(s),l=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new c,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){try{var e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(l.prototype[Symbol.toStringTag]="AbortController",c.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL){console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill");var t=!0}else t="function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController;t&&(e.AbortController=l,e.AbortSignal=c)}("undefined"!=typeof self?self:Ya)}();var Hy=Math.floor,Iy=Math.log,Jy=Math.LOG2E;ea({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-Hy(Iy(e+.5)*Jy):32}});var Ky=Math.log,Ly=Math.LN2,cu=Math.clz32||function(e){return 31-Ky(e>>>0)/Ly|0},Ud=String.fromCharCode,yq={}.toString,Mk=window.Uint8Array,Nk=Mk||Array,My=yq.call((window.ArrayBuffer||Nk).prototype),Ok;Bm.prototype.decode=function(e){if(e=e&&e.buffer||e,yq.call(e)!==My)throw Error("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");for(var t="",n=0,r=0|(e=Mk?new Nk(e):e).length;n<r;n=n+32768|0)t+=Ud.apply(0,e[Mk?"slice":"subarray"](n,n+32768|0));return t.replace(/[\xc0-\xff][\x80-\xbf]*/g,bu)},window.TextDecoder||(window.TextDecoder=Bm),Cm.prototype.encode=function(e){for(var t=0|(e=void 0===e?"":(""+e).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,du)).length,n=new Nk(t),r=0;r<t;r=r+1|0)n[r]=e.charCodeAt(r);return n},window.TextEncoder||(window.TextEncoder=Cm),function(e){var t,n,r,i,o,a,s,c,l,u,d,h;(n=t||(t={})).LOGIN="LOGIN",n.LOGIN_SUCCESS="LOGIN_SUCCESS",n.LOGIN_FAILURE="LOGIN_FAILURE",n.LOGIN_TIMEOUT="LOGIN_TIMEOUT",n.INTERRUPTED="INTERRUPTED",n.LOGOUT="LOGOUT",n.BANNED_BY_SERVER="BANNED_BY_SERVER",n.REMOTE_LOGIN="REMOTE_LOGIN",n.TOKEN_EXPIRED="TOKEN_EXPIRED",e.ConnectionChangeReason=t,function(e){e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.RECONNECTING="RECONNECTING",e.ABORTED="ABORTED"}(r||(r={})),e.ConnectionState=r,function(e){e.IDLE="IDLE",e.SENT_TO_REMOTE="SENT_TO_REMOTE",e.RECEIVED_BY_REMOTE="RECEIVED_BY_REMOTE",e.ACCEPTED_BY_REMOTE="ACCEPTED_BY_REMOTE",e.REFUSED_BY_REMOTE="REFUSED_BY_REMOTE",e.CANCELED="CANCELED",e.FAILURE="FAILURE"}(i||(i={})),e.LocalInvitationState=i,function(e){e.INVITATION_RECEIVED="INVITATION_RECEIVED",e.ACCEPT_SENT_TO_LOCAL="ACCEPT_SENT_TO_LOCAL",e.REFUSED="REFUSED",e.ACCEPTED="ACCEPTED",e.CANCELED="CANCELED",e.FAILURE="FAILURE"}(o||(o={})),e.RemoteInvitationState=o,function(e){e.UNKNOWN="UNKNOWN",e.PEER_NO_RESPONSE="PEER_NO_RESPONSE",e.INVITATION_EXPIRE="INVITATION_EXPIRE",e.PEER_OFFLINE="PEER_OFFLINE",e.NOT_LOGGEDIN="NOT_LOGGEDIN"}(a||(a={})),e.LocalInvitationFailureReason=a,function(e){e.UNKNOWN="UNKNOWN",e.PEER_OFFLINE="PEER_OFFLINE",e.ACCEPT_FAILURE="ACCEPT_FAILURE",e.INVITATION_EXPIRE="INVITATION_EXPIRE"}(s||(s={})),e.RemoteInvitationFailureReason=s,function(e){e.ONLINE="ONLINE",e.UNREACHABLE="UNREACHABLE",e.OFFLINE="OFFLINE"}(c||(c={})),e.PeerOnlineState=c,(l||(l={})).ONLINE_STATUS="ONLINE_STATUS",e.PeerSubscriptionOption=l,function(e){e.TEXT="TEXT",e.RAW="RAW"}(u||(u={})),e.MessageType=u,function(e){e.CN="CN",e.NA="NA",e.EU="EU",e.AS="AS",e.JP="JP",e.IN="IN",e.GLOB="GLOB",e.OC="OC",e.SA="SA",e.AF="AF",e.OVS="OVS"}(d||(d={})),e.LegacyAreaCode=d,function(e){e.GLOBAL="GLOBAL",e.INDIA="INDIA",e.JAPAN="JAPAN",e.ASIA="ASIA",e.EUROPE="EUROPE",e.CHINA="CHINA",e.NORTH_AMERICA="NORTH_AMERICA"}(h||(h={})),e.AreaCode=h}(Ok||(Ok={}));var ta=Ok;ea({target:"Array",proto:!0},{includes:function(e){return qo(this,e,1<arguments.length?arguments[1]:void 0)}}),ng("includes");var Pk=function(e){if(Lj(e))throw TypeError("The method doesn't accept regular expressions");return e},Ny=Fa("match"),Qk=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Ny]=!1,"/./"[e](t)}catch(e){}}return!1};ea({target:"String",proto:!0,forced:!Qk("includes")},{includes:function(e){return!!~String(Eb(this)).indexOf(Pk(e),1<arguments.length?arguments[1]:void 0)}});var Ec={RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:3e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0};$h("iterator"),$h("asyncIterator");var Rk=ff("forEach")?[].forEach:function(e){return fe(this,e,1<arguments.length?arguments[1]:void 0)},zq;for(zq in wk){var Aq=R[zq],bi=Aq&&Aq.prototype;if(bi&&bi.forEach!==Rk)try{kb(bi,"forEach",Rk)}catch(c){bi.forEach=Rk}}var Oy=[].reverse,Bq=[1,2];ea({target:"Array",proto:!0,forced:String(Bq)===String(Bq.reverse())},{reverse:function(){return Ed(this)&&(this.length=this.length),Oy.call(this)}});var N=xb((function(e){e=function(e){function t(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}function n(e,t,n,o){return t=Object.create((t&&t.prototype instanceof i?t:i).prototype),o=new h(o||[]),t._invoke=function(e,t,n){var i=S;return function(o,a){if(i===w)throw Error("Generator is already running");if(i===T){if("throw"===o)throw a;return f()}for(n.method=o,n.arg=a;;){if((o=n.delegate)&&(o=l(o,n))){if(o===C)continue;return o}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);if(i=w,"normal"===(o=r(e,t,n)).type){if(i=n.done?T:A,o.arg===C)continue;return{value:o.arg,done:n.done}}"throw"===o.type&&(i=T,n.method="throw",n.arg=o.arg)}}}(e,n,o),t}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach((function(n){t(e,n,(function(e){return this._invoke(n,e)}))}))}function c(e,t){function n(i,o,a,s){if("throw"!==(i=r(e[i],e,o)).type){var c=i.arg;return(i=c.value)&&"object"===qa(i)&&g.call(i,"__await")?t.resolve(i.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(i).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(i.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function l(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,l(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}return"throw"===(n=r(n,e.iterator,t.arg)).type?(t.method="throw",t.arg=n.arg,t.delegate=null,C):(n=n.arg)?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,C):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(u,this),this.reset(!0)}function p(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1;return(t=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t}).next=t}}return{next:f}}function f(){return{value:m,done:!0}}var m,v=Object.prototype,g=v.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",E=y.asyncIterator||"@@asyncIterator",_=y.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,n){return e[t]=n}}e.wrap=n;var S="suspendedStart",A="suspendedYield",w="executing",T="completed",C={};t(y={},b,(function(){return this}));var R=Object.getPrototypeOf;(R=R&&R(R(p([]))))&&R!==v&&g.call(R,b)&&(y=R);var I=a.prototype=i.prototype=Object.create(y);return o.prototype=a,t(I,"constructor",a),t(a,"constructor",o),o.displayName=t(a,_,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,t(e,_,"GeneratorFunction")),e.prototype=Object.create(I),e},e.awrap=function(e){return{__await:e}},s(c.prototype),t(c.prototype,E,(function(){return this})),e.AsyncIterator=c,e.async=function(t,r,i,o,a){void 0===a&&(a=Promise);var s=new c(n(t,r,i,o),a);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},s(I),t(I,_,"Generator"),t(I,b,(function(){return this})),t(I,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,n=[];for(t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=p,h.prototype={constructor:h,reset:function(e){if(this.next=this.prev=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}return i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null),(n=i?i.completion:{}).type=e,n.arg=t,i?(this.method="next",this.next=i.finallyLoc,C):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),C}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){if("throw"===(e=n.completion).type){var r=e.arg;d(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),C}},e}(e.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":qa(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),Cq=!la((function(){return Object.isExtensible(Object.preventExtensions({}))})),Sk=xb((function(e){var t=qb.f,n=af("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!xa(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!ka(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!ka(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return Cq&&a.REQUIRED&&i(e)&&!ka(e,n)&&o(e),e}};bf[n]=!0})),Dq=function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=R[e],s=a&&a.prototype,c=a,l={},u=function(e){var t=s[e];Za(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!xa(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!xa(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!xa(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Qc(e,"function"!=typeof a||!(i||s.forEach&&!la((function(){(new a).entries().next()})))))c=n.getConstructor(t,e,r,o),Sk.REQUIRED=!0;else if(Qc(e,!0)){var d=new c,h=d[o](i?{}:-0,1)!=d,p=la((function(){d.has(1)})),f=Eh((function(e){new a(e)})),m=!i&&la((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));f||((c=t((function(t,n){return Ac(t,c,e),t=Wh(new a,t,c),null!=n&&Jh(n,t[o],{that:t,AS_ENTRIES:r}),t}))).prototype=s,s.constructor=c),(p||m)&&(u("delete"),u("has"),r&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return l[e]=c,ea({global:!0,forced:c!=a},l),zc(c,e),i||n.setStrong(c,e,r),c},Py=qb.f,Eq=Sk.fastKey,Fq=cb.set,Tk=cb.getterFor,Gq={getConstructor:function(e,t,n,r){var i=e((function(e,o){Ac(e,i,t),Fq(e,{type:t,index:jc(null),first:void 0,last:void 0,size:0}),wa||(e.size=0),null!=o&&Jh(o,e[r],{that:e,AS_ENTRIES:n})})),o=Tk(t),a=function(e,t,n){var r,i=o(e),a=s(e,t);return a?a.value=n:(i.last=a={index:r=Eq(t,!0),key:t,value:n,previous:t=i.last,next:void 0,removed:!1},i.first||(i.first=a),t&&(t.next=a),wa?i.size++:e.size++,"F"!==r&&(i.index[r]=a)),e},s=function(e,t){e=o(e);var n=Eq(t);if("F"!==n)return e.index[n];for(e=e.first;e;e=e.next)if(e.key==t)return e};return kf(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,wa?e.size=0:this.size=0},delete:function(e){var t=o(this);if(e=s(this,e)){var n=e.next,r=e.previous;delete t.index[e.index],e.removed=!0,r&&(r.next=n),n&&(n.previous=r),t.first==e&&(t.first=n),t.last==e&&(t.last=r),wa?t.size--:this.size--}return!!e},forEach:function(e){for(var t,n=o(this),r=Dd(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),kf(i.prototype,n?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),wa&&Py(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=Tk(t),o=Tk(r);Wj(e,t,(function(e,t){Fq(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),og(t)}};Dq("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Gq);var Uk=Pc("Reflect","apply"),Qy=Function.apply,Ry=!la((function(){Uk((function(){}))}));ea({target:"Reflect",stat:!0,forced:Ry},{apply:function(e,t,n){return Wb(e),Ia(n),Uk?Uk(e,t,n):Qy.call(e,t,n)}}),ea({target:"Reflect",stat:!0},{ownKeys:so});var Hq=Fa("isConcatSpreadable"),Sy=51<=Cd||!la((function(){var e=[];return e[Hq]=!1,e.concat()[0]!==e})),Ty=kg("concat");ea({target:"Array",proto:!0,forced:!Sy||!Ty},{concat:function(e){var t,n=pb(this),r=Dh(n,0),i=0,o=-1;for(t=arguments.length;o<t;o++){var a=-1===o?n:arguments[o],s=a;if(xa(s)){var c=s[Hq];s=void 0!==c?!!c:Ed(s)}else s=!1;if(s){if(9007199254740991<i+(c=Ma(a.length)))throw TypeError("Maximum allowed index exceeded");for(s=0;s<c;s++,i++)s in a&&hf(r,i,a[s])}else{if(9007199254740991<=i)throw TypeError("Maximum allowed index exceeded");hf(r,i++,a)}}return r.length=i,r}});var Uy=Bk,Vy=la((function(){return!Object.getOwnPropertyNames(1)}));ea({target:"Object",stat:!0,forced:Vy},{getOwnPropertyNames:Uy});var Wy=de.f,Xy=dc.f,Yy=qb.f,Kd=R.Number,ci=Kd.prototype,Zy="Number"==xc(jc(ci)),Iq=function(e){var t,n=Oc(e,!1);if("string"==typeof n&&2<n.length)if(43===(e=(n=Oj(n)).charCodeAt(0))||45===e){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===e){switch(n.charCodeAt(1)){case 66:case 98:e=2;var r=49;break;case 79:case 111:e=8,r=55;break;default:return+n}var i=(n=n.slice(2)).length;for(t=0;t<i;t++){var o=n.charCodeAt(t);if(48>o||o>r)return NaN}return parseInt(n,e)}return+n};if(Qc("Number",!Kd(" 0o1")||!Kd("0b1")||Kd("+0x1"))){for(var le=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof le&&(Zy?la((function(){ci.valueOf.call(n)})):"Number"!=xc(n))?Wh(new Kd(Iq(t)),n,le):Iq(t)},Jq=wa?Wy(Kd):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),Vk=0,di;Jq.length>Vk;Vk++)ka(Kd,di=Jq[Vk])&&!ka(le,di)&&Yy(le,di,Xy(Kd,di));le.prototype=ci,ci.constructor=le,Za(R,"Number",le)}var sf="object"===("undefined"==typeof Reflect?"undefined":qa(Reflect))?Reflect:null,Kq=sf&&"function"==typeof sf.apply?sf.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},$y=sf&&"function"==typeof sf.ownKeys?sf.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Lq=Number.isNaN||function(e){return e!=e};Ba.EventEmitter=Ba,Ba.prototype._events=void 0,Ba.prototype._eventsCount=0,Ba.prototype._maxListeners=void 0;var Mq=10;Object.defineProperty(Ba,"defaultMaxListeners",{enumerable:!0,get:function(){return Mq},set:function(e){if("number"!=typeof e||0>e||Lq(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Mq=e}}),Ba.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ba.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||Lq(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Ba.prototype.getMaxListeners=function(){return void 0===this._maxListeners?Ba.defaultMaxListeners:this._maxListeners},Ba.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);n="error"===e;var r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var i;if(0<t.length&&(i=t[0]),i instanceof Error)throw i;throw(t=Error("Unhandled error."+(i?" ("+i.message+")":""))).context=i,t}if(void 0===(n=r[e]))return!1;if("function"==typeof n)Kq(n,this,t);else for(r=Gm(n,i=n.length),n=0;n<i;++n)Kq(r[n],this,t);return!0},Ba.prototype.addListener=function(e,t){return Dm(this,e,t,!1)},Ba.prototype.on=Ba.prototype.addListener,Ba.prototype.prependListener=function(e,t){return Dm(this,e,t,!0)},Ba.prototype.once=function(e,t){return Wg(t),this.on(e,Em(this,e,t)),this},Ba.prototype.prependOnceListener=function(e,t){return Wg(t),this.prependListener(e,Em(this,e,t)),this},Ba.prototype.removeListener=function(e,t){var n;Wg(t);var r=this._events;if(void 0===r)return this;var i=r[e];if(void 0===i)return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){var o=-1;for(n=i.length-1;0<=n;n--)if(i[n]===t||i[n].listener===t){var a=i[n].listener;o=n;break}if(0>o)return this;if(0===o)i.shift();else{for(;o+1<i.length;o++)i[o]=i[o+1];i.pop()}1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},Ba.prototype.off=Ba.prototype.removeListener,Ba.prototype.removeAllListeners=function(e){var t=this._events;if(void 0===t)return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var n=Object.keys(t);for(t=0;t<n.length;++t){var r=n[t];"removeListener"!==r&&this.removeAllListeners(r)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=t[e]))this.removeListener(e,n);else if(void 0!==n)for(t=n.length-1;0<=t;t--)this.removeListener(e,n[t]);return this},Ba.prototype.listeners=function(e){return Fm(this,e,!0)},Ba.prototype.rawListeners=function(e){return Fm(this,e,!1)},Ba.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Hm.call(e,t)},Ba.prototype.listenerCount=Hm,Ba.prototype.eventNames=function(){return 0<this._eventsCount?$y(this._events):[]},Ba.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}Im(e,t,o,{once:!0}),"error"!==t&&fu(e,i,{once:!0})}))};var tf=Object.assign,Nq=Object.defineProperty,Bg=!tf||la((function(){if(wa&&1!==tf({b:1},tf(Nq({},"a",{enumerable:!0,get:function(){Nq(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=tf({},e)[n]||"abcdefghijklmnopqrst"!=ed(tf({},t)).join("")}))?function(e,t){for(var n=pb(e),r=arguments.length,i=1,o=gg.f,a=eg;r>i;)for(var s,c=fg(arguments[i++]),l=o?ed(c).concat(o(c)):ed(c),u=l.length,d=0;u>d;)s=l[d++],(!wa||a.call(c,s))&&(n[s]=c[s]);return n}:tf;ea({target:"Object",stat:!0,forced:Object.assign!==Bg},{assign:Bg}),Dq("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Gq);var az=Math.log,bz=Math.LN2;ea({target:"Math",stat:!0},{log2:function(e){return az(e)/bz}});var cz=qb.f,dz=de.f,ez=cb.enforce,fz=Fa("match"),Vc=R.RegExp,Wk=Vc.prototype,Cg=/a/g,Xk=/a/g,Yk=new Vc(Cg)!==Cg;if(wa&&Qc("RegExp",!Yk||Rc||la((function(){return Xk[fz]=!1,Vc(Cg)!=Cg||Vc(Xk)==Xk||"/a/i"!=Vc(Cg,"i")})))){for(var ld=function(e,t){var n,r=this instanceof ld,i=Lj(e),o=void 0===t;return!r&&i&&e.constructor===ld&&o||(Yk?i&&!o&&(e=e.source):e instanceof ld&&(o&&(t=Gj.call(e)),e=e.source),Rc&&(n=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,"")),e=Wh(Yk?new Vc(e,t):Vc(e,t),r?this:Wk,ld),Rc&&n&&(ez(e).sticky=!0)),e},gz=function(e){e in ld||cz(ld,e,{configurable:!0,get:function(){return Vc[e]},set:function(t){Vc[e]=t}})},Oq=dz(Vc),Pq=0;Oq.length>Pq;)gz(Oq[Pq++]);Wk.constructor=ld,ld.prototype=Wk,Za(R,"RegExp",ld)}og("RegExp"),xg("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),xg("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),xg("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),xg("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Zk=function(e,t){return e===t?0:null==e?null==t?0:-1:null==t?null==e?0:1:"function"==typeof e.compare?e.compare(t):"function"==typeof t.compare?-t.compare(e):e<t?-1:e>t?1:0},$k=[],Qq=$k.sort,hz=la((function(){$k.sort(void 0)})),iz=la((function(){$k.sort(null)})),jz=ff("sort");ea({target:"Array",proto:!0,forced:hz||!iz||!jz},{sort:function(e){return void 0===e?Qq.call(pb(this)):Qq.call(pb(this),Wb(e))}});var Rq=Object.getPrototypeOf({}),Dg=function(e,t){var n;return e===t||(null==e?e==t:"function"===qa(e.equiv)?e.equiv(t):null==t?e==t:"function"===qa(t.equiv)?t.equiv(e):"string"!==qa(e)&&"string"!==qa(t)&&(null!=(n=Object.getPrototypeOf(e))&&n!==Rq||null!=(n=Object.getPrototypeOf(t))&&n!==Rq?"function"!==qa(e)&&void 0!==e.length&&"function"!==qa(t)&&void 0!==t.length?lz(e,t):e instanceof Set&&t instanceof Set?mz(e,t):e instanceof Map&&t instanceof Map?nz(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:kz(e,t)))},lz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Dg,r=e.length;if(r===t.length)for(;0<=--r&&n(e[r],t[r]););return 0>r},mz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Dg;return e.size===t.size&&n(Z(e.keys()).sort(),Z(t.keys()).sort())},nz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Dg;return e.size===t.size&&n(Z(e).sort(),Z(t).sort())},kz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Dg;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!t.hasOwnProperty(r)||!n(e[r],t[r]))return!1;return!0},Sq=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return void 0!==e?": "+e:""};return function(n){function r(n){return va(this,r),i.call(this,e(n)+t(n))}Ga(r,n);var i=Ha(r);return r}(Kf(Error))},oz=Sq((function(){return"illegal argument(s)"})),ei=function(e){throw new oz(e)},al=Sq((function(){return"index out of bounds"})),Tq=1/4294967295,pz=function(){function e(){va(this,e)}return eb(e,[{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.int()*Tq*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(this.int()*Tq-.5)*e}},{key:"minmax",value:function(e,t){return this.float()*(t-e)+e}}]),e}(),bl=Math.random,qz=new(function(e){function t(){return va(this,t),n.apply(this,arguments)}Ga(t,e);var n=Ha(t);return eb(t,[{key:"int",value:function(){return 4294967296*bl()>>>0}},{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return bl()*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(bl()-.5)*e}}]),t}(pz)),Ni=Symbol(),Lm=function(){},rz=Sk.onFreeze,cl=Object.freeze,sz=la((function(){cl(1)}));ea({target:"Object",stat:!0,forced:sz,sham:!Cq},{freeze:function(e){return cl&&xa(e)?cl(rz(e)):e}});var tz=ff("reduce"),uz=!fd&&79<Cd&&83>Cd;ea({target:"Array",proto:!0,forced:!tz||uz},{reduce:function(e){return $p(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var Km=function(e){return null!=e&&"function"==typeof e.xform?e.xform():e},Xg=function(){function e(t){va(this,e),this.value=t}return eb(e,[{key:"deref",value:function(){return this.value}}]),e}(),Oi=function(e){return e instanceof Xg?e.deref():e},hu=function(e,t){return[e,function(e){return e},t]},vz=N.mark((function(e,t){var n,r,i,o,a,s;return N.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=Km(e)(gu()),r=n[1],i=n[2],o=0;case 4:if(!(o<t.length)){c.next=15;break}if(a=t[o],!((s=i([],a))instanceof Xg)){c.next=10;break}return c.delegateYield(Oi(r(s.deref())),"t0",9);case 9:return c.abrupt("return");case 10:if(!s.length){c.next=12;break}return c.delegateYield(s,"t1",12);case 12:o++,c.next=4;break;case 15:return c.delegateYield(Oi(r([])),"t2",16);case 16:case"end":return c.stop()}}),vz)})),iu=N.mark(Jm),ju=function(e,t){return[e[0],e[1],t]},wz=function(){function e(t){va(this,e),this._length=0,t&&this.into(t)}return eb(e,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new e(this)}},{key:"empty",value:function(){return new e}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var e,t=this.head;t;)e=t.next,delete t.value,delete t.prev,delete t.next,t=e;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(e){var t=this._length;if(t<e._length)return-1;if(t>e._length)return 1;if(0===t)return 0;t=this.head,e=e.head;for(var n=0;t&&0==n;)n=Zk(t.value,e.value),t=t.next,e=e.next;return n}},{key:"equiv",value:function(t){if(!(t instanceof e||null!=t&&"function"!=typeof t&&void 0!==t.length)||this._length!==t.length)return!1;if(!this._length||this===t)return!0;for(var n=this.head,r=0;r<t.length;r++){if(!Dg(n.value,t[r]))return!1;n=n.next}return!0}},{key:Symbol.iterator,value:N.mark((function e(){var t;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"seq",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if(!(e>=t||0>e)){e=this.nthCell(e);var n=this.nthCell(t-1);return t=function e(t){return{first:function(){return t.value},next:function(){return t!==n&&t.next?e(t.next):void 0}}},e?t(e):void 0}}},{key:"cycle",value:N.mark((function e(){return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this,"t0",2);case 2:e.next=0;break;case 4:case"end":return e.stop()}}),e,this)}))},{key:"$reduce",value:function(e,t){for(var n=this.head;n&&!(t instanceof Xg);)t=e(t,n.value),n=n.next;return t}},{key:"drop",value:function(){var e=this.head;if(e)return(this.head=e.next)?delete this.head.prev:delete this.tail,this._length--,e.value}},{key:"cons",value:function(e){return e={value:e,next:this.head},this.head?this.head.prev=e:this.tail=e,this.head=e,this._length++,this}},{key:"insertBefore",value:function(e,t){return e||ei("cell is undefined"),t={value:t,next:e,prev:e.prev},e.prev?e.prev.next=t:this.head=t,e.prev=t,this._length++,this}},{key:"insertAfter",value:function(e,t){return e||ei("cell is undefined"),t={value:t,next:e.next,prev:e},e.next?e.next.prev=t:this.tail=t,e.next=t,this._length++,this}},{key:"insertBeforeNth",value:function(e,t){if(0>e&&(e+=this._length),0>=e)return this.cons(t);if(0>e||e>=this._length)throw new al(e);return this.insertBefore(this.nthCellUnsafe(e),t)}},{key:"insertAfterNth",value:function(e,t){if(0>e&&(e+=this._length),e>=this._length-1)return this.push(t);if(0>e||e>=this._length)throw new al(e);return this.insertAfter(this.nthCellUnsafe(e),t)}},{key:"insertSorted",value:function(e,t){t=t||Zk;for(var n=this.head;n;){if(0>=t(e,n.value))return this.insertBefore(n,e);n=n.next}return this.push(e)}},{key:"find",value:function(e){for(var t=this.head;t;){if(t.value===e)return t;t=t.next}}},{key:"findWith",value:function(e){for(var t=this.head;t;){if(e(t.value))return t;t=t.next}}},{key:"concat",value:function(){for(var e=this.copy(),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e.into(n[t]);return e}},{key:"into",value:function(e){for(var t=0;t<e.length;t++)this.push(e[t])}},{key:"slice",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;t=0>t?t+this._length:t,n=0>n?n+this._length:n,(0>t||0>n)&&ei("invalid indices: ${from} / ${to}");for(var r=new e,i=this.nthCell(t);i&&++t<=n;)r.push(i.value),i=i.next;return r}},{key:"splice",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length?arguments[2]:void 0;if("number"==typeof t){if(0>t&&(t+=this._length),0>t||t>=this._length)throw new al(t);var i=this.nthCellUnsafe(t)}else i=t;var o=new e;if(0<n)for(;i&&0<n--;)this.remove(i),o.push(i.value),i=i.next;else i&&(i=i.next);if(r)if(i)for(n=0;n<r.length;n++)this.insertBefore(i,r[n]);else for(i=0;i<r.length;i++)this.push(r[i]);return o}},{key:"remove",value:function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,this._length--,this}},{key:"swap",value:function(e,t){if(e!==t){var n=e.value;e.value=t.value,t.value=n}return this}},{key:"push",value:function(e){return this.tail?(e={value:e,prev:this.tail},this.tail=this.tail.next=e,this._length++,this):this.cons(e)}},{key:"pop",value:function(){var e=this.tail;if(e)return(this.tail=e.prev)?delete this.tail.next:delete this.head,this._length--,e.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(e){return this.head?(this.head.value=e,this):this.cons(e)}},{key:"setTail",value:function(e){return this.tail?(this.tail.value=e,this):this.push(e)}},{key:"setNth",value:function(e,t){var n=this.nthCell(e);return!n&&ei("index out of bounds: ".concat(e)),n.value=t,this}},{key:"nth",value:function(e,t){return(e=this.nthCell(e))?e.value:t}},{key:"nthCell",value:function(e){if(0>e&&(e+=this._length),!(0>e||e>=this._length))return this.nthCellUnsafe(e)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var e=this.peek();return this.pop(),this.cons(e)}}},{key:"map",value:function(t){for(var n=new e,r=this.head;r;)n.push(t(r.value)),r=r.next;return n}},{key:"filter",value:function(t){for(var n=new e,r=this.head;r;)t(r.value)&&n.push(r.value),r=r.next;return n}},{key:"reduce",value:function(e,t){for(var n=this.head;n;)t=e(t,n.value),n=n.next;return t}},{key:"shuffle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:qz;if(2>this._length)return this;for(e=null!=e?e:Math.ceil(1.5*Math.log2(this._length));0<e;e--)for(var n=this.head;n;){var r=n.next;.5>t.float()?this.asHead(n):this.asTail(n),n=r}return this}},{key:"sort",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Zk;if(!this._length)return this;for(var t=1;;){var n=this.head;this.tail=this.head=void 0;for(var r=0;n;){r++;for(var i=n,o=0,a=0;a<t&&(o++,i=i.next);a++);for(a=t;0<o||0<a&&i;){if(0===o){var s=i;i=i.next,a--}else i&&0!==a?0>=e(n.value,i.value)?(s=n,n=n.next,o--):(s=i,i=i.next,a--):(s=n,n=n.next,o--);this.tail?this.tail.next=s:this.head=s,s.prev=this.tail,this.tail=s}n=i}if(this.tail.next=void 0,1>=r)return this;t*=2}}},{key:"reverse",value:function(){for(var e=this.head,t=this.tail,n=(this._length>>>1)+(1&this._length);e&&t&&0<n;){var r=e.value;e.value=t.value,t.value=r,e=e.next,t=t.prev,n--}return this}},{key:"asHead",value:function(e){return e===this.head||(this.remove(e),this.head.prev=e,e.next=this.head,e.prev=void 0,this.head=e,this._length++),this}},{key:"asTail",value:function(e){return e===this.tail||(this.remove(e),this.tail.next=e,e.prev=this.tail,e.next=void 0,this.tail=e,this._length++),this}},{key:"toString",value:function(){for(var e=[],t=this.head;t;)e.push(String(t.value)),t=t.next;return e.join(", ")}},{key:"toJSON",value:function(){return Z(this)}},{key:"nthCellUnsafe",value:function(e){if(e<=this._length>>1)var t=this.head,n="next";else t=this.tail,n="prev",e=this._length-e-1;for(;0<e--&&t;)t=t[n];return t}}]),e}(),Wc=function(){function e(t,n){va(this,e),n=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},n),this.map=n.map(),this.items=new wz,this._size=0,this.opts=n,t&&this.into(t)}return eb(e,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return Yg((function(e){return[e.k,e]}),this.items)}},{key:"keys",value:function(){return Yg((function(e){return e.k}),this.items)}},{key:"values",value:function(){return Yg((function(e){return e.v}),this.items)}},{key:"copy",value:function(){var e=this.empty();e.items=this.items.copy();for(var t=e.items.head;t;)e.map.set(t.value.k,t),t=t.next;return e}},{key:"empty",value:function(){return new e(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var e=this.opts.release;if(e){for(var t;t=this.items.drop();)e(t.k,t.v);return!0}return this.items.release()}},{key:"has",value:function(e){return this.map.has(e)}},{key:"get",value:function(e,t){return(e=this.map.get(e))?this.resetEntry(e):t}},{key:"set",value:function(e,t){var n=this.opts.ksize(e)+this.opts.vsize(t),r=this.map.get(e);return this._size+=Math.max(0,n-(r?r.value.s:0)),this.ensureSize()&&this.doSetEntry(r,e,t,n),t}},{key:"into",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.set(n[0],n[1])}return this}},{key:"getSet",value:function(e,t){var n=this,r=this.map.get(e);return r?Promise.resolve(this.resetEntry(r)):t().then((function(t){return n.set(e,t)}))}},{key:"delete",value:function(e){return!!(e=this.map.get(e))&&(this.removeEntry(e),!0)}},{key:"resetEntry",value:function(e){return this.items.asTail(e),e.value.v}},{key:"ensureSize",value:function(){for(var e=this.opts.release,t=this.opts.maxsize,n=this.opts.maxlen;this._size>t||this.length>=n;){var r=this.items.drop();if(!r)return!1;this.map.delete(r.k),e&&e(r.k,r.v),this._size-=r.s}return!0}},{key:"removeEntry",value:function(e){var t=e.value;this.map.delete(t.k),this.items.remove(e),this.opts.release&&this.opts.release(t.k,t.v),this._size-=t.s}},{key:"doSetEntry",value:function(e,t,n,r){e?(e.value.v=n,e.value.s=r,this.items.asTail(e)):(this.items.push({k:t,v:n,s:r}),this.map.set(t,this.items.tail))}}]),e}(),xz=function(e){function t(e,r){return va(this,t),r=Object.assign({ttl:36e5},r),n.call(this,e,r)}Ga(t,e);var n=Ha(t);return eb(t,[{key:"empty",value:function(){return new t(null,this.opts)}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"get",value:function(e,t){if(e=this.map.get(e)){if(e.value.t>=Date.now())return this.resetEntry(e);this.removeEntry(e)}return t}},{key:"set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,r=this.opts.ksize(e)+this.opts.vsize(t),i=this.map.get(e);return this._size+=Math.max(0,r-(i?i.value.s:0)),this.ensureSize()&&(n=Date.now()+n,i?(i.value.v=t,i.value.s=r,i.value.t=n,this.items.asTail(i)):(this.items.push({k:e,v:t,s:r,t:n}),this.map.set(e,this.items.tail))),t}},{key:"getSet",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,i=this.get(e);return i?Promise.resolve(i):t().then((function(t){return n.set(e,t,r)}))}},{key:"prune",value:function(){for(var e=Date.now(),t=this.items.head;t;)t.value.t<e&&this.removeEntry(t),t=t.next}},{key:"ensureSize",value:function(){for(var e=this.opts.maxsize,n=this.opts.maxlen,r=Date.now(),i=this.items.head;i&&(this._size>e||this.length>=n);)i.value.t<r&&this.removeEntry(i),i=i.next;return Li(Td(t.prototype),"ensureSize",this).call(this)}}]),t}(Wc),Uq="object"==qa(Ya)&&Ya&&Ya.Object===Object&&Ya,yz="object"==("undefined"==typeof self?"undefined":qa(self))&&self&&self.Object===Object&&self,$b=Uq||yz||Function("return this")(),lc=$b.Symbol,Vq=Object.prototype,zz=Vq.hasOwnProperty,Az=Vq.toString,Eg=lc?lc.toStringTag:void 0,Bz=Object.prototype.toString,Wq=lc?lc.toStringTag:void 0,me=function(e){if(null==e)e=void 0===e?"[object Undefined]":"[object Null]";else if(Wq&&Wq in Object(e)){var t=zz.call(e,Eg),n=e[Eg];try{e[Eg]=void 0;var r=!0}catch(e){}var i=Az.call(e);r&&(t?e[Eg]=n:delete e[Eg]),e=i}else e=Bz.call(e);return e},Gb=function(e){var t=qa(e);return null!=e&&("object"==t||"function"==t)},jj=function(e){return!!Gb(e)&&("[object Function]"==(e=me(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},dl=$b["__core-js_shared__"],Xq=(e=/[^.]+$/.exec(dl&&dl.keys&&dl.keys.IE_PROTO||""),e?"Symbol(src)_1."+e:""),Cz=Function.prototype.toString,ne=function(e){if(null!=e){try{return Cz.call(e)}catch(e){}return e+""}return""},Dz=/^\[object .+?Constructor\]$/,Ez=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=function(e,t){return e=null==e?void 0:e[t],!Gb(e)||Xq&&Xq in e||!(jj(e)?Ez:Dz).test(ne(e))?void 0:e},Fg=oe(Object,"create"),Fz=Object.prototype.hasOwnProperty,Gz=Object.prototype.hasOwnProperty,e;Vd.prototype.clear=function(){this.__data__=Fg?Fg(null):{},this.size=0},Vd.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Vd.prototype.get=function(e){var t=this.__data__;return Fg?"__lodash_hash_undefined__"===(e=t[e])?void 0:e:Fz.call(t,e)?t[e]:void 0},Vd.prototype.has=function(e){var t=this.__data__;return Fg?void 0!==t[e]:Gz.call(t,e)},Vd.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fg&&void 0===t?"__lodash_hash_undefined__":t,this};var Gg=function(e,t){return e===t||e!=e&&t!=t},fi=function(e,t){for(var n=e.length;n--;)if(Gg(e[n][0],t))return n;return-1},Hz=Array.prototype.splice;Ee.prototype.clear=function(){this.__data__=[],this.size=0},Ee.prototype.delete=function(e){var t=this.__data__;return!(0>(e=fi(t,e))||(e==t.length-1?t.pop():Hz.call(t,e,1),--this.size,0))},Ee.prototype.get=function(e){var t=this.__data__;return 0>(e=fi(t,e))?void 0:t[e][1]},Ee.prototype.has=function(e){return-1<fi(this.__data__,e)},Ee.prototype.set=function(e,t){var n=this.__data__,r=fi(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this};var $g=Ee,Hg=oe($b,"Map"),gi=function(e,t){e=e.__data__;var n=qa(t);return("string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map};Fe.prototype.clear=function(){this.size=0,this.__data__={hash:new Vd,map:new(Hg||$g),string:new Vd}},Fe.prototype.delete=function(e){return e=gi(this,e).delete(e),this.size-=e?1:0,e},Fe.prototype.get=function(e){return gi(this,e).get(e)},Fe.prototype.has=function(e){return gi(this,e).has(e)},Fe.prototype.set=function(e,t){var n=gi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Zg=Fe;Lf.prototype.add=Lf.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Lf.prototype.has=function(e){return this.__data__.has(e)};var Yq=function(e,t,n,r){var i=e.length;for(n+=r?1:-1;r?n--:++n<i;)if(t(e[n],n,e))return n;return-1},Iz=function(e){return e!=e},Jz=function(e,t){var n;if(n=!(null==e||!e.length)){if(t==t)e:{n=-1;for(var r=e.length;++n<r;)if(e[n]===t){e=n;break e}e=-1}else e=Yq(e,Iz,0);n=-1<e}return n},Kz=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},Lz=function(e,t){return e.has(t)},uf=oe($b,"Set"),Mz=function(){},el=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Nz=1/0,Oz=uf&&1/el(new uf([,-0]))[1]==Nz?function(e){return new uf(e)}:Mz,fl=function(e,t,n){var r=-1,i=Jz,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=Kz;else if(200<=o){if(i=t?null:Oz(e))return el(i);a=!1,i=Lz,c=new Lf}else c=t?[]:s;e:for(;++r<o;){var l=e[r],u=t?t(l):l;if(l=n||0!==l?l:0,a&&u==u){for(var d=c.length;d--;)if(c[d]===u)continue e;t&&c.push(u),s.push(l)}else i(c,u,n)||(c!==s&&c.push(u),s.push(l))}return s},Zq=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Je=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};Ge.prototype.clear=function(){this.__data__=new $g,this.size=0},Ge.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Ge.prototype.get=function(e){return this.__data__.get(e)},Ge.prototype.has=function(e){return this.__data__.has(e)},Ge.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $g){var r=n.__data__;if(!Hg||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Zg(r)}return n.set(e,t),this.size=n.size,this};var Ie=Ge,su=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},hi=function(){try{var e=oe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ig=function(e,t,n){"__proto__"==t&&hi?hi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Pz=Object.prototype.hasOwnProperty,Qm=function(e,t,n){var r=e[t];Pz.call(e,t)&&Gg(r,n)&&(void 0!==n||t in e)||Ig(e,t,n)},Ue=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?Ig(n,s,c):Qm(n,s,c)}return n},Hc=function(e){return null!=e&&"object"==qa(e)},$q=function(e){return Hc(e)&&"[object Arguments]"==me(e)},ar=Object.prototype,Qz=ar.hasOwnProperty,Rz=ar.propertyIsEnumerable,Vf=$q(function(){return arguments}())?$q:function(e){return Hc(e)&&Qz.call(e,"callee")&&!Rz.call(e,"callee")},ub=Array.isArray,Sz=function(){return!1},Nf=xb((function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e;t=n&&n.exports===t?$b.Buffer:void 0,e.exports=(t?t.isBuffer:void 0)||Sz})),Tz=/^(?:0|[1-9]\d*)$/,gl=function(e,t){var n=qa(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Tz.test(e))&&-1<e&&0==e%1&&e<t},hl=function(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e},Va={};Va["[object Float32Array]"]=Va["[object Float64Array]"]=Va["[object Int8Array]"]=Va["[object Int16Array]"]=Va["[object Int32Array]"]=Va["[object Uint8Array]"]=Va["[object Uint8ClampedArray]"]=Va["[object Uint16Array]"]=Va["[object Uint32Array]"]=!0,Va["[object Arguments]"]=Va["[object Array]"]=Va["[object ArrayBuffer]"]=Va["[object Boolean]"]=Va["[object DataView]"]=Va["[object Date]"]=Va["[object Error]"]=Va["[object Function]"]=Va["[object Map]"]=Va["[object Number]"]=Va["[object Object]"]=Va["[object RegExp]"]=Va["[object Set]"]=Va["[object String]"]=Va["[object WeakMap]"]=!1;var Uz=function(e){return Hc(e)&&hl(e.length)&&!!Va[me(e)]},ii=function(e){return function(t){return e(t)}},vf=xb((function(e,t){var n=t&&!t.nodeType&&t;n=(t=n&&e&&!e.nodeType&&e)&&t.exports===n&&Uq.process;e:{try{var r=t&&t.require&&t.require("util").types;if(r){var i=r;break e}i=n&&n.binding&&n.binding("util");break e}catch(e){}i=void 0}e.exports=i})),br=vf&&vf.isTypedArray,Ui=br?ii(br):Uz,Vz=Object.prototype.hasOwnProperty,cr=function(e,t){var n=ub(e),r=!n&&Vf(e),i=!n&&!r&&Nf(e),o=!n&&!r&&!i&&Ui(e);if(n=n||r||i||o){r=e.length;for(var a=String,s=-1,c=Array(r);++s<r;)c[s]=a(s);r=c}else r=[];for(var l in a=r.length,e)!t&&!Vz.call(e,l)||n&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||gl(l,a))||r.push(l);return r},Wz=Object.prototype,il=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Wz)},dr=function(e,t){return function(n){return e(t(n))}},Xz=dr(Object.keys,Object),Yz=Object.prototype.hasOwnProperty,ae=function(e){return null!=e&&hl(e.length)&&!jj(e)},Wd=function(e){if(ae(e))e=cr(e);else if(il(e)){var t,n=[];for(t in Object(e))Yz.call(e,t)&&"constructor"!=t&&n.push(t);e=n}else e=Xz(e);return e},ou=function(e,t){return e&&Ue(t,Wd(t),e)},Zz=Object.prototype.hasOwnProperty,Of=function(e){if(ae(e))e=cr(e,!0);else if(Gb(e)){var t=il(e),n=[];for(r in e)("constructor"!=r||!t&&Zz.call(e,r))&&n.push(r);e=n}else{var r=[];if(null!=e)for(t in Object(e))r.push(t);e=r}return e},mu=function(e,t){return e&&Ue(t,Of(t),e)},Nm=xb((function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,r=(t=n&&n.exports===t?$b.Buffer:void 0)?t.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=r?r(t):new e.constructor(t),e.copy(t),t)}})),Pi=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},$z=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},er=function(){return[]},aA=Object.prototype.propertyIsEnumerable,fr=Object.getOwnPropertySymbols,jl=fr?function(e){return null==e?[]:(e=Object(e),$z(fr(e),(function(t){return aA.call(e,t)})))}:er,nu=function(e,t){return Ue(e,jl(e),t)},Ti=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},kl=dr(Object.getPrototypeOf,Object),gr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ti(t,jl(e)),e=kl(e);return t}:er,lu=function(e,t){return Ue(e,gr(e),t)},hr=function(e,t,n){return t=t(e),ub(e)?t:Ti(t,n(e))},Qi=function(e){return hr(e,Wd,jl)},Pm=function(e){return hr(e,Of,gr)},ll=oe($b,"DataView"),ml=oe($b,"Promise"),nl=oe($b,"WeakMap"),bA=ne(ll),cA=ne(Hg),dA=ne(ml),eA=ne(uf),fA=ne(nl),pe=me;(ll&&"[object DataView]"!=pe(new ll(new ArrayBuffer(1)))||Hg&&"[object Map]"!=pe(new Hg)||ml&&"[object Promise]"!=pe(ml.resolve())||uf&&"[object Set]"!=pe(new uf)||nl&&"[object WeakMap]"!=pe(new nl))&&(pe=function(e){var t=me(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?ne(e):"")switch(e){case bA:return"[object DataView]";case cA:return"[object Map]";case dA:return"[object Promise]";case eA:return"[object Set]";case fA:return"[object WeakMap]"}return t});var Mf=pe,gA=Object.prototype.hasOwnProperty,ku=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&gA.call(e,"index")&&(n.index=e.index,n.input=e.input),n},ji=$b.Uint8Array,ol=function(e){var t=new e.constructor(e.byteLength);return new ji(t).set(new ji(e)),t},hA=/\w*$/,ir=lc?lc.prototype:void 0,jr=ir?ir.valueOf:void 0,Bn=function(e,t){return t=t?ol(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)},pu=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return ol(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return t=n?ol(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Bn(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return(t=new e.constructor(e.source,hA.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return jr?Object(jr.call(e)):{}}},kr=Object.create,iA=function(){function e(){}return function(t){return Gb(t)?kr?kr(t):(e.prototype=t,t=new e,e.prototype=void 0,t):{}}}(),Om=function(e){return"function"!=typeof e.constructor||il(e)?{}:iA(kl(e))},jA=function(e){return Hc(e)&&"[object Map]"==Mf(e)},lr=vf&&vf.isMap,ru=lr?ii(lr):jA,kA=function(e){return Hc(e)&&"[object Set]"==Mf(e)},mr=vf&&vf.isSet,qu=mr?ii(mr):kA,Oa={};Oa["[object Arguments]"]=Oa["[object Array]"]=Oa["[object ArrayBuffer]"]=Oa["[object DataView]"]=Oa["[object Boolean]"]=Oa["[object Date]"]=Oa["[object Float32Array]"]=Oa["[object Float64Array]"]=Oa["[object Int8Array]"]=Oa["[object Int16Array]"]=Oa["[object Int32Array]"]=Oa["[object Map]"]=Oa["[object Number]"]=Oa["[object Object]"]=Oa["[object RegExp]"]=Oa["[object Set]"]=Oa["[object String]"]=Oa["[object Symbol]"]=Oa["[object Uint8Array]"]=Oa["[object Uint8ClampedArray]"]=Oa["[object Uint16Array]"]=Oa["[object Uint32Array]"]=!0,Oa["[object Error]"]=Oa["[object Function]"]=Oa["[object WeakMap]"]=!1;var Ke=function(e){return"symbol"==qa(e)||Hc(e)&&"[object Symbol]"==me(e)},lA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mA=/^\w*$/,pl=function(e,t){if(ub(e))return!1;var n=qa(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ke(e))||mA.test(e)||!lA.test(e)||null!=t&&e in Object(t)};Ri.Cache=Zg;var nA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oA=/\\(\\)?/g,pA=function(e){var t=(e=Ri(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(nA,(function(e,n,r,i){t.push(r?i.replace(oA,"$1"):n||e)})),t})),tu=1/0,nr=lc?lc.prototype:void 0,Sm=nr?nr.toString:void 0,ki=function(e,t){return ub(e)?e:pl(e,t)?[e]:pA(null==e?"":Rm(e))},qA=1/0,Jg=function(e){if("string"==typeof e||Ke(e))return e;var t=e+"";return"0"==t&&1/e==-qA?"-0":t},li=function(e,t){for(var n=0,r=(t=ki(t,e)).length;null!=e&&n<r;)e=e[Jg(t[n++])];return n&&n==r?e:void 0},rA=function(e,t){if(!(2>(t=ki(t,e)).length)){var n=t,r=0,i=-1,o=-1,a=n.length;for(0>r&&(r=-r>a?0:a+r),0>(i=i>a?a:i)&&(i+=a),a=r>i?0:i-r>>>0,r>>>=0,i=Array(a);++o<a;)i[o]=n[o+r];e=li(e,i)}return(n=null==e)||(n=null==t?0:t.length,n=delete e[Jg(n?t[n-1]:void 0)]),n},or=Function.prototype.toString,sA=Object.prototype.hasOwnProperty,tA=or.call(Object),Cn=function(e){return!(!Hc(e)||"[object Object]"!=me(e))&&(null===(e=kl(e))||"function"==typeof(e=sA.call(e,"constructor")&&e.constructor)&&e instanceof e&&or.call(e)==tA)},uA=function(e){return Cn(e)?void 0:e},pr=lc?lc.isConcatSpreadable:void 0,uu=function(e){return ub(e)||Vf(e)||!!(pr&&e&&e[pr])},vA=function(e){return null!=e&&e.length?Si(e,1):[]},wA=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},qr=Math.max,rr=function(e,t,n){return t=qr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=qr(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];for(i=-1,o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),wA(e,this,o)}},xA=function(e){return function(){return e}},mi=function(e){return e},yA=Date.now,sr=function(e){var t=0,n=0;return function(){var r=yA(),i=16-(r-n);if(n=r,0<i){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(hi?function(e,t){return hi(e,"toString",{configurable:!0,enumerable:!1,value:xA(t),writable:!0})}:mi),ql=function(e){return sr(rr(e,void 0,vA),e+"")}((function(e,t){var n={};if(null==e)return n;var r=!1;t=Je(t,(function(t){return t=ki(t,e),r||(r=1<t.length),t})),Ue(e,Pm(e),n),r&&(n=He(n,7,uA));for(var i=t.length;i--;)rA(n,t[i]);return n})),zA=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r},An=function(e,t,n){for(var r=-1,i=Object(e),o=(n=n(e)).length;o--;){var a=n[++r];if(!1===t(i[a],a,i))break}return e},tr=function(e,t){return e&&An(e,t,Wd)},rl=function(e,t){return function(t,n){if(null==t)return t;if(!ae(t))return e(t,n);for(var r=t.length,i=-1,o=Object(t);++i<r&&!1!==n(o[i],i,o););return t}}(tr),AA=function(e,t,n,r){return rl(e,(function(e,i,o){t(r,e,n(e),o)})),r},ur=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Tm=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;c=o.get(e);var l=o.get(t);if(c&&l)return c==t&&l==e;c=-1,l=!0;var u=2&n?new Lf:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],h=t[c];if(r)var p=a?r(h,d,c,t,e,o):r(d,h,c,e,t,o);if(void 0!==p){if(p)continue;l=!1;break}if(u){if(!ur(t,(function(e,t){if(!u.has(t)&&(d===e||i(d,e,n,r,o)))return u.push(t)}))){l=!1;break}}else if(d!==h&&!i(d,h,n,r,o)){l=!1;break}}return o.delete(e),o.delete(t),l},BA=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},vr=lc?lc.prototype:void 0,sl=vr?vr.valueOf:void 0,vu=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!o(new ji(e),new ji(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Gg(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=BA;case"[object Set]":if(s||(s=el),e.size!=t.size&&!(1&r))break;return(n=a.get(e))?n==t:(r|=2,a.set(e,t),t=Tm(s(e),s(t),r,i,o,a),a.delete(e),t);case"[object Symbol]":if(sl)return sl.call(e)==sl.call(t)}return!1},wu=Object.prototype.hasOwnProperty,Um=Object.prototype.hasOwnProperty,CA=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],l=e[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in e))return!1}else{if(s=new Ie,r)var d=r(l,u,c,e,t,s);if(void 0===d?!Le(u,l,3,r,s):!d)return!1}}return!0},DA=function(e){for(var t=Wd(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,i==i&&!Gb(i)]}return t},wr=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},EA=function(e){var t=DA(e);return 1==t.length&&t[0][2]?wr(t[0][0],t[0][1]):function(n){return n===e||CA(n,e,t)}},FA=function(e,t){return pl(e)&&t==t&&!Gb(t)?wr(Jg(e),t):function(n){var r=null==n?void 0:li(n,e);if(void 0===(r=void 0===r?void 0:r)&&r===t){if(r=null!=n){for(var i=-1,o=(r=ki(r=e,n)).length,a=!1;++i<o;){var s=Jg(r[i]);if(!(a=null!=n&&null!=n&&s in Object(n)))break;n=n[s]}r=a||++i!=o?a:!!(o=null==n?0:n.length)&&hl(o)&&gl(s,o)&&(ub(n)||Vf(n))}s=r}else s=Le(t,r,3);return s}},GA=function(e){return function(t){return null==t?void 0:t[e]}},HA=function(e){return function(t){return li(t,e)}},wf=function(e){return"function"==typeof e?e:null==e?mi:"object"==qa(e)?ub(e)?FA(e[0],e[1]):EA(e):pl(e)?GA(Jg(e)):HA(e)},tl=function(e,t){return function(t,n){return(ub(t)?zA:AA)(t,e,wf(n),{})}}((function(e,t,n){Ig(e,n,t)})),md=function(e,t){var n={};return t=wf(t),tr(e,(function(e,r,i){Ig(n,r,t(e,r,i))})),n};ea({target:"String",proto:!0,forced:la((function(){var e="".sub('"');return e!==e.toLowerCase()||3<e.split('"').length}))},{sub:function(){return"<sub>"+String(Eb(this))+"</sub>"}});var P=Pa,mc=null;try{mc=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(c){}Pa.prototype.__isLong__,Object.defineProperty(Pa.prototype,"__isLong__",{value:!0}),Pa.isLong=Hb;var Wm={},Vm={};Pa.fromInt=Xd,Pa.fromNumber=ec,Pa.fromBits=Qa;var ah=Math.pow;Pa.fromString=Vi,Pa.fromValue=vc;var Me=4294967296,Xm=Me*Me,Zm=Xm/2,xr=Xd(16777216),fc=Xd(0);Pa.ZERO=fc;var Yd=Xd(0,!0);Pa.UZERO=Yd;var xf=Xd(1);Pa.ONE=xf;var yr=Xd(1,!0);Pa.UONE=yr;var ul=Xd(-1);Pa.NEG_ONE=ul;var $m=Qa(-1,2147483647,!1);Pa.MAX_VALUE=$m;var Ym=Qa(-1,-1,!0);Pa.MAX_UNSIGNED_VALUE=Ym;var Ib=Qa(0,-2147483648,!1);Pa.MIN_VALUE=Ib;var V=Pa.prototype;V.toInt=function(){return this.unsigned?this.low>>>0:this.low},V.toNumber=function(){return this.unsigned?(this.high>>>0)*Me+(this.low>>>0):this.high*Me+(this.low>>>0)},V.toString=function(e){if(2>(e=e||10)||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ib)){var t=ec(e),n=this.div(t);return t=n.mul(t).sub(this),n.toString(e)+t.toInt().toString(e)}return"-"+this.neg().toString(e)}n=ec(ah(e,6),this.unsigned),t=this;for(var r="";;){var i=t.div(n),o=(t.sub(i.mul(n)).toInt()>>>0).toString(e);if((t=i).isZero())return o+r;for(;6>o.length;)o="0"+o;r=""+o+r}},V.getHighBits=function(){return this.high},V.getHighBitsUnsigned=function(){return this.high>>>0},V.getLowBits=function(){return this.low},V.getLowBitsUnsigned=function(){return this.low>>>0},V.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ib)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},V.isZero=function(){return 0===this.high&&0===this.low},V.eqz=V.isZero,V.isNegative=function(){return!this.unsigned&&0>this.high},V.isPositive=function(){return this.unsigned||0<=this.high},V.isOdd=function(){return 1==(1&this.low)},V.isEven=function(){return 0==(1&this.low)},V.equals=function(e){return Hb(e)||(e=vc(e)),(this.unsigned===e.unsigned||1!=this.high>>>31||1!=e.high>>>31)&&this.high===e.high&&this.low===e.low},V.eq=V.equals,V.notEquals=function(e){return!this.eq(e)},V.neq=V.notEquals,V.ne=V.notEquals,V.lessThan=function(e){return 0>this.comp(e)},V.lt=V.lessThan,V.lessThanOrEqual=function(e){return 0>=this.comp(e)},V.lte=V.lessThanOrEqual,V.le=V.lessThanOrEqual,V.greaterThan=function(e){return 0<this.comp(e)},V.gt=V.greaterThan,V.greaterThanOrEqual=function(e){return 0<=this.comp(e)},V.gte=V.greaterThanOrEqual,V.ge=V.greaterThanOrEqual,V.compare=function(e){if(Hb(e)||(e=vc(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},V.comp=V.compare,V.negate=function(){return!this.unsigned&&this.eq(Ib)?Ib:this.not().add(xf)},V.neg=V.negate,V.add=function(e){Hb(e)||(e=vc(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=e.high>>>16,o=65535&e.high,a=e.low>>>16;return r=(a=((e=(65535&this.low)+(65535&e.low))>>>16)+(r+a))>>>16,Qa((65535&a)<<16|65535&e,(t=((r+=n+o)>>>16)+(t+i)&65535)<<16|65535&r,this.unsigned)},V.subtract=function(e){return Hb(e)||(e=vc(e)),this.add(e.neg())},V.sub=V.subtract,V.multiply=function(e){if(this.isZero())return fc;if(Hb(e)||(e=vc(e)),mc){var t=mc.mul(this.low,this.high,e.low,e.high);return Qa(t,mc.get_high(),this.unsigned)}if(e.isZero())return fc;if(this.eq(Ib))return e.isOdd()?Ib:fc;if(e.eq(Ib))return this.isOdd()?Ib:fc;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(xr)&&e.lt(xr))return ec(this.toNumber()*e.toNumber(),this.unsigned);t=this.high>>>16;var n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,a=65535&e.high,s=e.low>>>16,c=i*(e=65535&e.low),l=(c>>>16)+r*e,u=l>>>16;u+=(l=(65535&l)+i*s)>>>16;var d=(u+=n*e)>>>16;return Qa((65535&l)<<16|65535&c,(d=(d+=(u=(65535&u)+r*s)>>>16)+((u=(65535&u)+i*a)>>>16)+(t*e+n*s+r*a+i*o)&65535)<<16|65535&u,this.unsigned)},V.mul=V.multiply,V.divide=function(e){if(Hb(e)||(e=vc(e)),e.isZero())throw Error("division by zero");if(mc)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Qa(e=(this.unsigned?mc.div_u:mc.div_s)(this.low,this.high,e.low,e.high),mc.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Yd:fc;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Yd;if(e.gt(this.shru(1)))return yr;var t=Yd}else{if(this.eq(Ib)){if(e.eq(xf)||e.eq(ul))return Ib;if(e.eq(Ib))return xf;var n=this.shr(1).div(e).shl(1);if(n.eq(fc))return e.isNegative()?xf:ul;var r=this.sub(e.mul(n));return n.add(r.div(e))}if(e.eq(Ib))return this.unsigned?Yd:fc;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();t=fc}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var i=Math.ceil(Math.log(n)/Math.LN2);i=48>=i?1:ah(2,i-48);for(var o=ec(n),a=o.mul(e);a.isNegative()||a.gt(r);)a=(o=ec(n-=i,this.unsigned)).mul(e);o.isZero()&&(o=xf),t=t.add(o),r=r.sub(a)}return t},V.div=V.divide,V.modulo=function(e){return Hb(e)||(e=vc(e)),mc?Qa(e=(this.unsigned?mc.rem_u:mc.rem_s)(this.low,this.high,e.low,e.high),mc.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},V.mod=V.modulo,V.rem=V.modulo,V.not=function(){return Qa(~this.low,~this.high,this.unsigned)},V.and=function(e){return Hb(e)||(e=vc(e)),Qa(this.low&e.low,this.high&e.high,this.unsigned)},V.or=function(e){return Hb(e)||(e=vc(e)),Qa(this.low|e.low,this.high|e.high,this.unsigned)},V.xor=function(e){return Hb(e)||(e=vc(e)),Qa(this.low^e.low,this.high^e.high,this.unsigned)},V.shiftLeft=function(e){return Hb(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?Qa(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Qa(0,this.low<<e-32,this.unsigned)},V.shl=V.shiftLeft,V.shiftRight=function(e){return Hb(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?Qa(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Qa(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},V.shr=V.shiftRight,V.shiftRightUnsigned=function(e){if(Hb(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return 32>e?Qa(this.low>>>e|t<<32-e,t>>>e,this.unsigned):Qa(32===e?t:t>>>e-32,0,this.unsigned)},V.shru=V.shiftRightUnsigned,V.shr_u=V.shiftRightUnsigned,V.toSigned=function(){return this.unsigned?Qa(this.low,this.high,!1):this},V.toUnsigned=function(){return this.unsigned?this:Qa(this.low,this.high,!0)},V.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},V.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},V.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},Pa.fromBytes=function(e,t,n){return n?Pa.fromBytesLE(e,t):Pa.fromBytesBE(e,t)},Pa.fromBytesLE=function(e,t){return new Pa(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},Pa.fromBytesBE=function(e,t){return new Pa(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var Wi=function(e,t){return(Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},vl=!1,gc={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e?console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Error().stack):vl&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),vl=e},get useDeprecatedSynchronousErrorHandling(){return vl}},ni={closed:!0,next:function(e){},error:function(e){if(gc.useDeprecatedSynchronousErrorHandling)throw e;Oe(e)},complete:function(){}},hc=Array.isArray||function(e){return e&&"number"==typeof e.length},Pf=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),nb=function(){function e(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(null!==t)for(var o=0;o<t.length;++o)t[o].remove(this);if(Ne(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){var a=e instanceof Pf?an(e.errors):[e]}}if(hc(i))for(o=-1,t=i.length;++o<t;)if(Xi(n=i[o]))try{n.unsubscribe()}catch(e){a=a||[],e instanceof Pf?a=a.concat(an(e.errors)):a.push(e)}if(a)throw new Pf(a)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(qa(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof e||(t=n,(n=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=n._parentOrParents))n._parentOrParents=this;else if(t instanceof e){if(t===this)return n;n._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return n;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[n]:t.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;t&&-1!==(e=t.indexOf(e))&&t.splice(e,1)},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),oi="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),za=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=ni;break;case 1:if(!n){o.destination=ni;break}if("object"===qa(n)){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new zr(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new zr(o,n,r,i)}return o}return ha(t,e),t.prototype[oi]=function(){return this},t.create=function(e,n,r){return(e=new t(e,n,r)).syncErrorThrowable=!1,e},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=e,this},t}(nb),zr=function(e){function t(t,n,r,i){var o=e.call(this)||this;if(o._parentSubscriber=t,t=o,Ne(n))var a=n;else n&&(a=n.next,r=n.error,i=n.complete,n!==ni&&(Ne((t=Object.create(n)).unsubscribe)&&o.add(t.unsubscribe.bind(t)),t.unsubscribe=o.unsubscribe.bind(o)));return o._context=t,o._next=a,o._error=r,o._complete=i,o}return ha(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;gc.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=gc.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Oe(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Oe(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};gc.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,n):this.__tryOrUnsub(n)}this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),gc.useDeprecatedSynchronousErrorHandling)throw e;Oe(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!gc.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{t.call(this._context,n)}catch(t){return gc.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):Oe(t),!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._parentSubscriber=this._context=null,e.unsubscribe()},t}(za),Pe="function"==typeof Symbol&&Symbol.observable||"@@observable",ua=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator;e:{if(e){if(e instanceof za)break e;if(e[oi]){e=e[oi]();break e}}e=e||t||n?new za(e,t,n):new za(ni)}if(r?e.add(r.call(e,this.source)):e.add(this.source||gc.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),gc.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){gc.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Yi(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=cn(t))((function(t,r){var i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[Pe]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:bn(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=cn(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}(),Ld=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Ar=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return ha(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;this.subject=null,!t||0===t.length||e.isStopped||e.closed||-1!==(e=t.indexOf(this.subscriber))&&t.splice(e,1)}},t}(nb),Br=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return ha(t,e),t}(za),rb=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return ha(t,e),t.prototype[oi]=function(){return new Br(this)},t.prototype.lift=function(e){var t=new Cr(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Ld;if(!this.isStopped){var t=this.observers,n=t.length;t=t.slice();for(var r=0;r<n;r++)t[r].next(e)}},t.prototype.error=function(e){if(this.closed)throw new Ld;this.hasError=!0,this.thrownError=e,this.isStopped=!0;var t=this.observers,n=t.length;t=t.slice();for(var r=0;r<n;r++)t[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Ld;this.isStopped=!0;var e=this.observers,t=e.length;e=e.slice();for(var n=0;n<t;n++)e[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Ld;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Ld;return this.hasError?(e.error(this.thrownError),nb.EMPTY):this.isStopped?(e.complete(),nb.EMPTY):(this.observers.push(e),new Ar(this,e))},t.prototype.asObservable=function(){var e=new ua;return e.source=this,e},t.create=function(e,t){return new Cr(e,t)},t}(ua),Cr=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return ha(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):nb.EMPTY},t}(rb),xu=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;return n._refCount++,e=new IA(e,n),t=t.subscribe(e),e.closed||(e.connection=n.connect()),t},e}(),IA=function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}return ha(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null},t}(za),Dr=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return ha(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new nb).add(this.source.subscribe(new JA(this.getSubject(),this))),e.closed&&(this._connection=null,e=nb.EMPTY)),e},t.prototype.refCount=function(){return dn()(this)},t}(ua),lv=function(){var e=Dr.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),JA=function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}return ha(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(Br);!function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}ha(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null}}(za),function(e){function t(t,n,r,i,o){return(t=e.call(this,t)||this).keySelector=n,t.elementSelector=r,t.durationSelector=i,t.subjectSelector=o,t.groups=null,t.attemptedToUnsubscribe=!1,t.count=0,t}ha(t,e),t.prototype._next=function(e){try{var t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r=n.get(t);if(this.elementSelector)try{var i=this.elementSelector(e)}catch(e){this.error(e)}else i=e;if(!r&&(r=this.subjectSelector?this.subjectSelector():new rb,n.set(t,r),e=new wl(t,r,this),this.destination.next(e),this.durationSelector)){e=void 0;try{e=this.durationSelector(new wl(t,r))}catch(e){return void this.error(e)}this.add(e.subscribe(new KA(t,r,this)))}r.closed||r.next(i)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))}}(za);var KA=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return ha(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(za),wl=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return ha(t,e),t.prototype._subscribe=function(e){var t=new nb,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new LA(n)),t.add(r.subscribe(e)),t},t}(ua),LA=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return ha(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),--t.count,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(nb),MA=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return ha(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ld;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(rb),Kg=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return ha(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,e=this.id;var n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(e=this._execute(e,t))?e:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(e,t){t=!1;var n=void 0;try{this.work(e)}catch(e){t=!0,n=!!e&&e||Error(e)}if(t)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return ha(t,e),t.prototype.schedule=function(e,t){return this},t}(nb)),NA=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return ha(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),0<n?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return 0<n||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(Kg),xl=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Lg=function(e){function t(n,r){void 0===r&&(r=xl.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return ha(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(xl),Mg=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ha(t,e),t}(Lg))(NA),Sb=new ua((function(e){return e.complete()})),en=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},yl;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(yl||(yl={}));var yf=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return ob(this.value);case"E":return ra(this.error);case"C":return Qf()}throw Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),Bu=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new Er(e,this.scheduler,this.delay))},e}(),Er=function(e){function t(t,n,r){return void 0===r&&(r=0),(t=e.call(this,t)||this).scheduler=n,t.delay=r,t}return ha(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new OA(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(yf.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(yf.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(yf.createComplete()),this.unsubscribe()},t}(za),OA=function(e,t){this.notification=e,this.destination=t},Te=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=1>t?1:t,i._windowTime=1>n?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return ha(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new PA(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;if(this.closed)throw new Ld;if(this.isStopped||this.hasError)var o=nb.EMPTY;else this.observers.push(e),o=new Ar(this,e);if(r&&e.add(e=new Er(e,r)),t)for(t=0;t<i&&!e.closed;t++)e.next(n[t]);else for(t=0;t<i&&!e.closed;t++)e.next(n[t].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o},t.prototype._getNow=function(){return(this.scheduler||Mg).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),0<o&&r.splice(0,o),r},t}(rb),PA=function(e,t){this.time=e,this.value=t},Sf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return ha(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),nb.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),nb.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(rb),QA=1,RA=Promise.resolve(),aj={},Fr={setImmediate:function(e){var t=QA++;return aj[t]=!0,RA.then((function(){return fn(t)&&e()})),t},clearImmediate:function(e){fn(e)}},SA=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return ha(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=Fr.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(Fr.clearImmediate(n),t.scheduled=void 0)},t}(Kg),kj=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ha(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(Lg))(SA),TA=kj,zl=new Lg(Kg),cd=zl,UA=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return ha(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(Kg),Gr=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ha(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(Lg))(UA),VA=function(e){function t(t,n){void 0===t&&(t=Hr),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return ha(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(Lg),Hr=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return ha(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),this.delay=e.frame+r,(e=e.actions).push(this),e.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(Kg),Al=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),eh=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Tb=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),Cu=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new WA(e,this.project,this.thisArg))},e}(),WA=function(e){function t(t,n,r){return(t=e.call(this,t)||this).project=n,t.count=0,t.thisArg=r||t,t}return ha(t,e),t.prototype._next=function(e){try{var t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(za),Bl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ha(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(za),Hu=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return ha(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(za),XA=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Oe),t}},xd="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",YA=function(e){return function(t){for(var n=e[xd]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}},ZA=function(e){return function(t){var n=e[Pe]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},mn=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},Tf=function(e){if(e&&"function"==typeof e[Pe])return ZA(e);if(mn(e))return en(e);if(kn(e))return XA(e);if(e&&"function"==typeof e[xd])return YA(e);throw e=Xi(e)?"an invalid object":"'"+e+"'",new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},Ir={},aB=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new $A(e,this.resultSelector))},e}(),$A=function(e){function t(t,n){return(t=e.call(this,t)||this).resultSelector=n,t.active=0,t.values=[],t.observables=[],t}return ha(t,e),t.prototype._next=function(e){this.values.push(Ir),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.toRespond=this.active=t;for(var n=0;n<t;n++)this.add(bj(this,e[n],void 0,n))}},t.prototype.notifyComplete=function(e){0==--this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=(e=this.values)[n];r=this.toRespond?r===Ir?--this.toRespond:this.toRespond:0,e[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(e):this.destination.next(e.slice()))},t.prototype._tryResultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Bl),nd=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return ha(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(za);!function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i}ha(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}}(za);var od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ha(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(za);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}ha(t,e),t.prototype.notifyNext=function(e,t,n,r){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()}}(za);var Lu=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new bB(e,this.project,this.concurrent))},e}(),bB=function(e){function t(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),(t=e.call(this,t)||this).project=n,t.concurrent=r,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}return ha(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var n=this.project(e,t)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(n)},t.prototype._innerSub=function(e){var t=new nd(this),n=this.destination;n.add(t),(e=bd(e,t))!==t&&n.add(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(od),Cl=R.parseFloat,Jr=-1/0!=1/Cl("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff-0")?function(e){e=Oj(String(e));var t=Cl(e);return 0===t&&"-"==e.charAt(0)?-0:t}:Cl;ea({global:!0,forced:parseFloat!=Jr},{parseFloat:Jr});var Dl=new ua(Ic),Qu=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new cB(e,this.predicate,this.thisArg))},e}(),cB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).predicate=n,t.thisArg=r,t.count=0,t}return ha(t,e),t.prototype._next=function(e){try{var t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(za),Ru=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new dB(e))},e}(),dB=function(e){function t(t){return(t=e.call(this,t)||this).hasFirst=!1,t.observables=[],t.subscriptions=[],t}return ha(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=bj(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){for(this.hasFirst=!0,e=0;e<this.subscriptions.length;e++)if(e!==n){var r=this.subscriptions[e];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(t)},t}(Bl),Uu=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new eB(e,this.resultSelector))},e}(),eB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).resultSelector=n,t.iterators=[],t.active=0,t.resultSelector="function"==typeof n?n:void 0,t}return ha(t,e),t.prototype._next=function(e){var t=this.iterators;hc(e)?t.push(new fB(e)):"function"==typeof e[xd]?t.push(new gB(e[xd]())):t.push(new hB(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0===t)this.destination.complete();else{this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}var o=!1,a=[];for(r=0;r<t;r++){var s=(i=e[r]).next();if(i.hasCompleted()&&(o=!0),s.done)return void n.complete();a.push(s.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()},t.prototype._tryresultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(za),gB=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return!(!e||!e.done)},e}(),fB=function(){function e(e){this.array=e,this.length=this.index=0,this.length=e.length}return e.prototype[xd]=function(){return this},e.prototype.next=function(e){e=this.index++;var t=this.array;return e<this.length?{value:t[e],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),hB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).parent=n,t.observable=r,t.stillUnsubscribed=!0,t.buffer=[],t.isComplete=!1,t}return ha(t,e),t.prototype[xd]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return bd(this.observable,new nd(this))},t}(od),iB=Object.freeze({__proto__:null,Observable:ua,ConnectableObservable:Dr,GroupedObservable:wl,observable:Pe,Subject:rb,BehaviorSubject:MA,ReplaySubject:Te,AsyncSubject:Sf,asap:TA,asapScheduler:kj,async:cd,asyncScheduler:zl,queue:Mg,queueScheduler:Mg,animationFrame:Gr,animationFrameScheduler:Gr,VirtualTimeScheduler:VA,VirtualAction:Hr,Scheduler:xl,Subscription:nb,Subscriber:za,Notification:yf,get NotificationKind(){return yl},pipe:Zi,noop:Ic,identity:wd,isObservable:function(e){return!!e&&(e instanceof ua||"function"==typeof e.lift&&"function"==typeof e.subscribe)},ArgumentOutOfRangeError:Al,EmptyError:eh,ObjectUnsubscribedError:Ld,UnsubscriptionError:Pf,TimeoutError:Tb,bindCallback:gn,bindNodeCallback:hn,combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=t=void 0;return ad(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&hc(e[0])&&(e=e[0]),Rf(e,n).lift(new aB(t))},concat:nn,defer:yd,empty:Qf,forkJoin:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(hc(n))return ch(n,null);if(Xi(n)&&Object.getPrototypeOf(n)===Object.prototype)return ch((e=Object.keys(n)).map((function(e){return n[e]})),e)}if("function"==typeof e[e.length-1]){var r=e.pop();return ch(e=1===e.length&&hc(e[0])?e[0]:e,null).pipe(Ea((function(e){return r.apply(void 0,e)})))}return ch(e,null)},from:Jc,fromEvent:Db,fromEventPattern:pn,generate:function(e,t,n,r,i){if(1==arguments.length){var o=e.initialState;t=e.condition,n=e.iterate;var a=e.resultSelector||wd;i=e.scheduler}else void 0===r||ad(r)?(o=e,a=wd,i=r):(o=e,a=r);return new ua((function(e){var r=o;if(i)return i.schedule(Mu,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var s=void 0;try{s=t(r)}catch(t){e.error(t);break}if(!s){e.complete();break}}s=void 0;try{s=a(r)}catch(t){e.error(t);break}if(e.next(s),e.closed)break;try{r=n(r)}catch(t){e.error(t);break}}}))},iif:function(e,t,n){return void 0===t&&(t=Sb),void 0===n&&(n=Sb),yd((function(){return e()?t:n}))},interval:Qe,merge:Jb,never:function(){return Dl},of:ob,onErrorResumeNext:dj,pairs:function(e,t){return new ua(t?function(n){var r=Object.keys(e),i=new nb;return i.add(t.schedule(Ou,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i}:function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})},partition:function(e,t,n){return[yb(t,n)(new ua(Tf(e))),yb(Pu(t,n))(new ua(Tf(e)))]},race:fb,range:function(e,t,n){return void 0===e&&(e=0),new ua((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(Su,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))},throwError:ra,timer:dd,using:function(e,t){return new ua((function(n){try{var r=e()}catch(e){return void n.error(e)}try{var i=t(r)}catch(e){return void n.error(e)}var o=(i?Jc(i):Sb).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))},zip:ej,scheduled:ln,EMPTY:Sb,NEVER:Dl,config:gc}),Vu=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new jB(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),kB=function(){this.buffer=[]},jB=function(e){function t(t,n,r,i,o){if((t=e.call(this,t)||this).bufferTimeSpan=n,t.bufferCreationInterval=r,t.maxBufferSize=i,t.scheduler=o,t.contexts=[],i=t.openContext(),t.timespanOnly=null==r||0>r,t.timespanOnly)t.add(i.closeAction=o.schedule(qn,n,{subscriber:t,context:i,bufferTimeSpan:n}));else{var a={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:t,scheduler:o};t.add(i.closeAction=o.schedule(rn,n,{subscriber:t,context:i})),t.add(o.schedule(Wu,r,a))}return t}return ha(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;0<t.length;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){if(this.closeContext(e),(e=e.closeAction).unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){e=this.openContext();var t=this.bufferTimeSpan;this.add(e.closeAction=this.scheduler.schedule(qn,t,{subscriber:this,context:e,bufferTimeSpan:t}))}},t.prototype.openContext=function(){var e=new kB;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;0<=(t?t.indexOf(e):-1)&&t.splice(t.indexOf(e),1)},t}(za),Xu=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new lB(e,this.selector,this.caught))},e}(),lB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).selector=n,t.caught=r,t}return ha(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),t=new nd(this),this.add(t),(n=bd(n,t))!==t&&this.add(n)}},t}(od),Yu=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new mB(e,this.defaultValue))},e}(),mB=function(e){function t(t,n){return(t=e.call(this,t)||this).defaultValue=n,t.isEmpty=!0,t}return ha(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(za),Zu=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new nB(e,this.delay,this.scheduler))},e}(),nB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).delay=n,t.scheduler=r,t.queue=[],t.active=!1,t.errored=!1,t}return ha(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;0<n.length&&0>=n[0].time-r.now();)n.shift().notification.observe(i);0<n.length?(t=Math.max(0,n[0].time-r.now()),this.schedule(e,t)):(this.unsubscribe(),t.active=!1)},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler;e=new oB(t.now()+this.delay,e),this.queue.push(e),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(yf.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(yf.createComplete()),this.unsubscribe()},t}(za),oB=function(e,t){this.time=e,this.notification=t},$u=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new pB(e,this.keySelector,this.flushes))},e}(),pB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).keySelector=n,t.values=new Set,r&&t.add(bd(r,new nd(t))),t}return ha(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t=this.destination;try{var n=this.keySelector(e)}catch(e){return void t.error(e)}this._finalizeNext(n,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(od),bv=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new qB(e,this.errorFactory))},e}(),qB=function(e){function t(t,n){return(t=e.call(this,t)||this).errorFactory=n,t.hasValue=!1,t}return ha(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(za),cv=function(){function e(e){if(this.total=e,0>this.total)throw new Al}return e.prototype.call=function(e,t){return t.subscribe(new rB(e,this.total))},e}(),rB=function(e){function t(t,n){return(t=e.call(this,t)||this).total=n,t.count=0,t}return ha(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(za),dv=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new sB(e,this.callback))},e}(),sB=function(e){function t(t,n){return(t=e.call(this,t)||this).add(new nb(n)),t}return ha(t,e),t}(za),fv=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new tB(e))},e}(),tB=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ha(t,e),t.prototype._next=function(e){},t}(za),gv=function(){function e(e){if(this.total=e,0>this.total)throw new Al}return e.prototype.call=function(e,t){return t.subscribe(new uB(e,this.total))},e}(),uB=function(e){function t(t,n){return(t=e.call(this,t)||this).total=n,t.ring=[],t.count=0,t}return ha(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(0<t)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(za),hv=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new vB(e,this.value))},e}(),vB=function(e){function t(t,n){return(t=e.call(this,t)||this).value=n,t}return ha(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(za),iv=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new wB(e,this.accumulator,this.seed,this.hasSeed))},e}(),wB=function(e){function t(t,n,r,i){return(t=e.call(this,t)||this).accumulator=n,t._seed=r,t.hasSeed=i,t.index=0,t}return ha(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var n=this.accumulator(this.seed,e,t)}catch(e){this.destination.error(e)}this.seed=n,this.destination.next(n)},t}(za),kv=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory();return(e=n(r).subscribe(e)).add(t.subscribe(r)),e},e}(),mv=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new xB(e,this.notifier,this.source))},e}(),xB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).notifier=n,t.source=r,t}return ha(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.retriesSubscription=this.errors=void 0;else{n=new rb;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}i=bd(r,new nd(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(od),pv=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new yB(e,this.project))},e}(),yB=function(e){function t(t,n){return(t=e.call(this,t)||this).project=n,t.index=0,t}return ha(t,e),t.prototype._next=function(e){var t=this.index++;try{var n=this.project(e,t)}catch(e){return void this.destination.error(e)}this._innerSub(n)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),t=new nd(this);var n=this.destination;n.add(t),this.innerSubscription=bd(e,t),this.innerSubscription!==t&&n.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(od),qv=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){e=new zB(e);var n=bd(this.notifier,new nd(e));return n&&!e.seenValue?(e.add(n),t.subscribe(e)):e},e}(),zB=function(e){function t(t){return(t=e.call(this,t)||this).seenValue=!1,t}return ha(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(od),rv=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new AB(e,this.nextOrObserver,this.error,this.complete))},e}(),AB=function(e){function t(t,n,r,i){return(t=e.call(this,t)||this)._tapNext=Ic,t._tapError=Ic,t._tapComplete=Ic,t._tapError=r||Ic,t._tapComplete=i||Ic,Ne(n)?(t._context=t,t._tapNext=n):n&&(t._context=n,t._tapNext=n.next||Ic,t._tapError=n.error||Ic,t._tapComplete=n.complete||Ic),t}return ha(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(za),tv={leading:!0,trailing:!1};!function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}ha(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._sendValue;this._hasValue&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){(e=this.tryDurationSelector(e))&&this.add(this._throttled=bd(e,new nd(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()}}(od);for(var uv=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new BB(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),BB=function(e){function t(t,n,r,i,o){return(t=e.call(this,t)||this).duration=n,t.scheduler=r,t.leading=i,t.trailing=o,t._hasTrailingValue=!1,t._trailingValue=null,t}return ha(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(vv,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(za),xv=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new CB(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),CB=function(e){function t(t,n,r,i,o){return(t=e.call(this,t)||this).absoluteTimeout=n,t.waitFor=r,t.withObservable=i,t.scheduler=o,t.scheduleTimeout(),t}return ha(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(bd(t,new nd(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},t}(od),zv=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new DB(e,this.observables,this.project))},e}(),DB=function(e){function t(t,n,r){(t=e.call(this,t)||this).observables=n,t.project=r,t.toRespond=[],r=n.length,t.values=Array(r);for(var i=0;i<r;i++)t.toRespond.push(i);for(i=0;i<r;i++)t.add(bj(t,n[i],void 0,i));return t}return ha(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t,0<(e=this.toRespond).length&&-1!==(n=e.indexOf(n))&&e.splice(n,1)},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){0===this.toRespond.length&&(e=[e].concat(this.values),this.project?this._tryProject(e):this.destination.next(e))},t.prototype._tryProject=function(e){try{var t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Bl),Kr=xb((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),zb=[],pi=0;256>pi;++pi)zb[pi]=(pi+256).toString(16).substr(1);var Lr=function(e,t){return t=t||0,[zb[e[t++]],zb[e[t++]],zb[e[t++]],zb[e[t++]],"-",zb[e[t++]],zb[e[t++]],"-",zb[e[t++]],zb[e[t++]],"-",zb[e[t++]],zb[e[t++]],"-",zb[e[t++]],zb[e[t++]],zb[e[t++]],zb[e[t++]],zb[e[t++]],zb[e[t++]]].join("")},Ng=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||Kr)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||Lr(e)},Og=Ng(),gj=!1,yn=new AbortController,pd,Md,El,Fl,Nd,qe,Fc,re,nc,Gl,qd,se,rd,sd,td,zf;!function(e){e[e.ATTRIBUTE_OPERATION_ERR_FAILURE=2]="ATTRIBUTE_OPERATION_ERR_FAILURE",e[e.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT=3]="ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT",e[e.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW=4]="ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW",e[e.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN=5]="ATTRIBUTE_OPERATION_ERR_TOO_OFTEN",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND=6]="ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND",e[e.ATTRIBUTE_OPERATION_ERR_TIMEOUT=7]="ATTRIBUTE_OPERATION_ERR_TIMEOUT",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN"}(pd||(pd={})),function(e){e[e.CHANNEL_MESSAGE_ERR_FAILURE=1]="CHANNEL_MESSAGE_ERR_FAILURE",e[e.CHANNEL_MESSAGE_ERR_TIMEOUT=2]="CHANNEL_MESSAGE_ERR_TIMEOUT",e[e.CHANNEL_MESSAGE_ERR_TOO_OFTEN=3]="CHANNEL_MESSAGE_ERR_TOO_OFTEN",e[e.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE=4]="CHANNEL_MESSAGE_ERR_INVALID_MESSAGE",e[e.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL=5]="CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL",e[e.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Md||(Md={})),function(e){e[e.CREATE_CHANNEL_ERR_INVALID_ARGUMENT=1]="CREATE_CHANNEL_ERR_INVALID_ARGUMENT"}(El||(El={})),function(e){e[e.CREATE_INSTANCE_ERR_INVALID_ARGUMENT=1]="CREATE_INSTANCE_ERR_INVALID_ARGUMENT"}(Fl||(Fl={})),function(e){e[e.GET_MEMBERS_ERR_FAILURE=1]="GET_MEMBERS_ERR_FAILURE",e[e.GET_MEMBERS_ERR_REJECTED=2]="GET_MEMBERS_ERR_REJECTED",e[e.GET_MEMBERS_ERR_TIMEOUT=3]="GET_MEMBERS_ERR_TIMEOUT",e[e.GET_MEMBERS_ERR_TOO_OFTEN=4]="GET_MEMBERS_ERR_TOO_OFTEN",e[e.GET_MEMBERS_ERR_NOT_IN_CHANNEL=5]="GET_MEMBERS_ERR_NOT_IN_CHANNEL",e[e.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN=102]="GET_MEMBERS_ERR_USER_NOT_LOGGED_IN"}(Nd||(Nd={})),function(e){e[e.INVITATION_API_CALL_ERR_INVALID_ARGUMENT=1]="INVITATION_API_CALL_ERR_INVALID_ARGUMENT",e[e.INVITATION_API_CALL_ERR_NOT_STARTED=2]="INVITATION_API_CALL_ERR_NOT_STARTED",e[e.INVITATION_API_CALL_ERR_ALREADY_END=3]="INVITATION_API_CALL_ERR_ALREADY_END",e[e.INVITATION_API_CALL_ERR_ALREADY_ACCEPT=4]="INVITATION_API_CALL_ERR_ALREADY_ACCEPT",e[e.INVITATION_API_CALL_ERR_ALREADY_SENT=5]="INVITATION_API_CALL_ERR_ALREADY_SENT"}(qe||(qe={})),function(e){e[e.JOIN_CHANNEL_ERR_FAILURE=1]="JOIN_CHANNEL_ERR_FAILURE",e[e.JOIN_CHANNEL_ERR_REJECTED=2]="JOIN_CHANNEL_ERR_REJECTED",e[e.JOIN_CHANNEL_ERR_INVALID_ARGUMENT=3]="JOIN_CHANNEL_ERR_INVALID_ARGUMENT",e[e.JOIN_CHANNEL_TIMEOUT=4]="JOIN_CHANNEL_TIMEOUT",e[e.JOIN_CHANNEL_ERR_EXCEED_LIMIT=5]="JOIN_CHANNEL_ERR_EXCEED_LIMIT",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED=6]="JOIN_CHANNEL_ERR_ALREADY_JOINED",e[e.JOIN_CHANNEL_ERR_TOO_OFTEN=7]="JOIN_CHANNEL_ERR_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN=8]="JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN",e[e.JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE=201]="JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID=202]="JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID"}(Fc||(Fc={})),function(e){e[e.LEAVE_CHANNEL_ERR_FAILURE=1]="LEAVE_CHANNEL_ERR_FAILURE",e[e.LEAVE_CHANNEL_ERR_REJECTED=2]="LEAVE_CHANNEL_ERR_REJECTED",e[e.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL=3]="LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL",e[e.LEAVE_CHANNEL_ERR_KICKED=4]="LEAVE_CHANNEL_ERR_KICKED",e[e.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN"}(re||(re={})),function(e){e[e.LOGIN_ERR_UNKNOWN=1]="LOGIN_ERR_UNKNOWN",e[e.LOGIN_ERR_REJECTED=2]="LOGIN_ERR_REJECTED",e[e.LOGIN_ERR_INVALID_ARGUMENT=3]="LOGIN_ERR_INVALID_ARGUMENT",e[e.LOGIN_ERR_INVALID_APP_ID=4]="LOGIN_ERR_INVALID_APP_ID",e[e.LOGIN_ERR_INVALID_TOKEN=5]="LOGIN_ERR_INVALID_TOKEN",e[e.LOGIN_ERR_TOKEN_EXPIRED=6]="LOGIN_ERR_TOKEN_EXPIRED",e[e.LOGIN_ERR_NOT_AUTHORIZED=7]="LOGIN_ERR_NOT_AUTHORIZED",e[e.LOGIN_ERR_ALREADY_LOGIN=8]="LOGIN_ERR_ALREADY_LOGIN",e[e.LOGIN_ERR_TIMEOUT=9]="LOGIN_ERR_TIMEOUT",e[e.LOGIN_ERR_TOO_OFTEN=10]="LOGIN_ERR_TOO_OFTEN",e[e.LOGIN_ERR_ABORTED_BY_LOGOUT=201]="LOGIN_ERR_ABORTED_BY_LOGOUT"}(nc||(nc={})),function(e){e[e.LOGOUT_ERR_USER_NOT_LOGGED_IN=102]="LOGOUT_ERR_USER_NOT_LOGGED_IN"}(Gl||(Gl={})),function(e){e[e.PEER_MESSAGE_ERR_FAILURE=1]="PEER_MESSAGE_ERR_FAILURE",e[e.PEER_MESSAGE_ERR_TIMEOUT=2]="PEER_MESSAGE_ERR_TIMEOUT",e[e.PEER_MESSAGE_ERR_TOO_OFTEN=5]="PEER_MESSAGE_ERR_TOO_OFTEN",e[e.PEER_MESSAGE_ERR_INVALID_USERID=6]="PEER_MESSAGE_ERR_INVALID_USERID",e[e.PEER_MESSAGE_ERR_INVALID_MESSAGE=7]="PEER_MESSAGE_ERR_INVALID_MESSAGE",e[e.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE=8]="PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE",e[e.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(qd||(qd={})),function(e){e[e.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT=2]="QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED=3]="QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT=4]="QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN=5]="QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN"}(se||(se={})),function(e){e[e.RENEW_TOKEN_ERR_FAILURE=1]="RENEW_TOKEN_ERR_FAILURE",e[e.RENEW_TOKEN_ERR_INVALID_ARGUMENT=2]="RENEW_TOKEN_ERR_INVALID_ARGUMENT",e[e.RENEW_TOKEN_ERR_REJECTED=3]="RENEW_TOKEN_ERR_REJECTED",e[e.RENEW_TOKEN_ERR_TOO_OFTEN=4]="RENEW_TOKEN_ERR_TOO_OFTEN",e[e.RENEW_TOKEN_ERR_TOKEN_EXPIRED=5]="RENEW_TOKEN_ERR_TOKEN_EXPIRED",e[e.RENEW_TOKEN_ERR_INVALID_TOKEN=6]="RENEW_TOKEN_ERR_INVALID_TOKEN",e[e.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN=102]="RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN",e[e.RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT=201]="RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT"}(rd||(rd={})),function(e){e[e.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE=1]="GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT=2]="GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN=3]="GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT=4]="GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT=5]="GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED=101]="GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN=102]="GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN"}(sd||(sd={})),function(e){e[e.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE=1]="PEER_SUBSCRIPTION_STATUS_ERR_FAILURE",e[e.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT=2]="PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED=3]="PEER_SUBSCRIPTION_STATUS_ERR_REJECTED",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT=4]="PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN=5]="PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN",e[e.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW=6]="PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW",e[e.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN=102]="PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN"}(td||(td={})),function(e){e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE=1]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT=2]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN=3]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN"}(zf||(zf={}));var oc=pd.ATTRIBUTE_OPERATION_ERR_FAILURE,gb=pd.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT,Ye=pd.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW;pd.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN;var Mr=pd.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND,pc=pd.ATTRIBUTE_OPERATION_ERR_TIMEOUT,qc=pd.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN,qi=Md.CHANNEL_MESSAGE_ERR_FAILURE,Hl=Md.CHANNEL_MESSAGE_ERR_TIMEOUT,Nr=Md.CHANNEL_MESSAGE_ERR_TOO_OFTEN,Il=Md.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE,EB=Md.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL,Jl=Md.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN,FB=El.CREATE_CHANNEL_ERR_INVALID_ARGUMENT,Or=Fl.CREATE_INSTANCE_ERR_INVALID_ARGUMENT;sd.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE;var Pr=sd.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT;sd.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN;var Qr=sd.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT,GB=sd.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT;sd.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED;var HB=sd.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN,IB=Nd.GET_MEMBERS_ERR_FAILURE,JB=Nd.GET_MEMBERS_ERR_REJECTED;Nd.GET_MEMBERS_ERR_TIMEOUT,Nd.GET_MEMBERS_ERR_TOO_OFTEN;var KB=Nd.GET_MEMBERS_ERR_NOT_IN_CHANNEL,LB=Nd.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN,Xc=qe.INVITATION_API_CALL_ERR_INVALID_ARGUMENT,MB=qe.INVITATION_API_CALL_ERR_NOT_STARTED,ri=qe.INVITATION_API_CALL_ERR_ALREADY_END,Rr=qe.INVITATION_API_CALL_ERR_ALREADY_ACCEPT,NB=qe.INVITATION_API_CALL_ERR_ALREADY_SENT,Sr=Fc.JOIN_CHANNEL_ERR_FAILURE;Fc.JOIN_CHANNEL_ERR_REJECTED;var OB=Fc.JOIN_CHANNEL_ERR_INVALID_ARGUMENT,Tr=Fc.JOIN_CHANNEL_TIMEOUT,Ur=Fc.JOIN_CHANNEL_ERR_EXCEED_LIMIT,Vr=Fc.JOIN_CHANNEL_ERR_ALREADY_JOINED;Fc.JOIN_CHANNEL_ERR_TOO_OFTEN;var Wr=Fc.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN,Xr=Fc.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID,Yr=re.LEAVE_CHANNEL_ERR_FAILURE,Zr=re.LEAVE_CHANNEL_ERR_REJECTED,PB=re.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL,QB=re.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN,RB=re.LEAVE_CHANNEL_ERR_KICKED,$r=nc.LOGIN_ERR_UNKNOWN,Pg=nc.LOGIN_ERR_REJECTED,si=nc.LOGIN_ERR_INVALID_ARGUMENT,as=nc.LOGIN_ERR_INVALID_APP_ID,bs=nc.LOGIN_ERR_INVALID_TOKEN,ti=nc.LOGIN_ERR_TOKEN_EXPIRED;nc.LOGIN_ERR_NOT_AUTHORIZED;var SB=nc.LOGIN_ERR_ALREADY_LOGIN,TB=nc.LOGIN_ERR_TIMEOUT,UB=nc.LOGIN_ERR_TOO_OFTEN,cs=Gl.LOGOUT_ERR_USER_NOT_LOGGED_IN,ds=qd.PEER_MESSAGE_ERR_FAILURE,Kl=qd.PEER_MESSAGE_ERR_TIMEOUT,es=qd.PEER_MESSAGE_ERR_TOO_OFTEN,fs=qd.PEER_MESSAGE_ERR_INVALID_USERID,bg=qd.PEER_MESSAGE_ERR_INVALID_MESSAGE,Ll=qd.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN;qd.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE;var gs=se.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT;se.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED;var VB=se.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT;se.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN;var WB=se.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN,Ml=rd.RENEW_TOKEN_ERR_FAILURE,XB=rd.RENEW_TOKEN_ERR_INVALID_ARGUMENT;rd.RENEW_TOKEN_ERR_REJECTED,rd.RENEW_TOKEN_ERR_TOO_OFTEN;var YB=rd.RENEW_TOKEN_ERR_TOKEN_EXPIRED,ZB=rd.RENEW_TOKEN_ERR_INVALID_TOKEN,hs=rd.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN,is=td.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE,Qg=td.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT;td.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED;var $B=td.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT;td.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN;var js=td.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW,Nl=td.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN;zf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE,zf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT,zf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN,zf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN;var aC=function(e,t){var n;return rl(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n},ui=function(e,t,n){if(!Gb(n))return!1;var r=qa(t);return!!("number"==r?ae(n)&&gl(t,n.length):"string"==r&&t in n)&&Gg(n[t],e)},Ol=function(e,t,n){var r=ub(e)?ur:aC;return n&&ui(e,t,n)&&(t=void 0),r(e,wf(t))},bC=function(e,t){var n=-1,r=ae(e)?Array(e.length):[];return rl(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},cC=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},dC=function(e,t,n){t=t.length?Je(t,(function(e){return ub(e)?function(t){return li(t,1===e.length?e[0]:e)}:e})):[mi];var r=-1;return t=Je(t,ii(wf)),e=bC(e,(function(e,n,i){return{criteria:Je(t,(function(t){return t(e)})),index:++r,value:e}})),cC(e,(function(e,t){e:{for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){t:{var c=i[r],l=o[r];if(c!==l){var u=void 0!==c,d=null===c,h=c==c,p=Ke(c),f=void 0!==l,m=null===l,v=l==l,g=Ke(l);if(!m&&!g&&!p&&c>l||p&&f&&v&&!m&&!g||d&&f&&v||!u&&v||!h){c=1;break t}if(!d&&!p&&!g&&c<l||g&&u&&h&&!d&&!p||m&&u&&h||!f&&h||!v){c=-1;break t}}c=0}if(c){e=r>=s?c:c*("desc"==n[r]?-1:1);break e}}e=e.index-t.index}return e}))},ks=function(e,t){return sr(rr(e,t,mi),e+"")},ls=ks((function(e,t){if(null==e)return[];var n=t.length;return 1<n&&ui(e,t[0],t[1])?t=[]:2<n&&ui(t[0],t[1],t[2])&&(t=[t[0]]),dC(e,Si(t,1),[])})),ms=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}(iB),ns=xb((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[],r=function(e,t){return new WebSocket(e,t)};t.normalClosureMessage="Normal closure",t.default=function(e,i){var o=(i=void 0===i?{protocols:n,makeWebSocket:r}:i).protocols,a=void 0===o?n:o,s=void 0===(i=i.makeWebSocket)?r:i;return new ms.Observable((function(n){var r,i=new ms.Subject,o=s(e,a),c=!1,l=!1,u=function(e){if(r)throw c=!0,e=Error("Web socket message factory function called more than once"),n.error(e),e;return r=e.subscribe((function(e){o.send(e)})),i};return o.onopen=function(){l?(c=!0,o.close()):n.next(u)},o.onmessage=function(e){i.next(e.data)},o.onerror=function(e){c=!0,n.error(Error(e.message))},o.onclose=function(e){c||(c=!0,l?(n.complete(),i.complete()):n.error(Error(1e3===e.code?t.normalClosureMessage:e.reason)))},function(){l=!0,r&&r.unsubscribe(),c||(c=!0,o.close())}}))}}));!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(ns);var ij=function(e,t,n){(void 0===n||Gg(e[t],n))&&(void 0!==n||t in e)||Ig(e,t,n)},hj=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},eC=function(e){return ks((function(t,n){var r=-1,i=n.length,o=1<i?n[i-1]:void 0,a=2<i?n[2]:void 0;for(o=3<e.length&&"function"==typeof o?(i--,o):void 0,a&&ui(n[0],n[1],a)&&(o=3>i?void 0:o,i=1),t=Object(t);++r<i;)(a=n[r])&&e(t,a,r,o);return t}))}((function(e,t,n,r){zn(e,t,n,r)})),fC=Math.floor,gC=Math.random,os=function(e,t){return e+fC(gC()*(t-e+1))},ps=function(e){var t=e.length;return t?e[os(0,t-1)]:void 0},hC=function(e,t){return Je(t,(function(t){return e[t]}))},zj=function(e){return null==e?[]:hC(e,Wd(e))},iC=function(e){return ps(zj(e))},On=function(e){return(ub(e)?ps:iC)(e)},Dn=[],En=function(e,t){return new WebSocket(e,t)},jC=Math.floor;ea({target:"Number",stat:!0},{isInteger:function(e){return!xa(e)&&isFinite(e)&&jC(e)===e}}),Sp("from",sk,rk);var kC=function(e,t){for(var n=Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}}))},lC=xb((function(e,t){t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};var n=Array(64),r=Array(123);for(e=0;64>e;)r[n[e]=26>e?e+65:52>e?e+71:62>e?e-4:e-59|43]=e++;t.encode=function(e,t,r){for(var i,o=null,a=[],s=0,c=0;t<r;){var l=e[t++];switch(c){case 0:a[s++]=n[l>>2],i=(3&l)<<4,c=1;break;case 1:a[s++]=n[i|l>>4],i=(15&l)<<2,c=2;break;case 2:a[s++]=n[i|l>>6],a[s++]=n[63&l],c=0}8191<s&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=n[i],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))},t.decode=function(e,t,n){for(var i,o=n,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&1<a)break;if(void 0===(c=r[c]))throw Error("invalid encoding");switch(a){case 0:i=c,a=1;break;case 1:t[n++]=i<<2|(48&c)>>4,i=c,a=2;break;case 2:t[n++]=(15&i)<<4|(60&c)>>2,i=c,a=3;break;case 3:t[n++]=(3&i)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-o},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}));hh.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},hh.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else{e=this._listeners[e];for(var n=0;n<e.length;)e[n].fn===t?e.splice(n,1):++n}return this},hh.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var mC=Fn(Fn),nC=function(c){try{var b=eval("quire".replace(/^/,"re"))(c);if(b&&(b.length||Object.keys(b).length))return b}catch(e){}return null},oC=xb((function(e,t){t.length=function(e){for(var t,n=0,r=0;r<e.length;++r)128>(t=e.charCodeAt(r))?n+=1:2048>t?n+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},t.read=function(e,t,n){if(1>n-t)return"";for(var r,i=null,o=[],a=0;t<n;)128>(r=e[t++])?o[a++]=r:191<r&&224>r?o[a++]=(31&r)<<6|63&e[t++]:239<r&&365>r?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],8191<a&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},t.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)128>(r=e.charCodeAt(a))?t[n++]=r:(2048>r?t[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);return n-o}})),pC=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){return 1>n||n>i?e(n):(a+n>r&&(o=e(r),a=0),n=t.call(o,a,a+=n),7&a&&(a=1+(7|a)),n)}},te=vb.zero=new vb(0,0);te.toNumber=function(){return 0},te.zzEncode=te.zzDecode=function(){return this},te.length=function(){return 1};var qC=vb.zeroHash="\0\0\0\0\0\0\0\0";vb.fromNumber=function(e){if(0===e)return te;var t=0>e;t&&(e=-e);var n=e>>>0;return e=(e-n)/4294967296>>>0,t&&(e=~e>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++e&&(e=0))),new vb(n,e)},vb.from=function(e){if("number"==typeof e)return vb.fromNumber(e);if(pa.isString(e)){if(!pa.Long)return vb.fromNumber(parseInt(e,10));e=pa.Long.fromString(e)}return e.low||e.high?new vb(e.low>>>0,e.high>>>0):te},vb.prototype.toNumber=function(e){if(!e&&this.hi>>>31){e=1+~this.lo>>>0;var t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi},vb.prototype.toLong=function(e){return pa.Long?new pa.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var Od=String.prototype.charCodeAt;vb.fromHash=function(e){return e===qC?te:new vb((Od.call(e,0)|Od.call(e,1)<<8|Od.call(e,2)<<16|Od.call(e,3)<<24)>>>0,(Od.call(e,4)|Od.call(e,5)<<8|Od.call(e,6)<<16|Od.call(e,7)<<24)>>>0)},vb.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},vb.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},vb.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},vb.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?16384>e?128>e?1:2:2097152>e?3:4:16384>t?128>t?5:6:2097152>t?7:8:128>n?9:10};var pa=xb((function(e,t){function n(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function r(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=kC,t.base64=lC,t.EventEmitter=hh,t.float=mC,t.inquire=nC,t.utf8=oC,t.pool=pC,t.LongBits=vb,t.isNode=!!(void 0!==Ya&&Ya&&Ya.process&&Ya.process.versions&&Ya.process.versions.node),t.global=t.isNode&&Ya||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||Ya,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===qa(e)},t.isset=t.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==qa(n)||0<(Array.isArray(n)?n.length:Object.keys(n).length))},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,n){return e=t.LongBits.fromHash(e),t.Long?t.Long.fromBits(e.lo,e.hi,n):e.toNumber(!!n)},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;-1<n;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},t.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}})),qj=Aa,Pl,vi=pa.LongBits,qs=pa.base64,rs=pa.utf8,ss=function(){return pa.Buffer?function(){return(Aa.create=function(){return new Pl})()}:function(){return new Aa}};Aa.create=ss(),Aa.alloc=function(e){return new pa.Array(e)},pa.Array!==Array&&(Aa.alloc=pa.pool(Aa.alloc,pa.Array.prototype.subarray)),Aa.prototype._push=function(e,t,n){return this.tail=this.tail.next=new Wf(e,t,n),this.len+=t,this},nj.prototype=Object.create(Wf.prototype),nj.prototype.fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},Aa.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new nj(128>(e>>>=0)?1:16384>e?2:2097152>e?3:268435456>e?4:5,e)).len,this},Aa.prototype.int32=function(e){return 0>e?this._push(oj,10,vi.fromNumber(e)):this.uint32(e)},Aa.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Aa.prototype.uint64=function(e){return e=vi.from(e),this._push(oj,e.length(),e)},Aa.prototype.int64=Aa.prototype.uint64,Aa.prototype.sint64=function(e){return e=vi.from(e).zzEncode(),this._push(oj,e.length(),e)},Aa.prototype.bool=function(e){return this._push(mj,1,e?1:0)},Aa.prototype.fixed32=function(e){return this._push(pj,4,e>>>0)},Aa.prototype.sfixed32=Aa.prototype.fixed32,Aa.prototype.fixed64=function(e){return e=vi.from(e),this._push(pj,4,e.lo)._push(pj,4,e.hi)},Aa.prototype.sfixed64=Aa.prototype.fixed64,Aa.prototype.float=function(e){return this._push(pa.float.writeFloatLE,4,e)},Aa.prototype.double=function(e){return this._push(pa.float.writeDoubleLE,8,e)};var rC=pa.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};Aa.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(mj,1,0);if(pa.isString(e)){var n=Aa.alloc(t=qs.length(e));qs.decode(e,n,0),e=n}return this.uint32(t)._push(rC,t,e)},Aa.prototype.string=function(e){var t=rs.length(e);return t?this.uint32(t)._push(rs.write,t,e):this._push(mj,1,0)},Aa.prototype.fork=function(){return this.states=new Cv(this),this.head=this.tail=new Wf(lj,0,0),this.len=0,this},Aa.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Wf(lj,0,0),this.len=0),this},Aa.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},Aa.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},Aa._configure=function(e){Pl=e,Aa.create=ss(),Pl._configure()},(Lc.prototype=Object.create(qj.prototype)).constructor=Lc,Lc._configure=function(){Lc.alloc=pa._Buffer_allocUnsafe,Lc.writeBytesBuffer=pa.Buffer&&pa.Buffer.prototype instanceof Uint8Array&&"set"===pa.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},Lc.prototype.bytes=function(e){pa.isString(e)&&(e=pa._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Lc.writeBytesBuffer,t,e),this},Lc.prototype.string=function(e){var t=pa.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Dv,t,e),this},Lc._configure();var sj=ib,Ql,Kn=pa.LongBits,sC=pa.utf8,ts="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ib(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ib(e);throw Error("illegal buffer")},us=function(){return pa.Buffer?function(e){return(ib.create=function(e){return pa.Buffer.isBuffer(e)?new Ql(e):ts(e)})(e)}:ts};ib.create=us(),ib.prototype._slice=pa.Array.prototype.subarray||pa.Array.prototype.slice,ib.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++])return e;if((this.pos+=5)>this.len)throw this.pos=this.len,wc(this,10);return e}}(),ib.prototype.int32=function(){return 0|this.uint32()},ib.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},ib.prototype.bool=function(){return 0!==this.uint32()},ib.prototype.fixed32=function(){if(this.pos+4>this.len)throw wc(this,4);return ih(this.buf,this.pos+=4)},ib.prototype.sfixed32=function(){if(this.pos+4>this.len)throw wc(this,4);return 0|ih(this.buf,this.pos+=4)},ib.prototype.float=function(){if(this.pos+4>this.len)throw wc(this,4);var e=pa.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},ib.prototype.double=function(){if(this.pos+8>this.len)throw wc(this,4);var e=pa.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},ib.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw wc(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},ib.prototype.string=function(){var e=this.bytes();return sC.read(e,0,e.length)},ib.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw wc(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw wc(this)}while(128&this.buf[this.pos++]);return this},ib.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},ib._configure=function(e){Ql=e,ib.create=us(),Ql._configure();var t=pa.Long?"toLong":"toNumber";pa.merge(ib.prototype,{int64:function(){return rj.call(this)[t](!1)},uint64:function(){return rj.call(this)[t](!0)},sint64:function(){return rj.call(this).zzDecode()[t](!1)},fixed64:function(){return Ln.call(this)[t](!0)},sfixed64:function(){return Ln.call(this)[t](!1)}})},(be.prototype=Object.create(sj.prototype)).constructor=be,be._configure=function(){pa.Buffer&&(be.prototype._slice=pa.Buffer.prototype.slice)},be.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},be._configure(),(Xf.prototype=Object.create(pa.EventEmitter.prototype)).constructor=Xf,Xf.prototype.rpcCall=function e(t,n,r,i,o){if(!i)throw TypeError("request must be specified");var a=this;if(!o)return pa.asPromise(e,a,t,n,r,i);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return a.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof r))try{n=r[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",n,t),o(null,n)}a.end(!0)}))}catch(e){a.emit("error",e,t),setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},Xf.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var tC=xb((function(e,t){t.Service=Xf})),uC={},Gc=xb((function(e,t){function n(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}var r=t;r.build="minimal",r.Writer=qj,r.BufferWriter=Lc,r.Reader=sj,r.BufferReader=be,r.util=pa,r.rpc=tC,r.roots=uC,r.configure=n,n()}));Gc.util.Long=P,Gc.configure();var M=Gc.Reader,ia=Gc.Writer,D=Gc.util,I=Gc.roots.default||(Gc.roots.default={}),vC=I.URI=function(){var e={},t=Object.create(e);return t[e[0]="Unknown"]=0,t[e[1]="PingUri"]=1,t[e[2]="PongUri"]=2,t[e[11]="UserJoinUri"]=11,t[e[12]="UserRespUri"]=12,t[e[15]="UserTicketNearlyExpireUri"]=15,t[e[16]="UserRenewTokenReqUri"]=16,t[e[17]="UserRenewTokenRespUri"]=17,t[e[21]="UserQuitUri"]=21,t[e[22]="UserDropUri"]=22,t[e[31]="GroupEnterUri"]=31,t[e[32]="GroupLeaveUri"]=32,t[e[33]="GroupReplyUri"]=33,t[e[35]="GroupDropUri"]=35,t[e[36]="GroupEnterNoticeUri"]=36,t[e[37]="GroupLeaveNoticeUri"]=37,t[e[38]="GroupEventNoticeUri"]=38,t[e[39]="GroupCountNoticeUri"]=39,t[e[41]="UserStatusListUri"]=41,t[e[42]="UserStatusResultUri"]=42,t[e[51]="GroupStatusListUri"]=51,t[e[52]="GroupStatusResultUri"]=52,t[e[55]="GroupAllUsersListUri"]=55,t[e[56]="GroupAllUsersResultUri"]=56,t[e[100]="MessageUri"]=100,t[e[101]="AckUri"]=101,t[e[201]="UserJoinNoticeUri"]=201,t[e[202]="UserQuitNoticeUri"]=202,t[e[203]="UserWaitNoticeUri"]=203,t[e[301]="UserAttributeGetUri"]=301,t[e[302]="UserAttributeRetUri"]=302,t[e[303]="UserAttributeSetUri"]=303,t[e[304]="UserAttributeModUri"]=304,t[e[305]="UserAttributeDelUri"]=305,t[e[307]="UserAttributeRspUri"]=307,t[e[308]="UserAttributeErrUri"]=308,t[e[311]="UserAttributeKeysGetUri"]=311,t[e[312]="UserAttributeKeysRetUri"]=312,t[e[351]="GroupAttributeGetUri"]=351,t[e[352]="GroupAttributeRetUri"]=352,t[e[353]="GroupAttributeSetUri"]=353,t[e[354]="GroupAttributeModUri"]=354,t[e[355]="GroupAttributeDelUri"]=355,t[e[356]="GroupAttributeAltUri"]=356,t[e[357]="GroupAttributeRspUri"]=357,t[e[358]="GroupAttributeErrUri"]=358,t[e[361]="GroupAttributeKeysGetUri"]=361,t[e[362]="GroupAttributeKeysRetUri"]=362,t[e[401]="SubscribeUserStatusUri"]=401,t[e[402]="UnsubscribeUserStatusUri"]=402,t[e[499]="SubscribeResponseUri"]=499,t}(),wi=I.Wrapper=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uri=0,e.prototype.data=D.newBuffer([]),e.encode=function(e,t){return t||(t=ia.create()),null!=e.uri&&Object.hasOwnProperty.call(e,"uri")&&t.uint32(8).int32(e.uri),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.Wrapper;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.uri=e.int32();break;case 2:n.data=e.bytes();break;default:e.skipType(7&r)}}return n},e}(),wC=I.Ping=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.Ping;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),xC=I.Pong=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.Pong;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),yC=I.UserJoin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.opt=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.opt&&Object.hasOwnProperty.call(e,"opt")&&t.uint32(16).uint64(e.opt),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(34).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(42).string(e.ticket),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserJoin;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.opt=e.uint64();break;case 3:n.instance=e.uint64();break;case 4:n.account=e.string();break;case 5:n.ticket=e.string();break;default:e.skipType(7&r)}}return n},e}(),zC=I.UserResp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserResp;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),AC=I.UserQuit=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.encode=function(e,t){return t||(t=ia.create()),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserQuit;e.pos<t;){var r=e.uint32();e.skipType(7&r)}return n},e}(),BC=I.UserDrop=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserDrop;e.pos<t;){var r=e.uint32();r>>>3==1?n.code=e.uint32():e.skipType(7&r)}return n},e}(),CC=I.UserTicketNearlyExpire=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.expireTs=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.ticket="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.expireTs&&Object.hasOwnProperty.call(e,"expireTs")&&t.uint32(8).uint64(e.expireTs),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(18).string(e.ticket),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserTicketNearlyExpire;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.expireTs=e.uint64();break;case 2:n.ticket=e.string();break;default:e.skipType(7&r)}}return n},e}(),DC=I.UserRenewTokenReq=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(26).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(34).string(e.ticket),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserRenewTokenReq;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.account=e.string();break;case 4:n.ticket=e.string();break;default:e.skipType(7&r)}}return n},e}(),EC=I.UserRenewTokenResp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserRenewTokenResp;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),FC=I.GroupEnter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupEnter;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;default:e.skipType(7&r)}}return n},e}(),GC=I.GroupLeave=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupLeave;e.pos<t;){var r=e.uint32();r>>>3==1?n.account=e.string():e.skipType(7&r)}return n},e}(),HC=I.GroupReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupReply;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),vs=I.GroupLeaveNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupLeaveNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.user=e.string();break;case 3:n.group=e.string();break;case 4:n.instance=e.uint64();break;case 5:n.size=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),ws=I.GroupEnterNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupEnterNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.user=e.string();break;case 3:n.group=e.string();break;case 4:n.instance=e.uint64();break;case 5:n.size=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),xs=I.Message=function(){function e(e){if(this.MiscMap={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.dialogue=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.sequence=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.options=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.src="",e.prototype.dst="",e.prototype.payload=D.newBuffer([]),e.prototype.MiscMap=D.emptyObject,e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&t.uint32(32).uint64(e.options),null!=e.src&&Object.hasOwnProperty.call(e,"src")&&t.uint32(42).string(e.src),null!=e.dst&&Object.hasOwnProperty.call(e,"dst")&&t.uint32(50).string(e.dst),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(58).bytes(e.payload),null!=e.MiscMap&&Object.hasOwnProperty.call(e,"MiscMap"))for(var n=Object.keys(e.MiscMap),r=0;r<n.length;++r)t.uint32(66).fork().uint32(10).string(n[r]).uint32(18).bytes(e.MiscMap[n[r]]).ldelim();return null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(72).uint64(e.ms),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n,r,i=new I.Message;e.pos<t;)switch(n=e.uint32(),n>>>3){case 1:i.instance=e.uint64();break;case 2:i.dialogue=e.uint64();break;case 3:i.sequence=e.uint64();break;case 4:i.options=e.uint64();break;case 5:i.src=e.string();break;case 6:i.dst=e.string();break;case 7:i.payload=e.bytes();break;case 8:i.MiscMap===D.emptyObject&&(i.MiscMap={});var o=e.uint32()+e.pos;for(n="",r=[];e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:n=e.string();break;case 2:r=e.bytes();break;default:e.skipType(7&a)}}i.MiscMap[n]=r;break;case 9:i.ms=e.uint64();break;default:e.skipType(7&n)}return i},e}(),ys=I.Ack=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.dialogue=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.sequence=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(32).uint32(e.code),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.Ack;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.dialogue=e.uint64();break;case 3:n.sequence=e.uint64();break;case 4:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),IC=I.GroupDrop=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupDrop;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),JC=I.GroupAllUsersList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.pageSize=0,e.prototype.pageNumber=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(24).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(32).uint32(e.pageNumber),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAllUsersList;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.pageSize=e.uint32();break;case 4:n.pageNumber=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),KC=I.GroupAllUsersResult=function(){function e(e){if(this.memberInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.totalSize=0,e.prototype.pageSize=0,e.prototype.pageNumber=0,e.prototype.memberInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.totalSize&&Object.hasOwnProperty.call(e,"totalSize")&&t.uint32(24).uint32(e.totalSize),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(32).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(40).uint32(e.pageNumber),null!=e.memberInfos&&e.memberInfos.length)for(var n=0;n<e.memberInfos.length;++n)I.GroupAllUsersResult.MemberInfo.encode(e.memberInfos[n],t.uint32(50).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAllUsersResult;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.totalSize=e.uint32();break;case 4:n.pageSize=e.uint32();break;case 5:n.pageNumber=e.uint32();break;case 6:n.memberInfos&&n.memberInfos.length||(n.memberInfos=[]),n.memberInfos.push(I.GroupAllUsersResult.MemberInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.MemberInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAllUsersResult.MemberInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.ts=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),LC=I.UserStatusList=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.users=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserStatusList;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.users&&n.users.length||(n.users=[]),n.users.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),MC=I.UserStatusResult=function(){function e(e){if(this.userInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.userInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.userInfos&&e.userInfos.length)for(var n=0;n<e.userInfos.length;++n)I.UserStatusResult.UserStatusInfo.encode(e.userInfos[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserStatusResult;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.userInfos&&n.userInfos.length||(n.userInfos=[]),n.userInfos.push(I.UserStatusResult.UserStatusInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.UserStatusInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserStatusResult.UserStatusInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.ts=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),NC=I.UserAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),OC=I.UserAttributeRet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)I.UserAttributeRet.AttributeInfo.encode(e.attributeInfos[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(I.UserAttributeRet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeRet.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),PC=I.UserAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)I.UserAttributeSet.AttributeInfo.encode(e.attributeInfos[n],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeSet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(I.UserAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeSet.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),QC=I.UserAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)I.UserAttributeMod.AttributeInfo.encode(e.attributeInfos[n],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeMod;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(I.UserAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeMod.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),RC=I.UserAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeDel;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),SC=I.UserAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeErr;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),TC=I.UserAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeKeysGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;default:e.skipType(7&r)}}return n},e}(),UC=I.UserAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.keys=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)t.uint32(18).string(e.keys[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeKeysRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.keys&&n.keys.length||(n.keys=[]),n.keys.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),VC=I.UserAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserAttributeRsp;e.pos<t;){var r=e.uint32();r>>>3==1?n.seq=e.uint64():e.skipType(7&r)}return n},e}(),WC=I.GroupStatusList=function(){function e(e){if(this.groups=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.groups=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.groups&&e.groups.length)for(var n=0;n<e.groups.length;++n)t.uint32(18).string(e.groups[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupStatusList;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.groups&&n.groups.length||(n.groups=[]),n.groups.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),XC=I.GroupStatusResult=function(){function e(e){if(this.groupInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.groupInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.groupInfos&&e.groupInfos.length)for(var n=0;n<e.groupInfos.length;++n)I.GroupStatusResult.GroupInfo.encode(e.groupInfos[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupStatusResult;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.groupInfos&&n.groupInfos.length||(n.groupInfos=[]),n.groupInfos.push(I.GroupStatusResult.GroupInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.GroupInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.group="",e.prototype.memberCount=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(10).string(e.group),null!=e.memberCount&&Object.hasOwnProperty.call(e,"memberCount")&&t.uint32(16).uint32(e.memberCount),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupStatusResult.GroupInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.group=e.string();break;case 2:n.memberCount=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),YC=I.GroupCountNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.size=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(32).uint32(e.size),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupCountNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.group=e.string();break;case 4:n.size=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),ZC=I.GroupAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),$C=I.GroupAttributeRet=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.attributeMaps&&e.attributeMaps.length)for(var n=0;n<e.attributeMaps.length;++n)I.GroupAttributeRet.AttributeMap.encode(e.attributeMaps[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.attributeMaps&&n.attributeMaps.length||(n.attributeMaps=[]),n.attributeMaps.push(I.GroupAttributeRet.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeRet.AttributeMap;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;case 3:n.origin=e.string();break;case 4:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),e}(),aD=I.GroupAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)I.GroupAttributeSet.AttributeInfo.encode(e.attributeInfos[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeSet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.broadcast=e.bool();break;case 4:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(I.GroupAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeSet.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),bD=I.GroupAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)I.GroupAttributeMod.AttributeInfo.encode(e.attributeInfos[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeMod;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.broadcast=e.bool();break;case 4:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(I.GroupAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeMod.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),cD=I.GroupAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(34).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeDel;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.broadcast=e.bool();break;case 4:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),dD=I.GroupAttributeAlt=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.attributeMaps&&e.attributeMaps.length)for(var n=0;n<e.attributeMaps.length;++n)I.GroupAttributeAlt.AttributeMap.encode(e.attributeMaps[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeAlt;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.instance=e.uint64();break;case 4:n.attributeMaps&&n.attributeMaps.length||(n.attributeMaps=[]),n.attributeMaps.push(I.GroupAttributeAlt.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeAlt.AttributeMap;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;case 3:n.origin=e.string();break;case 4:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),e}(),eD=I.GroupAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeRsp;e.pos<t;){var r=e.uint32();r>>>3==1?n.seq=e.uint64():e.skipType(7&r)}return n},e}(),fD=I.GroupAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeErr;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),gD=I.GroupAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeKeysGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;default:e.skipType(7&r)}}return n},e}(),hD=I.GroupAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.keys=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)t.uint32(18).string(e.keys[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.GroupAttributeKeysRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.keys&&n.keys.length||(n.keys=[]),n.keys.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),iD=I.SubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.users=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.SubscribeUserStatus;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.users&&n.users.length||(n.users=[]),n.users.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),jD=I.UnsubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.users=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UnsubscribeUserStatus;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.users&&n.users.length||(n.users=[]),n.users.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),kD=I.UserJoinNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserJoinNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.user=e.string();break;default:e.skipType(7&r)}}return n},e}(),lD=I.UserQuitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserQuitNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.user=e.string();break;default:e.skipType(7&r)}}return n},e}(),mD=I.UserWaitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=ia.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.UserWaitNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.user=e.string();break;default:e.skipType(7&r)}}return n},e}(),nD=I.SubscribeResponse=function(){function e(e){if(this.errors=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.errors=D.emptyArray,e.encode=function(e,t){if(t||(t=ia.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.errors&&e.errors.length)for(var n=0;n<e.errors.length;++n)I.SubscribeResponse.SubscribeErrorsType.encode(e.errors[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.SubscribeResponse;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.errors&&n.errors.length||(n.errors=[]),n.errors.push(I.SubscribeResponse.SubscribeErrorsType.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.SubscribeErrorsType=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=ia.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof M||(e=M.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new I.SubscribeResponse.SubscribeErrorsType;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),oD=Object.freeze({__proto__:null,URI:vC,Wrapper:wi,Ping:wC,Pong:xC,UserJoin:yC,UserResp:zC,UserQuit:AC,UserDrop:BC,UserTicketNearlyExpire:CC,UserRenewTokenReq:DC,UserRenewTokenResp:EC,GroupEnter:FC,GroupLeave:GC,GroupReply:HC,GroupLeaveNotice:vs,GroupEnterNotice:ws,Message:xs,Ack:ys,GroupDrop:IC,GroupAllUsersList:JC,GroupAllUsersResult:KC,UserStatusList:LC,UserStatusResult:MC,UserAttributeGet:NC,UserAttributeRet:OC,UserAttributeSet:PC,UserAttributeMod:QC,UserAttributeDel:RC,UserAttributeErr:SC,UserAttributeKeysGet:TC,UserAttributeKeysRet:UC,UserAttributeRsp:VC,GroupStatusList:WC,GroupStatusResult:XC,GroupCountNotice:YC,GroupAttributeGet:ZC,GroupAttributeRet:$C,GroupAttributeSet:aD,GroupAttributeMod:bD,GroupAttributeDel:cD,GroupAttributeAlt:dD,GroupAttributeRsp:eD,GroupAttributeErr:fD,GroupAttributeKeysGet:gD,GroupAttributeKeysRet:hD,SubscribeUserStatus:iD,UnsubscribeUserStatus:jD,UserJoinNotice:kD,UserQuitNotice:lD,UserWaitNotice:mD,SubscribeResponse:nD,default:I}),pD=Math.ceil,zs=function(e){return function(t,n,r){var i=(t=String(Eb(t))).length;return r=void 0===r?" ":String(r),(n=Ma(n))<=i||""==r?t:(n-=i,(i=Yo.call(r,pD(n/r.length))).length>n&&(i=i.slice(0,n)),e?t+i:i+t)}},qD=zs(!1),rD=zs(!0),As=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(df);ea({target:"String",proto:!0,forced:As},{padEnd:function(e){return rD(this,e,1<arguments.length?arguments[1]:void 0)}});var sD=eg,Bs=function(e){return function(t){t=Mb(t);for(var n,r=ed(t),i=r.length,o=0,a=[];i>o;)n=r[o++],wa&&!sD.call(t,n)||a.push(e?[n,t[n]]:t[n]);return a}},tD=Bs(!0),uD=Bs(!1);ea({target:"Object",stat:!0},{entries:function(e){return tD(e)}});var vD=dc.f,Cs="".endsWith,wD=Math.min,Ds=Qk("endsWith"),xD=!Ds&&!!function(){var e=vD(String.prototype,"endsWith");return e&&!e.writable}();ea({target:"String",proto:!0,forced:!xD&&!Ds},{endsWith:function(e){var t=String(Eb(this));Pk(e);var n=1<arguments.length?arguments[1]:void 0,r=Ma(t.length);return n=void 0===n?r:wD(Ma(n),r),r=String(e),Cs?Cs.call(t,r,n):t.slice(n-r.length,n)===r}}),Bh("match",1,(function(e,t,n){return[function(t){var n=Eb(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;if(e=Ia(e),r=String(this),!e.global)return ef(e,r);var i=e.unicode;e.lastIndex=0;for(var o,a=[],s=0;null!==(o=ef(e,r));)o=String(o[0]),a[s]=o,""===o&&(e.lastIndex=Mj(r,Ma(e.lastIndex),i)),s++;return 0===s?null:a}]}));var yD=dc.f,Es="".startsWith,zD=Math.min,Fs=Qk("startsWith"),AD=!Fs&&!!function(){var e=yD(String.prototype,"startsWith");return e&&!e.writable}();ea({target:"String",proto:!0,forced:!AD&&!Fs},{startsWith:function(e){var t=String(Eb(this));Pk(e);var n=Ma(zD(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return Es?Es.call(t,r,n):t.slice(n,n+r.length)===r}});var Wn=function(e){var t=Array.prototype.slice.call(arguments,1);return t.length&&(e=e.replace(/(%?)(%([jds]))/g,(function(e,n,r,i){switch(r=t.shift(),i){case"s":r=""+r;break;case"d":r=Number(r);break;case"j":r=JSON.stringify(r)}return n?(t.unshift(r),e):r}))),t.length&&(e+=" "+t.join(" ")),""+e.replace(/%{2,2}/g,"%")},BD=/\s/,CD=/^\s+/,Gs=NaN,DD=/^[-+]0x[0-9a-f]+$/i,ED=/^0b[01]+$/i,FD=/^0o[0-7]+$/i,GD=parseInt,xi=function(e){if("number"==typeof e)return e;if(Ke(e))return Gs;if(Gb(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=Gb(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;if(e){for(var t=e.slice,n=e.length;n--&&BD.test(e.charAt(n)););e=t.call(e,0,n+1).replace(CD,"")}return(t=ED.test(e))||FD.test(e)?GD(e.slice(2),t?2:8):DD.test(e)?Gs:+e},HD=Math.max,ID=Math.min,JD=function(e,t,n){function r(t){var n=c,r=l;return c=l=void 0,p=t,u=e.apply(r,n)}function i(e){var n=e-h;return e-=p,void 0===h||n>=t||0>n||m&&e>=g}function o(){var e=$b.Date.now();if(i(e))return a(e);var n=setTimeout,r=e-p;e=t-(e-h),r=m?ID(e,g-r):e,d=n(o,r)}function a(e){return d=void 0,v&&c?r(e):(c=l=void 0,u)}function s(){var e=$b.Date.now(),n=i(e);if(c=arguments,l=this,h=e,n){if(void 0===d)return p=e=h,d=setTimeout(o,t),f?r(e):u;if(m)return clearTimeout(d),d=setTimeout(o,t),r(h)}return void 0===d&&(d=setTimeout(o,t)),u}var c,l,u,d,h,p=0,f=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(t=xi(t)||0,Gb(n)){f=!!n.leading;var g=(m="maxWait"in n)?HD(xi(n.maxWait)||0,t):g;v="trailing"in n?!!n.trailing:v}return s.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=h=l=d=void 0},s.flush=function(){return void 0===d?u:a($b.Date.now())},s},KD=Math.max,LD=Math.min,Hs=1/0,Rl=function(e){return e?(e=xi(e))===Hs||e===-Hs?17976931348623157e292*(0>e?-1:1):e==e?e:0:0===e?e:0},Is=function(e,t,n){return t=Rl(t),void 0===n?(n=t,t=0):n=Rl(n),(e=xi(e))>=LD(t,n)&&e<KD(t,n)},ac=Gc.Writer,H=Gc.util,Pb=Gc.roots.default||(Gc.roots.default={}),MD=Pb.Session=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.appId="",e.prototype.ver="",e.prototype.buildno=0,e.prototype.installId="",e.prototype.os=0,e.prototype.did="",e.prototype.index=null,e.prototype.token="",e.prototype.version=0,e.prototype.subVersion=0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(42).string(e.appId),null!=e.ver&&Object.hasOwnProperty.call(e,"ver")&&t.uint32(50).string(e.ver),null!=e.buildno&&Object.hasOwnProperty.call(e,"buildno")&&t.uint32(56).int32(e.buildno),null!=e.installId&&Object.hasOwnProperty.call(e,"installId")&&t.uint32(66).string(e.installId),null!=e.os&&Object.hasOwnProperty.call(e,"os")&&t.uint32(128).int32(e.os),null!=e.did&&Object.hasOwnProperty.call(e,"did")&&t.uint32(138).string(e.did),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&Pb.Session.CommonIndex.encode(e.index,t.uint32(162).fork()).ldelim(),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(170).string(e.token),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(176).int32(e.version),null!=e.subVersion&&Object.hasOwnProperty.call(e,"subVersion")&&t.uint32(184).int32(e.subVersion),t},e.CommonIndex=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(e,t){return t||(t=ac.create()),null!=e.index1&&Object.hasOwnProperty.call(e,"index1")&&t.uint32(10).string(e.index1),null!=e.index2&&Object.hasOwnProperty.call(e,"index2")&&t.uint32(18).string(e.index2),null!=e.index3&&Object.hasOwnProperty.call(e,"index3")&&t.uint32(26).string(e.index3),t},e}(),e}(),ND=Pb.ApEvent=function(){function e(e){if(this.linkServerList=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.apAddr="",e.prototype.linkServerList=H.emptyArray,e.prototype.errCode=0,e.prototype.serverErrCode=0,e.prototype.isp="",e.prototype.opId=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.envId=0,e.prototype.flag=0,e.prototype.area="",e.encode=function(e,t){if(t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.apAddr&&Object.hasOwnProperty.call(e,"apAddr")&&t.uint32(50).string(e.apAddr),null!=e.linkServerList&&e.linkServerList.length)for(var n=0;n<e.linkServerList.length;++n)t.uint32(58).string(e.linkServerList[n]);return null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(72).int32(e.errCode),null!=e.serverErrCode&&Object.hasOwnProperty.call(e,"serverErrCode")&&t.uint32(80).int32(e.serverErrCode),null!=e.isp&&Object.hasOwnProperty.call(e,"isp")&&t.uint32(90).string(e.isp),null!=e.opId&&Object.hasOwnProperty.call(e,"opId")&&t.uint32(96).int64(e.opId),null!=e.envId&&Object.hasOwnProperty.call(e,"envId")&&t.uint32(104).int32(e.envId),null!=e.flag&&Object.hasOwnProperty.call(e,"flag")&&t.uint32(112).int32(e.flag),null!=e.area&&Object.hasOwnProperty.call(e,"area")&&t.uint32(122).string(e.area),t},e}(),OD=Pb.ApRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.apAddr="",e.prototype.opId=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.envId=0,e.prototype.flag=0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.apAddr&&Object.hasOwnProperty.call(e,"apAddr")&&t.uint32(42).string(e.apAddr),null!=e.opId&&Object.hasOwnProperty.call(e,"opId")&&t.uint32(48).int64(e.opId),null!=e.envId&&Object.hasOwnProperty.call(e,"envId")&&t.uint32(56).int32(e.envId),null!=e.flag&&Object.hasOwnProperty.call(e,"flag")&&t.uint32(64).int32(e.flag),t},e}(),PD=Pb.LinkLoginRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.destServerIp="",e.prototype.linkId=0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.destServerIp&&Object.hasOwnProperty.call(e,"destServerIp")&&t.uint32(42).string(e.destServerIp),null!=e.linkId&&Object.hasOwnProperty.call(e,"linkId")&&t.uint32(48).int32(e.linkId),t},e}(),QD=Pb.Link=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.ec=0,e.prototype.sc=0,e.prototype.destServerIp="",e.prototype.ackedServerIp="",e.prototype.responseTime=0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.ec&&Object.hasOwnProperty.call(e,"ec")&&t.uint32(40).int32(e.ec),null!=e.sc&&Object.hasOwnProperty.call(e,"sc")&&t.uint32(48).int32(e.sc),null!=e.destServerIp&&Object.hasOwnProperty.call(e,"destServerIp")&&t.uint32(58).string(e.destServerIp),null!=e.ackedServerIp&&Object.hasOwnProperty.call(e,"ackedServerIp")&&t.uint32(66).string(e.ackedServerIp),null!=e.responseTime&&Object.hasOwnProperty.call(e,"responseTime")&&t.uint32(72).int32(e.responseTime),t},e}(),RD=Pb.Logout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),t},e}(),SD=Pb.KickedOff=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.linkId=0,e.prototype.code=0,e.prototype.server="",e.prototype.serverCode=0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.linkId&&Object.hasOwnProperty.call(e,"linkId")&&t.uint32(48).int32(e.linkId),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(56).int32(e.code),null!=e.server&&Object.hasOwnProperty.call(e,"server")&&t.uint32(66).string(e.server),null!=e.serverCode&&Object.hasOwnProperty.call(e,"serverCode")&&t.uint32(72).int32(e.serverCode),t},e}(),TD=Pb.ChnJoin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),UD=Pb.ChnJoinRes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.prototype.serverErrCode=0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),null!=e.serverErrCode&&Object.hasOwnProperty.call(e,"serverErrCode")&&t.uint32(64).int32(e.serverErrCode),t},e}(),VD=Pb.ChnLeave=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),WD=Pb.ConnectionStateChange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.elapse=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.oldState=0,e.prototype.newState=0,e.prototype.reason=0,e.prototype.reconnId=0,e.encode=function(e,t){return t||(t=ac.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.oldState&&Object.hasOwnProperty.call(e,"oldState")&&t.uint32(40).int32(e.oldState),null!=e.newState&&Object.hasOwnProperty.call(e,"newState")&&t.uint32(48).int32(e.newState),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(56).int32(e.reason),null!=e.reconnId&&Object.hasOwnProperty.call(e,"reconnId")&&t.uint32(64).int32(e.reconnId),t},e}(),Js=Pb.RtmSdkMessageCount=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.lts=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.vid=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.messagecategory=0,e.prototype.reportsequence=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.sentcount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.receivedcount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack10mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack25mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack50mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack75mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack100mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack150mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack200mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack250mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack300mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack400mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack500mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack600mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack800mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack1000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack2000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack3000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack5000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerack7000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.peerackslowcount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack10mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack25mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack50mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack75mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack100mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack150mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack200mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack250mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack300mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack400mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack500mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack600mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack800mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack1000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack2000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack3000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack5000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientack7000mscount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.norecipientackslowcount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.acktimeoutcount=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.apimajorversion=0,e.prototype.apiminorversion=0,e.prototype.os=0,e.prototype.toooftencount=0,e.prototype.receiverofflinecount=0,e.prototype.invalidmessagecount=0,e.prototype.unknowerrorcount=0,e.prototype.servercachedcount=0,e.prototype.timeoutcount=0,e.prototype.successcount=0,e.prototype.userid="",e.encode=function(e,t){return t||(t=ac.create()),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(8).int64(e.lts),null!=e.vid&&Object.hasOwnProperty.call(e,"vid")&&t.uint32(16).int64(e.vid),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(26).string(e.sid),null!=e.messagecategory&&Object.hasOwnProperty.call(e,"messagecategory")&&t.uint32(32).int32(e.messagecategory),null!=e.reportsequence&&Object.hasOwnProperty.call(e,"reportsequence")&&t.uint32(40).int64(e.reportsequence),null!=e.sentcount&&Object.hasOwnProperty.call(e,"sentcount")&&t.uint32(48).int64(e.sentcount),null!=e.receivedcount&&Object.hasOwnProperty.call(e,"receivedcount")&&t.uint32(56).int64(e.receivedcount),null!=e.peerack10mscount&&Object.hasOwnProperty.call(e,"peerack10mscount")&&t.uint32(64).int64(e.peerack10mscount),null!=e.peerack25mscount&&Object.hasOwnProperty.call(e,"peerack25mscount")&&t.uint32(72).int64(e.peerack25mscount),null!=e.peerack50mscount&&Object.hasOwnProperty.call(e,"peerack50mscount")&&t.uint32(80).int64(e.peerack50mscount),null!=e.peerack75mscount&&Object.hasOwnProperty.call(e,"peerack75mscount")&&t.uint32(88).int64(e.peerack75mscount),null!=e.peerack100mscount&&Object.hasOwnProperty.call(e,"peerack100mscount")&&t.uint32(96).int64(e.peerack100mscount),null!=e.peerack150mscount&&Object.hasOwnProperty.call(e,"peerack150mscount")&&t.uint32(104).int64(e.peerack150mscount),null!=e.peerack200mscount&&Object.hasOwnProperty.call(e,"peerack200mscount")&&t.uint32(112).int64(e.peerack200mscount),null!=e.peerack250mscount&&Object.hasOwnProperty.call(e,"peerack250mscount")&&t.uint32(120).int64(e.peerack250mscount),null!=e.peerack300mscount&&Object.hasOwnProperty.call(e,"peerack300mscount")&&t.uint32(128).int64(e.peerack300mscount),null!=e.peerack400mscount&&Object.hasOwnProperty.call(e,"peerack400mscount")&&t.uint32(136).int64(e.peerack400mscount),null!=e.peerack500mscount&&Object.hasOwnProperty.call(e,"peerack500mscount")&&t.uint32(144).int64(e.peerack500mscount),null!=e.peerack600mscount&&Object.hasOwnProperty.call(e,"peerack600mscount")&&t.uint32(152).int64(e.peerack600mscount),null!=e.peerack800mscount&&Object.hasOwnProperty.call(e,"peerack800mscount")&&t.uint32(160).int64(e.peerack800mscount),null!=e.peerack1000mscount&&Object.hasOwnProperty.call(e,"peerack1000mscount")&&t.uint32(168).int64(e.peerack1000mscount),null!=e.peerack2000mscount&&Object.hasOwnProperty.call(e,"peerack2000mscount")&&t.uint32(176).int64(e.peerack2000mscount),null!=e.peerack3000mscount&&Object.hasOwnProperty.call(e,"peerack3000mscount")&&t.uint32(184).int64(e.peerack3000mscount),null!=e.peerack5000mscount&&Object.hasOwnProperty.call(e,"peerack5000mscount")&&t.uint32(192).int64(e.peerack5000mscount),null!=e.peerack7000mscount&&Object.hasOwnProperty.call(e,"peerack7000mscount")&&t.uint32(200).int64(e.peerack7000mscount),null!=e.peerackslowcount&&Object.hasOwnProperty.call(e,"peerackslowcount")&&t.uint32(208).int64(e.peerackslowcount),null!=e.norecipientack10mscount&&Object.hasOwnProperty.call(e,"norecipientack10mscount")&&t.uint32(216).int64(e.norecipientack10mscount),null!=e.norecipientack25mscount&&Object.hasOwnProperty.call(e,"norecipientack25mscount")&&t.uint32(224).int64(e.norecipientack25mscount),null!=e.norecipientack50mscount&&Object.hasOwnProperty.call(e,"norecipientack50mscount")&&t.uint32(232).int64(e.norecipientack50mscount),null!=e.norecipientack75mscount&&Object.hasOwnProperty.call(e,"norecipientack75mscount")&&t.uint32(240).int64(e.norecipientack75mscount),null!=e.norecipientack100mscount&&Object.hasOwnProperty.call(e,"norecipientack100mscount")&&t.uint32(248).int64(e.norecipientack100mscount),null!=e.norecipientack150mscount&&Object.hasOwnProperty.call(e,"norecipientack150mscount")&&t.uint32(256).int64(e.norecipientack150mscount),null!=e.norecipientack200mscount&&Object.hasOwnProperty.call(e,"norecipientack200mscount")&&t.uint32(264).int64(e.norecipientack200mscount),null!=e.norecipientack250mscount&&Object.hasOwnProperty.call(e,"norecipientack250mscount")&&t.uint32(272).int64(e.norecipientack250mscount),null!=e.norecipientack300mscount&&Object.hasOwnProperty.call(e,"norecipientack300mscount")&&t.uint32(280).int64(e.norecipientack300mscount),null!=e.norecipientack400mscount&&Object.hasOwnProperty.call(e,"norecipientack400mscount")&&t.uint32(288).int64(e.norecipientack400mscount),null!=e.norecipientack500mscount&&Object.hasOwnProperty.call(e,"norecipientack500mscount")&&t.uint32(296).int64(e.norecipientack500mscount),null!=e.norecipientack600mscount&&Object.hasOwnProperty.call(e,"norecipientack600mscount")&&t.uint32(304).int64(e.norecipientack600mscount),null!=e.norecipientack800mscount&&Object.hasOwnProperty.call(e,"norecipientack800mscount")&&t.uint32(312).int64(e.norecipientack800mscount),null!=e.norecipientack1000mscount&&Object.hasOwnProperty.call(e,"norecipientack1000mscount")&&t.uint32(320).int64(e.norecipientack1000mscount),null!=e.norecipientack2000mscount&&Object.hasOwnProperty.call(e,"norecipientack2000mscount")&&t.uint32(328).int64(e.norecipientack2000mscount),null!=e.norecipientack3000mscount&&Object.hasOwnProperty.call(e,"norecipientack3000mscount")&&t.uint32(336).int64(e.norecipientack3000mscount),null!=e.norecipientack5000mscount&&Object.hasOwnProperty.call(e,"norecipientack5000mscount")&&t.uint32(344).int64(e.norecipientack5000mscount),null!=e.norecipientack7000mscount&&Object.hasOwnProperty.call(e,"norecipientack7000mscount")&&t.uint32(352).int64(e.norecipientack7000mscount),null!=e.norecipientackslowcount&&Object.hasOwnProperty.call(e,"norecipientackslowcount")&&t.uint32(360).int64(e.norecipientackslowcount),null!=e.acktimeoutcount&&Object.hasOwnProperty.call(e,"acktimeoutcount")&&t.uint32(368).int64(e.acktimeoutcount),null!=e.apimajorversion&&Object.hasOwnProperty.call(e,"apimajorversion")&&t.uint32(376).int32(e.apimajorversion),null!=e.apiminorversion&&Object.hasOwnProperty.call(e,"apiminorversion")&&t.uint32(384).int32(e.apiminorversion),null!=e.os&&Object.hasOwnProperty.call(e,"os")&&t.uint32(392).int32(e.os),null!=e.toooftencount&&Object.hasOwnProperty.call(e,"toooftencount")&&t.uint32(400).int32(e.toooftencount),null!=e.receiverofflinecount&&Object.hasOwnProperty.call(e,"receiverofflinecount")&&t.uint32(408).int32(e.receiverofflinecount),null!=e.invalidmessagecount&&Object.hasOwnProperty.call(e,"invalidmessagecount")&&t.uint32(416).int32(e.invalidmessagecount),null!=e.unknowerrorcount&&Object.hasOwnProperty.call(e,"unknowerrorcount")&&t.uint32(424).int32(e.unknowerrorcount),null!=e.servercachedcount&&Object.hasOwnProperty.call(e,"servercachedcount")&&t.uint32(432).int32(e.servercachedcount),null!=e.timeoutcount&&Object.hasOwnProperty.call(e,"timeoutcount")&&t.uint32(440).int32(e.timeoutcount),null!=e.successcount&&Object.hasOwnProperty.call(e,"successcount")&&t.uint32(448).int32(e.successcount),null!=e.userid&&Object.hasOwnProperty.call(e,"userid")&&t.uint32(458).string(e.userid),t},e}(),Iv=Object.freeze({__proto__:null,Session:MD,ApEvent:ND,ApRequest:OD,LinkLoginRequest:PD,Link:QD,Logout:RD,KickedOff:SD,ChnJoin:TD,ChnJoinRes:UD,ChnLeave:VD,ConnectionStateChange:WD,RtmSdkMessageCount:Js,default:Pb}),XD=la((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));ea({target:"Date",proto:!0,forced:XD},{toJSON:function(e){e=pb(this);var t=Oc(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}}),ea({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var Ev=Object.prototype.hasOwnProperty,Ks=function(e,t,n){return JSON.stringify(Mn(e),t,n)};Ks.ensureProperties=Mn;var YD=function(e,t){t=t||{};var n=qa(e);if("string"===n&&0<e.length)return Fv(e);if("number"===n&&isFinite(e))return t.long?864e5<=(t=Math.abs(e))?jh(e,t,864e5,"day"):36e5<=t?jh(e,t,36e5,"hour"):6e4<=t?jh(e,t,6e4,"minute"):1e3<=t?jh(e,t,1e3,"second"):e+" ms":864e5<=(t=Math.abs(e))?Math.round(e/864e5)+"d":36e5<=t?Math.round(e/36e5)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},ZD=function(e){function t(e){function r(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if(r.enabled){e=Number(new Date),r.diff=e-(i||e),r.prev=i,i=r.curr=e,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var a=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,i){return"%%"===e?"%":(a++,"function"==typeof(i=t.formatters[i])&&(e=i.call(r,n[a]),n.splice(a,1),a--),e)})),t.formatArgs.call(r,n),(r.log||t.log).apply(r,n)}}var i,o=null;return r.namespace=e,r.useColors=t.useColors(),r.color=t.selectColor(e),r.extend=n,r.destroy=t.destroy,Object.defineProperty(r,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===o?t.enabled(e):o},set:function(e){o=e}}),"function"==typeof t.init&&t.init(r),r}function n(e,n){return(e=t(this.namespace+(void 0===n?":":n)+e)).log=this.log,e}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(Z(t.names.map(r)),Z(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var n,r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r=0;for(n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=YD,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t},Ls=xb((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){try{var e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};e:{try{var n=localStorage;break e}catch(r){}n=void 0}var r;t.storage=n,t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),t.log=console.debug||console.log||function(){},e.exports=ZD(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Ms=Ls("RTM:DEBUG"),Af;Ms.enabled=!1,function(e){e[e.Uploading=0]="Uploading",e[e.Free=1]="Free"}(Af||(Af={}));var $D=function(){function e(t){va(this,e),x(this,"uploadRequest",void 0),x(this,"uploadState",void 0),x(this,"uploadResendCount",void 0),x(this,"LogCache",void 0),x(this,"LogsToPost",void 0),x(this,"processId",void 0),x(this,"sdkVersion",void 0),x(this,"logId",void 0),x(this,"rtmConfig",void 0),this.processId=t.processId,this.sdkVersion=t.sdkVersion,this.rtmConfig=t.rtmConfig,this.uploadRequest=t.uploadRequest,this.uploadState=Af.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return eb(e,[{key:"upload",value:function(e){this.LogCache.push(e),this.uploadState===Af.Free&&(this.LogsToPost=40>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,40),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(e){var t=this;this.uploadState=Af.Uploading,setTimeout(ma(N.mark((function n(){var r,i,o;return N.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={sdk_version:t.sdkVersion,process_id:t.processId,payload:JSON.stringify(e)},n.prev=1,n.next=4,t.uploadRequest(r,null!==(i=t.rtmConfig.enableCloudProxy)&&void 0!==i&&i);case 4:if(!gj){n.next=6;break}throw Error("RTM is busy");case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),o=2>t.uploadResendCount++?2e3:1e4,setTimeout((function(){return t.postLog(t.LogsToPost)}),o),n.abrupt("return");case 13:if(Ms('The logs uploaded for "process-'.concat(Og,'"')),0!==t.LogCache.length){n.next=17;break}return t.uploadState=Af.Free,n.abrupt("return");case 17:t.uploadResendCount=0,t.LogsToPost=40>t.LogCache.length?t.LogCache.splice(0,t.LogCache.length):t.LogCache.splice(0,40),t.postLog(t.LogsToPost);case 20:case"end":return n.stop()}}),n,null,[[1,8]])}))),ue.getParameter("LOG_UPLOAD_INTERVAL"))}}]),e}(),Ns=function(e,t,n,r,i,o,a,s){var c=0;for(a=!!a&&Dd(a,s,3);c<r;){if(c in n){if(s=a?a(n[c],c,t):n[c],0<o&&Ed(s))i=Ns(e,t,s,Ma(s.length),i,o-1)-1;else{if(9007199254740991<=i)throw TypeError("Exceed the acceptable array length");e[i]=s}i++}c++}return i},aE=Ns;ea({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=pb(this),n=Ma(t.length),r=Dh(t,0);return r.length=aE(r,t,t,n,0,void 0===e?1:yc(e)),r}}),ea({target:"Object",stat:!0},{values:function(e){return uD(e)}});var ud=function(e){function t(e,r){return va(this,t),x(z(e=n.call(this,Vn(e,r))),"originalError",void 0),x(z(e),"code",void 0),x(z(e),"serverCode",void 0),"number"==typeof r?e.code=r:"string"==typeof r?e.name=r:void 0!==r&&(r.originalError&&(e.originalError=r.originalError),void 0!==r.code&&(e.code=r.code),void 0!==r.serverCode&&(e.serverCode=r.serverCode)),e}Ga(t,e);var n=Ha(t);return t}(Kf(Error)),rc=function(e){function t(e,r){return va(this,t),x(z(e=n.call(this,Vn(e,r))),"name","RtmInternalError"),x(z(e),"code",void 0),e.code=r,e}Ga(t,e);var n=Ha(t);return t}(Kf(Error)),yi=function(){return function(e){function t(e){va(this,t);var r=Object.keys(e);return n.call(this,e[r[0]],r[0])}Ga(t,e);var n=Ha(t);return t}(rc)},mb=yi(),Ub=function(e){function t(){va(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmTimeoutError"),e}Ga(t,e);var n=Ha(t);return t}(ud),ca=function(e){function t(){va(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmInvalidArgumentError"),e}Ga(t,e);var n=Ha(t);return t}(ud),da=function(e){function t(){va(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmInvalidStatusError"),e}Ga(t,e);var n=Ha(t);return t}(ud),ic=function(e){function t(){va(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmLimitExceededError"),e}Ga(t,e);var n=Ha(t);return t}(ud),bE=function(e){function t(){va(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmInvokeTooOftenError"),e}Ga(t,e);var n=Ha(t);return t}(ud),Ja=function(e){function t(){va(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmUnavailableError"),x(z(e),"serverCode",void 0),x(z(e),"statusCode",void 0),e}Ga(t,e);var n=Ha(t);return t}(ud),Bf=function(e){function t(){va(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmUnauthenticatedError"),x(z(e),"serverCode",void 0),e}Ga(t,e);var n=Ha(t);return t}(ud),ve=function(e){function t(){va(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmUnknownError"),e}Ga(t,e);var n=Ha(t);return t}(ud),Ab=function(e){return e instanceof Ub||e instanceof Tb},Na=function(e){return e instanceof ud},we=function(e,t,n){return['Executing "%s.%s" timed out after %ds',e,t,n/1e3]},cE=["CODE"],bc,Pd,S;!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(S||(S={}));var dE={CN:S.CHINA,NA:S.NORTH_AMERICA,EU:S.EUROPE,AS:S.ASIA,JP:S.JAPAN,IN:S.INDIA,GLOB:S.GLOBAL,AF:S.AFRICA,OC:S.OVERSEA,OVS:S.OVERSEA,SA:S.SOUTH_AMERICA},kh=$n((bc={},x(bc,S.ASIA,{CODE:S.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),x(bc,S.NORTH_AMERICA,{CODE:S.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),x(bc,S.EUROPE,{CODE:S.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),x(bc,S.JAPAN,{CODE:S.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),x(bc,S.INDIA,{CODE:S.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),x(bc,S.OVERSEA,{CODE:S.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),x(bc,S.GLOBAL,{CODE:S.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),x(bc,S.OCEANIA,{CODE:S.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),x(bc,S.SOUTH_AMERICA,{CODE:S.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),x(bc,S.AFRICA,{CODE:S.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),x(bc,S.CHINA,{CODE:S.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),bc)),Zf=(Pd={},x(Pd,S.ASIA,[S.CHINA,S.JAPAN,S.INDIA]),x(Pd,S.EUROPE,[]),x(Pd,S.NORTH_AMERICA,[]),x(Pd,S.SOUTH_AMERICA,[]),x(Pd,S.OCEANIA,[]),x(Pd,S.AFRICA,[]),Pd),Os=[S.OVERSEA,S.GLOBAL,S.CHINA,S.NORTH_AMERICA,S.EUROPE,S.ASIA,S.JAPAN,S.INDIA,S.OCEANIA,S.SOUTH_AMERICA,S.AFRICA],Nn=function(e){return Object.values(Zf).flat().includes(e)},Hv=function(e){var t;return null===(t=qh(Zf).find((function(t){return(t=$a(t,2))[0],t[1].includes(e)})))||void 0===t?void 0:t[0]},eE=function(e){return e.sort((function(e,t){return Os.indexOf(e)-Os.indexOf(t)}))},Ve=function(e){var t=new Set;if(0===(e=eE(e).slice(0,3).map((function(e){var n=kh[e];if(void 0===n)throw new rc("invalid area key");return e=n.CODE,n=Ki(n,cE),t.add(e),n}))).length)throw new rc("areas cannot be empty");return Wa({CODES:t},e.reduce((function(e,t){for(var n=0,r=qh(e);n<r.length;n++){var i=$a(r[n],2),o=i[0];i=i[1],e[o]=Array.from(new Set([].concat(Z(t[o]),Z(i))))}return e})))},fa,Ps=function(){var e=ma(N.mark((function e(t,n){var r,i,o,a,s,c=arguments;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(2<(i=2<c.length&&void 0!==c[2]?c[2]:0))){e.next=3;break}return e.abrupt("return");case 3:return o={withCredentials:!0,body:t,timeout:2e4},a=0<i?(null==fa?void 0:fa.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(null==fa?void 0:fa.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",s=n?"https://".concat(null!==(r=null==fa?void 0:fa.PROXY_NGINX[0])&&void 0!==r?r:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(a,"&p=443&d=upload/v1"):"https://".concat(a,"/upload/v1"),e.next=8,lh(s,o).catch((function(e){return Ps(t,n,i+1)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qs=new $D({processId:"process-".concat(Og),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v1.5.1-0-g5bbbcd72"),uploadRequest:Ps,rtmConfig:{}}),Sl="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),Rs="account ticket uid detail token account fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip".split(" "),Ss=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],fE="ChannelMessage MemberLeft MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),We=function(e){if("string"==typeof e)return La(e);if(Array.isArray(e)&&e.every((function(e){return"string"==typeof e})))return e.map((function(e){return La(e)}));if(!Mm(e)){for(var t={},n=0;n<Ss.length;n++){var r=Ss[n];r in e&&(t[r]=e[r])}if(0<Object.keys(t).length)return t;if(5>Object.keys(e).length){for(n=0,e=Object.entries(e);n<e.length;n++){var i=$a(e[n],2);r=i[0],i=i[1],Sl.includes(r)?t[r]="[Hidden Info]":t[La(r)]="string"==typeof i?La(i):"[Sensitive Info]"}return t}return"[Sensitive Info]"}return e},Ts=function(e){return"object"===qa(e)?De(e)?Zn(He(e,5),Sl,Rs):e.constructor&&e.constructor.name:e},Us=function(e,t){return e instanceof Error?e.message:"string"!=typeof e?JSON.stringify(Zn(He(e,5),Sl,Rs)):(t=t.map((function(e){return e instanceof Error?e.message:"object"===qa(e)?Ks(Array.isArray(e)?e.map(Ts):Ts(e)):e})),Wn.apply(void 0,[e.replace(/%[%Oo]/g,(function(e){return"%%"===e?"%":"%o"===e||"%O"===e?"%s":e}))].concat(Z(t))))},gE=1,Vs=function(e,t,n){var r=Ls(e);return r.enabled=!0,r.log=n,r.useColors=!1,function(n){for(var i=arguments.length,o=Array(1<i?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(t.enableLogUpload){i=oh(n);var s=Us(i,o);Qs.upload({log_item_id:"".concat(gE++),log_level:e,payload_str:"[".concat(hE(),"] ").concat(e," - ").concat(256<s.length?s.slice(0,256):s)})}switch(i=function(e){var t=s||Us(oh(n),o),i=Ec.LOG_HANDLER;"function"==typeof i&&i({level:e,message:t}),r(t)},e){case"RTM:INFO":t.logFilter.info&&i("log");break;case"RTM:WARN":t.logFilter.warn&&i("warning");break;case"RTM:ERROR":t.logFilter.error&&i("error");break;case"RTM:TRACK":t.logFilter.track&&i("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":case"RTM:DEBUG":t.logFilter.debug&&i("debug")}}},Tl,Ws=function(e){return function(t){var n=1===Tl||void 0===e?"":"Ins#".concat(e," ");return"".concat(n).concat(t)}},Ul=function(e,t,n){var r=Ws(Tl);return Vs("RTM:".concat(t),n,(function(t){return e(r(t))}))},sc=function(){return function(e){function t(e,r){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];va(this,t);var o=n.call(this);if(x(z(o),"logError",void 0),x(z(o),"invokeTracker",void 0),x(z(o),"resultTracker",void 0),x(z(o),"errorTracker",void 0),x(z(o),"eventTracker",void 0),x(z(o),"info",void 0),x(z(o),"warn",void 0),x(z(o),"log",void 0),x(z(o),"genLogger",void 0),x(z(o),"loggerId",void 0),x(z(o),"logger",void 0),x(z(o),"name",void 0),o.logger=e,o.name=r,o.loggerId=e.loggerId,o.info=e.info,o.warn=e.warn,o.logError=e.logError,o.genLogger=e.genLogger,o.log=e.genLogger("RTM:DEBUG","<".concat(r,"> ")),o.invokeTracker=e.genTracker("Invoke"),o.eventTracker=e.genTracker("Event"),o.resultTracker=e.genTracker("Result"),o.errorTracker=e.genTracker("Error"),i){var a=o.emit.bind(z(o));o.emit=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e=t[0],n=t.slice(1);var i=fE.includes(e);o.eventTracker.apply(o,["%s: ".concat(0<n.length?"%s emitted with args: ".concat(n.map((function(){return"%o"}))):"%s emitted"),r,e].concat(Z(i?n.map(We):n)));try{a.apply(void 0,t)}catch(t){o.logError("Caught in the callback function of the event %s",e,t)}}}return o}Ga(t,e);var n=Ha(t);return t}(Ba)},iE=function(e){return Ul(console.log.bind(console),"INFO",e)},jE=function(e){return Ul(console.warn.bind(console),"WARN",e)},kE=function(e){return Ul(console.error.bind(console),"ERROR",e)},Xs=function(e,t){return function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=Ws(e),o=console.debug.bind(console),a=Vs(n,t,(function(e){return o(i(e))}));return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a.apply(void 0,[r+e].concat(n))}}},lE=function(e,t){return function(n){return Xs(e,t)("RTM:TRACK","[".concat(n,"] "))}},Jv=Object.freeze({__proto__:null,Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,default:{Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510}}),Ka;!function(e){e[e.ChannelSMsg=1]="ChannelSMsg",e[e.ChannelRMsg=2]="ChannelRMsg",e[e.P2pSMsgOfflineFlag=3]="P2pSMsgOfflineFlag",e[e.P2pRMsgOfflineFlag=4]="P2pRMsgOfflineFlag",e[e.P2pSMsgNoOfflineFlag=5]="P2pSMsgNoOfflineFlag",e[e.P2pRMsgNoOfflineFlag=6]="P2pRMsgNoOfflineFlag",e[e.P2pCallInvitation=7]="P2pCallInvitation",e[e.P2pCallCancellation=8]="P2pCallCancellation",e[e.P2pCallAcceptance=9]="P2pCallAcceptance",e[e.P2pCallRefusal=10]="P2pCallRefusal"}(Ka||(Ka={}));var zi=function(e){function t(e,r,i){return va(this,t),x(z(r=n.call(this,r,"MessageReport")),"messagecount",r.getInitMessageCount()),x(z(r),"context",void 0),x(z(r),"rtmMessageCategory",void 0),x(z(r),"seq",P.fromNumber(1,!0)),r.context=e,r.rtmMessageCategory=i,r}Ga(t,e);var n=Ha(t);return eb(t,[{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1)}},{key:"getInitMessageCount",value:function(){return{peerack10mscount:P.fromNumber(0),peerack25mscount:P.fromNumber(0),peerack50mscount:P.fromNumber(0),peerack75mscount:P.fromNumber(0),peerack100mscount:P.fromNumber(0),peerack150mscount:P.fromNumber(0),peerack200mscount:P.fromNumber(0),peerack250mscount:P.fromNumber(0),peerack300mscount:P.fromNumber(0),peerack400mscount:P.fromNumber(0),peerack500mscount:P.fromNumber(0),peerack600mscount:P.fromNumber(0),peerack800mscount:P.fromNumber(0),peerack1000mscount:P.fromNumber(0),peerack2000mscount:P.fromNumber(0),peerack3000mscount:P.fromNumber(0),peerack5000mscount:P.fromNumber(0),peerack7000mscount:P.fromNumber(0),peerackslowcount:P.fromNumber(0),norecipientack10mscount:P.fromNumber(0),norecipientack25mscount:P.fromNumber(0),norecipientack50mscount:P.fromNumber(0),norecipientack75mscount:P.fromNumber(0),norecipientack100mscount:P.fromNumber(0),norecipientack150mscount:P.fromNumber(0),norecipientack200mscount:P.fromNumber(0),norecipientack250mscount:P.fromNumber(0),norecipientack300mscount:P.fromNumber(0),norecipientack400mscount:P.fromNumber(0),norecipientack500mscount:P.fromNumber(0),norecipientack600mscount:P.fromNumber(0),norecipientack800mscount:P.fromNumber(0),norecipientack1000mscount:P.fromNumber(0),norecipientack2000mscount:P.fromNumber(0),norecipientack3000mscount:P.fromNumber(0),norecipientack5000mscount:P.fromNumber(0),norecipientack7000mscount:P.fromNumber(0),norecipientackslowcount:P.fromNumber(0),sentcount:P.fromNumber(0),receivedcount:P.fromNumber(0),acktimeoutcount:P.fromNumber(0),toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0}}},{key:"updatePeerAckCount",value:function(e){e/=2;for(var t=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],n=0;n<t.length;n++){var r,i=t[n];if(Is(e,i[0],i[1]))i="peerack".concat(i[1],"mscount"),this.messagecount[i]=null===(r=this.messagecount[i])||void 0===r?void 0:r.add(1);else if(7e3<e){var o;this.messagecount.peerackslowcount=null===(o=this.messagecount.peerackslowcount)||void 0===o?void 0:o.add(1)}}}},{key:"updateNorecipientackCount",value:function(e){e/=2;for(var t=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],n=0;n<t.length;n++){var r,i=t[n];if(Is(e,i[0],i[1]))i="norecipientack".concat(i[1],"mscount"),this.messagecount[i]=null===(r=this.messagecount[i])||void 0===r?void 0:r.add(1);else if(7e3<e){var o;this.messagecount.norecipientackslowcount=null===(o=this.messagecount.norecipientackslowcount)||void 0===o?void 0:o.add(1)}}}},{key:"updateCommonCount",value:function(e){var t=this.messagecount[e];P.isLong(t)?this.messagecount[e]=t.add(1):this.messagecount[e]=t+1}},{key:"report",value:function(){var e,t;bb("RtmSdkMessageCount",new Js(Wa(Wa({},this.messagecount),{},{vid:P.fromString(null!==(e=this.context.vid)&&void 0!==e?e:"0"),os:7,lts:P.fromNumber(Date.now()),sid:this.context.sid,reportsequence:this.incGetSeq(),apimajorversion:4,apiminorversion:18,userid:this.context.uid,messagecategory:this.rtmMessageCategory})),null!==(t=this.context.config.enableCloudProxy)&&void 0!==t&&t),this.messagecount=Wa(Wa({},this.messagecount),{},{toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0})}}]),t}(sc()),Un=new Map,hE=function(){var e=new Date;return"".concat(e.toISOString().split("T")[1].replace(/\..+/,""),".").concat(e.getMilliseconds())},Yf=Object.keys,qh=Object.entries.bind(Object),oh=function(e){return"string"==typeof e?e.endsWith(".")?e:"".concat(e,"."):e},yj=I.URI,Nv=wi,mE=Ki(oD,["Wrapper"]),bo=ql(mE,"URI"),Ys=function(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=e[r=os(n,i)];e[r]=e[n],e[n]=o}return e.length=t,e},nE=function(e){return Ys(Pi(e))},oE=function(e){return Ys(zj(e))},Cf=function(e){return(ub(e)?nE:oE)(e)},Df={0:9591,1:9593},xe=function(e){var t=$f(null);return"https://".concat(t?null:e,"/api/v1")},pE=ob.apply(void 0,Z(Cf(["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"].map(xe)))),qE=ob.apply(void 0,Z(Cf(["ap-web-1.agora.io","ap-web-2.agora.io"].map(xe)))),rE=ob.apply(void 0,Z(Cf(["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"].map(xe)))),sE=ob.apply(void 0,Z(Cf(["ap-web-3.agora.io","ap-web-4.agora.io"].map(xe)))),Zs=yi(),Vl=function(e){function t(e,r,i,o,a,s){var c,l;va(this,t);var u=n.call(this,a,uj("Socket-",a.loggerId));if(x(z(u),"isActiveClose",!1),x(z(u),"loggedIn",!1),x(z(u),"useNewDomain",void 0),x(z(u),"receivedPacket",new rb),x(z(u),"open$",void 0),x(z(u),"input$",new rb),x(z(u),"userJoin$",new rb),x(z(u),"attemptsSinceLastError",0),x(z(u),"message$",new rb),x(z(u),"socket$",void 0),x(z(u),"toClose",new rb),x(z(u),"toReconnect",new rb),x(z(u),"sendLogger",void 0),x(z(u),"receiveLogger",void 0),x(z(u),"ip",void 0),x(z(u),"env",void 0),x(z(u),"ticket",void 0),x(z(u),"context",void 0),x(z(u),"getDomain",(function(){return co(u.ip,u.useNewDomain)})),x(z(u),"socketReconnector",(function(e){var t=function(e){return u.attemptsSinceLastError+=1,u.warn("The %s of Env %d reconnecting %s",u.name,u.env,e.message),dd(3e3)};return e.pipe(ab((function(e){return u.log("socket connection closed"),u.loggedIn=!1,2<=u.attemptsSinceLastError?(u.warn("socket connection failure"),u.emit("connectionFailure"),u.close(),ra(e)):u.isActiveClose?Sb:(u.emit("reconnect"),u.useNewDomain=!u.useNewDomain,ra(e))})),Re((function(e){return e.pipe(Kb(t))})))})),u.ip=e,u.env=r,u.ticket=i,u.context=o,u.useNewDomain=null!=s?s:.5<=Math.random(),u.sendLogger=u.genLogger("RTM:MSG:SEND"),u.receiveLogger=u.genLogger("RTM:MSG:RECV"),0!==r&&1!==r)throw new Zs({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});var d=Df[r];u.log("Opening websocket address %s for the Env %d",u.ip,u.env),bb("LinkLoginRequest",{sid:u.context.sid,userId:u.context.uid,lts:P.fromNumber(Date.now()),elapse:Xa(u.context.startTime),destServerIp:u.ip,linkId:u.env},null!==(c=u.context.config.enableCloudProxy||u.context.socketUseProxy)&&void 0!==c&&c),bb("LinkLoginRequest",{sid:u.context.sid,userId:u.context.uid,lts:P.fromNumber(Date.now()),elapse:Xa(u.context.startTime),destServerIp:u.ip,linkId:u.env},null!==(l=u.context.config.enableCloudProxy||u.context.socketUseProxy)&&void 0!==l&&l);var h=Jb(u.input$,u.userJoin$.pipe(Av(2)),u.message$).pipe(Ea((function(e){return wi.encode(e).finish()})));return e=Jb(Bv("",{protocols:[],makeWebSocket:function(){if(u.context.config.enableCloudProxy||u.context.socketUseProxy){if(0===u.context.cloudProxyServers.length)throw u.logError("No cloud proxy server to connect"),new Ja;var e=$f(null)?JSON.parse(null.replace(/-/g,".")):u.context.cloudProxyServers;e=Xe(e="wss://".concat(co(On(e),!1),"/"),"sid",u.context.sid),e=Xe(e,"remote_port",d.toString()),e=Xe(e,"remote_ip",u.ip),e=Xe(e,"token",u.context.key),e=new WebSocket(e)}else e=new WebSocket("wss://".concat(u.getDomain(),":").concat(d));return e.binaryType="arraybuffer",e}}),u.toReconnect),u.socket$=fb(e,Dl.pipe(Lb(7e3),ab((function(e){return Ab(e)&&u.warn("socket open timed out"),ra(e)})))).pipe(Ea((function(e){if(e instanceof Error)throw u.warn("Env_%d: Force reconnect the socket",u.env),e;return e(h).pipe(Ea((function(e){return wi.decode(new Uint8Array(e))})))})),u.socketReconnector),u.open$=u.socket$.pipe(sa((function(e){u.log("Websocket opened",u.name),e.subscribe((function(e){var t=e.data;e=yj[e.uri].slice(0,-3),t=bo[e].decode(t);var n=eC({},ql(t,"toJSON"),(function(e,t){return t instanceof P?Tn(t):t})),r=!1;if((t instanceof ws||t instanceof vs)&&t.instance.lessThanOrEqual(4294967295)&&(r=!0),t instanceof xs||t instanceof ys){var i=t.instance,o=t.sequence;(t.dialogue.lessThanOrEqual(4294967295)||i.lessThanOrEqual(4294967295)||o.lessThan(1))&&(r=!0)}r?u.warn("Env_%d: Illegal %s, abandoned %o",u.env,e,n):("Pong"!==e&&u.receiveLogger("Env_%d: %s %o",u.env,e,n),u.receivedPacket.next([e,t]))}),(function(){}))})),Uf(void 0),Kc(u.toClose),Se()),u}Ga(t,e);var n=Ha(t);return eb(t,[{key:"address",get:function(){return"".concat(this.ip,":").concat(Df[this.env])}},{key:"sendPacket",value:function(e,t){if("Ping"!==e){var n=md(t,(function(e){return e instanceof P?Tn(e):e}));this.sendLogger("Env_%d: %s %o",this.env,e,n)}t=Mv(e,t),"UserJoin"===e?this.userJoin$.next(t):"Message"===e?this.message$.next(t):this.input$.next(t)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(e){return this.receivedPacket.pipe(yb((function(t){return $a(t,1)[0]===e})),Ea((function(e){return $a(e,2)[1]})))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new Zs({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),t}(sc());ea({target:"String",proto:!0,forced:As},{padStart:function(e){return qD(this,e,1<arguments.length?arguments[1]:void 0)}});var tE=function(e){var t=Yf(kh);e=Lv(e);for(var n=0;n<t.length;n++){var r=kh[t[n]];if(null!=r&&r.AP_DOMAINS.includes(e)||null!=r&&r.AP_BACKUP_DOMAINS.includes(e)||null!=r&&r.PROXY_AP.includes(e))return[r.CODE]}return[S.CHINA,S.GLOBAL]},uE={INVALID_APP_ID:"Illegal App ID",NO_AUTHORIZED:"Signature verification failed",TOKEN_TIMEOUT:"Dynamic key expired",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",TOKEN_EXPIRED:"The token has expired",INVALID_USER_ID:"The user ID to login does not match the token",FORBIDDEN_REGION:"Forbidden to access the request in this area",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit"},$s={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND"},vE=[100,101,102],Ai=/web-(\d)/,at=function(e){function t(e,r){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];va(this,t);var o=n.call(this,r,"AccessPoint");return x(z(o),"handleUniLbsError",(function(e,t){var n=e;if(4<e.toString().length){var r=e.toString().padStart(8,"0"),i=parseInt(r.slice(0,4),10);if(r=parseInt(r.slice(4,8),10),201===i)n=r;else if(101===i&&!vE.includes(r))return ra(Error("service is currently unavailable"))}if(i=n.toString(),!Object.keys($s).includes(i))return(e=new Ja(["Login is rejected by the server. The response code is %d",e],Pg)).serverCode=n,ra(e);switch(i=$s[i],n=uE[i],i){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":return(t=new Bf(n,as)).serverCode=e,ra(t);case"INVALID_USER_ID":return(t=new Bf(n,si)).serverCode=e,ra(t);case"TOKEN_EXPIRED":case"TOKEN_TIMEOUT":return(t=new Bf(n,ti)).serverCode=e,ra(t);case"NO_AUTHORIZED":case"INVALID_TOKEN_UID":case"DYNAMIC_KEY_NOT_ENABLED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":return(t=new Bf(n,bs)).serverCode=e,ra(t);case"CANNOT_MEET_AREA_DEMAND":return(t=tE(t)).forEach((function(e){return o.failedAreas.add(e)})),o.failedAreas.size===(void 0===fa?2:fa.CODES.size)?((t=new ca(n,Pg)).serverCode=e,ra(t)):ra(Error("ap ".concat(t.join(", ")," cannot meet requirement")));case"FORBIDDEN_REGION":return(t=new Ja(n,Pg)).serverCode=e,ra(t);default:return ra(Rn("ApResErrType",i))}})),x(z(o),"getApEdgeInfo$",void 0),x(z(o),"getApEdgeInfoEndFirst$",void 0),x(z(o),"apFinish$",new rb),x(z(o),"retryCount",0),x(z(o),"failedAreas",new Set),x(z(o),"usedUrl",[]),x(z(o),"newDomainUsed",!1),x(z(o),"backupNewDomainUsed",!1),x(z(o),"genUrl",(function(){return void 0===fa?ej.apply(void 0,Z(Cf([pE,qE]))).pipe(fj((function(e){return ob.apply(void 0,Z(e))}))):ob.apply(void 0,Z(fa.AP_DOMAINS.slice(0,3).map(xe)))})),x(z(o),"genBackupUrl",(function(){return void 0===fa?ej.apply(void 0,Z(Cf([rE,sE]))).pipe(fj((function(e){return ob.apply(void 0,Z(e))}))):ob.apply(void 0,Z(fa.AP_BACKUP_DOMAINS.slice(0,3).map(xe)))})),x(z(o),"getApUrl$",(function(e){var n,r;return o.genUrl().pipe(yb((function(e){return!(o.newDomainUsed&&e.includes("sd-rtn.com")||(e.includes("sd-rtn.com")&&(o.newDomainUsed=!0),Ol(o.usedUrl,(function(t){var n;return t===(null===(n=e.match(Ai))||void 0===n?void 0:n[1])}))))})),sa((function(e){var t;void 0===fa&&"string"==typeof(e=null===(t=e.match(Ai))||void 0===t?void 0:t[1])&&o.usedUrl.push(e)})),hb(e?Math.max(Ec.RECONNECTING_AP_NUM,null!==(n=null==fa?void 0:fa.CODES.size)&&void 0!==n?n:0):null!==(r=null==fa?void 0:fa.CODES.size)&&void 0!==r?r:2),$d((function(){return t.runOutOfUrlSymbol})),ab((function(e,n){return o.newDomainUsed=!1,e===t.runOutOfUrlSymbol?(o.usedUrl=[],n):ra(e)})))})),x(z(o),"getBackupApUrl$",(function(e){var n,r;return o.genBackupUrl().pipe(yb((function(e){return!(o.backupNewDomainUsed&&e.includes("sd-rtn.com")||(e.includes("sd-rtn.com")&&(o.backupNewDomainUsed=!0),Ol(o.usedUrl,(function(t){var n;return t===(null===(n=e.match(Ai))||void 0===n?void 0:n[1])}))))})),sa((function(e){var t;void 0===fa&&"string"==typeof(e=null===(t=e.match(Ai))||void 0===t?void 0:t[1])&&o.usedUrl.push(e)})),hb(e?Math.max(Ec.RECONNECTING_AP_NUM,null!==(n=null==fa?void 0:fa.CODES.size)&&void 0!==n?n:0):null!==(r=null==fa?void 0:fa.CODES.size)&&void 0!==r?r:2),$d((function(){return t.runOutOfUrlSymbol})),ab((function(e,n){return o.backupNewDomainUsed=!1,e===t.runOutOfUrlSymbol?(o.usedUrl=[],n):ra(e)})))})),x(z(o),"getProxyApUrl$",(function(e){var t,n;return ob.apply(void 0,Z(((null==fa?void 0:fa.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map(xe))).pipe(hb(e?Math.max(Ec.RECONNECTING_AP_NUM,null!==(t=null==fa?void 0:fa.CODES.size)&&void 0!==t?t:0):null!==(n=null==fa?void 0:fa.CODES.size)&&void 0!==n?n:2))})),x(z(o),"context",void 0),x(z(o),"fetchCloudProxy",(function(e,t){var n=uj("AP-",o.loggerId);o.log("The AccessPoint requests %s(%s)",e,n);var r,i=new AbortController;return o.apFinish$.pipe(hb(1)).subscribe((function(){return i.abort()})),yd(ma(N.mark((function r(){var a,s;return N.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=mh(0,Number.MAX_SAFE_INTEGER),o.log("%s request opid: %d",n,s),bb("ApRequest",{sid:o.context.sid,userId:o.context.uid,lts:P.fromNumber(Date.now()),elapse:Xa(o.context.startTime),apAddr:e,opId:P.fromNumber(s),envId:0,flag:128},null!==(a=o.context.config.enableCloudProxy)&&void 0!==a&&a),r.abrupt("return",lh(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:o.context.sid,opid:s,appid:o.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:null!=t?t:o.context.key,cname:o.context.uid,uid:0,detail:Wa({},void 0===fa?{11:[S.CHINA,S.GLOBAL].join(),12:"1"}:{11:Array.from(fa.CODES).map((function(e){return e===S.OVERSEA?"".concat(S.ASIA,",").concat(S.EUROPE,",").concat(S.AFRICA,",").concat(S.NORTH_AMERICA,",").concat(S.SOUTH_AMERICA,",").concat(S.OCEANIA):e})).join(","),12:"1"})}}]},signal:i.signal}));case 4:case"end":return r.stop()}}),r)})))).pipe(ab((function(t){return"AbortError"!==t.name&&(o.logError(t),o.warn("The AP server %s request failure",e,t)),Sb})),Cb((r=ma(N.mark((function t(r){var i,a,s,c,l,u,d,h,p,f,m,v,g,y,b,E,_,S,A;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.responseText,a=JSON.parse(i),o.log("The %s response is %o",n,a),(void 0===(s=a.response_body)||0===s.length||s.some((function(e){var t;return void 0===(null===(t=e.buffer)||void 0===t?void 0:t.code)||23!==e.uri})))&&ra(new Ja("cloud proxy response_body not valid",Pg)),0===(c=s.filter((function(e){return 0!==e.buffer.code}))).length){t.next=14;break}if(void 0===(l=c.find((function(e){return 128===e.buffer.flag})))){t.next=12;break}return t.abrupt("return",o.handleUniLbsError(l.buffer.code,e));case 12:return o.logError("cloud proxy error response"),t.abrupt("return",o.handleUniLbsError(c[0].buffer.code,e));case 14:for(u=[],d=0;d<s.length;d++)if(262144===(null==(f=s[d])||null===(h=f.buffer)||void 0===h?void 0:h.flag))null===(m=f.buffer)||void 0===m||null===(v=m.edges_services)||void 0===v||null===(g=v.forEach)||void 0===g||g.call(v,(function(e){Pn(e=e.ip)&&-1===o.context.cloudProxyServers.indexOf(e)&&(o.log("got cloud proxy server: %s",e),o.context.cloudProxyServers.push(e))}));else if(128===(null==f||null===(p=f.buffer)||void 0===p?void 0:p.flag)){for(_=function(e,t){var n=t[e];u.some((function(e){return e.ip===n.ip}))||u.push({ip:n.ip,ticket:f.buffer.cert})},S=0,A=f.buffer.edges_services;S<A.length;S++)_(S,A);o.context.rtmArea=null!==(y=null===(b=f.buffer)||void 0===b||null===(E=b.detail)||void 0===E?void 0:E[9])&&void 0!==y?y:""}return t.abrupt("return",ob.apply(void 0,Z(u).concat([Mg])));case 19:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)})),ab((function(e){return Na(e)?ra(e):Sb})),bh(),yb((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket&&Pn(e.ip)})))})),x(z(o),"fetchAp",(function(e,t){var n=uj("AP-",o.loggerId);o.log("The AccessPoint requests %s(%s)",e,n);var r=new AbortController;o.apFinish$.pipe(hb(1)).subscribe((function(){return r.abort()}));var i,a=mh(0,Number.MAX_SAFE_INTEGER);return yd(ma(N.mark((function i(){var s;return N.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o.log("%s request opid: %d",n,a),bb("ApRequest",{sid:o.context.sid,userId:o.context.uid,lts:P.fromNumber(Date.now()),elapse:Xa(o.context.startTime),apAddr:e,opId:P.fromNumber(a),envId:0,flag:128},null!==(s=o.context.config.enableCloudProxy)&&void 0!==s&&s),i.abrupt("return",lh(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:a,key:t||o.context.key,cname:o.context.uid,detail:Wa({},void 0===fa?{11:[S.CHINA,S.GLOBAL].join(),12:"1"}:{11:Array.from(fa.CODES).map((function(e){return e===S.OVERSEA?"".concat(S.ASIA,",").concat(S.EUROPE,",").concat(S.AFRICA,",").concat(S.NORTH_AMERICA,",").concat(S.SOUTH_AMERICA,",").concat(S.OCEANIA):e})).join(","),12:"1"}),uid:0,sid:o.context.sid},signal:r.signal}));case 3:case"end":return i.stop()}}),i)})))).pipe(ab((function(t){return"AbortError"!==t.name&&(o.logError(t),o.warn("The AP server %s request failure",e,t)),Sb})),Cb((i=ma(N.mark((function t(r){var i,s,c,l,u,d,h,p,f;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.responseText,c=JSON.parse(s),o.log("The %s response is %o",n,c),u=(l=c).code,d=l.addresses,h=l.detail,o.context.vid=h[8],bb("ApEvent",{sid:o.context.sid,userId:o.context.uid,lts:P.fromNumber(Date.now()),elapse:Xa(o.context.startTime),apAddr:e,linkServerList:d.map((function(e){return e.ip})),serverErrCode:u,flag:128,envId:0,opId:P.fromNumber(a),errCode:0,area:h[9],isp:h[2]},null!==(i=o.context.config.enableCloudProxy)&&void 0!==i&&i),o.info(c),0===u){t.next=9;break}return t.abrupt("return",o.handleUniLbsError(u,e));case 9:if(p=d,$f(null)&&(f=JSON.parse(null.replace(/-/g,".")),p=f.map((function(e){return{ip:e,ticket:p[0].ticket}}))),0!==p.length){t.next=14;break}return t.abrupt("return",ra(Error("No available edge address to connect")));case 14:return o.context.rtmArea=null==h?void 0:h[9],t.abrupt("return",ob.apply(void 0,Z(p).concat([Mg])));case 16:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)})),bh(),ab((function(e){return Na(e)?ra(e):Sb})),yb((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket})))})),o.context=e,o.getApEdgeInfoEndFirst$=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return dd(0,e||i?Ec.RECONNECTING_AP_INTERVAL:2e3).pipe(hb(1),sa((function(){o.retryCount+=1})),Cb((function(){return o.context.config.enableCloudProxy||o.context.socketUseProxy?o.getProxyApUrl$(e||i):(4<=o.retryCount&&(o.retryCount=0),3>=o.retryCount?o.getApUrl$(e||i):o.getBackupApUrl$(e||i))})),Cb((function(e){return o.context.config.enableCloudProxy||o.context.socketUseProxy?o.fetchCloudProxy(e):o.fetchAp(e)})),ab((function(e){return e instanceof Tb&&o.warn("AP request timeout"),ra(e)})),tn((function(e){return e.ip})),Kc(o.apFinish$))},o.getApEdgeInfo$=function(e){return dd(0,e||i?Ec.RECONNECTING_AP_INTERVAL:2e3).pipe(hb(8),sa((function(){o.retryCount+=1})),Cb((function(){return o.context.config.enableCloudProxy||o.context.socketUseProxy?o.getProxyApUrl$(e||i):3>=o.retryCount?o.getApUrl$(e||i):o.getBackupApUrl$(e||i)})),Cb((function(e){return(o.context.config.enableCloudProxy||o.context.socketUseProxy?o.fetchCloudProxy(e):o.fetchAp(e)).pipe()})),ab((function(e){return e instanceof Tb&&o.warn("AP request timeout"),ra(e)})),tn((function(e){return e.ip})),Kc(o.apFinish$))},o}Ga(t,e);var n=Ha(t);return eb(t,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),t}(sc());x(at,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var bt=yi(),ct=function(e){function t(e,r,i){va(this,t);var o=n.call(this,r,"Connection");x(z(o),"apClient",void 0),x(z(o),"lastOpenSockets",[new Te(1),new Te(1)]),x(z(o),"curOpenSockets",[void 0,void 0]),x(z(o),"ipIterator",0),x(z(o),"loginSocketOpenFailureCount",0),x(z(o),"firstEnv",.5<=Math.random()?1:0),x(z(o),"firstSocketOpener",void 0),x(z(o),"secondSocketOpener",void 0),x(z(o),"firstOpenKeeperSubject",new rb),x(z(o),"secondOpenKeeperSubject",new rb),x(z(o),"blacklistedIP",{}),x(z(o),"edgeInfoReplayed",void 0),x(z(o),"firstEnvOpenSocket",void 0),x(z(o),"firstOpenKeeperSub",void 0),x(z(o),"secondOpenKeeperSub",void 0),x(z(o),"context",void 0),x(z(o),"logger",void 0),o.context=e,o.logger=r,o.apClient=new at(o.context,r),o.apClient.apFinish$.subscribe((function(){o.log("Ap client fetch finished")}));var a,s=[];return o.edgeInfoReplayed=o.apClient.getApEdgeInfo$(i).pipe(Re((function(e){return e.pipe(sa((function(e){if(Na(e))throw e})),Zd(i?ue.getParameter("RECONNECTING_AP_INTERVAL"):900),Kc(dd(2e4)))})),yb((function(e){var t;return!Ol(s,e)&&1>=(null!==(t=o.blacklistedIP[e.ip])&&void 0!==t?t:0)})),$d((function(){return new bt({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),sa((function(e){s.push(e),o.log("An edge info got %o",e)})),sa({error:function(e){o.emit("connectionInitFailure",e)}}),fh((function(){o.apClient.clearUp()})),wn()),o.firstEnvOpenSocket=o.edgeInfoReplayed.pipe(Cb((function(e){if(void 0===e)return ra(Error("Invalid edge info"));var t=new Vl(e.ip,o.firstEnv,e.ticket,o.context,r,a);if(o.firstEnv=1===o.firstEnv?0:1,t.once("connectionFailure",(function(){return o.onSocketConnectionFailure(t)})),!i&&Ec.ENABLE_EDGE_AUTO_FALLBACK&&!o.context.config.enableCloudProxy){var n,s=Date.now();t.on("reconnect",(function(){var e;o.loginSocketOpenFailureCount+=1,null!==(e=n)&&void 0!==e||(n=Date.now()-s),500>n&&1<o.loginSocketOpenFailureCount&&(o.context.socketUseProxy=!0)}))}return a=!t.useNewDomain,t.open$.pipe(Uf(t))})),sa((function(e){o.log("The websocket of ENV_%d opened to %s:%d",e.env,e.ip,Df[e.env]),o.curOpenSockets[e.env]=e,o.lastOpenSockets[e.env].next(e),o.firstEnv=e.env,o.openSecondSocket(e.env,e.ip,e.useNewDomain)})),hb(1),Se()),o.firstSocketOpener=o.firstEnvOpenSocket.pipe(Cb((function(e){return e.open$.pipe(sa((function(){o.log("The websocket of first ENV_%d re-opened to %s:%d",e.env,e.ip,Df[e.env]),o.curOpenSockets[e.env]=e,o.lastOpenSockets[e.env].next(e)})))}))),e=o.firstOpenKeeperSubject.pipe(Kb(wd)),o.firstOpenKeeperSub=e.subscribe({error:o.logError}),o}Ga(t,e);var n=Ha(t);return eb(t,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(e,t){if(![0,1].includes(e))throw new mb({INVALID_ENV:"The env argument is not 0 or 1"});var n=e===this.firstEnv?this.firstOpenKeeperSub:this.secondOpenKeeperSub;this.firstOpenKeeperSub=void 0;var r=this.curOpenSockets[e];this.curOpenSockets[e]=void 0,r&&(r.isActiveClose=!0,setTimeout((function(){r.close()}),t)),void 0!==n&&setTimeout((function(){null==n||n.unsubscribe()}),t)}},{key:"waitClosing",value:function(e){var t=this;return e.isActiveClose=!0,e.open$.pipe(ev(),ab((function(e){return e.message===ns.normalClosureMessage?Sb:ra(e)})),Lb(5e3),ab((function(n){return n instanceof Tb?(t.warn("Force closing the ENV_%d connection",e.env),Sb):ra(n)})))}},{key:"onSocketConnectionFailure",value:function(e){var t=[0,1].filter((function(t){return t!==e.env}))[0];(t=this.curOpenSockets[t])&&t.loggedIn?this.reopenSocketWithApRequest(e.env):this.emit("socketsFailure")}},{key:"openSecondSocket",value:function(e,t,n){var r=this,i=1===e?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(vn((function(e,t){return[].concat(Z(e),[t])}),[]),Ea((function(e){return ls(e,(function(e){return Sn(t,e.ip)})).slice(-1)[0]})),hb(1),Cb((function(e){if(void 0===e)return ra(Error("Invalid edge info"));var t=new Vl(e.ip,i,e.ticket,r.context,r.logger,n);return t.on("connectionFailure",(function(){return r.onSocketConnectionFailure(t)})),t.open$.pipe(sa((function(){r.lastOpenSockets[i].next(t),r.curOpenSockets[i]=t})))})),Se()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(Kb(wd)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(e){var t=this,n=[0,1].filter((function(t){return t!==e}))[0];if(void 0!==(n=this.curOpenSockets[n])){var r,i=n.ip;n=this.apClient.getApEdgeInfoEndFirst$(!0).pipe($d((function(){return new bt({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),Re((function(e){return e.pipe(sa((function(e){if(e.code===ti)t.emit("tokenExpired"),t.apClient.apFinish$.next(void 0);else if(Na(e))throw e})),Zd(ue.getParameter("RECONNECTING_AP_INTERVAL")),Kc(dd(15e3)))})),sa((function(e){t.log("An edge info got %o",e)})),fh((function(){t.apClient.clearUp()}))).pipe(vn((function(e,t){return[].concat(Z(e),[t])}),[]),Ea((function(e){return(e=ls(e,(function(e){return Sn(i,e.ip)}))).length-1>=t.ipIterator?e.slice(-t.ipIterator++-1)[0]:(t.ipIterator=0,e.slice(-1)[0])})),$d(),Cb((function(n){if(void 0===n)return ra(Error("Invalid edge info"));var i=new Vl(n.ip,e,n.ticket,t.context,t.logger,r);return i.on("connectionFailure",(function(){return t.onSocketConnectionFailure(i)})),r=!i.useNewDomain,i.open$.pipe(Uf(i))})),sa((function(n){t.log("The websocket of ENV_%d re-opened to %s:%d using ap",n.env,n.ip,Df[n.env]),t.curOpenSockets[e]=n,t.lastOpenSockets[e].next(n)})),Cb((function(n){return n.open$.pipe(sa((function(){t.log("The websocket of ENV_%d re-opened to %s:%d",n.env,n.ip,Df[n.env]),t.curOpenSockets[e]=n,t.lastOpenSockets[e].next(n)})))})),Se()),e===this.firstEnv?this.firstOpenKeeperSubject.next(n):this.secondOpenKeeperSubject.next(n)}}}]),t}(sc()),xE=function(e){function t(e,r,i){return va(this,t),x(z(i=n.call(this,i,"Context")),"_token",void 0),x(z(i),"config",void 0),x(z(i),"_uid",void 0),x(z(i),"_sid",void 0),x(z(i),"_vid",void 0),x(z(i),"_startTime",void 0),x(z(i),"_area","CN"),x(z(i),"_socketUseProxy",!1),x(z(i),"appId",void 0),x(z(i),"enableCloudProxy",!1),x(z(i),"cloudProxyServers",[]),i.appId=e,i.config=r,i}Ga(t,e);var n=Ha(t);return eb(t,[{key:"socketUseProxy",get:function(){return this._socketUseProxy&&Ec.ENABLE_EDGE_AUTO_FALLBACK},set:function(e){this.log("socketUseProxy is set to %s",e),this._socketUseProxy=e}},{key:"token",set:function(e){this._token="string"==typeof e&&e?e:void 0}},{key:"uid",get:function(){if("string"==typeof this._uid&&this._uid)return this._uid;throw new rc("Cannot get illegal uid")},set:function(e){if(this.log("The user ID is set to %s",La(e)),!Ta(e))throw new rc;this._uid=e}},{key:"vid",get:function(){if("string"==typeof this._vid&&this._vid)return this._vid;throw new rc("Cannot get illegal vid")},set:function(e){this._vid=e}},{key:"key",get:function(){if("string"==typeof this._token&&this._token)return this._token;if("string"==typeof this.appId&&this.appId)return this.appId;throw new rc("Cannot get illegal key")}},{key:"sid",get:function(){if("string"==typeof this._sid&&this._sid)return this._sid;throw new rc("Cannot get illegal sid")},set:function(e){if(this.log("sid is set to %s",e),"string"!=typeof e||!e)throw new rc;this._sid=e}},{key:"startTime",get:function(){if("number"==typeof this._startTime&&this._startTime)return this._startTime;throw new rc("Cannot get illegal startTime")},set:function(e){if(this.log("startTime is set to %s",e),"number"!=typeof e||!e)throw new rc;this._startTime=e}},{key:"rtmArea",get:function(){if("string"==typeof this._area&&this._area)return this._area;throw new rc("Cannot get illegal area")},set:function(e){this.log("area is set to %s",e),"string"==typeof e&&e?this._area=e:this.warn("set area failed")}}]),t}(sc());Sp("of",(function(){for(var e=0,t=arguments.length,n=new(qf(this))(t);t>e;)n[e]=arguments[e++];return n}),rk);var yE=Math.max,Pv=function(e,t,n){var r=Object(e);if(!ae(e)){var i=wf(t);e=Wd(e),t=function(e){return i(r[e],e,r)}}return-1<(t=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;if(null==n)n=0;else{var i=(n=Rl(n))%1;n=n==n?i?n-i:n:0}return 0>n&&(n=yE(r+n,0)),Yq(e,wf(t),n)}(e,t,n))?r[i?e[t]:t]:void 0},Ov=function(e,t){return e&&e.length?fl(e,void 0,"function"==typeof t?t:void 0):[]},dt=function(){function e(){va(this,e),x(this,"size",0),x(this,"fields",new Map)}return eb(e,[{key:"define",value:function(e,t,n){if(this.size+=n,64<this.size)throw new RangeError("the struct over 64 bits is not supported");th(t={val:0,isNumber:"number"===t,isBoolean:"boolean"===t,oneof:"number"===t||"boolean"===t?void 0:t,len:n}),this.fields.set(e,t)}},{key:"set",value:function(e,t){if(!(e=this.fields.get(e)))throw Error("field not found");var n=e.oneof;if(!P.isLong(t)&&"number"!=typeof t)if("boolean"==typeof t)t=t?1:0;else{if(void 0===n)throw Error("invalid field type");if(void 0===(t=n[t]))throw Error("field type not found")}th(e,t),e.val=t}},{key:"toNumber",value:function(){for(var e=0,t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var i=$a(r[n],2)[1],o=i.len;void 0!==(i=i.val)&&(e+=P.fromValue(i).shiftLeft(t).toNumber(),t+=o)}return e}},{key:"toLong",value:function(){for(var e=P.fromNumber(0,!0),t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var i=$a(r[n],2)[1],o=i.len;void 0!==(i=i.val)&&(e=P.fromValue(i).shiftLeft(t).add(e),t+=o)}return e}},{key:"assert",value:function(e,t){function n(e){if(!P.isLong(e)&&"number"!=typeof e)if("boolean"==typeof e)e=e?1:0;else{if(void 0===i)throw Error("invalid field type");if(void 0===(e=i[e]))throw Error("field type not found")}return th(r,e),sh(e,r.val)}var r=this.fields.get(e);if(!r)throw Error("field not found");var i=r.oneof;if(!Array.isArray(t))return n(t);if(1===t.length)return n(t[0]);if(t.every((function(e){return"string"==typeof e}))&&void 0!==i)return t.some((function(e){return n(e)}));throw Error("invalid valueTypes")}},{key:"from",value:function(e){e=P.fromValue(e);for(var t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var i=$a(r[n],2)[1],o=i.len,a=P.fromNumber(Math.pow(2,o)-1,!0).shiftLeft(t);th(i,a=e.and(a).shiftRightUnsigned(t)),i.val=a,t+=o}}},{key:"typeOf",value:function(e){if(void 0!==(e=this.fields.get(e))){var t=e.oneof;if(e=e.val,void 0!==t){var n=0;for(t=Object.entries(t);n<t.length;n++){var r=$a(t[n],2),i=r[0];if(sh(e,r[1]))return i}}}throw new TypeError("can only get type of oneof type")}}]),e}(),et=function(e){function t(e){va(this,t);var r=n.call(this);return r.define("Rejoin","boolean",1),r.define("Unused","number",31),r.define("Platform","number",8),r.define("Version","number",12),r.define("Subversion","number",12),r.set("Platform",7),r.set("Version",4),r.set("Subversion",18),r.set("Rejoin",e),r}Ga(t,e);var n=Ha(t);return t}(dt),zE=Wa(Wa({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),ft={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},AE=Wa(Wa({},zE),ft),BE={Uncompressed:0,Zlib:1},Ef=function(e){function t(e){va(this,t);var r=n.call(this);if(r.define("MessageType",AE,8),r.define("BroadcastJumps","number",2),r.define("ToCache","boolean",1),r.define("FromCache","boolean",1),r.define("CompressionMethod",BE,2),r.define("IterationNumber","number",4),r.define("BufferedMessage","boolean",1),r.define("ToArchive","boolean",1),r.define("FromArchive","boolean",1),"number"==typeof e||P.isLong(e))r.from(e);else if(void 0!==e){var i=0;for(e=qh(e);i<e.length;i++){var o=$a(e[i],2);r.set(o[0],o[1])}}return r}Ga(t,e);var n=Ha(t);return eb(t,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(e){var t=this;return void 0!==e?this.assert("MessageType",e):Yf(ft).some((function(e){return t.assert("MessageType",e)}))}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}}]),t}(dt),CE=function(e){function t(e){return va(this,t),x(z(e=n.call(this,e,"ChatManager")),"dialogueLru",new xz(void 0,{maxlen:1e4,ttl:1e4})),e}Ga(t,e);var n=Ha(t);return eb(t,[{key:"getChatInfo",value:function(e){var t=this.dialogueLru.get(e);if(this.dialogueLru.prune(),t){var n=t.dialogue,r={dialogue:n,sequence:t=t.sequence.add(1)};return this.dialogueLru.set(e,{dialogue:n,sequence:t}),r}return n={dialogue:nh(),sequence:P.fromNumber(1,!0)},this.dialogueLru.set(e,n),n}}]),t}(sc()),G={};"object"==qa(module)&&(module.exports=G),G.parse=function(e,t){var n,r=G.bin.readUshort,i=G.bin.readUint,o={};for(n=(e=new Uint8Array(e)).length-4;101010256!=i(e,n);)n--;var a=r(e,n=n+4+4);r(e,n+=2),i(e,n+=2),n=i(e,n+=4);for(var s=0;s<a;s++){i(e,n),n+=4,n+=4,n+=4,i(e,n+=4);var c=i(e,n+=4),l=i(e,n+=4),u=r(e,n+=4),d=r(e,n+2),h=r(e,n+4);n+=6;var p=i(e,n+=8);n+=4,n+=u+d+h,G._readLocal(e,p,o,c,l,t)}return o},G._readLocal=function(e,t,n,r,i,o){var a=G.bin.readUshort,s=G.bin.readUint;s(e,t),a(e,t+=4),a(e,t+=2);var c=a(e,t+=2);s(e,t+=2),s(e,t+=4),s=a(e,t=t+4+8);var l=a(e,t+=2);if(t+=2,a=G.bin.readUTF8(e,t,s),t=t+s+l,o)n[a]={size:i,csize:r};else if(e=new Uint8Array(e.buffer,t),0==c)n[a]=new Uint8Array(e.buffer.slice(t,t+r));else{if(8!=c)throw"unknown compression method: "+c;t=new Uint8Array(i),G.inflateRaw(e,t),n[a]=t}},G.inflateRaw=function(e,t){return G.F.inflate(e,t)},G.inflate=function(e,t){return e[0],e[1],G.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-2),t)},G.deflate=function(e,t){null==t&&(t={level:6});var n=0,r=new Uint8Array(50+Math.floor(1.1*e.length));return r[n]=120,r[n+1]=156,n=G.F.deflateRaw(e,r,n+2,t.level),e=G.adler(e,0,e.length),r[n+0]=e>>>24&255,r[n+1]=e>>>16&255,r[n+2]=e>>>8&255,r[n+3]=e>>>0&255,new Uint8Array(r.buffer,0,n+4)},G.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),r=G.F.deflateRaw(e,n,r,t.level);return new Uint8Array(n.buffer,0,r)},G.encode=function(e,t){null==t&&(t=!1);var n,r=0,i=G.bin.writeUint,o=G.bin.writeUshort,a={};for(n in e){var s=!G._noNeed(n)&&!t,c=e[n],l=G.crc.crc(c,0,c.length);a[n]={cpr:s,usize:c.length,crc:l,file:s?G.deflateRaw(c):c}}for(n in a)r+=a[n].file.length+30+46+2*G.bin.sizeUTF8(n);for(n in e=new Uint8Array(r+22),t=0,c=[],a)l=a[n],c.push(t),t=G._writeHeader(e,t,n,l,0);for(n in r=0,s=t,a)l=a[n],c.push(t),t=G._writeHeader(e,t,n,l,1,c[r++]);return a=t-s,i(e,t,101010256),o(e,t=t+4+4,r),o(e,t+=2,r),i(e,t+=2,a),i(e,t+4,s),e.buffer},G._noNeed=function(e){return e=e.split(".").pop().toLowerCase(),-1!="png,jpg,jpeg,zip".indexOf(e)},G._writeHeader=function(e,t,n,r,i,o){var a=G.bin.writeUint,s=G.bin.writeUshort,c=r.file;return a(e,t,0==i?67324752:33639248),t+=4,1==i&&(t+=2),s(e,t,20),s(e,t+=2,0),s(e,t+=2,r.cpr?8:0),a(e,t+=2,0),a(e,t+=4,r.crc),a(e,t+=4,c.length),a(e,t+=4,r.usize),s(e,t+=4,G.bin.sizeUTF8(n)),s(e,t+=2,0),t+=2,1==i&&(a(e,t=t+2+2+6,o),t+=4),t+=n=G.bin.writeUTF8(e,t,n),0==i&&(e.set(c,t),t+=c.length),t},G.crc={table:function(){for(var e=new Uint32Array(256),t=0;256>t;t++){for(var n=t,r=0;8>r;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=G.crc.table[255&(e^t[n+i])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^G.crc.update(4294967295,e,t,n)}},G.adler=function(e,t,n){var r=1,i=0,o=t;for(t+=n;o<t;){for(n=Math.min(o+5552,t);o<n;)i+=r+=e[o++];r%=65521,i%=65521}return i<<16|r},G.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return 2>e.length?"0"+e:e},readUTF8:function(e,t,n){for(var r,i="",o=0;o<n;o++)i+="%"+G.bin.pad(e[t+o].toString(16));try{r=decodeURIComponent(i)}catch(r){return G.bin.readASCII(e,t,n)}return r},writeUTF8:function(e,t,n){for(var r=n.length,i=0,o=0;o<r;o++){var a=n.charCodeAt(o);if(0==(4294967168&a))e[t+i]=a,i++;else if(0==(4294965248&a))e[t+i]=192|a>>6,e[t+i+1]=128|a>>0&63,i+=2;else if(0==(4294901760&a))e[t+i]=224|a>>12,e[t+i+1]=128|a>>6&63,e[t+i+2]=128|a>>0&63,i+=3;else{if(0!=(4292870144&a))throw"e";e[t+i]=240|a>>18,e[t+i+1]=128|a>>12&63,e[t+i+2]=128|a>>6&63,e[t+i+3]=128|a>>0&63,i+=4}}return i},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var i=e.charCodeAt(r);if(0==(4294967168&i))n++;else if(0==(4294965248&i))n+=2;else if(0==(4294901760&i))n+=3;else{if(0!=(4292870144&i))throw"e";n+=4}}return n}},G.F={},G.F.deflateRaw=function(e,t,n,r){var i=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],o=G.F.U,a=G.F._goodIndex;G.F._hash;var s=G.F._putsE,c=0;n<<=3;var l=0,u=e.length;if(0==r){for(;c<u;){var d=Math.min(65535,u-c);s(t,n,c+d==u?1:0),n=G.F._copyExact(e,c,d,t,n+8),c+=d}return n>>>3}s=o.lits,r=o.strt;var h=o.prev,p=0,f=0,m=0,v=0,g=0;for(2<u&&(r[g=G.F._hash(e,0)]=0),c=0;c<u;c++){if(d=g,c+1<u-2){g=G.F._hash(e,c+1);var y=c+1&32767;h[y]=r[g],r[g]=y}if(l<=c){if((14e3<p||26697<f)&&100<u-c&&(l<c&&(s[p]=c-l,p+=2,l=c),n=G.F._writeBlock(c==u-1||l==u?1:0,s,p,v,e,m,c-m,t,n),p=f=v=0,m=c),y=0,c<u-2&&(y=G.F._bestMatch(e,c,h,d,Math.min(i[2],u-c),i[3])),0!=y){d=y>>>16,y&=65535;var b=a(d,o.of0);o.lhst[257+b]++;var E=a(y,o.df0);o.dhst[E]++,v+=o.exb[b]+o.dxb[E],s[p]=d<<23|c-l,s[p+1]=y<<16|b<<8|E,p+=2,l=c+d}else o.lhst[e[c]]++;f++}}for(m==c&&0!=e.length||(l<c&&(s[p]=c-l,p+=2),n=G.F._writeBlock(1,s,p,v,e,m,c-m,t,n));0!=(7&n);)n++;return n>>>3},G.F._bestMatch=function(e,t,n,r,i,o){var a=32767&t,s=n[a],c=a-s+32768&32767;if(s==a||r!=G.F._hash(e,t-c))return 0;for(var l=r=0,u=Math.min(32767,t);c<=u&&0!=--o&&s!=a;){if((0==r||e[t+r]==e[t+r-c])&&(a=G.F._howLong(e,t,c))>r){if(l=c,(r=a)>=i)break;c+2<a&&(a=c+2);for(var d=0,h=0;h<a-2;h++){var p=t-c+h+32768&32767,f=p-n[p]+32768&32767;f>d&&(d=f,s=p)}}c+=(a=s)-(s=n[a])+32768&32767}return r<<16|l},G.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,i=Math.min(e.length,t+258);for(t+=3;t<i&&e[t]==e[t-n];)t++;return t-r},G.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},G.saved=0,G.F._writeBlock=function(e,t,n,r,i,o,a,s,c){var l=G.F.U,u=G.F._putsF,d=G.F._putsE;l.lhst[256]++;var h=G.F.getTrees(),p=h[0],f=h[1],m=h[2],v=h[3],g=h[4],y=h[5],b=h[6];h=h[7];var E=32+(0==(c+3&7)?0:8-(c+3&7))+(a<<3),_=r+G.F.contSize(l.fltree,l.lhst)+G.F.contSize(l.fdtree,l.dhst);r=r+G.F.contSize(l.ltree,l.lhst)+G.F.contSize(l.dtree,l.dhst),r+=14+3*y+G.F.contSize(l.itree,l.ihst)+(2*l.ihst[16]+3*l.ihst[17]+7*l.ihst[18]);for(var S=0;286>S;S++)l.lhst[S]=0;for(S=0;30>S;S++)l.dhst[S]=0;for(S=0;19>S;S++)l.ihst[S]=0;if(E=E<_&&E<r?0:_<r?1:2,u(s,c,e),u(s,c+1,E),c+=3,0==E){for(;0!=(7&c);)c++;c=G.F._copyExact(i,o,a,s,c)}else{if(1==E)var A=l.fltree,w=l.fdtree;if(2==E){for(G.F.makeCodes(l.ltree,p),G.F.revCodes(l.ltree,p),G.F.makeCodes(l.dtree,f),G.F.revCodes(l.dtree,f),G.F.makeCodes(l.itree,m),G.F.revCodes(l.itree,m),A=l.ltree,w=l.dtree,d(s,c,v-257),d(s,c+=5,g-1),d(s,c+=5,y-4),c+=4,e=0;e<y;e++)d(s,c+3*e,l.itree[1+(l.ordr[e]<<1)]);c=G.F._codeTiny(b,l.itree,s,c+3*y),c=G.F._codeTiny(h,l.itree,s,c)}for(y=0;y<n;y+=2){for(b=(e=t[y])>>>23,e=o+(8388607&e);o<e;)c=G.F._writeLit(i[o++],A,s,c);0!=b&&(e=(p=t[y+1])>>16,a=p>>8&255,p&=255,d(s,c=G.F._writeLit(257+a,A,s,c),b-l.of0[a]),c+=l.exb[a],u(s,c=G.F._writeLit(p,w,s,c),e-l.df0[p]),c+=l.dxb[p],o+=b)}c=G.F._writeLit(256,A,s,c)}return c},G.F._copyExact=function(e,t,n,r,i){var o=i>>>3;return r[o]=n,r[o+1]=n>>>8,r[o+2]=255-r[o],r[o+3]=255-r[o+1],o+=4,r.set(new Uint8Array(e.buffer,t,n),o),i+(n+4<<3)},G.F.getTrees=function(){for(var e=G.F.U,t=G.F._hufTree(e.lhst,e.ltree,15),n=G.F._hufTree(e.dhst,e.dtree,15),r=[],i=G.F._lenCodes(e.ltree,r),o=[],a=G.F._lenCodes(e.dtree,o),s=0;s<r.length;s+=2)e.ihst[r[s]]++;for(s=0;s<o.length;s+=2)e.ihst[o[s]]++;s=G.F._hufTree(e.ihst,e.itree,7);for(var c=19;4<c&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,n,s,i,a,c,r,o]},G.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},G.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},G.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},G.F._codeTiny=function(e,t,n,r){for(var i=0;i<e.length;i+=2){var o=e[i],a=e[i+1];r=G.F._writeLit(o,t,n,r);var s=16==o?2:17==o?3:7;15<o&&(G.F._putsE(n,r,a,s),r+=s)}return r},G.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var i=e[r+1],o=r+3<n?e[r+3]:-1,a=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==i&&o==i&&a==i){for(o=r+5;o+2<n&&e[o+2]==i;)o+=2;11>(i=Math.min(o+1-r>>>1,138))?t.push(17,i-3):t.push(18,i-11),r+=2*i-2}else if(i==s&&o==i&&a==i){for(o=r+5;o+2<n&&e[o+2]==i;)o+=2;i=Math.min(o+1-r>>>1,6),t.push(16,i-3),r+=2*i-2}else t.push(i,0)}return n>>>1},G.F._hufTree=function(e,t,n){var r=[],i=e.length,o=t.length,a=0;for(a=0;a<o;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<i;a++)0!=e[a]&&r.push({lit:a,f:e[a]});if(e=r.length,i=r.slice(0),0==e)return 0;if(1==e)return t[1+((n=r[0].lit)<<1)]=1,t[1+((0==n?1:0)<<1)]=1;r.sort((function(e,t){return e.f-t.f})),a=r[0],o=r[1];var s=0,c=1,l=2;for(r[0]={lit:-1,f:a.f+o.f,l:a,r:o,d:0};c!=e-1;)a=s!=c&&(l==e||r[s].f<r[l].f)?r[s++]:r[l++],o=s!=c&&(l==e||r[s].f<r[l].f)?r[s++]:r[l++],r[c++]={lit:-1,f:a.f+o.f,l:a,r:o};for((r=G.F.setDepth(r[c-1],0))>n&&(G.F.restrictDepth(i,n,r),r=n),a=0;a<e;a++)t[1+(i[a].lit<<1)]=i[a].d;return r},G.F.setDepth=function(e,t){return-1!=e.lit?e.d=t:Math.max(G.F.setDepth(e.l,t+1),G.F.setDepth(e.r,t+1))},G.F.restrictDepth=function(e,t,n){var r=0,i=1<<n-t,o=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var a=e[r].d;e[r].d=t,o+=i-(1<<n-a)}for(o>>>=n-t;0<o;)(a=e[r].d)<t?(e[r].d++,o-=1<<t-a-1):r++;for(;0<=r;r--)e[r].d==t&&0>o&&(e[r].d--,o++);0!=o&&console.log("debt left")},G.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},G.F._writeLit=function(e,t,n,r){return G.F._putsF(n,r,t[e<<1]),r+t[1+(e<<1)]},G.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=G.F,i=r._bitsF,o=r._bitsE,a=r._decodeTiny,s=r.makeCodes,c=r.codes2map,l=r._get17,u=r.U,d=null==t;d&&(t=new n(e.length>>>2<<3));for(var h,p,f,m,v=0,g=0,y=p=0,b=0;0==v;)if(v=i(e,b,1),h=i(e,b+1,2),b+=3,0==h)0!=(7&b)&&(b+=8-(7&b)),h=e[(b=4+(b>>>3))-4]|e[b-3]<<8,d&&(t=G.F._check(t,y+h)),t.set(new n(e.buffer,e.byteOffset+b,h),y),b=b+h<<3,y+=h;else{if(d&&(t=G.F._check(t,y+131072)),1==h&&(f=u.flmap,m=u.fdmap,g=511,p=31),2==h){for(p=o(e,b,5)+257,h=o(e,b+5,5)+1,f=o(e,b+10,4)+4,b+=14,m=0;38>m;m+=2)u.itree[m]=0,u.itree[m+1]=0;for(g=1,m=0;m<f;m++){var E=o(e,b+3*m,3);u.itree[1+(u.ordr[m]<<1)]=E,E>g&&(g=E)}b+=3*f,s(u.itree,g),c(u.itree,g,u.imap),f=u.lmap,m=u.dmap,b=a(u.imap,(1<<g)-1,p+h,e,b,u.ttree),g=(1<<(E=r._copyOut(u.ttree,0,p,u.ltree)))-1,p=(1<<(h=r._copyOut(u.ttree,p,h,u.dtree)))-1,s(u.ltree,E),c(u.ltree,E,f),s(u.dtree,h),c(u.dtree,h,m)}for(;;)if(b+=15&(h=f[l(e,b)&g]),0==(E=h>>>4)>>>8)t[y++]=E;else{if(256==E)break;h=y+E-254,264<E&&(h=y+((E=u.ldef[E-257])>>>3)+o(e,b,7&E),b+=7&E),b+=15&(E=m[l(e,b)&p]);var _=((E=u.ddef[E>>>4])>>>4)+i(e,b,15&E);for(b+=15&E,d&&(t=G.F._check(t,y+131072));y<h;)t[y]=t[y++-_],t[y]=t[y++-_],t[y]=t[y++-_],t[y]=t[y++-_];y=h}}return t.length==y?t:t.slice(0,y)},G.F._check=function(e,t){var n=e.length;return t<=n?e:((t=new Uint8Array(Math.max(n<<1,t))).set(e,0),t)},G.F._decodeTiny=function(e,t,n,r,i,o){for(var a=G.F._bitsE,s=G.F._get17,c=0;c<n;){var l=e[s(r,i)&t];i+=15&l;var u=l>>>4;if(15>=u)o[c]=u,c++;else{var d=l=0;for(16==u?(d=3+a(r,i,2),i+=2,l=o[c-1]):17==u?(d=3+a(r,i,3),i+=3):18==u&&(d=11+a(r,i,7),i+=7),u=c+d;c<u;)o[c]=l,c++}}return i},G.F._copyOut=function(e,t,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>i&&(i=s),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i},G.F.makeCodes=function(e,t){var n,r,i=G.F.U,o=e.length,a=i.bl_count;for(n=0;n<=t;n++)a[n]=0;for(n=1;n<o;n+=2)a[e[n]]++;for(i=i.next_code,n=0,a[0]=0,r=1;r<=t;r++)n=n+a[r-1]<<1,i[r]=n;for(t=0;t<o;t+=2)0!=(a=e[t+1])&&(e[t]=i[a],i[a]++)},G.F.codes2map=function(e,t,n){for(var r=e.length,i=G.F.U.rev15,o=0;o<r;o+=2)if(0!=e[o+1]){var a=e[o+1],s=o>>1<<4|a,c=t-a;for(c=(a=e[o]<<c)+(1<<c);a!=c;)n[i[a]>>>15-t]=s,a++}},G.F.revCodes=function(e,t){for(var n=G.F.U.rev15,r=15-t,i=0;i<e.length;i+=2)e[i]=n[e[i]<<t-e[i+1]]>>>r},G.F._putsE=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8},G.F._putsF=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8,e[t+2]|=n>>>16},G.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},G.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},G.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},G.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},G.F.U=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}}(),function(){function e(e,t,n){for(;0!=t--;)e.push(0,n)}for(var t=G.F.U,n=0;32768>n;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.rev15[n]=(r>>>16|r<<16)>>>17}for(n=0;32>n;n++)t.ldef[n]=t.of0[n]<<3|t.exb[n],t.ddef[n]=t.df0[n]<<4|t.dxb[n];e(t.fltree,144,8),e(t.fltree,112,9),e(t.fltree,24,7),e(t.fltree,8,8),G.F.makeCodes(t.fltree,9),G.F.codes2map(t.fltree,9,t.flmap),G.F.revCodes(t.fltree,9),e(t.fdtree,32,5),G.F.makeCodes(t.fdtree,5),G.F.codes2map(t.fdtree,5,t.fdmap),G.F.revCodes(t.fdtree,5),e(t.itree,19,0),e(t.ltree,286,0),e(t.dtree,30,0),e(t.ttree,320,0)}();var DE=Array.isArray||function(e){return e&&"number"==typeof e.length},EE=Object.defineProperty({isArray:DE},"__esModule",{value:!0}),FE=Object.defineProperty({isObject:function(e){return null!==e&&"object"===qa(e)}},"__esModule",{value:!0}),GE=Object.defineProperty({isFunction:function(e){return"function"==typeof e}},"__esModule",{value:!0}),HE=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),uh=Object.defineProperty({UnsubscriptionError:HE},"__esModule",{value:!0}),IE=function(){function e(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(null!==t)for(var o=0;o<t.length;++o)t[o].remove(this);if(GE.isFunction(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){var a=e instanceof uh.UnsubscriptionError?eo(e.errors):[e]}}if(EE.isArray(i))for(o=-1,t=i.length;++o<t;)if(n=i[o],FE.isObject(n))try{n.unsubscribe()}catch(e){a=a||[],e instanceof uh.UnsubscriptionError?a=a.concat(eo(e.errors)):a.push(e)}if(a)throw new uh.UnsubscriptionError(a)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(qa(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof e||(t=n,(n=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=n._parentOrParents))n._parentOrParents=this;else if(t instanceof e){if(t===this)return n;n._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return n;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[n]:t.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;t&&-1!==(e=t.indexOf(e))&&t.splice(e,1)},e.EMPTY=((t=new e).closed=!0,t),e}(),JE=Object.defineProperty({Subscription:IE},"__esModule",{value:!0}),KE=Ya&&Ya.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LE=function(e){function t(t,n){return e.call(this)||this}return KE(t,e),t.prototype.schedule=function(e,t){return this},t}(JE.Subscription),ME=Object.defineProperty({Action:LE},"__esModule",{value:!0}),NE=Ya&&Ya.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return NE(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,e=this.id;var n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(e=this._execute(e,t))?e:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(e,t){t=!1;var n=void 0;try{this.work(e)}catch(e){t=!0,n=!!e&&e||Error(e)}if(t)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(ME.Action);Object.defineProperty({AsyncAction:gt},"__esModule",{value:!0});var OE=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),ht=Object.defineProperty({Scheduler:OE},"__esModule",{value:!0}),PE=Ya&&Ya.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(e){function t(n,r){void 0===r&&(r=ht.Scheduler.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return PE(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(ht.Scheduler);Object.defineProperty({AsyncScheduler:it},"__esModule",{value:!0});var QE=Fa("iterator"),Wl=!la((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[QE]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),RE=/[^\0-\u007E]/,SE=/[.\u3002\uFF0E\uFF61]/g,Ff=Math.floor,Xl=String.fromCharCode,jt=function(e){var t=lg(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Ia(t.call(e))},kt=Pc("fetch"),Yl=Pc("Headers"),TE=Fa("iterator"),lt=cb.set,cc=cb.getterFor("URLSearchParams"),UE=cb.getterFor("URLSearchParamsIterator"),VE=/\+/g,mt=Array(4),WE=function(e){try{return decodeURIComponent(e)}catch(t){return e}},nt=function(e){var t=e.replace(VE," ");e=4;try{return decodeURIComponent(t)}catch(i){for(;e;){var n=t.replace,r=e--;r=mt[r-1]||(mt[r-1]=RegExp("((?:%[\\da-f]{2}){"+r+"})","gi")),t=n.call(t,r,WE)}return t}},ot=/[!'()~]|%20/g,XE={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},pt=function(e){return XE[e]},qt=function(e,t){if(t){t=t.split("&");for(var n,r=0;r<t.length;)(n=t[r++]).length&&(n=n.split("="),e.push({key:nt(n.shift()),value:nt(n.join("="))}))}},YE=function(e){this.entries.length=0,qt(this.entries,e)},Gf=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Zl=Wo((function(e,t){lt(this,{type:"URLSearchParamsIterator",iterator:jt(cc(e).entries),kind:t})}),"Iterator",(function(){var e=UE(this),t=e.kind,n=(e=e.iterator.next()).value;return e.done||(e.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),e})),Rg=function(){Ac(this,Rg,"URLSearchParams");var e,t,n,r=0<arguments.length?arguments[0]:void 0,i=[];if(lt(this,{type:"URLSearchParams",entries:i,updateURL:function(){},updateSearchParams:YE}),void 0!==r)if(xa(r)){var o=lg(r);if("function"==typeof o)for(r=o.call(r),o=r.next;!(e=o.call(r)).done;){var a=(e=jt(Ia(e.value))).next;if((t=a.call(e)).done||(n=a.call(e)).done||!a.call(e).done)throw TypeError("Expected sequence with length 2");i.push({key:t.value+"",value:n.value+""})}else for(e in r)ka(r,e)&&i.push({key:e,value:r[e]+""})}else qt(i,"string"==typeof r?"?"===r.charAt(0)?r.slice(1):r:r+"")},Bi=Rg.prototype;kf(Bi,{append:function(e,t){Gf(arguments.length,2);var n=cc(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){Gf(arguments.length,1);for(var t=cc(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){Gf(arguments.length,1);for(var t=cc(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Gf(arguments.length,1);for(var t=cc(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){Gf(arguments.length,1);for(var t=cc(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Gf(arguments.length,1);for(var n,r=cc(this),i=r.entries,o=!1,a=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n=cc(this),r=n.entries,i=r.slice();for(t=r.length=0;t<i.length;t++){var o=i[t];for(e=0;e<t;e++)if(r[e].key>o.key){r.splice(e,0,o);break}e===t&&r.push(o)}n.updateURL()},forEach:function(e){for(var t,n=cc(this).entries,r=Dd(e,1<arguments.length?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Zl(this,"keys")},values:function(){return new Zl(this,"values")},entries:function(){return new Zl(this,"entries")}},{enumerable:!0}),Za(Bi,TE,Bi.entries),Za(Bi,"toString",(function(){for(var e,t=cc(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(encodeURIComponent(e.key).replace(ot,pt)+"="+encodeURIComponent(e.value).replace(ot,pt));return n.join("&")}),{enumerable:!0}),zc(Rg,"URLSearchParams"),ea({global:!0,forced:!Wl},{URLSearchParams:Rg}),Wl||"function"!=typeof kt||"function"!=typeof Yl||ea({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t=[e];if(1<arguments.length){var n=arguments[1];if(xa(n)){var r=n.body;if("URLSearchParams"===jf(r)){var i=n.headers?new Yl(n.headers):new Yl;i.has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=jc(n,{body:Nc(0,String(r)),headers:Nc(0,i)})}}t.push(n)}return kt.apply(this,t)}});var Sg=R.URL,ZE=Rg,$E=cb.set,db=cb.getterFor("URL"),aF=Math.floor,rt=Math.pow,st=/[A-Za-z]/,bF=/[\d+-.A-Za-z]/,$l=/\d/,cF=/^(0x|0X)/,dF=/^[0-7]+$/,eF=/^\d+$/,tt=/^[\dA-Fa-f]+$/,fF=/[\0\t\n\r #%/:?@[\\]]/,gF=/[\0\t\n\r #/:?@[\\]]/,hF=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,iF=/[\t\n\r]/g,am=function(e,t){var n;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";var r=jF(t.slice(1,-1));if(!r)return"Invalid host"}else if(wb(e)){for(r=[],t=t.toLowerCase().replace(SE,".").split("."),n=0;n<t.length;n++){var i=t[n],o=r,a=o.push;if(RE.test(i)){var s=i;i=[];var c=s;s=[];for(var l=0,u=c.length;l<u;){var d=c.charCodeAt(l++);if(55296<=d&&56319>=d&&l<u){var h=c.charCodeAt(l++);56320==(64512&h)?s.push(((1023&d)<<10)+(1023&h)+65536):(s.push(d),l--)}else s.push(d)}l=s.length,u=128;var p=0,f=72;for(c=0;c<s.length;c++){var m=s[c];128>m&&i.push(Xl(m))}for((h=d=i.length)&&i.push("-");h<l;){var v=2147483647;for(c=0;c<s.length;c++)(m=s[c])>=u&&m<v&&(v=m);var g=h+1;if(v-u>Ff((2147483647-p)/g))throw RangeError("Overflow: input needs wider integers to process");for(p+=(v-u)*g,u=v,c=0;c<s.length;c++){if((m=s[c])<u&&2147483647<++p)throw RangeError("Overflow: input needs wider integers to process");if(m==u){var y=p;for(m=36;!(y<(v=m<=f?1:m>=f+26?26:m-f));m+=36){var b=36-v,E=i;v+=(y-=v)%b,E.push.call(E,Xl(v+22+75*(26>v))),y=Ff(y/b)}for(i.push(Xl(y+22+75*(26>y))),f=g,m=0,p=h==d?Ff(p/700):p>>1,p+=Ff(p/f);455<p;m+=36)p=Ff(p/35);f=Ff(m+36*p/(p+38)),p=0,++h}}++p,++u}i="xn--"+i.join("")}a.call(o,i)}if(t=r.join("."),fF.test(t))return"Invalid host";if(null===(r=kF(t)))return"Invalid host"}else{if(gF.test(t))return"Invalid host";for(r="",t=ge(t),n=0;n<t.length;n++)r+=Qd(t[n],Ci)}e.host=r},kF=function(e){var t,n=e.split(".");n.length&&""==n[n.length-1]&&n.pop();var r=n.length;if(4<r)return e;var i=[];for(t=0;t<r;t++){var o=n[t];if(""==o)return e;var a=10;if(1<o.length&&"0"==o.charAt(0)&&(a=cF.test(o)?16:8,o=o.slice(8==a?1:2)),""===o)o=0;else{if(!(10==a?eF:8==a?dF:tt).test(o))return e;o=parseInt(o,a)}i.push(o)}for(t=0;t<r;t++)if(o=i[t],t==r-1){if(o>=rt(256,5-r))return null}else if(255<o)return null;for(e=i.pop(),t=0;t<i.length;t++)e+=i[t]*rt(256,3-t);return e},jF=function(e){var t,n,r=[0,0,0,0,0,0,0,0],i=0,o=null,a=0,s=function(){return e.charAt(a)};if(":"==s()){if(":"!=e.charAt(1))return;a+=2,o=++i}for(;s();){if(8==i)return;if(":"==s()){if(null!==o)return;a++,o=++i}else{for(t=n=0;4>n&&tt.test(s());)t=16*t+parseInt(s(),16),a++,n++;if("."==s()){if(0==n)return;if(a-=n,6<i)return;for(t=0;s();){if(n=null,0<t){if(!("."==s()&&4>t))return;a++}if(!$l.test(s()))return;for(;$l.test(s());){var c=parseInt(s(),10);if(null===n)n=c;else{if(0==n)return;n=10*n+c}if(255<n)return;a++}r[i]=256*r[i]+n,2!=++t&&4!=t||i++}if(4!=t)return;break}if(":"==s()){if(a++,!s())return}else if(s())return;r[i++]=t}}if(null!==o)for(s=i-o,i=7;0!=i&&0<s;)t=r[i],r[i--]=r[o+s-1],r[o+--s]=t;else if(8!=i)return;return r},Tg=function(e){var t,n;if("number"==typeof e){var r=[];for(t=0;4>t;t++)r.unshift(e%256),e=aF(e/256);return r.join(".")}if("object"==typeof e){r="",t=null;for(var i=1,o=null,a=0,s=0;8>s;s++)0!==e[s]?(a>i&&(t=o,i=a),o=null,a=0):(null===o&&(o=s),++a);for(a>i&&(t=o),i=t,t=0;8>t;t++)n&&0===e[t]||(n&&(n=!1),i===t?(r+=t?":":"::",n=!0):(r+=e[t].toString(16),7>t&&(r+=":")));return"["+r+"]"}return e},Ci={},ut=Bg({},Ci,{" ":1,'"':1,"<":1,">":1,"`":1}),vt=Bg({},ut,{"#":1,"?":1,"{":1,"}":1}),bm=Bg({},vt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Qd=function(e,t){var n=uw(e,0);return 32<n&&127>n&&!ka(t,e)?e:encodeURIComponent(e)},Di={ftp:21,file:null,http:80,https:443,ws:80,wss:443},wb=function(e){return ka(Di,e.scheme)},cm=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Ug=function(e,t){var n;return 2==e.length&&st.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},wt=function(e){var t;return 1<e.length&&Ug(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},xt=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Ug(t[0],!0)||t.pop()},dm={},yt={},em={},zt={},At={},fm={},Bt={},Ct={},Ei={},Fi={},gm={},hm={},im={},jm={},Dt={},km={},Vg={},Yc={},Et={},ye={},vd={},Zc=function(e,t,n,r){var i=n||dm,o=0,a="",s=!1,c=!1,l=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(hF,"")),t=t.replace(iF,""),t=ge(t);o<=t.length;){var u=t[o];switch(i){case dm:if(!u||!st.test(u)){if(n)return"Invalid scheme";i=em;continue}a+=u.toLowerCase(),i=yt;break;case yt:if(u&&(bF.test(u)||"+"==u||"-"==u||"."==u))a+=u.toLowerCase();else{if(":"!=u){if(n)return"Invalid scheme";a="",i=em,o=0;continue}if(n&&(wb(e)!=ka(Di,a)||"file"==a&&(""!=e.username||""!=e.password||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=a,n)return void(wb(e)&&Di[e.scheme]==e.port&&(e.port=null));a="","file"==e.scheme?i=jm:wb(e)&&r&&r.scheme==e.scheme?i=zt:wb(e)?i=Ct:"/"==t[o+1]?(i=At,o++):(e.cannotBeABaseURL=!0,e.path.push(""),i=Et)}break;case em:if(!r||r.cannotBeABaseURL&&"#"!=u)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==u){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,i=vd;break}i="file"==r.scheme?jm:fm;continue;case zt:if("/"!=u||"/"!=t[o+1]){i=fm;continue}i=Ei,o++;break;case At:if("/"==u){i=Fi;break}i=Yc;continue;case fm:if(e.scheme=r.scheme,null==u)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==u||"\\"==u&&wb(e))i=Bt;else if("?"==u)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",i=ye;else{if("#"!=u){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),i=Yc;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",i=vd}break;case Bt:if(!wb(e)||"/"!=u&&"\\"!=u){if("/"!=u){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,i=Yc;continue}i=Fi}else i=Ei;break;case Ct:if(i=Ei,"/"!=u||"/"!=a.charAt(o+1))continue;o++;break;case Ei:if("/"!=u&&"\\"!=u){i=Fi;continue}break;case Fi:if("@"==u){for(s&&(a="%40"+a),s=!0,a=ge(a),u=0;u<a.length;u++){var d=a[u];":"!=d||l?(d=Qd(d,bm),l?e.password+=d:e.username+=d):l=!0}a=""}else if(null==u||"/"==u||"?"==u||"#"==u||"\\"==u&&wb(e)){if(s&&""==a)return"Invalid authority";o-=ge(a).length+1,a="",i=gm}else a+=u;break;case gm:case hm:if(n&&"file"==e.scheme){i=km;continue}if(":"!=u||c){if(null==u||"/"==u||"?"==u||"#"==u||"\\"==u&&wb(e)){if(wb(e)&&""==a)return"Invalid host";if(n&&""==a&&(""!=e.username||""!=e.password||null!==e.port))return;if(i=am(e,a))return i;if(a="",i=Vg,n)return;continue}"["==u?c=!0:"]"==u&&(c=!1),a+=u}else{if(""==a)return"Invalid host";if(i=am(e,a))return i;if(a="",i=im,n==hm)return}break;case im:if(!$l.test(u)){if(null==u||"/"==u||"?"==u||"#"==u||"\\"==u&&wb(e)||n){if(""!=a){if(65535<(i=parseInt(a,10)))return"Invalid port";e.port=wb(e)&&i===Di[e.scheme]?null:i,a=""}if(n)return;i=Vg;continue}return"Invalid port"}a+=u;break;case jm:if(e.scheme="file","/"==u||"\\"==u)i=Dt;else{if(!r||"file"!=r.scheme){i=Yc;continue}if(null==u)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==u)e.host=r.host,e.path=r.path.slice(),e.query="",i=ye;else{if("#"!=u){wt(t.slice(o).join(""))||(e.host=r.host,e.path=r.path.slice(),xt(e)),i=Yc;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",i=vd}}break;case Dt:if("/"==u||"\\"==u){i=km;break}r&&"file"==r.scheme&&!wt(t.slice(o).join(""))&&(Ug(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),i=Yc;continue;case km:if(null==u||"/"==u||"\\"==u||"?"==u||"#"==u){if(!n&&Ug(a))i=Yc;else{if(""==a){if(e.host="",n)return}else{if(i=am(e,a))return i;if("localhost"==e.host&&(e.host=""),n)return;a=""}i=Vg}continue}a+=u;break;case Vg:if(wb(e)){if(i=Yc,"/"!=u&&"\\"!=u)continue}else if(n||"?"!=u)if(n||"#"!=u){if(null!=u&&(i=Yc,"/"!=u))continue}else e.fragment="",i=vd;else e.query="",i=ye;break;case Yc:if(null==u||"/"==u||"\\"==u&&wb(e)||!n&&("?"==u||"#"==u)){if(".."===(d=(d=a).toLowerCase())||"%2e."===d||".%2e"===d||"%2e%2e"===d?(xt(e),"/"==u||"\\"==u&&wb(e)||e.path.push("")):"."===a||"%2e"===a.toLowerCase()?"/"==u||"\\"==u&&wb(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Ug(a)&&(e.host&&(e.host=""),a=a.charAt(0)+":"),e.path.push(a)),a="","file"==e.scheme&&(null==u||"?"==u||"#"==u))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==u?(e.query="",i=ye):"#"==u&&(e.fragment="",i=vd)}else a+=Qd(u,vt);break;case Et:"?"==u?(e.query="",i=ye):"#"==u?(e.fragment="",i=vd):null!=u&&(e.path[0]+=Qd(u,Ci));break;case ye:n||"#"!=u?null!=u&&("'"==u&&wb(e)?e.query+="%27":e.query="#"==u?e.query+"%23":e.query+Qd(u,Ci)):(e.fragment="",i=vd);break;case vd:null!=u&&(e.fragment+=Qd(u,ut))}o++}},Rd=function(e){var t=Ac(this,Rd,"URL"),n=1<arguments.length?arguments[1]:void 0,r=String(e),i=$E(t,{type:"URL"});if(void 0!==n)if(n instanceof Rd)var o=db(n);else if(n=Zc(o={},String(n)))throw TypeError(n);if(n=Zc(i,r,null,o))throw TypeError(n);var a=i.searchParams=new ZE;(r=cc(a)).updateSearchParams(i.query),r.updateURL=function(){i.query=String(a)||null},wa||(t.href=Gi.call(t),t.origin=Ft.call(t),t.protocol=Gt.call(t),t.username=Ht.call(t),t.password=It.call(t),t.host=Jt.call(t),t.hostname=Kt.call(t),t.port=Lt.call(t),t.pathname=Mt.call(t),t.search=Nt.call(t),t.searchParams=Ot.call(t),t.hash=Pt.call(t))},lm=Rd.prototype,Gi=function(){var e=db(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",""==e.username&&""==e.password||(l+=n+(r?":"+r:"")+"@"),l+=Tg(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},Ft=function(){var e=db(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Rd(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&wb(e)?t+"://"+Tg(e.host)+(null!==n?":"+n:""):"null"},Gt=function(){return db(this).scheme+":"},Ht=function(){return db(this).username},It=function(){return db(this).password},Jt=function(){var e=db(this),t=e.host;return e=e.port,null===t?"":null===e?Tg(t):Tg(t)+":"+e},Kt=function(){var e=db(this).host;return null===e?"":Tg(e)},Lt=function(){var e=db(this).port;return null===e?"":String(e)},Mt=function(){var e=db(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Nt=function(){var e=db(this).query;return e?"?"+e:""},Ot=function(){return db(this).searchParams},Pt=function(){var e=db(this).fragment;return e?"#"+e:""},tc=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(wa&&To(lm,{href:tc(Gi,(function(e){var t=db(this);if(e=Zc(t,String(e)))throw TypeError(e);cc(t.searchParams).updateSearchParams(t.query)})),origin:tc(Ft),protocol:tc(Gt,(function(e){var t=db(this);Zc(t,String(e)+":",dm)})),username:tc(Ht,(function(e){var t=db(this);if(e=ge(String(e)),!cm(t)){t.username="";for(var n=0;n<e.length;n++)t.username+=Qd(e[n],bm)}})),password:tc(It,(function(e){var t=db(this);if(e=ge(String(e)),!cm(t)){t.password="";for(var n=0;n<e.length;n++)t.password+=Qd(e[n],bm)}})),host:tc(Jt,(function(e){var t=db(this);t.cannotBeABaseURL||Zc(t,String(e),gm)})),hostname:tc(Kt,(function(e){var t=db(this);t.cannotBeABaseURL||Zc(t,String(e),hm)})),port:tc(Lt,(function(e){var t=db(this);cm(t)||(""==(e=String(e))?t.port=null:Zc(t,e,im))})),pathname:tc(Mt,(function(e){var t=db(this);t.cannotBeABaseURL||(t.path=[],Zc(t,e+"",Vg))})),search:tc(Nt,(function(e){var t=db(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Zc(t,e,ye)),cc(t.searchParams).updateSearchParams(t.query)})),searchParams:tc(Ot),hash:tc(Pt,(function(e){var t=db(this);""==(e=String(e))?t.fragment=null:("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Zc(t,e,vd))}))}),Za(lm,"toJSON",(function(){return Gi.call(this)}),{enumerable:!0}),Za(lm,"toString",(function(){return Gi.call(this)}),{enumerable:!0}),Sg){var Qt=Sg.createObjectURL,Rt=Sg.revokeObjectURL;Qt&&Za(Rd,"createObjectURL",(function(e){return Qt.apply(Sg,arguments)})),Rt&&Za(Rd,"revokeObjectURL",(function(e){return Rt.apply(Sg,arguments)}))}zc(Rd,"URL"),ea({global:!0,forced:!Wl,sham:!wa},{URL:Rd});var lF=new Blob(["var fakeIdToId = {};onmessage = function (event) {\tvar data = event.data,\t\tname = data.name,\t\tfakeId = data.fakeId,\t\ttime;\tif(data.hasOwnProperty('time')) {\t\ttime = data.time;\t}\tswitch (name) {\t\tcase 'setInterval':\t\t\tfakeIdToId[fakeId] = setInterval(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearInterval':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearInterval(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t}}"]),mF=window.URL.createObjectURL(lF),Ze={},dg=0,Aj=new Worker(mF);Aj.onmessage=function(e){if(e=e.data.fakeId,Ze.hasOwnProperty(e)){var t=Ze[e];e=t.callback,t=t.parameters,e.apply(window,t)}};var nF=function(e){function t(){return va(this,t),n.apply(this,arguments)}Ga(t,e);var n=Ha(t);return eb(t,[{key:"requestAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return Qv(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;Ze.hasOwnProperty(t)&&(delete Ze[t],Aj.postMessage({name:"clearInterval",fakeId:t}))}}]),t}(gt),oF=new it(nF),pF=["group"],mm=G.inflate,St=G.deflate,Tt=function(e){function t(e,n,i,o){va(this,t);var a=r.call(this,o,"Session");return x(z(a),"lastNoticeTicket",""),x(z(a),"chatManager",void 0),x(z(a),"usedChannelIds",[]),x(z(a),"msgDedupLru",new Wc(void 0,{maxlen:200})),x(z(a),"startTime",Date.now()),x(z(a),"seq",P.fromNumber(1,!0)),x(z(a),"userJoinOptions",new et(!1)),x(z(a),"seqSentStatuses",[!1,!1]),x(z(a),"dialogueSequenceLru",new Wc(void 0,{maxlen:1e4})),x(z(a),"loggedOut",!1),x(z(a),"messageSentTimes",[]),x(z(a),"curLoginSockets",[void 0,void 0]),x(z(a),"loginSocketSubs",[{channels:new Map,receivers:[]},{channels:new Map,receivers:[]}]),x(z(a),"lastLoginSockets",[new Te(1),new Te(1)]),x(z(a),"dialPendingMsgSubjectMap",new Map),x(z(a),"context",void 0),x(z(a),"connection",void 0),x(z(a),"instanceId",void 0),x(z(a),"lastPingTime",void 0),x(z(a),"chanelStringMessageReport",void 0),x(z(a),"chanelRawMessageReport",void 0),x(z(a),"p2pSMsgNoOfflineReport",void 0),x(z(a),"p2pRMsgNoOfflineReport",void 0),x(z(a),"registerSocketsFailureListener",(function(){a.connection.once("socketsFailure",(function(){a.log("socketsFailure, creating a new connection"),yd((function(){return a.connection.removeAllListeners(),a.connection=new ct(a.context,a.logger,!0),a.loginHandler(15e3,!0)})).pipe(Re((function(e){return e.pipe(Zd(ue.getParameter("RECONNECTING_AP_INTERVAL")))})),Kc(a.connection.apClient.apFinish$)).subscribe((function(){a.log("new connection connected")}))})),0===a.connection.listenerCount("tokenExpired")&&a.connection.on("tokenExpired",(function(){a.emit("tokenExpired")}))})),a.context=e,a.context.startTime=a.startTime,a.connection=n,a.instanceId=i,a.chatManager=new CE(o),a.lastPingTime=[0,0],a.setMaxListeners(512),a.log("The instanceId is %s",a.instanceId.toString()),a.chanelStringMessageReport=new zi(e,o,Ka.ChannelSMsg),a.chanelRawMessageReport=new zi(e,o,Ka.ChannelRMsg),a.p2pSMsgNoOfflineReport=new zi(e,o,Ka.P2pSMsgNoOfflineFlag),a.p2pRMsgNoOfflineReport=new zi(e,o,Ka.P2pRMsgNoOfflineFlag),a}Ga(t,e);var n,r=Ha(t);return eb(t,[{key:"loginHandler",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12e3,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.loggedOut&&n)throw new da("Already logged out, request ignored");n&&this.registerSocketsFailureListener(),this.connection.initConnection();var r=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),i=Date.now();return r.forEach((function(t,r){var o=e.loginSocketSubs[r].login;void 0!==o&&o.unsubscribe(),e.loginSocketSubs[r].login=t.pipe(sa((function(t){var o;e.curLoginSockets[r]=t;var a=Date.now();bb("Link",{ackedServerIp:t.address,destServerIp:t.ip,ec:0,sc:0,elapse:Xa(e.startTime),lts:P.fromNumber(a),responseTime:a-i,sid:sb(e.instanceId),userId:e.context.uid},null!==(o=e.context.config.enableCloudProxy)&&void 0!==o&&o),e.emit("userJoined",t.env),n&&e.connection.apClient.apFinish$.next(void 0)}))).subscribe(e.lastLoginSockets[r])})),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),Jb.apply(void 0,Z(r).concat([Db(this.connection,"connectionInitFailure").pipe(sa((function(e){if(Na(e)||Ab(e))throw e;throw new Ja("Login failure",{code:$r,originalError:e})})))])).pipe(hb(1),Lb(t),ab((function(t){return t instanceof Tb&&e.warn("Client login timeout"),t&&t.code===ti&&(e.connection.emit("tokenExpired"),e.connection.apClient.apFinish$.next(void 0)),e.clearSockets(0,n),ra(t)})),sa((function(){n||e.registerSocketsFailureListener()})),fh((function(){n||e.connection.apClient.apFinish$.next(void 0)})))}},{key:"logoutHandler",value:(n=ma(N.mark((function e(){var t,n,r,i=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),t=this.getLoginSockets(),n=t.map((function(e){return e.sendPacket("UserQuit",{}),i.connection.waitClosing(e)})),this.clearSockets(5e3),r=t.map((function(e){return e.env})),[0,1].filter((function(e){return!r.includes(e)})).forEach((function(e){i.connection.closeSocket(e,0)})),e.abrupt("return",Jb.apply(void 0,Z(n)).toPromise());case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"requestChannelJoin",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.getLoginSockets().length){e.next=2;break}throw new da("Client is not logged in. Cannot join the channel",Wr);case 2:return n=Db(this,"channelLeft").pipe(yb((function(e){return t===e})),hb(1)),r=this.incGetSeq(),(i=this.lastLoginSockets.map((function(e){return e.pipe(Kb((function(e,n){0!==n&&o.incSeqIfNeeded(e.env);var i=0===n?r:o.seq;return e.sendPacket("GroupEnter",{account:t,seq:i}),e.fromReceived("GroupReply").pipe(Ca((function(e){return i.eq(e.seq)})),sa((function(e){if(0!==(e=e.code))throw new Ja(["Channel join failure. The response code is %d",e],Sr)})))})),Kc(n),Se())}))).forEach((function(e,n){var r=function(){return o.loginSocketSubs[n].channels.delete(t)};o.loginSocketSubs[n].channels.set(t,e.subscribe({error:r,complete:r}))})),e.next=8,Jb.apply(void 0,Z(i)).pipe(hb(1),Lb(1e4),ab((function(e){return e instanceof Tb&&o.warn("Channel join timeout"),ra(e)}))).toPromise();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(e){this.getLoginSockets().forEach((function(t){t.sendPacket("GroupLeave",{account:e})}))}},{key:"requestUpdateEdgeTicket",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new da("Client is not logged in. Cannot renew token",hs);var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserRenewTokenReq",{instance:n.instanceId,seq:i,account:n.context.uid,ticket:e})})),fb.apply(void 0,[t.genTimeoutError(Ml)].concat(Z(r.map((function(e){return e.fromReceived("UserRenewTokenResp").pipe(Ca((function(e){var t=e.code;return i.eq(e.seq)&&0===t})))})))))}},{key:"requestChannelMemberList",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new da("Client is not logged in. Cannot get the channel members",JB);var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupAllUsersList",{group:e,pageNumber:0,pageSize:200,seq:r})})),fb.apply(void 0,[t.genTimeoutError(Qr)].concat(Z(n.map((function(t){return t.fromReceived("GroupAllUsersResult").pipe(Ca((function(t){var n=t.seq;return t.group===e&&r.eq(n)})))})))))}},{key:"requestPeersOnlineStatus",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new da("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserStatusList",{users:e,seq:r})})),fb.apply(void 0,[t.genTimeoutError(VB)].concat(Z(n.map((function(e){return e.fromReceived("UserStatusResult").pipe(Ca((function(e){return r.eq(e.seq)})))})))))}},{key:"requestSetLocalUserAttributes",value:function(e,n){var r=this,i=this.getLoginSockets();if(0===i.length)throw new da("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t,i){void 0!==n&&i!==n||t.sendPacket("UserAttributeSet",{account:r.context.uid,attributeInfos:Object.entries(e).map((function(e){return{key:(e=$a(e,2))[0],value:e[1]}})),seq:o})})),fb.apply(void 0,Z(i.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Ca((function(e){return o.eq(e.seq)})),Ea((function(e){throw new Ja(["The user attributes set failure, code %d",e.code],oc)})))}))).concat([t.genTimeoutError(pc)],Z(i.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Ca((function(e){return o.eq(e.seq)})))})))))}},{key:"requestSetChannelAttributes",value:function(e,n,r){var i=this.getLoginSockets();if(0===i.length)throw new da("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("GroupAttributeSet",{broadcast:r,group:e,attributeInfos:Object.entries(n).map((function(e){return{key:(e=$a(e,2))[0],value:e[1]}})),seq:o})})),fb.apply(void 0,Z(i.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Ca((function(e){return o.eq(e.seq)})),Ea((function(e){throw new Ja(["The group attributes set failure, code %d",e.code],oc)})))}))).concat([t.genTimeoutError(pc)],Z(i.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Ca((function(e){return o.eq(e.seq)})))})))))}},{key:"requestAddOrUpdateLocalUserAttributes",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new da("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeMod",{account:n.context.uid,attributeInfos:Object.entries(e).map((function(e){return{key:(e=$a(e,2))[0],value:e[1]}})),seq:i})})),fb.apply(void 0,Z(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Ca((function(e){return i.eq(e.seq)})),Ea((function(e){throw new Ja(["The user attributes add or update failure, code %d",e.code],oc)})))}))).concat([t.genTimeoutError(pc)],Z(r.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Ca((function(e){return i.eq(e.seq)})))})))))}},{key:"requestAddOrUpdateChannelAttributes",value:function(e,n,r){var i=this.getLoginSockets();if(0===i.length)throw new da("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("GroupAttributeMod",{broadcast:r,group:e,attributeInfos:Object.entries(n).map((function(e){return{key:(e=$a(e,2))[0],value:e[1]}})),seq:o})})),fb.apply(void 0,Z(i.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Ca((function(e){return o.eq(e.seq)})),Ea((function(e){throw new Ja(["The group attributes add or update failure, code %d",e.code],oc)})))}))).concat([t.genTimeoutError(pc)],Z(i.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Ca((function(e){return o.eq(e.seq)})))})))))}},{key:"requestDeleteLocalUserAttributesByKeys",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new da("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeDel",{account:n.context.uid,attributes:e,seq:i})})),fb.apply(void 0,Z(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Ca((function(e){return i.eq(e.seq)})),Ea((function(e){throw new Ja(["The user attributes delete failure, code %d",e.code],oc)})))}))).concat([t.genTimeoutError(pc)],Z(r.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Ca((function(e){return i.eq(e.seq)})))})))))}},{key:"requestDeleteChannelAttributesByKeys",value:function(e,n,r){var i=this.getLoginSockets();if(0===i.length)throw new da("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("GroupAttributeDel",{group:e,broadcast:r,attributes:n,seq:o})})),fb.apply(void 0,Z(i.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Ca((function(e){return o.eq(e.seq)})),Ea((function(e){throw new Ja(["The channel attributes delete failure, code %d",e.code],oc)})))}))).concat([t.genTimeoutError(pc)],Z(i.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Ca((function(e){return o.eq(e.seq)})))})))))}},{key:"requestClearLocalUserAttributes",value:function(){var e=this,n=this.getLoginSockets();if(0===n.length)throw new da("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserAttributeSet",{account:e.context.uid,seq:r,attributeInfos:[]})})),fb.apply(void 0,Z(n.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Ca((function(e){return r.eq(e.seq)})),Ea((function(e){throw new Ja(["The user attributes clear failure, code %d",e.code],oc)})))}))).concat([t.genTimeoutError(pc)],Z(n.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Ca((function(e){return r.eq(e.seq)})))})))))}},{key:"requestClearChannelAttributes",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new da("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("GroupAttributeSet",{group:e,seq:i,attributeInfos:[],broadcast:n})})),fb.apply(void 0,Z(r.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Ca((function(e){return i.eq(e.seq)})),Ea((function(e){throw new Ja(["The channel attributes clear failure, code %d",e.code],oc)})))}))).concat([t.genTimeoutError(pc)],Z(r.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Ca((function(e){return i.eq(e.seq)})))})))))}},{key:"requestGetUserAttributesByKeys",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new da("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeGet",{account:e,seq:i,attributes:n})})),fb.apply(void 0,[t.genTimeoutError(pc)].concat(Z(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Ca((function(e){return i.eq(e.seq)})),Ea((function(e){if(10008===(e=e.code))throw new Ja("The user requested is not online",Mr);throw new ve(["User attribute operation unknown error code: %d",e],oc)})))}))),Z(r.map((function(e){return e.fromReceived("UserAttributeRet").pipe(Ca((function(e){return i.eq(e.seq)})))})))))}},{key:"requestGetChannelAttributesByKeys",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new da("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("GroupAttributeGet",{group:e,seq:i,attributes:n})})),fb.apply(void 0,[t.genTimeoutError(pc)].concat(Z(r.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Ca((function(e){return i.eq(e.seq)})),Ea((function(e){throw new Ja(["The channel attributes get failure, code %d",e.code],oc)})))}))),Z(r.map((function(e){return e.fromReceived("GroupAttributeRet").pipe(Ca((function(e){return i.eq(e.seq)})))})))))}},{key:"requestGetUserAttributeKeys",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new da("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserAttributeKeysGet",{account:e,seq:r})})),fb.apply(void 0,[t.genTimeoutError(pc)].concat(Z(n.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Ca((function(e){return r.eq(e.seq)})),Ea((function(e){if(10008===(e=e.code))throw new Ja("The user requested is not online",Mr);throw new ve(["User attribute operation unknown error code: %d",e],oc)})))}))),Z(n.map((function(e){return e.fromReceived("UserAttributeKeysRet").pipe(Ca((function(e){return r.eq(e.seq)})))})))))}},{key:"requestGetChannelAttributesKeys",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new da("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupAttributeKeysGet",{group:e,seq:r})})),fb.apply(void 0,[t.genTimeoutError(pc)].concat(Z(n.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Ca((function(e){return r.eq(e.seq)})),Ea((function(e){throw new ve(["Channel attribute operation unknown error code: %d",e.code],oc)})))}))),Z(n.map((function(e){return e.fromReceived("GroupAttributeKeysRet").pipe(Ca((function(e){return r.eq(e.seq)})))})))))}},{key:"requestGetChannelMemberCount",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new da("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupStatusList",{groups:e,seq:r})})),fb.apply(void 0,[t.genTimeoutError(Qr)].concat(Z(n.map((function(e){return e.fromReceived("GroupStatusResult").pipe(Ca((function(e){return r.eq(e.seq)})))})))))}},{key:"requestSubscribePeersOnlineStatus",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new da("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("SubscribeUserStatus",{seq:r,users:e})})),fb.apply(void 0,[t.genTimeoutError($B)].concat(Z(n.map((function(e){return e.fromReceived("SubscribeResponse").pipe(Ca((function(e){return r.eq(e.seq)})))})))))}},{key:"requestUnsubscribePeersOnlineStatus",value:function(e){var t=this.getLoginSockets();if(0===t.length)throw new da("Client is not logged in");var n=this.incGetSeq();t.forEach((function(t){t.sendPacket("UnsubscribeUserStatus",{seq:n,users:e})}))}},{key:"sendInvitationMessage",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o,a,s,c,l,u,d,h,p,f=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.peerId,r=t.callId,i=t.extra,o=t.isAcceptAck,a=t.channelId,s=t.type,c={callId:r},void 0===o){e.next=6;break}if("CallAccept"===s){e.next=5;break}throw Error("invalid invitation type");case 5:c.type=o?"ack":"request";case 6:return c.channel=a,("CallInvite"===s||"CallCancel"===s||"CallReject"===s||"CallAccept"===s&&!1===o)&&void 0!==i&&(c.extra=i),l=nh(),this.log("The sent invitation body is %o",c),u=function(e){return{MiscMap:{},sequence:P.fromNumber(1),dialogue:l,instance:f.instanceId,dst:n,ms:P.fromNumber(Date.now(),!0),options:new Ef({IterationNumber:e,MessageType:s}).toLong(),payload:(new TextEncoder).encode(JSON.stringify(c)),src:f.context.uid}},e.next=14,Jc(this.sendMessageToRetry(u,!0)).pipe(Lb(1e4),ab((function(e){return e instanceof Tb&&f.warn("Send invitation timeout"),ra(e)}))).toPromise();case 14:return d=e.sent,h=d.code,p=d.retryTimes,e.abrupt("return",{hasPeerReceived:0===h,hasReSent:0!==p});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendRawMessage",value:function(){var e=ma(N.mark((function e(t,n,r,i,o){var a,s,c,l,u,d,h,p,f,m,v,g=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Date.now(),s=i?Ka.P2pRMsgNoOfflineFlag:Ka.ChannelRMsg,Ta(r)&&t instanceof Uint8Array&&"string"==typeof n){e.next=4;break}throw new ca("The send message arguments are not valid",i?fs:qi);case 4:if(!(32768<t.byteLength+new Blob([n]).size)){e.next=8;break}throw this.emit("messageCount",{messageCategory:s,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:s,type:"common",key:"invalidmessagecount"}),new ic("The message size is over the 32KB limit",i?bg:Il);case 8:return c=!ue.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=t.byteLength,l=this.chatManager.getChatInfo(r),u=l.dialogue,d=l.sequence,h=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(h,"-").concat(u,"#").concat(d,'"'),c?" compressed":"",i?"peer":"channel",La(r)),p=function(e){return{MiscMap:{description:(new TextEncoder).encode(n)},sequence:d,dialogue:u,instance:h,dst:r,ms:P.fromNumber(Date.now(),!0),options:new Ef({IterationNumber:e,CompressionMethod:c?"Zlib":"Uncompressed",MessageType:i?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:c?St(t):t,src:g.context.uid}},e.next=15,Jc(this.sendMessageToRetry(p,!0)).pipe(Lb(void 0===o?1e4:o),ab((function(e){return e instanceof Tb&&g.warn("Send message timeout"),ra(e)}))).toPromise();case 15:return f=e.sent,m=f.code,v=0===m,this.emit("messageCount",{messageCategory:s,type:"common",key:"sentcount"}),v&&(this.emit("messageCount",{messageCategory:s,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:s,type:i?"peer":"recipient",delay:Xa(a).toNumber()})),e.abrupt("return",{hasPeerReceived:v});case 21:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"sendTextMessage",value:function(){var e=ma(N.mark((function e(t,n,r,i){var o,a,s,c,l,u,d,h,p,f,m,v,g=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Date.now(),a=r?Ka.P2pSMsgNoOfflineFlag:Ka.ChannelSMsg,Ta(n)){e.next=4;break}throw new ca("The send message arguments are not valid",r?fs:qi);case 4:if(!(32768<new Blob([t]).size)){e.next=8;break}throw this.emit("messageCount",{messageCategory:a,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:a,type:"common",key:"invalidmessagecount"}),new ic("The message size is over the 32KB limit",r?bg:Il);case 8:return s=!ue.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=new Blob([t]).size,c=this.chatManager.getChatInfo(n),l=c.dialogue,u=c.sequence,d=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(d,"-").concat(l,"#").concat(u,'"'),s?" compressed":"",r?"peer":"channel",La(n)),h=(new TextEncoder).encode(t),p=function(e){return{MiscMap:{},sequence:u,dialogue:l,instance:d,dst:n,ms:P.fromNumber(Date.now(),!0),options:new Ef({IterationNumber:e,CompressionMethod:s?"Zlib":"Uncompressed",MessageType:r?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:s?St(h):h,src:g.context.uid}},e.next=16,Jc(this.sendMessageToRetry(p,!0)).pipe(Lb(void 0===i?1e4:i),ab((function(e){return e instanceof Tb&&(g.emit("messageCount",{messageCategory:a,type:"common",key:"sentcount"}),g.emit("messageCount",{messageCategory:a,type:"common",key:"timeoutcount"}),g.warn("Send message timeout")),ra(e)}))).toPromise();case 16:return f=e.sent,m=f.code,v=0===m,this.emit("messageCount",{messageCategory:a,type:"common",key:"sentcount"}),v&&(this.emit("messageCount",{messageCategory:a,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:a,type:r?"peer":"recipient",delay:Xa(o).toNumber()})),e.abrupt("return",{hasPeerReceived:v});case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(e,t){Object.entries(this.loginSocketSubs[e]).forEach((function(e){var n=(e=$a(e,2))[1];"channels"===e[0]&&t||(Array.isArray(n)||n instanceof Map?n.forEach((function(e){return e.unsubscribe()})):n&&n.unsubscribe())})),this.loginSocketSubs[e]={channels:t?this.loginSocketSubs[e].channels:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var e=ma(N.mark((function e(t,n){var r,i,o,a,s,c,l,u,d,h=this,p=arguments;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<p.length&&void 0!==p[2]?p[2]:0,this.log("Attempt to send the message ".concat(n?" with retrying, %o":"without retrying"),{retryTimes:r}),0!==(i=this.getLoginSockets()).length){e.next=5;break}throw Error("no logged-in sockets");case 5:return o=t(r),i.forEach((function(e){e.sendPacket("Message",o)})),a=o.dialogue,s=o.sequence,c=o.instance,l=i.map((function(e){return e.fromReceived("Ack").pipe(yb((function(e){return a.eq(e.dialogue)&&s.eq(e.sequence)&&c.eq(e.instance)})))})),e.prev=9,e.next=12,Jb.apply(void 0,Z(l)).pipe(Lb(6e3),ab((function(e){return Ab(e)&&h.warn("Message send timeout, retry times %d",r),ra(e)})),hb(1)).toPromise();case 12:return u=e.sent,d=u.code,this.log("The message has been acked, %o",{code:d}),e.abrupt("return",{code:d,retryTimes:r});case 18:if(e.prev=18,e.t0=e.catch(9),!(e.t0 instanceof Tb&&n)){e.next=22;break}return e.abrupt("return",this.sendMessageToRetry(t,!1,r+1));case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,this,[[9,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var e=this;this.lastLoginSockets.map((function(t){return t.pipe(Kb((function(t){return dd(0,2500,Ce()?void 0:oF).pipe(sa((function(){e.sendPing(t)})))})))})).forEach((function(t,n){var r=e.loginSocketSubs[n].keepAlive;void 0!==r&&r.unsubscribe(),e.loginSocketSubs[n].keepAlive=t.subscribe({error:function(){}})}))}},{key:"initKeepAliveReconnector",value:function(){var e=this;this.lastLoginSockets.map((function(e){return e.pipe(Kb((function(e){var t,n=!1,r=e.userJoin$.pipe(sa((function(){n=!0}))),i=e.input$.pipe(sa((function(e){"Ping"!==yj[e.uri].slice(0,-3)&&(n=!1)})));return Jb(dd(6e3,1e4).pipe(yv(e.receivedPacket),sa((function(r){r=$a(r,2),r=$a(r[1],2)[1],t!==r||n||e.forceReconnect(),t=r}))),r,i)})))})).forEach((function(t,n){var r=e.loginSocketSubs[n].keepAliveReconnector;void 0!==r&&r.unsubscribe(),e.loginSocketSubs[n].keepAliveReconnector=t.subscribe({error:function(){}})}))}},{key:"initLoginReceiver",value:function(){var e=this;fb.apply(void 0,Z(this.lastLoginSockets.map((function(t){return t.pipe(Kb((function(t){return t.fromReceived("UserTicketNearlyExpire").pipe(sv(5e3),sa(e.onUserTicketNearlyExpire(t)))})))})))).subscribe();var t=Db(this,"messageCount"),n=t.pipe(yb((function(e){return e.messageCategory===Ka.ChannelSMsg})));n.subscribe((function(t){return e.updateMessageCount(t)})),n.pipe(dh(6e3)).subscribe((function(t){t.length&&e.chanelStringMessageReport.report()})),Jb(ob(void 0),n).pipe(Kb((function(){return Qe(36e5)}))).subscribe((function(){e.chanelStringMessageReport.report()})),(n=t.pipe(yb((function(e){return e.messageCategory===Ka.ChannelRMsg})))).subscribe((function(t){return e.updateMessageCount(t)})),n.pipe(dh(6e3)).subscribe((function(t){t.length&&e.chanelRawMessageReport.report()})),Jb(ob(void 0),n).pipe(Kb((function(){return Qe(36e5)}))).subscribe((function(){e.chanelRawMessageReport.report()})),(n=t.pipe(yb((function(e){return e.messageCategory===Ka.P2pSMsgNoOfflineFlag})))).subscribe((function(t){return e.updateMessageCount(t)})),n.pipe(dh(6e3)).subscribe((function(t){t.length&&e.p2pSMsgNoOfflineReport.report()})),Jb(ob(void 0),n).pipe(Kb((function(){return Qe(36e5)}))).subscribe((function(){e.p2pSMsgNoOfflineReport.report()})),(t=t.pipe(yb((function(e){return e.messageCategory===Ka.P2pRMsgNoOfflineFlag})))).subscribe((function(t){return e.updateMessageCount(t)})),t.pipe(dh(6e3)).subscribe((function(t){t.length&&e.p2pRMsgNoOfflineReport.report()})),Jb(ob(void 0),t).pipe(Kb((function(){return Qe(36e5)}))).subscribe((function(){e.p2pSMsgNoOfflineReport.report()})),this.lastLoginSockets.map((function(t){return t.pipe(Kb((function(t){return Jb(Db(t,"reconnect").pipe(sa(e.onSocketReconnect(t))),t.fromReceived("Message").pipe(sa(e.onMessage(t))),t.fromReceived("GroupEnterNotice").pipe(sa(e.onGroupEnterNotice())),t.fromReceived("GroupLeaveNotice").pipe(sa(e.onGroupLeaveNotice())),t.fromReceived("GroupCountNotice").pipe(sa(e.onGroupCountNotice())),t.fromReceived("GroupAttributeAlt").pipe(sa(e.onGroupAttributeAlt())),t.fromReceived("UserJoinNotice").pipe(sa(e.onUserNotice(ta.PeerOnlineState.ONLINE))),t.fromReceived("UserQuitNotice").pipe(sa(e.onUserNotice(ta.PeerOnlineState.OFFLINE))),t.fromReceived("UserWaitNotice").pipe(sa(e.onUserNotice(ta.PeerOnlineState.UNREACHABLE))),t.fromReceived("Pong").pipe(sa(e.onPong())),t.fromReceived("UserDrop").pipe(sa(e.onUserDrop(t))),t.fromReceived("GroupDrop").pipe(sa(e.onGroupDrop()))).pipe(Uf(void 0))})))})).forEach((function(t,n){e.loginSocketSubs[n].receivers.push(t.subscribe({error:function(){}}))}))}},{key:"requestSocketLogin",value:function(e,t,n){var r=this;return nn(yd((function(){r.userJoinOptions=new et(t),e.sendPacket("UserJoin",{account:r.context.uid,instance:r.instanceId,opt:r.userJoinOptions.toLong(),seq:n,ticket:e.ticket})})),e.fromReceived("UserResp").pipe(Ca((function(e){return n.eq(e.seq)})),sa((function(t){if(0!==(t=t.code))throw r.clearSockets(),r.logError("Connected to gateway success but the Rtm server rejected login"),new Ja(["Login failure. The response code from the RTM service is %d",t],Pg);e.attemptsSinceLastError=0,e.loggedIn=!0,r.log("ENV_%d logged in",e.env)})),Uf(e),Lb(6e3))).pipe(yb((function(e){return void 0!==e})),ab((function(n){return n instanceof Tb&&r.warn("Login response timeout, rejoin: %s",t),r.clearSockets(),n.name="loginRespTimeout",r.emit("banEdgeIP",e.ip),ra(n)})))}},{key:"getSocketLoginObservables",value:function(e,t){var n=this;return e.map((function(e){return e.pipe(Kb((function(e,r){return n.incSeqIfNeeded(e.env),n.requestSocketLogin(e,0!==r,0===r?t:n.seq)})),Se())}))}},{key:"incSeqIfNeeded",value:function(e){if(![0,1].includes(e))throw new mb({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[e]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[e]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){for(var e=this.curLoginSockets,t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},{key:"emitMessage",value:function(e,n){var r,i=e.options,o=e.payload,a=e.src,s=e.dst,c=e.instance,l=e.dialogue,u=e.sequence,d=e.ms,h=e.MiscMap;this.dialogueSequenceLru.set(l.toString(),u),c="".concat(c,"-").concat(l,"#").concat(u),this.msgDedupLru.has(c)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",n,c):(this.msgDedupLru.set(c,void 0),i=new Ef(i),this.lastLoginSockets.forEach((r=ma(N.mark((function n(r){var i;return N.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.pipe(hb(1)).toPromise();case 2:i=n.sent,t.sendMessageAck(e,i);case 4:case"end":return n.stop()}}),n)}))),function(e){return r.apply(this,arguments)})),n=i.isZlibCompressed(),i.isInvitation()?(s=cg(n?mm(ao(o,Uint8Array.of(0,0,0,0))):o),s=JSON.parse(s),this.log("The received invitation body is %o",s),this.emit("invitationMessage",{body:s,type:i.getInvitationType(),peerId:a,serverReceivedTs:d.toNumber()})):i.isTextMessage()?(h=i.isPeerTextMessage(),o=cg(n?mm(ao(o,Uint8Array.of(0,0,0,0))):o),this.info("Received a %s %s text message from %s to %s, %s",n?" compressed":"",h?"peer":"channel",La(a),La(s),c),h?(a={text:o,peerId:a,properties:{serverReceivedTs:d.toNumber()}},this.emit("peerTextMessage",a),this.emit("messageCount",{messageCategory:Ka.P2pSMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelTextMessage",{channelId:s,memberId:a,text:o,properties:{serverReceivedTs:d.toNumber()}}),this.emit("messageCount",{messageCategory:Ka.ChannelSMsg,type:"common",key:"receivedcount"}))):i.isRawMessage()&&(i=i.isRawPeerMessage(),h=void 0===(h=h.description)?"":cg(h),o=n?mm(o):o,this.info("Received a %s %s raw message from %s to %s, %s",n?" compressed":"",i?"peer":"channel",La(a),La(s),c),i?(a={desc:h,raw:o,peerId:a,properties:{serverReceivedTs:d.toNumber()}},this.emit("peerRawMessage",a),this.emit("messageCount",{messageCategory:Ka.P2pRMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelRawMessage",{desc:h,raw:o,channelId:s,memberId:a,properties:{serverReceivedTs:d.toNumber()}}),this.emit("messageCount",{messageCategory:Ka.ChannelRMsg,type:"common",key:"receivedcount"}))))}},{key:"onSocketReconnect",value:function(e){var t=this;return function(){var n=[0,1].filter((function(t){return t!==e.env}))[0];(n=t.connection.curOpenSockets[n])&&!n.loggedIn&&t.emit("connectionLost")}}},{key:"onUserTicketNearlyExpire",value:function(e){var t=this;return function(n){(n=n.ticket)!==t.lastNoticeTicket&&n===e.ticket?(t.lastNoticeTicket=n,t.emit("tokenPrivilegeWillExpire")):t.requestUpdateEdgeTicket(e.ticket).toPromise()}}},{key:"onGroupDrop",value:function(){var e=this;return function(t){var n,r=t.account;bb("ChnLeave",{cname:r,lts:P.fromNumber(Date.now()),elapse:Xa(e.startTime),errCode:RB,sid:sb(e.instanceId),userId:e.context.uid},null!==(n=e.context.config.enableCloudProxy)&&void 0!==n&&n),[0,1].forEach((function(t){return e.loginSocketSubs[t].channels.delete(r)})),e.logError("the user is kicked out of the current channel")}}},{key:"onUserDrop",value:function(e){var t=this;return function(n){var r;n=n.code,bb("KickedOff",{code:0,elapse:Xa(t.startTime),linkId:parseInt(e.name.split("-")[1],10),lts:P.fromNumber(Date.now()),server:e.address,serverCode:n,sid:sb(t.instanceId),userId:t.context.uid},null!==(r=t.context.config.enableCloudProxy)&&void 0!==r&&r),10006===n||10001===n?t.warn("Login too often and kicked off, reconnect and login"):10009===n?(t.warn("The instance ID conflicts, reconnecting"),t.instanceId=nh(),t.context.sid=sb(t.instanceId),t.emit("instanceChanged",t.instanceId)):[2,11,14,15,16].includes(n)&&(t.emit("userDrop",n),t.clearSockets())}}},{key:"clearSockets",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];[0,1].forEach((function(r){e.cleanLoginSubs(r,n),e.connection.closeSocket(r,t)}))}},{key:"onMessage",value:function(e){var t=this;return function(n){var r=n.dialogue,i=n.instance,o=n.sequence,a=n.options;if(n.src===t.context.uid)t.log("The message is from the local account, ignored");else{var s=r.toString(),c=t.dialPendingMsgSubjectMap.get(s);if(r="".concat(i,"-").concat(r,"#").concat(o),c)c.next(n),t.log("Env_%d: The dialogue has pending messages, next: %s",e.env,r);else{var l=t.dialogueSequenceLru.get(s);if(c=!l&&o.eq(1),i=void 0!==l&&o.sub(l).eq(1),c||i)t.emitMessage(n,e.env);else{if(l){if(o.lte(l))return;t.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",e.env,r)}else t.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",e.env,r);o=new rb,t.dialPendingMsgSubjectMap.set(s,o);var u=o.pipe(Au(zl),gh((function(e,t){return[].concat(Z(e),[t])}),[]),Ea((function(e){return Z(e).sort((function(e,t){return e=e.sequence,t=t.sequence,e.eq(t)?0:e.gt(t)?1:-1}))})),wn(1));a=!(a=new Ef(a)).isFromCache()&&!a.isBufferedMessage(),u.pipe(Kc(dd(a?750:1500)),Ca((function(e){if(2>e.length)return!1;for(var t=void 0===l?P.fromNumber(1,!0):l.add(1),n=0;n<e.length;t=t.add(1),n++)if(!e[n].sequence.eq(t))return!1;return!0})),fh((function(){t.dialPendingMsgSubjectMap.delete(s)}))).subscribe((function(n){n.forEach((function(n){t.emitMessage(n,e.env),t.log("Env_%d: The message queue has fully ordered, emitting: %s",e.env,"".concat(n.instance,"-").concat(n.dialogue,"#").concat(n.sequence))}))}),(function(n){n instanceof eh&&u.pipe(hb(1)).subscribe((function(n){return n.forEach((function(n){t.log("Env_%d: The message pending queue expired, emitting: %s",e.env,"".concat(n.instance,"-").concat(n.dialogue,"#").concat(n.sequence)),t.emitMessage(n,e.env)}))}))})),o.next(n)}}}}}},{key:"onPong",value:function(){var e=this;return function(){document.hidden&&e.getLoginSockets().forEach((function(t){e.sendPing(t)}))}}},{key:"onGroupEnterNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberJoined",size:t.size})}}},{key:"onGroupLeaveNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberLeft",size:t.size})}}},{key:"onGroupCountNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,type:"MemberCountUpdated",size:t.size})}}},{key:"onGroupAttributeAlt",value:function(){var e=this;return function(t){var n=t.group;t=Ki(t,pF),e.emit("channelAttributesUpdated",Wa({channelId:n},t))}}},{key:"onUserNotice",value:function(e){var t=this;return function(n){t.emit("peerOnlineStatusChanged",{peerId:n.user,instance:n.instance,seq:n.seq,state:e})}}},{key:"sendPing",value:function(e){2500>=Date.now()-this.lastPingTime[e.env]||(this.incSeqIfNeeded(e.env),e.sendPacket("Ping",{ms:P.fromNumber(Date.now(),!0),seq:this.seq}),this.lastPingTime[e.env]=Date.now())}},{key:"updateMessageCount",value:function(e){var t,n=(t={},x(t,Ka.ChannelRMsg,this.chanelRawMessageReport),x(t,Ka.ChannelSMsg,this.chanelStringMessageReport),x(t,Ka.P2pRMsgNoOfflineFlag,this.p2pRMsgNoOfflineReport),x(t,Ka.P2pSMsgNoOfflineFlag,this.p2pSMsgNoOfflineReport),x(t,3,void 0),x(t,4,void 0),x(t,7,void 0),x(t,8,void 0),x(t,9,void 0),x(t,10,void 0),t)[e.messageCategory];"common"===e.type?null==n||n.updateCommonCount(e.key):"peer"===e.type?null==n||n.updatePeerAckCount(e.delay):null==n||n.updateNorecipientackCount(e.delay)}}],[{key:"sendMessageAck",value:function(e,t){var n=new Ef(e.options);(n.isInvitation()||n.isPeerMessage())&&t.sendPacket("Ack",{code:0,dialogue:e.dialogue,instance:e.instance,sequence:e.sequence})}}]),t}(sc());x(Tt,"genTimeoutError",(function(e,t){return ob(void 0).pipe(Zd(void 0===t?1e4:t),Ea((function(){throw new Ub(["Request timed out after %ds",(void 0===t?1e4:t)/1e3],e)})))}));var Ut,nm,om=0,pm=0;Ng.v1=function(e,t,n){n=t&&n||0;var r=t||[],i=(e=e||{}).node||Ut,o=void 0!==e.clockseq?e.clockseq:nm;if(null==i||null==o){var a=Kr();null==i&&(i=Ut=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=nm=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var s=void 0!==e.nsecs?e.nsecs:pm+1,c=a-om+(s-pm)/1e4;if(0>c&&void 0===e.clockseq&&(o=o+1&16383),(0>c||a>om)&&void 0===e.nsecs&&(s=0),1e4<=s)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(om=a,pm=s,nm=o,e=(1e4*(268435455&(a+=122192928e5))+s)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=a/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=o>>>8|128,r[n++]=255&o,o=0;6>o;++o)r[n+o]=i[o];return t||Lr(r)},Ng.v4=Ng;var qm=yi(),Sd,Hf=ta.LocalInvitationFailureReason,Sa=ta.LocalInvitationState,qF=(Sd=function(e){function t(e,r,i){va(this,t);var o=n.call(this,i,"RtmLocalInvitation",!0);return x(z(o),"state",Sa.IDLE),x(z(o),"localInvitationEnd$",fb(Db(z(o),"LocalInvitationAccepted"),Db(z(o),"LocalInvitationRefused"),Db(z(o),"LocalInvitationFailure"),Db(z(o),"LocalInvitationCanceled")).pipe(hb(1))),x(z(o),"callId",Ng.v4()),x(z(o),"_content",""),x(z(o),"_channelId",""),x(z(o),"_response",""),x(z(o),"calleeId",void 0),x(z(o),"logger",void 0),x(z(o),"getSession",void 0),o.calleeId=e,o.getSession=r,o.logger=i,o}Ga(t,e);var n=Ha(t);return eb(t,[{key:"channelId",get:function(){return this._channelId},set:function(e){this.state!==Sa.IDLE?this.info("set channelId only allow before invitation sent to remote"):(this.log("set channelId for %s",this.callId),this._channelId=e)}},{key:"content",get:function(){return this._content},set:function(e){this.log("set content for %s",this.callId),this._content=e}},{key:"response",get:function(){return this._response},set:function(e){throw new ca('Cannot set the "response" of the LocalInvitation instance.',Xc)}},{key:"send",value:function(){var e,t=this;if(this.state===Sa.SENT_TO_REMOTE||this.state===Sa.RECEIVED_BY_REMOTE)throw new da("The local invitation send failure. The call invitation has already been sent.",NB);if(this.isLocalInvitationEnd())throw new da("The local invitation send failure. The call invitation has ended.",ri);if(0<this._channelId.length&&!Ta(this._channelId))throw new ca("Illegal invitation channel ID",Xc);if(!Ta(this.calleeId))throw new ca("Illegal invitation callee user ID",Xc);if(8192<rh(this._content))throw new ca('The length of the "content" overflows. The number of bytes representing content must not exceed 8 Ã 1024 if encoded in UTF-8.',Xc);this.state=Sa.SENT_TO_REMOTE,yd(ma(N.mark((function n(){var r,i,o;return N.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getSession().sendInvitationMessage({peerId:t.calleeId,callId:t.callId,extra:t._content,type:"CallInvite",channelId:t._channelId});case 2:if(r=n.sent,i=r.hasPeerReceived,o=r.hasReSent,!t.isLocalInvitationEnd()){n.next=7;break}throw new Ub("send invitation timeout");case 7:if(t.log("The local invitation has sent to the callee"),i||o){n.next=11;break}throw e=new qm({PEER_NOT_ONLINE:"The peer of the invitation is not online"});case 11:if(i){n.next=14;break}throw e=new qm({RESENT_AND_OFFLINE:"Resent and the peer of the invitation is not online"});case 14:case"end":return n.stop()}}),n)})))).pipe(Re((function(e){return e.pipe(sa((function(e){if(!(e instanceof qm))throw e})),Zd(2e3))})),Lb(3e4),ab((function(e){return Ab(e)&&t.warn("local invitation ack timed out"),ra(e)})),Kc(this.localInvitationEnd$)).subscribe({next:function(){t.state===Sa.RECEIVED_BY_REMOTE?t.log('The local invitation state is already "RECEIVED_BY_REMOTE", skipped emitting "LocalInvitationReceivedByPeer"'):t.state!==Sa.SENT_TO_REMOTE?t.log("The invitation has ended, skipped emitting the %s event","LocalInvitationReceivedByPeer"):(t.info("The peer received the local invitation %s.",t.callId),t.state=Sa.RECEIVED_BY_REMOTE,t.emit("LocalInvitationReceivedByPeer"),t.localInvitationEnd$.pipe(Lb(6e4),ab((function(e){return Ab(e)&&t.warn("local invitation expired"),ra(e)}))).subscribe({error:function(){t.state=Sa.FAILURE,t.emit("LocalInvitationFailure",Hf.INVITATION_EXPIRE)}}))},error:function(n){t.isLocalInvitationEnd()?t.log("The invitation has ended, skipped emitting the %s event","LocalInvitationFailure"):(t.state=Sa.FAILURE,Ab(n)&&e?"PEER_NOT_ONLINE"===e.code?t.emit("LocalInvitationFailure",Hf.PEER_OFFLINE):"RESENT_AND_OFFLINE"===e.code&&t.emit("LocalInvitationFailure",Hf.PEER_NO_RESPONSE):Ab(n)?t.emit("LocalInvitationFailure",Hf.PEER_NO_RESPONSE):"RtmInvalidStatusError"===n.name?t.emit("LocalInvitationFailure",Hf.NOT_LOGGEDIN):t.emit("LocalInvitationFailure",Hf.UNKNOWN))}})}},{key:"cancel",value:function(){if(this.isLocalInvitationEnd())throw new da("The local invitation cancel failure",ri);if(this.state===Sa.IDLE)throw new da("The local invitation has not been sent",MB);if(8192<rh(this._content))throw new ca('The length of the "content" overflows. The number of bytes representing content must not exceed 8 Ã 1024 if encoded in UTF-8.',Xc);this.getSession().sendInvitationMessage({callId:this.callId,peerId:this.calleeId,type:"CallCancel",channelId:this._channelId,extra:this._content}),this.state=Sa.CANCELED,this.emit("LocalInvitationCanceled")}},{key:"onAcceptReceived",value:function(e){if(this.isLocalInvitationEnd()&&this.state!==Sa.ACCEPTED_BY_REMOTE)this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationAccepted");else{if(this.state===Sa.IDLE)throw new da("the local have not sent the invitation, how can remote accept it?");this.getSession().sendInvitationMessage({callId:this.callId,isAcceptAck:!0,type:"CallAccept",peerId:this.calleeId,channelId:this.channelId}),this.state===Sa.ACCEPTED_BY_REMOTE?this.log("already in ACCEPTED_BY_REMOTE state, ignore emit ACCEPTED_BY_REMOTE"):(this.state===Sa.SENT_TO_REMOTE&&(this.log("receive LocalInvitationAccepted before remote response to the invitation"),this.state=Sa.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this.state=Sa.ACCEPTED_BY_REMOTE,this._response=e,this.emit("LocalInvitationAccepted",e))}}},{key:"onRefuseReceived",value:function(e){if(this.isLocalInvitationEnd())this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationRefused");else{if(this.state===Sa.IDLE)throw new da("the local have not sent the invitation, how can remote refuse it?");this.state===Sa.SENT_TO_REMOTE&&(this.log("receive LocalInvitationRefused before remote response to the invitation"),this.state=Sa.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this._response=e,this.state=Sa.REFUSED_BY_REMOTE,this.emit("LocalInvitationRefused",e)}}},{key:"isLocalInvitationEnd",value:function(){return[Sa.CANCELED,Sa.FAILURE,Sa.ACCEPTED_BY_REMOTE,Sa.REFUSED_BY_REMOTE].includes(this.state)}}]),t}(sc()),Da(Sd.prototype,"send",[Mc],Object.getOwnPropertyDescriptor(Sd.prototype,"send"),Sd.prototype),Da(Sd.prototype,"cancel",[Mc],Object.getOwnPropertyDescriptor(Sd.prototype,"cancel"),Sd.prototype),Sd),Hi=ta.RemoteInvitationFailureReason,Fb=ta.RemoteInvitationState,rF=function(e){function t(e){var r=e.invitationChannel,i=e.extraContent,o=e.callId,a=e.callerId,s=e.logger;e=e.getSession,va(this,t);var c=n.call(this,s,"RtmRemoteInvitation",!0);return x(z(c),"state",Fb.INVITATION_RECEIVED),x(z(c),"remoteInvitationEnd$",fb(Db(z(c),"RemoteInvitationCanceled"),Db(z(c),"RemoteInvitationRefused"),Db(z(c),"RemoteInvitationAccepted"),Db(z(c),"RemoteInvitationFailure")).pipe(hb(1))),x(z(c),"callerId",void 0),x(z(c),"callId",void 0),x(z(c),"_getSession",void 0),x(z(c),"logger",void 0),x(z(c),"_content",void 0),x(z(c),"_channelId",void 0),x(z(c),"_response",""),c._channelId=r,c._content=i,c.callId=o,c.callerId=a,c._getSession=e,c.logger=s,c.remoteInvitationEnd$.pipe(Lb(6e4),ab((function(e){return Ab(e)&&c.warn("Remote invitation expired"),ra(e)}))).subscribe({error:function(){c.state=Fb.FAILURE,c.emit("RemoteInvitationFailure",Hi.INVITATION_EXPIRE)}}),c}Ga(t,e);var n=Ha(t);return eb(t,[{key:"channelId",get:function(){return this._channelId},set:function(e){throw new ca('Cannot set the "response" of the RemoteInvitation instance.',Xc)}},{key:"content",get:function(){return this._content},set:function(e){throw new ca('Cannot set the "content" of the RemoteInvitation instance.',Xc)}},{key:"response",get:function(){return this._response},set:function(e){this._response=e}},{key:"accept",value:function(){var e,t=this;if(this.isRemoteInvitationEnd())throw new da("The local invitation has ended. Cannot accept.",ri);if(this.state===Fb.ACCEPT_SENT_TO_LOCAL)throw new da("The remote invitation is accepting. Cannot do the operation.",Rr);if(8192<rh(this._response))throw new ca('The length of the "response" overflows. The number of bytes representing content must not exceed 8 Ã 1024 if encoded in UTF-8.',Xc);this.state=Fb.ACCEPT_SENT_TO_LOCAL,Jb(Qe(1e3).pipe(Cb((function(){return yd(ma(N.mark((function e(){return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._getSession().sendInvitationMessage({peerId:t.callerId,callId:t.callId,extra:t.response,type:"CallAccept",isAcceptAck:!1,channelId:t.channelId}));case 1:case"end":return e.stop()}}),e)}))))})),yb((function(t){return e=t.hasPeerReceived})),hb(1)),Db(this,"RemoteInvitationAccepted")).pipe(Lb(5e3),Kc(this.remoteInvitationEnd$)).subscribe({error:function(n){if(t.logError(n),t.state=Fb.FAILURE,Ab(n))switch(e){case void 0:case!0:return void t.emit("RemoteInvitationFailure",Hi.ACCEPT_FAILURE);case!1:return void t.emit("RemoteInvitationFailure",Hi.PEER_OFFLINE)}t.emit("RemoteInvitationFailure",Hi.UNKNOWN)}})}},{key:"refuse",value:function(){if(this.state===Fb.ACCEPT_SENT_TO_LOCAL)throw new da("The remote invitation is accepting. Cannot do the operation.",Rr);if(this.isRemoteInvitationEnd())throw new da("The invitation is end. Cannot refuse",ri);if(8192<rh(this._response))throw new ca('The length of the "response" overflows. The number of bytes representing content must not exceed 8 Ã 1024 if encoded in UTF-8.',Xc);this._getSession().sendInvitationMessage({peerId:this.callerId,callId:this.callId,extra:this.response,type:"CallReject",channelId:this.channelId}),this.state=Fb.REFUSED,this.emit("RemoteInvitationRefused")}},{key:"onCancelReceived",value:function(e){this.isRemoteInvitationEnd()?this.log("The invitation has ended, skipped emitting the %s event","RemoteInvitationCanceled"):(this.state===Fb.ACCEPT_SENT_TO_LOCAL&&this.log("caller canceled before receive accept"),this._content=e,this.state=Fb.CANCELED,this.emit("RemoteInvitationCanceled",e))}},{key:"onAcceptAckReceived",value:function(){this.state!==Fb.ACCEPT_SENT_TO_LOCAL?this.log("The invitation has ended, skipped emitting the %s event","ori:".concat(this.state,", to: RemoteInvitationAccepted")):(this.state=Fb.ACCEPTED,this.emit("RemoteInvitationAccepted"))}},{key:"isRemoteInvitationEnd",value:function(){return[Fb.ACCEPTED,Fb.REFUSED,Fb.CANCELED,Fb.FAILURE].includes(this.state)}}]),t}(sc()),sF=function(e){function t(e,r){va(this,t);var i=n.call(this,r,"InvitationManager");return x(z(i),"getSession",void 0),x(z(i),"invitationDispatcher",new Ba.EventEmitter),x(z(i),"outgoingLocalInvitations",new Map),x(z(i),"receivedRemoteInvitations",new Wc(void 0,{maxlen:1e4})),x(z(i),"logger",void 0),i.getSession=fo(e),i.logger=r,i.invitationDispatcher.on("remoteInvitationToManager",(function(e){var t=e.callId,n=e.extra,o=e.callerId;e=e.channelId,i.receivedRemoteInvitations.has(t)||((n=new rF({callerId:o,callId:t,getSession:i.getSession,logger:r,extraContent:n,invitationChannel:e})).remoteInvitationEnd$.subscribe((function(){i.receivedRemoteInvitations.delete(t)})),i.receivedRemoteInvitations.set(t,n),i.emit("remoteInvitationInstance",n))})),i.invitationDispatcher.on("acceptAckToRemoteInvitation",(function(e){(e=i.receivedRemoteInvitations.get(e.callId))&&e.onAcceptAckReceived()})),i.invitationDispatcher.on("cancelToRemoteInvitation",(function(e){var t=e.extra;(e=i.receivedRemoteInvitations.get(e.callId))&&e.onCancelReceived(t)})),i.invitationDispatcher.on("acceptToLocalInvitation",(function(e){var t=e.extra;(e=i.outgoingLocalInvitations.get(e.callId))&&e.onAcceptReceived(t)})),i.invitationDispatcher.on("refuseToLocalInvitation",(function(e){var t=e.extra;(e=i.outgoingLocalInvitations.get(e.callId))&&e.onRefuseReceived(t)})),i}Ga(t,e);var n=Ha(t);return eb(t,[{key:"invitationMessageHandler",value:function(e){var t=e.body,n=t.callId,r=t.extra;r=void 0===r?"":r;var i=t.type,o=void 0===(t=t.channel)?"":t,a=e.type;switch(t=e.peerId,e=e.serverReceivedTs,a){case"CallAccept":"ack"===i?this.invitationDispatcher.emit("acceptAckToRemoteInvitation",{callId:n}):"request"===i&&this.invitationDispatcher.emit("acceptToLocalInvitation",{callId:n,extra:r});break;case"CallInvite":this.invitationDispatcher.emit("remoteInvitationToManager",{callId:n,callerId:t,extra:r,channelId:o});break;case"CallCancel":if("0"===n){n="".concat("AgoraRTMLegacyEndcallCompatibleMessagePrefix","_").concat(o,"_").concat(r),this.getSession().emit("peerTextMessage",{peerId:t,properties:{serverReceivedTs:e},text:n});break}this.invitationDispatcher.emit("cancelToRemoteInvitation",{callId:n,extra:r});break;case"CallReject":this.invitationDispatcher.emit("refuseToLocalInvitation",{callId:n,extra:r});break;default:throw Rn("invitationType",a)}}},{key:"genLocalInvitation",value:function(e){var t=this,n=new qF(e,this.getSession,this.logger);return n.localInvitationEnd$.subscribe((function(){t.outgoingLocalInvitations.delete(n.callId)})),this.outgoingLocalInvitations.set(n.callId,n),n}}]),t}(sc()),tF=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Gb(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),JD(e,t,{leading:r,maxWait:t,trailing:i})},Qb,If;!function(e){e[e.JOINED=0]="JOINED",e[e.LEFT=1]="LEFT"}(If||(If={}));var Ii=ta.ConnectionState,uF=(Qb=function(e){function t(e,n,i,o){va(this,t);var a=r.call(this,o,"RtmChannel",!0);return x(z(a),"onMemberCountUpdated",tF((function(e){e!==a.memberCount&&(a.memberCount=e,a.emit("MemberCountUpdated",e))}),1e3)),x(z(a),"getSession",void 0),x(z(a),"memberCount",0),x(z(a),"joinState","LEFT"),x(z(a),"joinPromise",void 0),x(z(a),"memberJoinedLru",new Wc(void 0,{maxlen:1e4})),x(z(a),"memberLeftLru",new Wc(void 0,{maxlen:1e4})),x(z(a),"memberJoinStateLru",new Wc(void 0,{maxlen:1e4})),x(z(a),"attributesSeqLru",new Wc(void 0,{maxlen:1e4})),x(z(a),"channelId",void 0),x(z(a),"client",void 0),x(z(a),"onChannelMemberCountUpdated",(function(e,t){a.channelId===e&&a.onMemberCountUpdated(t)})),x(z(a),"onLogout",(function(){try{a.clearChannel(a.getSession())}catch(e){}})),x(z(a),"onAttributesUpdated",(function(e){var t=e.channelId,n=e.attributeMaps,r=e.seq;e=e.instance.toString();var i=a.attributesSeqLru.get(e);if((!i||r.greaterThan(i))&&(a.attributesSeqLru.set(e,r),t===a.channelId)){for(t={},r=0;r<n.length;r++){var o=n[r];e=o.key,i=o.ms;var s=o.value;if(o=o.origin,"string"!=typeof e||!P.isLong(i)||"string"!=typeof s||!Ta(o))break;t[e]={value:s,lastUpdateUserId:o,lastUpdateTs:i.toNumber()}}a.emit("AttributesUpdated",t)}})),x(z(a),"onChannelTextMessage",(function(e){var t=e.memberId,n=e.text,r=e.properties;e.channelId===a.channelId&&a.emit("ChannelMessage",{text:n,messageType:ta.MessageType.TEXT},t,r)})),x(z(a),"onChannelRawMessage",(function(e){var t=e.desc,n=e.raw,r=e.memberId,i=e.properties;e.channelId===a.channelId&&a.emit("ChannelMessage",{messageType:ta.MessageType.RAW,rawMessage:n,description:t},r,i)})),x(z(a),"onMemberNotice",(function(e){var t=e.memberId,n=e.type,r=e.size;if(e.channelId===a.channelId){var i=e.instance.toString();e=e.seq.toString();var o={MemberLeft:a.memberLeftLru,MemberJoined:a.memberJoinedLru,MemberCountUpdated:void 0}[n];if(o){if(o.has(i+e))return void a.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",n,e,La(a.channelId),La(t||""));if(o.set(i+e,void 0),"string"!=typeof t)return;if(t!==a.getSession().context.uid){if((i=a.memberJoinStateLru.get(t))===If.JOINED&&"MemberJoined"===n)return void a.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,La(a.channelId),La(t||""));if(i===If.LEFT&&"MemberLeft"===n)return void a.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,La(a.channelId),La(t||""))}a.memberJoinStateLru.set(t,"MemberJoined"===n?If.JOINED:If.LEFT)}a.info("Channel %s - %s, memberId: %s",n,La(a.channelId),"MemberCountUpdated"===n?"[unknown]":La(t||"")),i=t===a.getSession().context.uid,"MemberLeft"===n&&Ta(t)||"MemberJoined"===n&&Ta(t)?(i||a.emit(n,t),a.onMemberCountUpdated(r)):"MemberCountUpdated"===n&&"number"==typeof r&&a.onMemberCountUpdated(r)}})),a.getSession=fo(n),a.channelId=e,a.client=i,a.info("A channel created, id %s",La(e)),a}Ga(t,e);var n,r=Ha(t);return eb(t,[{key:"join",value:(n=ma(N.mark((function e(){var t,n,r,i,o,a,s,c=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=this.getSession(),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new da("The client is not logged in. Cannot do the operation",Wr);case 7:if(e.prev=7,Ta(this.channelId)){e.next=10;break}throw new ca(["The %s in the arguments is invalid","channelId"],OB);case 10:if("LEFT"===this.joinState){e.next=13;break}throw bb("ChnJoin",{cname:this.channelId,lts:P.fromNumber(Date.now()),userId:t.context.uid,elapse:Xa(t.startTime),errCode:Vr,sid:sb(t.instanceId)},null!==(i=this.client.context.config.enableCloudProxy)&&void 0!==i&&i),new da("The channel has joined. Cannot rejoin",Vr);case 13:if(!t.usedChannelIds.includes(this.channelId)){e.next=16;break}throw bb("ChnJoin",{cname:this.channelId,lts:P.fromNumber(Date.now()),userId:t.context.uid,elapse:Xa(t.startTime),errCode:Xr,sid:sb(t.instanceId)},null!==(o=this.client.context.config.enableCloudProxy)&&void 0!==o&&o),new da("A channel of the same channel ID has already joined. Cannot rejoin",Xr);case 16:if(!(20<=t.usedChannelIds.length)){e.next=19;break}throw bb("ChnJoin",{cname:this.channelId,lts:P.fromNumber(Date.now()),userId:t.context.uid,elapse:Xa(t.startTime),errCode:Ur,sid:sb(t.instanceId)},null!==(a=this.client.context.config.enableCloudProxy)&&void 0!==a&&a),new ic("The joined channels has exceeded the limit of 20",Ur);case 19:return bb("ChnJoin",{cname:this.channelId,lts:P.fromNumber(Date.now()),userId:t.context.uid,elapse:Xa(t.startTime),errCode:0,sid:sb(t.instanceId)},null!==(n=this.client.context.config.enableCloudProxy)&&void 0!==n&&n),this.log("Joining the channel %s",La(this.channelId)),this.joinState="JOINING",t.usedChannelIds.push(this.channelId),this.joinPromise=t.requestChannelJoin(this.channelId).then((function(){c.joinState="JOINED"})),e.next=26,this.joinPromise;case 26:bb("ChnJoinRes",{cname:this.channelId,lts:P.fromNumber(Date.now()),elapse:Xa(t.startTime),errCode:0,sid:sb(t.instanceId),serverErrCode:0,userId:t.context.uid},null!==(r=this.client.context.config.enableCloudProxy)&&void 0!==r&&r),this.info("The channel %s joined successfully",La(this.channelId)),t.on("channelTextMessage",this.onChannelTextMessage),t.on("channelRawMessage",this.onChannelRawMessage),t.on("memberNotice",this.onMemberNotice),t.on("channelAttributesUpdated",this.onAttributesUpdated),this.client.internalEmitter.on("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.once("LOGOUT",this.onLogout),e.next=46;break;case 36:if(e.prev=36,e.t1=e.catch(7),"JOINING"===this.joinState&&(this.joinState="LEFT"),this.logError(e.t1),!Na(e.t1)){e.next=42;break}throw e.t1;case 42:if(!Ab(e.t1)){e.next=45;break}throw bb("ChnJoinRes",{cname:this.channelId,lts:P.fromNumber(Date.now()),elapse:Xa(t.startTime),errCode:Tr,sid:sb(t.instanceId),serverErrCode:0,userId:t.context.uid},null!==(s=this.client.context.config.enableCloudProxy)&&void 0!==s&&s),new Ub(["Join channel %s timed out",La(this.channelId)],Tr);case 45:throw new ve(["The channel %s join failure",La(this.channelId)],{code:Sr,originalError:e.t1});case 46:case"end":return e.stop()}}),e,this,[[0,4],[7,36]])}))),function(){return n.apply(this,arguments)})},{key:"leave",value:function(){var e=ma(N.mark((function e(){var t,n,r,i;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=this.getSession(),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new da("The client is not logged in. Cannot do the operation",QB);case 7:if("LEFT"!==this.joinState){e.next=9;break}throw new da("The channel does not join. Cannot do the operation",PB);case 9:return e.prev=9,n.requestChannelLeave(this.channelId),e.next=13,this.clearChannel(n);case 13:e.next=24;break;case 15:if(e.prev=15,e.t1=e.catch(9),this.logError(e.t1),!Na(e.t1)){e.next=22;break}throw void 0===e.t1.code&&(e.t1.code=Zr),bb("ChnLeave",{cname:this.channelId,lts:P.fromNumber(Date.now()),elapse:Xa(n.startTime),errCode:Zr,sid:sb(n.instanceId),userId:n.context.uid},null!==(i=this.client.context.config.enableCloudProxy)&&void 0!==i&&i),e.t1;case 22:throw bb("ChnLeave",{cname:this.channelId,lts:P.fromNumber(Date.now()),elapse:Xa(n.startTime),errCode:Yr,sid:sb(n.instanceId),userId:n.context.uid},null!==(r=this.client.context.config.enableCloudProxy)&&void 0!==r&&r),new ve("The channel leave failure",{code:Yr,originalError:e.t1});case 24:bb("ChnLeave",{cname:this.channelId,lts:P.fromNumber(Date.now()),elapse:Xa(n.startTime),errCode:0,sid:sb(n.instanceId),userId:n.context.uid},null!==(t=this.client.context.config.enableCloudProxy)&&void 0!==t&&t);case 25:case"end":return e.stop()}}),e,this,[[0,4],[9,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=ma(N.mark((function e(t){var n,r=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xn(t,Il),this.client.connectionState!==Ii.CONNECTED||"JOINED"===this.joinState){e.next=3;break}throw new da("The channel does not join. Cannot do the operation",EB);case 3:if(this.client.connectionState!==Ii.RECONNECTING){e.next=8;break}return n=Date.now(),e.next=7,new Promise((function(e,i){var o,a=(o=ma(N.mark((function o(){var a;return N.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=Date.now()-n,o.prev=1,o.next=4,ph({message:t,peerId:r.channelId,toPeer:!1,session:r.getSession(),errorCodes:{NOT_LOGGED_IN:Jl,TOO_OFTEN:Nr},diff:a,logger:r.logger});case 4:e(),o.next=12;break;case 7:o.prev=7,o.t0=o.catch(1),Ab(o.t0)&&i(new Ub(we(r.name,"sendMessageToPeer",1e4),Hl)),Na(o.t0)&&i(o.t0),i(new Ja("Channel message send failure",{code:qi,originalError:o.t0}));case 12:return o.prev=12,clearTimeout(s),o.finish(12);case 15:case"end":return o.stop()}}),o,null,[[1,7,12,15]])}))),function(){return o.apply(this,arguments)});r.client.internalEmitter.once("RECONNECTED",a);var s=setTimeout((function(){r.client.internalEmitter.off("RECONNECTED",a),i(new Ub(we(r.name,"sendMessageToPeer",1e4),Hl))}),9e3)}));case 7:return e.abrupt("return");case 8:if(this.client.connectionState===Ii.CONNECTED){e.next=10;break}throw new da("The client is not logged in. Cannot do the operation",Jl);case 10:return e.prev=10,e.next=13,ph({message:t,peerId:this.channelId,toPeer:!1,session:this.getSession(),errorCodes:{NOT_LOGGED_IN:Jl,TOO_OFTEN:Nr},diff:0,logger:this.logger});case 13:e.next=23;break;case 15:if(e.prev=15,e.t0=e.catch(10),!Ab(e.t0)){e.next=19;break}throw new Ub(we(this.name,"sendMessage",1e4),Hl);case 19:if(!Na(e.t0)){e.next=22;break}throw this.logError(e.t0),e.t0;case 22:throw new ve("The channel message send failure",qi);case 23:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMembers",value:function(){var e=ma(N.mark((function e(){var t,n;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.client.connectionState===Ii.CONNECTED){e.next=3;break}throw new da("The client is not logged in. Cannot do the operation",LB);case 3:if("JOINED"===this.joinState){e.next=5;break}throw new da("The channel does not join. Cannot do the operation",KB);case 5:return t=this.getSession().requestChannelMemberList(this.channelId),e.next=8,t.pipe(Ea((function(e){return e.memberInfos.map((function(e){return e.account}))}))).toPromise();case 8:return n=e.sent,this.info("Channel %s - get members success, %o",La(this.channelId),n.map(La)),e.abrupt("return",n);case 13:if(e.prev=13,e.t0=e.catch(0),!Na(e.t0)){e.next=18;break}throw this.logError(e.t0),e.t0;case 18:throw new ve("The channel members get failure",IB);case 19:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"clearChannel",value:function(){var e=ma(N.mark((function e(t){var n=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.emit("channelLeft",this.channelId),"JOINING"!==this.joinState){e.next=4;break}return e.next=4,this.joinPromise;case 4:this.joinState="LEFT",this.memberLeftLru.empty(),this.memberJoinedLru.empty(),this.attributesSeqLru.empty(),this.memberJoinStateLru.empty(),this.memberCount=0,t.removeListener("channelTextMessage",this.onChannelTextMessage),t.removeListener("channelRawMessage",this.onChannelRawMessage),t.removeListener("memberNotice",this.onMemberNotice),t.removeListener("channelAttributesUpdated",this.onAttributesUpdated),this.client.internalEmitter.removeListener("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.removeListener("LOGOUT",this.onLogout),t.usedChannelIds=t.usedChannelIds.filter((function(e){return e!==n.channelId}));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(sc()),Da(Qb.prototype,"join",[Mc],Object.getOwnPropertyDescriptor(Qb.prototype,"join"),Qb.prototype),Da(Qb.prototype,"leave",[Mc],Object.getOwnPropertyDescriptor(Qb.prototype,"leave"),Qb.prototype),Da(Qb.prototype,"sendMessage",[Mc],Object.getOwnPropertyDescriptor(Qb.prototype,"sendMessage"),Qb.prototype),Da(Qb.prototype,"getMembers",[jb],Object.getOwnPropertyDescriptor(Qb.prototype,"getMembers"),Qb.prototype),Qb),W,Rb=ta.ConnectionChangeReason,oa=ta.ConnectionState,Vt={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,ABORTED:5},vF={LOGIN:1,LOGIN_SUCCESS:2,LOGIN_FAILURE:3,LOGIN_TIMEOUT:4,INTERRUPTED:5,LOGOUT:6,BANNED_BY_SERVER:7,REMOTE_LOGIN:8,TOKEN_EXPIRED:9},wF=(W=function(e){function t(e,n,i,o){va(this,t);var a=r.call(this,n,"RtmClient",!0);return x(z(a),"connectionState",oa.DISCONNECTED),x(z(a),"internalEmitter",new Ba),x(z(a),"context",void 0),x(z(a),"attributes",{}),x(z(a),"loginPromise",void 0),x(z(a),"attributeDrafts",new Set),x(z(a),"session",void 0),x(z(a),"lastLoginTime",void 0),x(z(a),"reconnId",0),x(z(a),"channelAttributesCacheLru",new Wc(void 0,{maxlen:1e4})),x(z(a),"invitationManager",void 0),x(z(a),"subscribedPeerStatusCache",{}),x(z(a),"pendingPeerStatusSubCount",0),x(z(a),"peerStatusSeqLru",new Wc(void 0,{maxlen:1e4})),x(z(a),"peerUnreachableTimers",{}),x(z(a),"setParameters",void 0),x(z(a),"updateConfig",void 0),x(z(a),"blacklistedIP",{}),x(z(a),"TokenPrivilegeWillExpireHandler",(function(){a.emit("TokenPrivilegeWillExpire")})),x(z(a),"userDropHandler",(function(e){if(a.connectionState!==oa.ABORTED)switch(e){case 2:a.logError("Server banned because of token is expired"),a.onConnectionStateChanged(oa.ABORTED,Rb.TOKEN_EXPIRED),a.emit("TokenExpired");break;case 11:a.logError("Kicked off by remote session"),a.onConnectionStateChanged(oa.ABORTED,Rb.REMOTE_LOGIN);break;case 14:case 15:case 16:a.logError("Server banned because of illegal ".concat({14:"User ID",15:"IP",16:"Channel Name"}[e])),a.onConnectionStateChanged(oa.ABORTED,Rb.BANNED_BY_SERVER);break;default:a.logError("User kicked off for unknown code: ".concat(e)),a.onConnectionStateChanged(oa.ABORTED,Rb.INTERRUPTED)}})),a.context=new xE(e,i,n),a.context.config=i,a.setParameters=o.bind(z(a)),a.updateConfig=o.bind(z(a)),a.invitationManager=new sF((function(){return a.session}),n),a.invitationManager.on("remoteInvitationInstance",(function(e){a.emit("RemoteInvitationReceived",e)})),a.setMaxListeners(512),a.internalEmitter.setMaxListeners(512),a}Ga(t,e);var n,r=Ha(t);return eb(t,[{key:"renewToken",value:(n=ma(N.mark((function e(t){var n,r,i,o,a=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t&&0!==t.length){e.next=2;break}throw new ca("Invalid argument",XB);case 2:if(this.connectionState!==oa.ABORTED){e.next=5;break}return e.next=5,new Promise((function(){}));case 5:if(this.connectionState===oa.CONNECTED||this.connectionState===oa.RECONNECTING){e.next=7;break}throw new da("The client is not logged in",hs);case 7:if(void 0!==this.session){e.next=9;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return e.prev=9,n=this.context.token,this.context.token=t,e.next=14,this.session.connection.apClient.getApEdgeInfo$(!1).pipe($d((function(){return Error("No available edge address to connect")})),Re((function(e){return e.pipe(sa((function(e){if(Na(e))throw e})),Zd(2500),hb(4))})),hb(1),Lb(2e4),ab((function(e){return Ab(e)&&a.warn("renewToken timed out"),ra(e)}))).toPromise();case 14:r=e.sent,i=r.ticket,e.next=27;break;case 18:if(e.prev=18,e.t0=e.catch(9),this.context.token=n,e.t0.code!==as&&e.t0.code!==bs){e.next=23;break}throw new Bf("Invalid token",ZB);case 23:if(e.t0.code!==ti){e.next=25;break}throw new Bf("The token expired",YB);case 25:if(!Ab(e.t0)){e.next=27;break}throw new Ub("Renew token timed out",Ml);case 27:o=this.session,this.session.requestUpdateEdgeTicket(i).toPromise().then((function(e){if(0!==e.code)throw new Ja(["RenewToken failure. The response code is %d",e.code],Ml);o.curLoginSockets.filter((function(e){return void 0!==e})).forEach((function(e){return e.ticket=i}))}));case 29:case"end":return e.stop()}}),e,this,[[9,18]])}))),function(e){return n.apply(this,arguments)})},{key:"queryPeersOnlineStatus",value:function(){var e=ma(N.mark((function e(t){var n,r,i=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===oa.CONNECTED){e.next=2;break}throw new da("The client is not logged in",WB);case 2:if(void 0!==this.session){e.next=4;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!(!Array.isArray(t)||0===t.length||t.some((function(e){return!Ta(e)}))||256<t.length)){e.next=6;break}throw new ca("invalid arguments",gs);case 6:return e.next=8,this.session.requestPeersOnlineStatus(t).toPromise();case 8:return n=e.sent,r=md(tl(n.userInfos,"account"),(function(e){return!!e.ts})),Object.keys(r).forEach((function(e){if(e in i.subscribedPeerStatusCache&&i.subscribedPeerStatusCache[e]!==ta.PeerOnlineState.UNREACHABLE){var t=r[e]?ta.PeerOnlineState.ONLINE:ta.PeerOnlineState.OFFLINE;i.emit("PeersOnlineStatusChanged",x({},e,t)),i.subscribedPeerStatusCache[e]=t}})),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelMemberCount",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o,a,s,c,l,u;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===oa.CONNECTED){e.next=2;break}throw new da("The client is not logged in",HB);case 2:if(void 0!==this.session){e.next=4;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&t.every((function(e){return"string"==typeof e}))&&0!==t.length){e.next=6;break}throw new ca("Invalid arguments: channelIds",Pr);case 6:if(!(32<t.length)){e.next=8;break}throw new ca("getChannelMemberCount exceed limit of 32 channelIds",GB);case 8:n=0;case 9:if(!(n<t.length)){e.next=16;break}if(Ta(r=t[n])){e.next=13;break}throw new ca(["getChannelMemberCount channel id %s is invalid",r],Pr);case 13:n++,e.next=9;break;case 16:return e.next=18,this.session.requestGetChannelMemberCount(t).toPromise();case 18:for(i=e.sent,o=i.groupInfos,a={},s=0;s<o.length;s++)c=o[s],l=c.group,u=c.memberCount,Ta(l)&&"number"==typeof u&&(this.internalEmitter.emit("channelMemberCountUpdated",l,u),a[l]=u);return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLocalUserAttributes",value:function(){var e=ma(N.mark((function e(t){var n,r;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ag({attributes:t,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===oa.CONNECTED){e.next=3;break}throw new da("The client is not logged in",qc);case 3:if(void 0!==this.session){e.next=5;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return n=this.session.requestSetLocalUserAttributes(t).toPromise(),r={attribute:t,promise:n},this.attributeDrafts.add(r),e.prev=8,e.next=11,n;case 11:this.attributes=t,e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(8),!Na(e.t0)){e.next=18;break}throw e.t0;case 18:throw new ca("arguments is not valid",gb);case 19:return e.prev=19,this.attributeDrafts.delete(r),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[8,14,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setChannelAttributes",value:function(){var e=ma(N.mark((function e(t,n){var r,i,o,a,s=arguments;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(2<s.length&&void 0!==s[2]?s[2]:{}).enableNotificationToChannelMembers,i=void 0!==r&&r,ag({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===oa.CONNECTED){e.next=4;break}throw new da("The client is not logged in",qc);case 4:if(void 0!==this.session){e.next=6;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return o=this.session.requestSetChannelAttributes(t,n,i).toPromise(),e.prev=7,e.next=10,o;case 10:a=md(n,(function(e){return new Blob([e]).size})),this.channelAttributesCacheLru.set(t,a),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(7),!Na(e.t0)){e.next=18;break}throw e.t0;case 18:throw new ca("arguments is not valid",gb);case 19:case"end":return e.stop()}}),e,this,[[7,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addOrUpdateLocalUserAttributes",value:function(){var e=ma(N.mark((function e(t){var n,r,i;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Wa(Wa({},this.attributes),t),ag({attributes:t,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),ag({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===oa.CONNECTED){e.next=5;break}throw new da("The client is not logged in",qc);case 5:if(void 0!==this.session){e.next=7;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return r=this.session.requestAddOrUpdateLocalUserAttributes(t).toPromise(),i={attribute:n,promise:r},this.attributeDrafts.add(i),e.prev=10,e.next=13,r;case 13:this.attributes=n,e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(10),!Na(e.t0)){e.next=20;break}throw e.t0;case 20:throw new ca("arguments is not valid",gs);case 21:return e.prev=21,this.attributeDrafts.delete(i),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[10,16,21,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdateChannelAttributes",value:function(){var e=ma(N.mark((function e(t,n){var r,i,o,a,s,c,l=arguments;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(2<l.length&&void 0!==l[2]?l[2]:{}).enableNotificationToChannelMembers,i=void 0!==r&&r,o=this.channelAttributesCacheLru.get(t,{}),a=md(n,(function(e){return new Blob([e]).size})),s=Wa(Wa({},o),a),ag({attributes:n,attrSizeMap:s,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===oa.CONNECTED){e.next=7;break}throw new da("The client is not logged in",qc);case 7:if(void 0!==this.session){e.next=9;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return c=this.session.requestAddOrUpdateChannelAttributes(t,n,i).toPromise(),e.prev=10,e.next=13,c;case 13:this.channelAttributesCacheLru.set(t,s),e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(10),!Na(e.t0)){e.next=20;break}throw e.t0;case 20:throw new ca("arguments is not valid",gb);case 21:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteLocalUserAttributesByKeys",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)&&0!==t.length&&!t.some((function(e){return 0===e.length}))){e.next=2;break}throw new da("arguments is not valid",gb);case 2:if(this.connectionState===oa.CONNECTED){e.next=4;break}throw new da("The client is not logged in",qc);case 4:if(void 0!==this.session){e.next=6;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return n=this.session.requestDeleteLocalUserAttributesByKeys(t).toPromise(),r={attribute:ql(this.attributes,t),promise:n},this.attributeDrafts.add(r),e.prev=9,e.next=12,n;case 12:for(i=0;i<t.length;i++)o=t[i],delete this.attributes[o];e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(9),!Na(e.t0)){e.next=19;break}throw e.t0;case 19:throw new ca("arguments is not valid",gb);case 20:return e.prev=20,this.attributeDrafts.delete(r),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[9,15,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteChannelAttributesByKeys",value:function(){var e=ma(N.mark((function e(t,n){var r,i,o,a,s,c,l=arguments;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(2<l.length&&void 0!==l[2]?l[2]:{}).enableNotificationToChannelMembers,i=void 0!==r&&r,Array.isArray(n)&&0!==n.length&&Ta(t)&&!n.some((function(e){return 0===e.length||512<e.length}))){e.next=3;break}throw new da("arguments is not valid",gb);case 3:if(this.connectionState===oa.CONNECTED){e.next=5;break}throw new da("The client is not logged in",qc);case 5:if(void 0!==this.session){e.next=7;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return o=this.session.requestDeleteChannelAttributesByKeys(t,n,i).toPromise(),e.prev=8,e.next=11,o;case 11:if(a=this.channelAttributesCacheLru.get(t))for(s=0;s<n.length;s++)c=n[s],delete a[c];e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(8),!Na(e.t0)){e.next=19;break}throw e.t0;case 19:throw new ca("arguments is not valid",gb);case 20:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clearLocalUserAttributes",value:function(){var e=ma(N.mark((function e(){var t,n;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===oa.CONNECTED){e.next=2;break}throw new da("The client is not logged in",qc);case 2:if(void 0!==this.session){e.next=4;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return t=this.session.requestClearLocalUserAttributes().toPromise(),n={attribute:{},promise:t},this.attributeDrafts.add(n),e.prev=7,e.next=10,t;case 10:this.attributes={},e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(7),!Na(e.t0)){e.next=17;break}throw e.t0;case 17:throw new ca("arguments is not valid",gb);case 18:return e.prev=18,this.attributeDrafts.delete(n),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[7,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"clearChannelAttributes",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o=arguments;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(1<o.length&&void 0!==o[1]?o[1]:{}).enableNotificationToChannelMembers,r=void 0!==n&&n,this.connectionState===oa.CONNECTED){e.next=3;break}throw new da("The client is not logged in",qc);case 3:if(void 0!==this.session){e.next=5;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return i=this.session.requestClearChannelAttributes(t,r).toPromise(),e.prev=6,e.next=9,i;case 9:this.channelAttributesCacheLru.delete(t),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(6),!Na(e.t0)){e.next=16;break}throw e.t0;case 16:throw new ca("arguments is not valid",gb);case 17:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserAttributes",value:function(){var e=ma(N.mark((function e(t){var n,r,i;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ta(t)){e.next=2;break}throw new ca("Not a valid user ID",gb);case 2:if(this.connectionState===oa.CONNECTED){e.next=4;break}throw new da("The client is not logged in",qc);case 4:if(void 0!==this.session){e.next=6;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return e.prev=6,e.next=9,this.session.requestGetUserAttributeKeys(t).toPromise();case 9:return n=e.sent,r=n.keys,e.next=13,this.session.requestGetUserAttributesByKeys(t,r.slice(0,512)).toPromise();case 13:i=e.sent,e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(6),!Na(e.t0)){e.next=20;break}throw e.t0;case 20:throw new ca("arguments is not valid",gb);case 21:return e.abrupt("return",Zq(i.attributeInfos.map((function(e){return[e.key,e.value]}))));case 22:case"end":return e.stop()}}),e,this,[[6,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelAttributes",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o,a,s,c,l,u,d,h;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ta(t)){e.next=2;break}throw new ca("Not a valid channel ID",gb);case 2:if(this.connectionState===oa.CONNECTED){e.next=4;break}throw new da("The client is not logged in",qc);case 4:if(void 0!==this.session){e.next=6;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return e.prev=6,e.next=9,this.session.requestGetChannelAttributesKeys(t).toPromise();case 9:return n=e.sent,r=n.keys,e.next=13,this.session.requestGetChannelAttributesByKeys(t,r).toPromise();case 13:i=e.sent,o=i.attributeMaps,e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(6),!Na(e.t0)){e.next=21;break}throw e.t0;case 21:throw new ca("arguments is not valid",gb);case 22:a={},s=0;case 24:if(!(s<o.length)){e.next=32;break}if(c=o[s],l=c.key,u=c.ms,d=c.value,h=c.origin,"string"==typeof l&&P.isLong(u)&&"string"==typeof d&&Ta(h)){e.next=28;break}return e.abrupt("break",32);case 28:a[l]={value:d,lastUpdateUserId:h,lastUpdateTs:u.toNumber()};case 29:s++,e.next=24;break;case 32:return this.channelAttributesCacheLru.set(t,md(a,(function(e){return new Blob([e.value]).size}))),e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,this,[[6,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelAttributesByKeys",value:function(){var e=ma(N.mark((function e(t,n){var r,i,o,a,s,c,l,u,d,h;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===oa.CONNECTED){e.next=2;break}throw new da("The client is not logged in",qc);case 2:if(void 0!==this.session){e.next=4;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Qn(t,n),e.prev=5,e.next=8,this.session.requestGetChannelAttributesByKeys(t,n).toPromise();case 8:r=e.sent,i=r.attributeMaps,e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),!Na(e.t0)){e.next=16;break}throw e.t0;case 16:throw new ca("arguments is not valid",gb);case 17:o={},a=this.channelAttributesCacheLru.get(t,{}),s=0;case 20:if(!(s<i.length)){e.next=29;break}if(c=i[s],l=c.key,u=c.ms,d=c.value,h=c.origin,"string"==typeof l&&P.isLong(u)&&"string"==typeof d&&Ta(h)){e.next=24;break}return e.abrupt("break",29);case 24:a[l]=new Blob([d]).size,o[l]={value:d,lastUpdateUserId:h,lastUpdateTs:u.toNumber()};case 26:s++,e.next=20;break;case 29:return this.channelAttributesCacheLru.set(t,a),e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserAttributesByKeys",value:function(){var e=ma(N.mark((function e(t,n){var r;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===oa.CONNECTED){e.next=2;break}throw new da("The client is not logged in",qc);case 2:if(void 0!==this.session){e.next=4;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Qn(t,n),e.prev=5,e.next=8,this.session.requestGetUserAttributesByKeys(t,n).toPromise();case 8:r=e.sent,e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(5),!Na(e.t0)){e.next=15;break}throw e.t0;case 15:throw new ca("arguments is not valid",gb);case 16:return e.abrupt("return",Zq(r.attributeInfos.map((function(e){return[e.key,e.value]}))));case 17:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o,a;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xn(!0),r=nh(),i=t.token,t.token===this.context.appId&&(i=void 0),bb("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:Xa(this.session&&this.session.startTime),index:{index1:t.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},installId:Og,lts:P.fromNumber(Date.now()),os:7,sid:sb(r),token:i||"",userId:t.uid,ver:"1.5.1",buildno:418,subVersion:18,version:4},null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n,!0),De(t)&&Ta(t.uid)){e.next=7;break}throw new ca("not a valid user id",si);case 7:if("string"!=typeof i||!i){e.next=11;break}this.context.token=i,e.next=13;break;case 11:if("string"==typeof i||null==i){e.next=13;break}throw new ca('The "token" is not a valid string.',si);case 13:return o=Date.now(),this.context.sid=sb(r),this.loginPromise=this.loginImpl({uid:t.uid,instanceId:r}),this.info("RTM Client logging in as ".concat(La(t.uid))),e.prev=17,e.next=20,this.loginPromise;case 20:e.next=28;break;case 22:throw e.prev=22,e.t0=e.catch(17),Na(e.t0)&&bb("Link",{ackedServerIp:"",destServerIp:"",ec:e.t0.code||1,sc:e.t0.serverCode,elapse:Xa(this.session&&this.session.startTime),lts:P.fromNumber(Date.now()),responseTime:Date.now()-o,sid:sb(r),userId:t.uid},null!==(a=this.context.config.enableCloudProxy)&&void 0!==a&&a),this.context.token=void 0,this.context.socketUseProxy=!1,e.t0;case 28:return e.prev=28,this.loginPromise=void 0,e.finish(28);case 31:this.context.socketUseProxy&&this.emit("FallbackProxyConnected"),xn(!1);case 33:case"end":return e.stop()}}),e,this,[[17,22,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=ma(N.mark((function e(){var t;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loginPromise){e.next=3;break}return e.next=3,this.loginPromise;case 3:if(this.connectionState!==oa.DISCONNECTED){e.next=6;break}throw this.logError("Already in logout state"),new da("Logout failure. The client has already been logged out",cs);case 6:if(this.internalEmitter.emit("LOGOUT"),this.connectionState!==oa.ABORTED){e.next=11;break}return this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'),this.onConnectionStateChanged(oa.DISCONNECTED,Rb.LOGOUT),e.abrupt("return");case 11:if(void 0!==this.session){e.next=14;break}return this.onConnectionStateChanged(oa.DISCONNECTED,Rb.LOGOUT),e.abrupt("return");case 14:return bb("Logout",{elapse:Xa(this.session.startTime),lts:P.fromNumber(Date.now()),sid:sb(this.session.instanceId),userId:this.context.uid},null!==(t=this.context.config.enableCloudProxy)&&void 0!==t&&t),e.next=17,this.session.logoutHandler();case 17:this.onConnectionStateChanged(oa.DISCONNECTED,Rb.LOGOUT),this.log("Log out success");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var e,t=this;if(this.connectionState===oa.DISCONNECTED)throw this.logError("Already in logout state"),new da("Logout failure. The client has already been logged out",cs);this.connectionState===oa.ABORTED?this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'):void 0!==this.session&&(bb("Logout",{elapse:Xa(this.session.startTime),lts:P.fromNumber(Date.now()),sid:sb(this.session.instanceId),userId:this.context.uid},null!==(e=this.context.config.enableCloudProxy)&&void 0!==e&&e),this.session.logoutHandler().then((function(){t.log("Log out success")}))),this.onConnectionStateChanged(oa.DISCONNECTED,Rb.LOGOUT)}},{key:"sendMessageToPeer",value:function(){var e=ma(N.mark((function e(t,n){var r,i,o=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xn(t,bg),r="TEXT"===t.messageType?Ka.P2pSMsgNoOfflineFlag:Ka.P2pRMsgNoOfflineFlag,this.connectionState!==oa.RECONNECTING){e.next=5;break}return i=Date.now(),e.abrupt("return",new Promise((function(e,a){var s,c=(s=ma(N.mark((function s(){var c;return N.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0!==o.session){s.next=2;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 2:return c=Date.now()-i,s.prev=3,s.t0=e,s.next=7,ph({message:t,peerId:n,toPeer:!0,session:o.session,errorCodes:{NOT_LOGGED_IN:Ll,TOO_OFTEN:es},diff:c,logger:o.logger});case 7:s.t1=s.sent,(0,s.t0)(s.t1),s.next=18;break;case 11:s.prev=11,s.t2=s.catch(3),Ab(s.t2)&&(o.session.emit("messageCount",{messageCategory:r,type:"common",key:"sentcount"}),o.session.emit("messageCount",{messageCategory:r,type:"common",key:"timeoutcount"}),a(new Ub(we(o.name,"sendMessageToPeer",1e4),Kl))),Na(s.t2)&&a(s.t2),o.session.emit("messageCount",{messageCategory:r,type:"common",key:"sentcount"}),o.session.emit("messageCount",{messageCategory:r,type:"common",key:"unknowerrorcount"}),a(new Ja("Peer-to-peer message send failure",{code:ds,originalError:s.t2}));case 18:return s.prev=18,clearTimeout(l),s.finish(18);case 21:case"end":return s.stop()}}),s,null,[[3,11,18,21]])}))),function(){return s.apply(this,arguments)});o.internalEmitter.once("RECONNECTED",c);var l=setTimeout((function(){o.internalEmitter.off("RECONNECTED",c),a(new Ub(we(o.name,"sendMessageToPeer",1e4),Kl))}),9e3)})));case 5:if(this.connectionState===oa.CONNECTED){e.next=7;break}throw new da("Failed to send the peer-to-peer message. The client is not logged in",Ll);case 7:if(void 0!==this.session){e.next=9;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return e.prev=9,e.next=12,ph({message:t,peerId:n,toPeer:!0,session:this.session,errorCodes:{NOT_LOGGED_IN:Ll,TOO_OFTEN:es},diff:0,logger:this.logger});case 12:return e.abrupt("return",e.sent);case 15:if(e.prev=15,e.t0=e.catch(9),!Ab(e.t0)){e.next=21;break}throw this.session.emit("messageCount",{messageCategory:r,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:r,type:"common",key:"timeoutcount"}),new Ub(we(this.name,"sendMessageToPeer",1e4),Kl);case 21:if(!Na(e.t0)){e.next=23;break}throw e.t0;case 23:throw this.session.emit("messageCount",{messageCategory:r,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:r,type:"common",key:"unknowerrorcount"}),new Ja("Peer-to-peer message send failure",{code:ds,originalError:e.t0});case 26:case"end":return e.stop()}}),e,this,[[9,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createChannel",value:function(e){var t=this;if(!Ta(e))throw new ca(["The %s in the arguments is invalid",Object.keys({channelId:e})[0]],FB);return new uF(e,(function(){return t.session}),this,this.logger)}},{key:"createLocalInvitation",value:function(e){if(!Ta(e))throw new ca(["The %s in the arguments is invalid",Object.keys({calleeId:e})[0]],Xc);return this.invitationManager.genLocalInvitation(e)}},{key:"subscribePeersOnlineStatus",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o,a,s,c,l,u,d,h,p,f,m=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===oa.CONNECTED){e.next=2;break}throw new da("The client is not logged in",Nl);case 2:if(void 0!==this.session){e.next=4;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&0!==t.length){e.next=6;break}throw new ca("Invalid arguments: peerIds",Qg);case 6:n=0;case 7:if(!(n<t.length)){e.next=14;break}if(Ta(r=t[n])){e.next=11;break}throw new ca(["subscribePeersOnlineStatus peer id %s is invalid",r],Qg);case 11:n++,e.next=7;break;case 14:if(!(512<(i=t&&t.length?fl(t):[]).length+Object.keys(this.subscribedPeerStatusCache).length+this.pendingPeerStatusSubCount)){e.next=17;break}throw new ic("Subscribed peers overflows",js);case 17:return this.pendingPeerStatusSubCount+=i.length,e.next=20,this.session.requestSubscribePeersOnlineStatus(i).toPromise();case 20:o=e.sent,a=o.errors,this.pendingPeerStatusSubCount-=i.length,s=[],c=[],l=0;case 26:if(!(l<a.length)){e.next=34;break}if(u=a[l],d=u.code,"string"==typeof(h=u.account)){e.next=30;break}throw new Ja("Returned account is invalid",is);case 30:0!==d&&s.push(h);case 31:l++,e.next=26;break;case 34:for(p=0;p<i.length;p++)f=i[p],s.includes(f)||(c.push(f),this.subscribedPeerStatusCache[f]=void 0);if(this.session.requestPeersOnlineStatus(c).pipe(Ea((function(e){return md(tl(e.userInfos,"account"),(function(e){return!!e.ts}))}))).subscribe((function(e){e=md(e,(function(e,t){return e=e?ta.PeerOnlineState.ONLINE:ta.PeerOnlineState.OFFLINE,m.subscribedPeerStatusCache[t]=e})),m.emit("PeersOnlineStatusChanged",e)})),0===s.length){e.next=38;break}throw new Ja("Subscription failed",is);case 38:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribePeersOnlineStatus",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o,a;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===oa.CONNECTED){e.next=2;break}throw new da("The client is not logged in",Nl);case 2:if(void 0!==this.session){e.next=4;break}throw new mb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&0!==t.length){e.next=6;break}throw new ca("Invalid arguments: peerIds",Qg);case 6:n=0;case 7:if(!(n<t.length)){e.next=14;break}if(Ta(r=t[n])){e.next=11;break}throw new ca(["subscribePeersOnlineStatus peer id %s is invalid",r],Qg);case 11:n++,e.next=7;break;case 14:if(!(512<t.length)){e.next=16;break}throw new ic("Unsubscribed peers overflows",js);case 16:for(i=t&&t.length?fl(t):[],this.session.requestUnsubscribePeersOnlineStatus(i),o=0;o<i.length;o++)a=i[o],delete this.subscribedPeerStatusCache[a];case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryPeersBySubscriptionOption",value:function(){var e=ma(N.mark((function e(t){return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===oa.CONNECTED){e.next=2;break}throw new da("The client is not logged in",Nl);case 2:if(t!==ta.PeerSubscriptionOption.ONLINE_STATUS){e.next=4;break}return e.abrupt("return",Object.keys(this.subscribedPeerStatusCache));case 4:throw new ca("Subscription option not supported",Qg);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createMessage",value:function(e){return e}},{key:"loginImpl",value:function(){var e=ma(N.mark((function e(t){var n,r,i,o,a,s,c,l,u=this;return N.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.uid,r=t.instanceId,i=t.forceLoginTime,o=void 0===i?0:i,a=r,!(void 0!==this.lastLoginTime&&500>Date.now()-this.lastLoginTime)){e.next=4;break}throw new bE(["The frequency of login exceeded the limit of %d queries per second",2],UB);case 4:if(this.connectionState===oa.DISCONNECTED||0!==o){e.next=6;break}throw new da("The SDK is either logging in or has logged in the Agora RTM system",SB);case 6:e.prev=6,this.context.uid=n,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(6),new ca(["The %s in the arguments is invalid",Object.keys({uid:n})[0]],si);case 13:return 0===o&&this.onConnectionStateChanged(oa.CONNECTING,Rb.LOGIN),(s=new ct(this.context,this.logger,!1)).blacklistedIP=this.blacklistedIP,this.session=c=new Tt(this.context,s,a,this.logger),l=function(){u.connectionState===oa.CONNECTED&&(u.onConnectionStateChanged(oa.RECONNECTING,Rb.INTERRUPTED),u.session)&&u.session.once("userJoined",(function(){u.onConnectionStateChanged(oa.CONNECTED,Rb.LOGIN_SUCCESS)}))},c.on("connectionLost",l),c.on("tokenExpired",(function(){u.emit("TokenExpired")})),c.on("tokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),c.once("userDrop",this.userDropHandler),this.session.on("peerTextMessage",(function(e){u.emit("MessageFromPeer",{text:e.text,messageType:ta.MessageType.TEXT},e.peerId,e.properties)})),this.session.on("peerRawMessage",(function(e){u.emit("MessageFromPeer",{rawMessage:e.raw,description:e.desc,messageType:ta.MessageType.RAW},e.peerId,e.properties)})),c.on("instanceChanged",(function(e){return a=e})),c.on("peerOnlineStatusChanged",(function(e){var t=e.instance.toString()+e.state,n=u.peerStatusSeqLru.get(t);!n||e.seq.greaterThan(n)?(u.peerStatusSeqLru.set(t,e.seq),e.state!==u.subscribedPeerStatusCache[e.peerId]&&u.emit("PeersOnlineStatusChanged",x({},e.peerId,e.state)),u.subscribedPeerStatusCache[e.peerId]=e.state,clearTimeout(u.peerUnreachableTimers[t]),e.state===ta.PeerOnlineState.UNREACHABLE&&(u.peerUnreachableTimers[t]=setTimeout((function(){u.subscribedPeerStatusCache[e.peerId]===ta.PeerOnlineState.UNREACHABLE&&(u.subscribedPeerStatusCache[e.peerId]=ta.PeerOnlineState.ONLINE,u.emit("PeersOnlineStatusChanged",x({},e.peerId,ta.PeerOnlineState.ONLINE)))}),3e4))):u.log("peerOnlineStatusChanged dedup for %s, %d",t,e.seq.toNumber())})),c.on("invitationMessage",this.invitationManager.invitationMessageHandler.bind(this.invitationManager)),c.on("channelAttributesUpdated",(function(e){var t=e.channelId;e=e.attributeMaps;for(var n={},r=0;r<e.length;r++){var i=e[r],o=i.key,a=i.ms,s=i.value;if(i=i.origin,"string"!=typeof o||!P.isLong(a)||"string"!=typeof s||!Ta(i))break;n[o]=new Blob([s]).size}u.channelAttributesCacheLru.set(t,n)})),c.on("userJoined",(function(e){if(0!==Object.keys(u.attributes).length){if(void 0===u.session)return;u.session.requestSetLocalUserAttributes(u.attributes,e).toPromise()}if(0!==u.attributeDrafts.size)for(var t=function(t,n){var r=(t=n[t]).attribute;t.promise.then((function(){void 0!==u.session&&u.session.requestSetLocalUserAttributes(r,e).toPromise()}))},n=0,r=Array.from(u.attributeDrafts);n<r.length;n++)t(n,r);0!==Object.keys(u.subscribedPeerStatusCache).length&&c.requestSubscribePeersOnlineStatus(Object.keys(u.subscribedPeerStatusCache))})),c.on("banEdgeIP",(function(e){u.banIP(e)})),this.lastLoginTime=Date.now(),e.prev=32,e.next=35,c.loginHandler().toPromise();case 35:e.next=53;break;case 37:if(e.prev=37,e.t1=e.catch(32),!("loginRespTimeout"===e.t1.name&&2>o)){e.next=46;break}return c.removeAllListeners(),e.next=43,this.loginImpl({uid:n,instanceId:r,forceLoginTime:o+1});case 43:return e.abrupt("return");case 46:if(!Ab(e.t1)){e.next=49;break}throw this.onConnectionStateChanged(oa.DISCONNECTED,Rb.LOGIN_TIMEOUT),new Ub(we(this.name,"login",12e3),TB);case 49:if(this.onConnectionStateChanged(oa.DISCONNECTED,Rb.LOGIN_FAILURE),!Na(e.t1)){e.next=52;break}throw e.t1;case 52:throw new Ja("Login failure",{code:$r,originalError:e.t1});case 53:this.onConnectionStateChanged(oa.CONNECTED,Rb.LOGIN_SUCCESS);case 54:case"end":return e.stop()}}),e,this,[[6,10],[32,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onConnectionStateChanged",value:function(e,t){var n,r=this;e===oa.RECONNECTING&&(this.reconnId+=1),bb("ConnectionStateChange",{elapse:Xa(this.session&&this.session.startTime),lts:P.fromNumber(Date.now()),newState:Vt[e],oldState:Vt[this.connectionState],reason:vF[t],sid:sb(this.session&&this.session.instanceId||P.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n),this.connectionState===oa.RECONNECTING&&e===oa.CONNECTED&&(0!==Object.keys(this.subscribedPeerStatusCache).length&&void 0!==this.session&&this.session.requestPeersOnlineStatus(Object.keys(this.subscribedPeerStatusCache)).pipe(Ea((function(e){return md(tl(e.userInfos,"account"),(function(e){return!!e.ts}))}))).subscribe((function(e){e=md(e,(function(e,t){return e=e?ta.PeerOnlineState.ONLINE:ta.PeerOnlineState.OFFLINE,r.subscribedPeerStatusCache[t]=e})),r.emit("PeersOnlineStatusChanged",e)})),this.internalEmitter.emit("RECONNECTED")),this.connectionState=e,e!==oa.ABORTED&&e!==oa.DISCONNECTED||(this.pendingPeerStatusSubCount=this.reconnId=0,this.attributes={},this.session&&(this.session.removeAllListeners(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.channelAttributesCacheLru.empty(),this.peerStatusSeqLru.empty(),this.peerUnreachableTimers={},this.subscribedPeerStatusCache={},this.attributeDrafts.clear(),this.context.token=void 0),this.emit("ConnectionStateChanged",e,t)}},{key:"banIP",value:function(e){var t;this.log("ip banned",e);var n=null!==(t=this.blacklistedIP[e])&&void 0!==t?t:0;this.blacklistedIP[e]=n+1}}]),t}(sc()),Da(W.prototype,"renewToken",[jb],Object.getOwnPropertyDescriptor(W.prototype,"renewToken"),W.prototype),Da(W.prototype,"queryPeersOnlineStatus",[jb],Object.getOwnPropertyDescriptor(W.prototype,"queryPeersOnlineStatus"),W.prototype),Da(W.prototype,"getChannelMemberCount",[jb],Object.getOwnPropertyDescriptor(W.prototype,"getChannelMemberCount"),W.prototype),Da(W.prototype,"setLocalUserAttributes",[jb],Object.getOwnPropertyDescriptor(W.prototype,"setLocalUserAttributes"),W.prototype),Da(W.prototype,"setChannelAttributes",[jb],Object.getOwnPropertyDescriptor(W.prototype,"setChannelAttributes"),W.prototype),Da(W.prototype,"addOrUpdateLocalUserAttributes",[jb],Object.getOwnPropertyDescriptor(W.prototype,"addOrUpdateLocalUserAttributes"),W.prototype),Da(W.prototype,"addOrUpdateChannelAttributes",[jb],Object.getOwnPropertyDescriptor(W.prototype,"addOrUpdateChannelAttributes"),W.prototype),Da(W.prototype,"deleteLocalUserAttributesByKeys",[jb],Object.getOwnPropertyDescriptor(W.prototype,"deleteLocalUserAttributesByKeys"),W.prototype),Da(W.prototype,"deleteChannelAttributesByKeys",[jb],Object.getOwnPropertyDescriptor(W.prototype,"deleteChannelAttributesByKeys"),W.prototype),Da(W.prototype,"clearLocalUserAttributes",[Mc],Object.getOwnPropertyDescriptor(W.prototype,"clearLocalUserAttributes"),W.prototype),Da(W.prototype,"clearChannelAttributes",[jb],Object.getOwnPropertyDescriptor(W.prototype,"clearChannelAttributes"),W.prototype),Da(W.prototype,"getUserAttributes",[jb],Object.getOwnPropertyDescriptor(W.prototype,"getUserAttributes"),W.prototype),Da(W.prototype,"getChannelAttributes",[jb],Object.getOwnPropertyDescriptor(W.prototype,"getChannelAttributes"),W.prototype),Da(W.prototype,"getChannelAttributesByKeys",[jb],Object.getOwnPropertyDescriptor(W.prototype,"getChannelAttributesByKeys"),W.prototype),Da(W.prototype,"getUserAttributesByKeys",[jb],Object.getOwnPropertyDescriptor(W.prototype,"getUserAttributesByKeys"),W.prototype),Da(W.prototype,"login",[Mc],Object.getOwnPropertyDescriptor(W.prototype,"login"),W.prototype),Da(W.prototype,"logout",[Mc],Object.getOwnPropertyDescriptor(W.prototype,"logout"),W.prototype),Da(W.prototype,"logoutSync",[Mc],Object.getOwnPropertyDescriptor(W.prototype,"logoutSync"),W.prototype),Da(W.prototype,"sendMessageToPeer",[jb],Object.getOwnPropertyDescriptor(W.prototype,"sendMessageToPeer"),W.prototype),Da(W.prototype,"createChannel",[jb],Object.getOwnPropertyDescriptor(W.prototype,"createChannel"),W.prototype),Da(W.prototype,"createLocalInvitation",[jb],Object.getOwnPropertyDescriptor(W.prototype,"createLocalInvitation"),W.prototype),Da(W.prototype,"subscribePeersOnlineStatus",[jb],Object.getOwnPropertyDescriptor(W.prototype,"subscribePeersOnlineStatus"),W.prototype),Da(W.prototype,"unsubscribePeersOnlineStatus",[jb],Object.getOwnPropertyDescriptor(W.prototype,"unsubscribePeersOnlineStatus"),W.prototype),Da(W.prototype,"queryPeersBySubscriptionOption",[jb],Object.getOwnPropertyDescriptor(W.prototype,"queryPeersBySubscriptionOption"),W.prototype),Da(W.prototype,"createMessage",[Mc],Object.getOwnPropertyDescriptor(W.prototype,"createMessage"),W.prototype),W),rm,sm,tm,um,Wt=null===(rm=/Chrome\/([0-9.]+)/.exec(null===(tm=window)||void 0===tm||null===(um=tm.navigator)||void 0===um?void 0:um.userAgent))||void 0===rm||null===(sm=rm[1])||void 0===sm?void 0:sm.split(".")[0];if(Wt&&88<=parseInt(Wt,10)&&!Ce()){var vm,ze=document.createElement("video"),Ae=document.createElement("canvas");ze.setAttribute("style","display:none"),ze.setAttribute("muted",""),ze.muted=!0,ze.setAttribute("autoplay",""),ze.autoplay=!0,ze.setAttribute("playsinline",""),Ae.setAttribute("style","display:none"),Ae.setAttribute("width","1"),Ae.setAttribute("height","1"),null===(vm=Ae.getContext("2d"))||void 0===vm||vm.fillRect(0,0,1,1),ze.srcObject=null==Ae?void 0:Ae.captureStream()}var Xt={LOG_FILTER_OFF:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARNING:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},Yt={enableLogUpload:!1,logFilter:Xt.LOG_FILTER_INFO,enableCloudProxy:!1},ue=Wa(Wa({createInstance:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(!/^[\dA-Za-z]{32}$/.test(e))throw new ca(["The %s in the arguments is invalid",Object.keys({appId:e})[0]],Or);var r=Object.keys(t).filter((function(e){return!(e in Yt)}));if(0!==r.length)throw new ca("Invalid RTM config: ".concat(r.join(", ")),Or);var i=Wa(Wa({},Yt),t);if(void 0!==n&&(!Array.isArray(n)||0===n.length))throw new ca("Invalid area config");if(null!=n){if(!n.every((function(e){return e in ta.LegacyAreaCode})))throw new ca("Invalid area codes: ".concat(n.filter((function(e){return!(e in ta)})).join(", ")));fa=Ve(n.map((function(e){return dE[e]})))}n=Tl=Ya.__global_unique_id__=(Ya.__global_unique_id__||0)+1;var o=iE(i);r=jE(i);var a=kE(i),s=lE(n,i),c=Xs(n,i),l=c("RTM:DEBUG","<Entry> ");return Qs.rtmConfig=i,o("The Agora RTM Web SDK version is %s","1.5.1"),t.enableCloudProxy&&o("RTM cloud proxy enabled"),t.enableLogUpload&&o("Log upload enabled"),fa&&l("Area is set to %s",Array.from(fa.CODES).map((function(e){return Yf(S).find((function(t){return S[t]===e}))})).join(", ")),l("Creating an RtmClient instance"),l('The Git commit ID is "'.concat("v1.5.1-0-g5bbbcd72",'"')),l("The App ID is %s",Yn(e,4,10,"*".repeat(6))),o("The process ID is %s",Og),l("The build is %s","v1.5.1-0-g5bbbcd72"),l("NODE_ENV is %s","production"),new wF(e,{genLogger:c,genTracker:s,info:o,warn:r,logError:a,loggerId:n},i,(function(e){for(var t=0,n=Yf(e);t<n.length;t++){var r=n[t];try{var a=e[r];null!=a&&(e.enableCloudProxy&&o("RTM cloud proxy enabled"),e.enableLogUpload&&o("Log upload enabled"),i[r]=a)}catch(e){throw new ca(["The %s in the arguments is invalid",r],void 0)}}}))},BUILD:"v1.5.1-0-g5bbbcd72",VERSION:"1.5.1",END_CALL_PREFIX:"AgoraRTMLegacyEndcallCompatibleMessagePrefix",processId:Og,ConnectionChangeReason:ta.ConnectionChangeReason,ConnectionState:ta.ConnectionState,LocalInvitationFailureReason:ta.LocalInvitationFailureReason,LocalInvitationState:ta.LocalInvitationState,RemoteInvitationFailureReason:ta.RemoteInvitationFailureReason,RemoteInvitationState:ta.RemoteInvitationState,MessageType:ta.MessageType,PeerOnlineState:ta.PeerOnlineState,PeerSubscriptionOption:ta.PeerSubscriptionOption},Xt),{},{setParameter:function(e,t){Object.keys(Ec).includes(e)&&(Ec[e]=t)},getParameter:function(e){return Ec[e]},setArea:function(e){var t=e.areaCodes;if(e=e.excludedArea,!Array.isArray(t)||0===t.length||!t.every((function(e){return e in ta.AreaCode})))throw new ca("Invalid area config");if(void 0!==e&&e===ta.AreaCode.GLOBAL)throw new ca("Excluded area cannot be global");if(void 0===e)fa=Ve(t.map((function(e){return S[e]})));else{if(t.includes(e))throw new ca("Excluded area cannot be in areaCodes");if(!(e in S))throw new ca("Invalid excludedArea:",e);fa=Gv({areas:t.map((function(e){return S[e]})),excludedArea:S[e]})}}});return ue},module.exports=t()},4887:(e,t,n)=>{"use strict";var r=n(4492),i=(r.roots.default||(r.roots.default=new r.Root)).addJSON({agora:{nested:{audio2text:{options:{java_package:"io.agora.rtc.audio2text",java_outer_classname:"Audio2TextProtobuffer"},nested:{Text:{fields:{vendor:{type:"int32",id:1},version:{type:"int32",id:2},seqnum:{type:"int32",id:3},uid:{type:"uint32",id:4},flag:{type:"int32",id:5},time:{type:"int64",id:6},lang:{type:"int32",id:7},starttime:{type:"int32",id:8},offtime:{type:"int32",id:9},words:{rule:"repeated",type:"Word",id:10}}},Word:{fields:{text:{type:"string",id:1},startMs:{type:"int32",id:2},durationMs:{type:"int32",id:3},isFinal:{type:"bool",id:4},confidence:{type:"double",id:5}}}}}}}});e.exports=i},216:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return e.filter((function(t,n){return e.lastIndexOf(t)===n}))}function a(e){for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;++t){var s=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var c in s){var l=s[c],u=e[c];if(u&&l){if(Array.isArray(u)){e[c]=o(u.concat(l));continue}if(Array.isArray(l)){e[c]=o([u].concat(function(e){if(Array.isArray(e))return i(e)}(d=l)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(d)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));continue}if("object"===r(l)){e[c]=a({},u,l);continue}}e[c]=l}}var d;return e}n.r(t),n.d(t,{assignStyle:()=>a,camelCaseProperty:()=>d,cssifyDeclaration:()=>f,cssifyObject:()=>m,hyphenateProperty:()=>p,isPrefixedProperty:()=>g,isPrefixedValue:()=>b,isUnitlessProperty:()=>k,normalizeProperty:()=>P,resolveArrayValue:()=>D,unprefixProperty:()=>x,unprefixValue:()=>M});var s=/-([a-z])/g,c=/^Ms/g,l={};function u(e){return e[1].toUpperCase()}function d(e){if(l.hasOwnProperty(e))return l[e];var t=e.replace(s,u).replace(c,"ms");return l[e]=t,t}var h=n(5477);function p(e){return(0,h.default)(e)}function f(e,t){return p(e)+":"+t}function m(e){var t="";for(var n in e){var r=e[n];"string"!=typeof r&&"number"!=typeof r||(t&&(t+=";"),t+=f(n,r))}return t}var v=/^(Webkit|Moz|O|ms)/;function g(e){return v.test(e)}var y=/-webkit-|-moz-|-ms-/;function b(e){return"string"==typeof e&&y.test(e)}var E={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],S=["Webkit","ms","Moz","O"];function A(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}for(var w=0,T=_.length;w<T;++w){var C=_[w];E[C]=!0;for(var R=0,I=S.length;R<I;++R)E[A(S[R],C)]=!0}for(var O in E)E[p(O)]=!0;function k(e){return E.hasOwnProperty(e)}var N=/^(ms|Webkit|Moz|O)/;function x(e){var t=e.replace(N,"");return t.charAt(0).toLowerCase()+t.slice(1)}function P(e){return x(d(e))}function D(e,t){return t.join(";"+p(e)+":")}var L=/(-ms-|-webkit-|-moz-|-o-)/g;function M(e){return"string"==typeof e?e.replace(L,""):e}},6238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var r,i=(r=n(5477))&&r.__esModule?r:{default:r}},638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/},1008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(3626),c=n.n(s),l=new URL(n(8234),n.b),u=a()(i());u.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap);"]);var d=c()(l);u.push([e.id,"@font-face {\n  font-family: 'icomoon';\n  src: url("+d+') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n[class^="icon-"], [class*=" icon-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'icomoon\' !important;\n  speak: never;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.icon-captions:before {\n  content: "\\e941";\n  color: #fff;\n}\n.icon-captions-off:before {\n  content: "\\e958";\n  color: #fff;\n}\n.icon-view-last:before {\n  content: "\\e95c";\n  color: #fff;\n}\n.icon-download:before {\n  content: "\\e959";\n  color: #fff;\n}\n.icon-transcript-stop:before {\n  content: "\\e95a";\n  color: #fff;\n}\n.icon-transcript:before {\n  content: "\\e95b";\n  color: #fff;\n}\n.icon-search:before {\n  content: "\\e945";\n  color: #808080;\n}\n.icon-lang-select:before {\n  content: "\\e942";\n  color: #fff;\n}\n.icon-globe:before {\n  content: "\\e944";\n  color: #808080;\n}\n.icon-down-arrow:before {\n  content: "\\e93f";\n  color: #fff;\n}\n.icon-caption-mode:before {\n  content: "\\e93c";\n  color: #fff;\n}\n.icon-stt:before {\n  content: "\\e93d";\n  color: #fff;\n}\n.icon-transcript-mode:before {\n  content: "\\e93e";\n  color: #fff;\n}\n.icon-demote-filled:before {\n  content: "\\e912";\n  color: #fafafa;\n}\n.icon-demote-outlined:before {\n  content: "\\e922";\n  color: #fafafa;\n}\n.icon-active-speaker:before {\n  content: "\\e903";\n  color: #099dfd;\n}\n.icon-alert:before {\n  content: "\\e924";\n  color: #ff414d;\n}\n.icon-arrow-down:before {\n  content: "\\e900";\n}\n.icon-arrow-up:before {\n  content: "\\e901";\n}\n.icon-back-btn:before {\n  content: "\\e902";\n}\n.icon-chat-filled:before {\n  content: "\\e904";\n  color: #c5c5c5;\n}\n.icon-chat-nav:before {\n  content: "\\e907";\n}\n.icon-chat-outlined:before {\n  content: "\\e910";\n  color: #c5c5c5;\n}\n.icon-check:before {\n  content: "\\e905";\n  color: #29c157;\n}\n.icon-clipboard:before {\n  content: "\\e906";\n}\n.icon-close:before {\n  content: "\\e908";\n}\n.icon-collapse:before {\n  content: "\\e913";\n  color: #fff;\n}\n.icon-connection-bad:before {\n  content: "\\e909";\n  color: #ffab00;\n}\n.icon-connection-good:before {\n  content: "\\e90a";\n  color: #29c157;\n}\n.icon-connection-loading:before {\n  content: "\\e90b";\n  color: #b3b3b3;\n}\n.icon-connection-unpublished:before {\n  content: "\\e90c";\n  color: #b3b3b3;\n}\n.icon-connection-unsupported:before {\n  content: "\\e90d";\n  color: #b3b3b3;\n}\n.icon-connection-very-bad:before {\n  content: "\\e90e";\n  color: #ff414d;\n}\n.icon-downside-triangle:before {\n  content: "\\e936";\n  color: #555;\n}\n.icon-end-call:before {\n  content: "\\e90f";\n}\n.icon-expand:before {\n  content: "\\e923";\n  color: #fff;\n}\n.icon-grid:before {\n  content: "\\e947";\n  color: #fff;\n}\n.icon-info:before {\n  content: "\\e911";\n}\n.icon-link-share:before {\n  content: "\\e93b";\n  color: #099dfd;\n}\n.icon-list-view:before {\n  content: "\\e914";\n}\n.icon-lower-hand:before {\n  content: "\\e915";\n  color: #099dfd;\n}\n.icon-mic-off:before {\n  content: "\\e916";\n}\n.icon-mic-off-filled:before {\n  content: "\\e948";\n  color: #c5c5c5;\n}\n.icon-mic-off-outlined:before {\n  content: "\\e949";\n  color: #c5c5c5;\n}\n.icon-mic-on:before {\n  content: "\\e917";\n}\n.icon-mic-on-filled:before {\n  content: "\\e94a";\n  color: #c5c5c5;\n}\n.icon-mic-on-outlined:before {\n  content: "\\e94b";\n  color: #c5c5c5;\n}\n.icon-more-menu:before {\n  content: "\\e918";\n}\n.icon-no-cam .path1:before {\n  content: "\\e919";\n  color: rgb(143, 143, 143);\n}\n.icon-no-cam .path2:before {\n  content: "\\e91a";\n  margin-left: -1em;\n  color: rgb(255, 171, 0);\n}\n.icon-no-cam .path3:before {\n  content: "\\e91b";\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-no-cam .path4:before {\n  content: "\\e91c";\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-no-mic .path1:before {\n  content: "\\e91d";\n  color: rgb(143, 143, 143);\n}\n.icon-no-mic .path2:before {\n  content: "\\e91e";\n  margin-left: -1em;\n  color: rgb(255, 171, 0);\n}\n.icon-no-mic .path3:before {\n  content: "\\e91f";\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-no-mic .path4:before {\n  content: "\\e920";\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-participants:before {\n  content: "\\e926";\n  color: #fff;\n}\n.icon-pencil-filled:before {\n  content: "\\e940";\n}\n.icon-pencil-outlined:before {\n  content: "\\e957";\n}\n.icon-people:before {\n  content: "\\e946";\n  color: #777;\n}\n.icon-person:before {\n  content: "\\e921";\n  color: #808080;\n}\n.icon-pin-filled:before {\n  content: "\\e94c";\n  color: #c5c5c5;\n}\n.icon-pin-outlined:before {\n  content: "\\e94d";\n  color: #c5c5c5;\n}\n.icon-pinned:before {\n  content: "\\e94e";\n  color: #fff;\n}\n.icon-profile .path1:before {\n  content: "\\e937";\n  color: rgb(0, 0, 0);\n}\n.icon-profile .path2:before {\n  content: "\\e938";\n  margin-left: -1em;\n  color: rgb(9, 157, 253);\n}\n.icon-profile .path3:before {\n  content: "\\e939";\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-profile .path4:before {\n  content: "\\e93a";\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-promote-filled:before {\n  content: "\\e94f";\n  color: #fafafa;\n}\n.icon-promote-outlined:before {\n  content: "\\e950";\n  color: #fafafa;\n}\n.icon-raise-hand:before {\n  content: "\\e927";\n  color: #099dfd;\n}\n.icon-recording:before {\n  content: "\\e928";\n}\n.icon-remove:before {\n  content: "\\e929";\n}\n.icon-remove-meeting:before {\n  content: "\\e943";\n  color: #e7414c;\n}\n.icon-screen-share:before {\n  content: "\\e92a";\n}\n.icon-send:before {\n  content: "\\e92b";\n}\n.icon-settings:before {\n  content: "\\e92c";\n}\n.icon-share:before {\n  content: "\\e92d";\n}\n.icon-speaker:before {\n  content: "\\e925";\n  color: #808080;\n}\n.icon-stop-recording:before {\n  content: "\\e92e";\n  color: #ff414d;\n}\n.icon-stop-screen-share:before {\n  content: "\\e92f";\n}\n.icon-switch-camera:before {\n  content: "\\e930";\n}\n.icon-tick:before {\n  content: "\\e932";\n}\n.icon-tick-fill:before {\n  content: "\\e931";\n  color: #36b37e;\n}\n.icon-unpin-filled:before {\n  content: "\\e951";\n  color: #d9d9d9;\n}\n.icon-unpin-outlined:before {\n  content: "\\e952";\n  color: #d9d9d9;\n}\n.icon-video-off:before {\n  content: "\\e933";\n}\n.icon-video-off-filled:before {\n  content: "\\e953";\n  color: #c5c5c5;\n}\n.icon-video-off-outlined:before {\n  content: "\\e954";\n  color: #c5c5c5;\n}\n.icon-video-on:before {\n  content: "\\e934";\n}\n.icon-video-on-filled:before {\n  content: "\\e955";\n  color: #c5c5c5;\n}\n.icon-video-on-outlined:before {\n  content: "\\e956";\n  color: #c5c5c5;\n}\n.icon-video-plus:before {\n  content: "\\e935";\n}\n',""]);const h=u},5094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,'\n  :root {\n    --rsbs-backdrop-bg: rgba(0, 0, 0, 0.6);\n    --rsbs-bg: #fff;\n    --rsbs-handle-bg: hsla(0, 0%, 0%, 0.14);\n    --rsbs-max-w: auto;\n    --rsbs-ml: env(safe-area-inset-left);\n    --rsbs-mr: env(safe-area-inset-right);\n    --rsbs-overlay-rounded: 16px;\n    --handleColor: $config.PRIMARY_ACTION_BRAND_COLOR;\n  }\n\n \n  [data-rsbs-overlay] {\n    border-top-left-radius: var(--rsbs-overlay-rounded);\n    border-top-right-radius: var(--rsbs-overlay-rounded);\n    display: flex;\n    background: var(--sheet-background); /* var(--rsbs-bg);*/\n    flex-direction: column;\n    height: var(--rsbs-overlay-h);\n    transform: translate3d(0, var(--rsbs-overlay-translate-y), 0);\n    will-change: height;\n  }\n  \n  [data-rsbs-overlay]:focus {\n    outline: none;\n  }\n  [data-rsbs-is-blocking="false"] [data-rsbs-overlay] {\n    box-shadow: 0 -5px 60px 0 rgba(38, 89, 115, 0.11),\n      0 -1px 0 rgba(38, 89, 115, 0.05);\n  }\n  [data-rsbs-overlay],\n  [data-rsbs-root]:after {\n    max-width: var(--rsbs-max-w);\n    margin-left: var(--rsbs-ml);\n    margin-right: var(--rsbs-mr);\n  }\n  [data-rsbs-overlay],\n  [data-rsbs-backdrop],\n  [data-rsbs-root]:after {\n    z-index: 3;\n    overscroll-behavior: none;\n    touch-action: none;\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n  }\n  [data-rsbs-backdrop] {\n    top: -60px;\n    bottom: -60px;\n    background-color: var(--rsbs-backdrop-bg);\n    will-change: opacity;\n    cursor: pointer;\n    opacity: 1;\n  }\n  [data-rsbs-is-dismissable="false"] [data-rsbs-backdrop] {\n    cursor: ns-resize;\n  }\n  \n  [data-rsbs-root]:after {\n    content: "";\n    pointer-events: none;\n    background: var(--rsbs-bg);\n    height: 1px;\n    transform-origin: bottom;\n    transform: scale3d(1, var(--rsbs-antigap-scale-y), 1);\n    will-change: transform;\n  }\n  [data-rsbs-footer],\n  [data-rsbs-header] {\n    flex-shrink: 0;\n    cursor: ns-resize;\n   \n  }\n  [data-rsbs-header] {\n    text-align: center;\n    user-select: none;\n    box-shadow: 0 1px 0\n      rgba(46, 59, 66, calc(var(--rsbs-content-opacity) * 0.125));\n    z-index: 1;\n   /* padding-top: calc(20px + env(safe-area-inset-top));\n    padding-bottom: 16px; */\n  \n  }\n  [data-rsbs-header]:before {\n    /* position: absolute;\n    content: "";\n    display: block;\n    width: 36px;\n    height: 4px;\n    top: calc(8px + env(safe-area-inset-top));\n    left: 50%;\n    transform: translateX(-50%);\n    border-radius: 2px; */\n    background-color: var(--handle-background); /*var(--rsbs-handle-bg); */\n  }\n  @media (min-resolution: 2dppx) {\n    [data-rsbs-header]:before {\n      transform: translateX(-50%) scaleY(0.75);\n    }\n  }\n  [data-rsbs-has-header="false"] [data-rsbs-header] {\n    box-shadow: none;\n    padding-top: calc(12px + env(safe-area-inset-top));\n  }\n  \n  [data-rsbs-scroll] {\n    flex-shrink: 1;\n    flex-grow: 1;\n    -webkit-tap-highlight-color: revert;\n    -webkit-touch-callout: revert;\n    -webkit-user-select: auto;\n    -ms-user-select: auto;\n    user-select: auto;\n    overflow: hidden;\n    overscroll-behavior: contain;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  [data-rsbs-state="opening"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n\n  [data-rsbs-state="open"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n  [data-rsbs-state="dragging"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n  [data-rsbs-state="snapping"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n\n\n',""]);const s=a},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},3626:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},6729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||i&&!s[c].once||r&&s[c].context!==r)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},4414:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3242),a=n(5076);t.backOff=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=o.getSanitizedOptions(t),[4,new s(e,n).execute()];case 1:return[2,r.sent()]}}))}))};var s=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}}))}))},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}}))}))},e}()},9966:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n(1617).Delay);t.AlwaysDelay=o},1617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6755),i=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise((function(t){return setTimeout(t,e.jitteredDelay)}))},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return r.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){var e=this.options.startingDelay,t=this.options.timeMultiple,n=this.numOfDelayedAttempts,r=e*Math.pow(t,n);return Math.min(r,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}();t.Delay=i},5076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1954),i=n(9966);t.DelayFactory=function(e,t){var n=function(e){return e.delayFirstAttempt?new i.AlwaysDelay(e):new r.SkipFirstDelay(e)}(e);return n.setAttemptNumber(t),n}},1954:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.apply=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]}))}))},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(n(1617).Delay);t.SkipFirstDelay=s},9813:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullJitter=function(e){var t=Math.random()*e;return Math.round(t)}},6755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9813),i=n(478);t.JitterFactory=function(e){return"full"===e.jitter?r.fullJitter:i.noJitter}},478:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noJitter=function(e){return e}},3242:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};t.getSanitizedOptions=function(e){var t=n(n({},r),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}},139:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},3759:e=>{"use strict";e.exports=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return String(r[a++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},3620:(e,t,n)=>{"use strict";var r=n(139);e.exports=r},8233:(e,t,n)=>{var r,i=n(4114);"undefined"!=typeof window&&(r=window.AudioContext||window.webkitAudioContext);var o=null;e.exports=function(e,t){var n=new i;if(!r)return n;var a,s,c,l=(t=t||{}).smoothing||.1,u=t.interval||50,d=t.threshold,h=t.play,p=t.history||10,f=!0;o=t.audioContext||o||new r,(c=o.createAnalyser()).fftSize=512,c.smoothingTimeConstant=l,s=new Float32Array(c.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(a=o.createMediaElementSource(e),void 0===h&&(h=!0),d=d||-50):(a=o.createMediaStreamSource(e),d=d||-50),a.connect(c),h&&c.connect(o.destination),n.speaking=!1,n.suspend=function(){return o.suspend()},n.resume=function(){return o.resume()},Object.defineProperty(n,"state",{get:function(){return o.state}}),o.onstatechange=function(){n.emit("state_change",o.state)},n.setThreshold=function(e){d=e},n.setInterval=function(e){u=e},n.stop=function(){f=!1,n.emit("volume_change",-100,d),n.speaking&&(n.speaking=!1,n.emit("stopped_speaking")),c.disconnect(),a.disconnect()},n.speakingHistory=[];for(var m=0;m<p;m++)n.speakingHistory.push(0);var v=function(){setTimeout((function(){if(f){var e=function(e,t){var n=-1/0;e.getFloatFrequencyData(t);for(var r=4,i=t.length;r<i;r++)t[r]>n&&t[r]<0&&(n=t[r]);return n}(c,s);n.emit("volume_change",e,d);var t=0;if(e>d&&!n.speaking){for(var r=n.speakingHistory.length-3;r<n.speakingHistory.length;r++)t+=n.speakingHistory[r];t>=2&&(n.speaking=!0,n.emit("speaking"))}else if(e<d&&n.speaking){for(r=0;r<n.speakingHistory.length;r++)t+=n.speakingHistory[r];0==t&&(n.speaking=!1,n.emit("stopped_speaking"))}n.speakingHistory.shift(),n.speakingHistory.push(0+(e>d)),v()}}),u)};return v(),n}},8679:(e,t,n)=>{"use strict";var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=h(n,g);try{l(t,g,y)}catch(e){}}}}return t}},6103:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case v:case m:case c:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===E||e.$$typeof===g)},t.typeOf=_},1296:(e,t,n)=>{"use strict";e.exports=n(6103)},5477:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}const s=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,a);return o[e]=i.test(t)?"-"+t:t}},9668:(e,t,n)=>{"use strict";t.Z=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var c in s){var l=s[c];if((0,a.default)(l))s[c]=e(l);else if(Array.isArray(l)){for(var u=[],d=0,h=l.length;d<h;++d){var p=(0,i.default)(n,c,l[d],s,t);(0,o.default)(u,p||l[d])}u.length>0&&(s[c]=u)}else{var f=(0,i.default)(n,c,l,s,t);f&&(s[c]=f),s=(0,r.default)(t,c,s)}}return s}};var r=s(n(7351)),i=s(n(5158)),o=s(n(382)),a=s(n(1568));function s(e){return e&&e.__esModule?e:{default:e}}},1505:(e,t)=>{"use strict";t.Z=function(){return null}},7951:(e,t,n)=>{"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("cross-fade("))return o.map((function(e){return t.replace(i,e+"cross-fade(")}))};var r=n(216),i=/cross-fade\(/g,o=["-webkit-",""]},1385:(e,t)=>{"use strict";t.Z=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},9432:(e,t,n)=>{"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("filter("))return o.map((function(e){return t.replace(i,e+"filter(")}))};var r=n(216),i=/filter\(/g,o=["-webkit-",""]},3716:(e,t,n)=>{"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=(r=n(638))&&r.__esModule?r:{default:r},o=["-webkit-",""]},109:(e,t)=>{"use strict";t.Z=function(e,t,r){if(Object.prototype.hasOwnProperty.call(n,e))for(var i=n[e],o=0,a=i.length;o<a;++o)r[i[o]]=t};var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},2564:(e,t)=>{"use strict";t.Z=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},2758:(e,t)=>{"use strict";t.Z=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},6327:(e,t,n)=>{"use strict";t.Z=function(e,t,n,a){if("string"==typeof t&&s.hasOwnProperty(e)){var l=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=n.length;o<a;++o){var s=n[o],l=[s];for(var u in t){var d=(0,r.default)(u);if(s.indexOf(d)>-1&&"order"!==d)for(var h=t[u],p=0,f=h.length;p<f;++p)l.unshift(s.replace(d,c[h[p]]+d))}n[o]=l.join(",")}return n.join(",")}(t,a),u=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return u;var d=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,o.default)(e)]=u,n["Moz"+(0,o.default)(e)]=d,l)}};var r=a(n(6238)),i=a(n(638)),o=a(n(2045));function a(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},c={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},382:(e,t)=>{"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}},2045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},1568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},7351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e[t];if(r&&n.hasOwnProperty(t))for(var o=(0,i.default)(t),a=0;a<r.length;++a){var s=r[a]+o;n[s]||(n[s]=n[t])}return n};var r,i=(r=n(2045))&&r.__esModule?r:{default:r}},5158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,n,r,i);if(s)return s}}},5826:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},8337:(e,t,n)=>{"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===i(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},c={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},l="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|ÑÑ".split("|");function d(e){var t=e.re=n(6066)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(l),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var c=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===i(n))return"[object RegExp]"!==i(n.validate)?o(n.validate)?r.validate=n.validate:u(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(o(n.normalize)?r.normalize=n.normalize:n.normalize?u(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(n)?u(t,n):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><ï½]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><ï½]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function h(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function p(e,t){var n=new h(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function f(e,t){if(!(this instanceof f))return new f(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},c,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},d(this)}f.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},f.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},f.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,o,a,s,c;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},f.prototype.pretest=function(e){return this.re.pretest.test(e)},f.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},f.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(p(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(p(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},f.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},f.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},f.prototype.onCompile=function(){},e.exports=f},6066:(e,t,n)=>{"use strict";e.exports=function(e){var t={};t.src_Any=n(9369).source,t.src_Cc=n(9413).source,t.src_Z=n(5045).source,t.src_P=n(3189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><ï½]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><ï½]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><ï½]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><ï½]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+t.src_ZPCc+"))((?![$+<=>^`|ï½])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+t.src_ZPCc+"))((?![$+<=>^`|ï½])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},3122:e=>{"use strict";var t={};function n(e,r){var i;return"string"!=typeof r&&(r=n.defaultChars),i=function(e){var n,r,i=t[e];if(i)return i;for(i=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),i.push(r);for(n=0;n<e.length;n++)i[r=e.charCodeAt(n)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return i}(r),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,n,r,o,a,s,c,l="";for(t=0,n=e.length;t<n;t+=3)(r=parseInt(e.slice(t+1,t+3),16))<128?l+=i[r]:192==(224&r)&&t+3<n&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(l+=(c=r<<6&1984|63&o)<128?"ï¿½ï¿½":String.fromCharCode(c),t+=3):224==(240&r)&&t+6<n&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&a))?(l+=(c=r<<12&61440|o<<6&4032|63&a)<2048||c>=55296&&c<=57343?"ï¿½ï¿½ï¿½":String.fromCharCode(c),t+=6):240==(248&r)&&t+9<n&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&a)&&128==(192&s))?((c=r<<18&1835008|o<<12&258048|a<<6&4032|63&s)<65536||c>1114111?l+="ï¿½ï¿½ï¿½ï¿½":(c-=65536,l+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):l+="ï¿½";return l}))}n.defaultChars=";/?:@&=+$,#",n.componentChars="",e.exports=n},729:e=>{"use strict";var t={};function n(e,r,i){var o,a,s,c,l,u="";for("string"!=typeof r&&(i=r,r=n.defaultChars),void 0===i&&(i=!0),l=function(e){var n,r,i=t[e];if(i)return i;for(i=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),/^[0-9a-z]$/i.test(r)?i.push(r):i.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2));for(n=0;n<e.length;n++)i[e.charCodeAt(n)]=e[n];return i}(r),o=0,a=e.length;o<a;o++)if(s=e.charCodeAt(o),i&&37===s&&o+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))u+=e.slice(o,o+3),o+=2;else if(s<128)u+=l[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<a&&(c=e.charCodeAt(o+1))>=56320&&c<=57343){u+=encodeURIComponent(e[o]+e[o+1]),o++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[o]);return u}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},2201:e=>{"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",(t+=e.search||"")+(e.hash||"")}},8765:(e,t,n)=>{"use strict";e.exports.encode=n(729),e.exports.decode=n(3122),e.exports.format=n(2201),e.exports.parse=n(9553)},9553:e=>{"use strict";function t(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var n=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),a=["'"].concat(o),s=["%","/","?",";","#"].concat(a),c=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};t.prototype.parse=function(e,t){var r,o,a,p,f,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var v=i.exec(m);if(v)return this.pathname=v[1],v[2]&&(this.search=v[2]),this}var g=n.exec(m);if(g&&(a=(g=g[0]).toLowerCase(),this.protocol=g,m=m.substr(g.length)),(t||g||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(f="//"===m.substr(0,2))||g&&d[g]||(m=m.substr(2),this.slashes=!0)),!d[g]&&(f||g&&!h[g])){var y,b,E=-1;for(r=0;r<c.length;r++)-1!==(p=m.indexOf(c[r]))&&(-1===E||p<E)&&(E=p);for(-1!==(b=-1===E?m.lastIndexOf("@"):m.lastIndexOf("@",E))&&(y=m.slice(0,b),m=m.slice(b+1),this.auth=y),E=-1,r=0;r<s.length;r++)-1!==(p=m.indexOf(s[r]))&&(-1===E||p<E)&&(E=p);-1===E&&(E=m.length),":"===m[E-1]&&E--;var _=m.slice(0,E);m=m.slice(E),this.parseHost(_),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S){var A=this.hostname.split(/\./);for(r=0,o=A.length;r<o;r++){var w=A[r];if(w&&!w.match(l)){for(var T="",C=0,R=w.length;C<R;C++)w.charCodeAt(C)>127?T+="x":T+=w[C];if(!T.match(l)){var I=A.slice(0,r),O=A.slice(r+1),k=w.match(u);k&&(I.push(k[1]),O.unshift(k[2])),O.length&&(m=O.join(".")+m),this.hostname=I.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var N=m.indexOf("#");-1!==N&&(this.hash=m.substr(N),m=m.slice(0,N));var x=m.indexOf("?");return-1!==x&&(this.search=m.substr(x),m=m.slice(0,x)),m&&(this.pathname=m),h[a]&&this.hostname&&!this.pathname&&(this.pathname=""),this},t.prototype.parseHost=function(e){var t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,n){if(e&&e instanceof t)return e;var r=new t;return r.parse(e,n),r}},942:function(e,t,n){"use strict";const r=n(9727),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,a=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),s=this,c={concatArrays:!1,ignoreUndefined:!1},l=e=>{const t=[];for(const n in e)i.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)o.call(e,r)&&t.push(r)}return t};function u(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return l(e).forEach((n=>{a(t,n,u(e[n]))})),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return l(e).forEach((n=>{a(t,n,u(e[n]))})),t}(e):e}const d=(e,t,n,r)=>(n.forEach((n=>{void 0===t[n]&&r.ignoreUndefined||(n in e&&e[n]!==Object.getPrototypeOf(e)?a(e,n,p(e[n],t[n],r)):a(e,n,u(t[n])))})),e),h=(e,t,n)=>{let r=e.slice(0,0),o=0;return[e,t].forEach((t=>{const s=[];for(let n=0;n<t.length;n++)i.call(t,n)&&(s.push(String(n)),a(r,o++,t===e?t[n]:u(t[n])));r=d(r,t,l(t).filter((e=>!s.includes(e))),n)})),r};function p(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?h(e,t,n):r(t)&&r(e)?d(e,t,l(t),n):u(t)}e.exports=function(...e){const t=p(u(c),this!==s&&this||{},c);let n={_:{}};for(const i of e)if(void 0!==i){if(!r(i))throw new TypeError("`"+i+"` is not an Option Object");n=p(n,{_:i},t)}return n._}},9727:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},6126:(e,t,n)=>{const{webm:r,mp4:i}=n(642),o=()=>"undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,a=()=>"wakeLock"in navigator;e.exports=class{constructor(){if(this.enabled=!1,a()){this._wakeLock=null;const e=()=>{null!==this._wakeLock&&"visible"===document.visibilityState&&this.enable()};document.addEventListener("visibilitychange",e),document.addEventListener("fullscreenchange",e)}else o()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",r),this._addSourceToVideo(this.noSleepVideo,"mp4",i),this.noSleepVideo.addEventListener("loadedmetadata",(()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",(()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}))})))}_addSourceToVideo(e,t,n){var r=document.createElement("source");r.src=n,r.type=`video/${t}`,e.appendChild(r)}get isEnabled(){return this.enabled}enable(){return a()?navigator.wakeLock.request("screen").then((e=>{this._wakeLock=e,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",(()=>{console.log("Wake Lock released.")}))})).catch((e=>{throw this.enabled=!1,console.error(`${e.name}, ${e.message}`),e})):o()?(this.disable(),console.warn("\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      "),this.noSleepTimer=window.setInterval((()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))}),15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then((e=>(this.enabled=!0,e))).catch((e=>{throw this.enabled=!1,e}))}disable(){a()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):o()?this.noSleepTimer&&(console.warn("\n          NoSleep now disabled for older iOS devices.\n        "),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}},642:e=>{e.exports={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}},4357:e=>{"use strict";function t(e,t){if(null!=e)return e;var n=new Error(void 0!==t?t:"Got unexpected "+e);throw n.framesToPop=1,n}e.exports=t,e.exports.default=t,Object.defineProperty(e.exports,"__esModule",{value:!0})},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},4779:(e,t,n)=>{var r=n(5826);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return u(new RegExp("(?:"+i.join("|")+")",d(r)),n)}(t,n,i):function(e,t,n){return h(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,h)s+=h[1];else{var f=e[a],m=n[2],v=n[3],g=n[4],y=n[5],b=n[6],E=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=f&&f!==m,S="+"===b||"*"===b,A="?"===b||"*"===b,w=n[2]||u,T=g||y;r.push({name:v||o++,prefix:m||"",delimiter:w,optional:A,repeat:S,partial:_,asterisk:!!E,pattern:T?l(T):E?".*":"[^"+c(w)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},c=(i||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!=typeof u){var d,h=s[u.name];if(null==h){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(d=c(h[p]),!n[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(h),!n[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a+=c(l);else{var h=c(l.prefix),p="(?:"+l.pattern+")";t.push(l),l.repeat&&(p+="(?:"+h+p+")*"),a+=p=l.optional?l.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var f=c(n.delimiter||"/"),m=a.slice(-f.length)===f;return i||(a=(m?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+f+"|$)",u(new RegExp("^"+a,d(n)),t)}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4492:(e,t,n)=>{"use strict";e.exports=n(8836)},3996:(e,t,n)=>{"use strict";var r=t,i=n(7025),o=n(9935);function a(e,t,n,r){var o=!1;if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var a=t.resolvedType.values,s=Object.keys(a),c=0;c<s.length;++c)a[s[c]]!==t.typeDefault||o||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),t.repeated||e("break"),o=!0),e("case%j:",s[c])("case %i:",a[s[c]])("m%s=%j",r,a[s[c]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,l)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function s(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,n,r,r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,o?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var s=t[r].resolve(),c=o.safeProp(s.name);s.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),a(n,s,r,c+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),a(n,s,r,c+"[i]")("}")("}")):(s.resolvedType instanceof i||n("if(d%s!=null){",c),a(n,s,r,c),s.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var n=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],a=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?r:t[l].map?a:c).push(t[l]);if(r.length){for(n("if(o.arrays||o.defaults){"),l=0;l<r.length;++l)n("d%s=[]",o.safeProp(r[l].name));n("}")}if(a.length){for(n("if(o.objects||o.defaults){"),l=0;l<a.length;++l)n("d%s={}",o.safeProp(a[l].name));n("}")}if(c.length){for(n("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],d=o.safeProp(u.name);if(u.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",d,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var h="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",d,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else n("d%s=%j",d,u.typeDefault)}n("}")}var p=!1;for(l=0;l<t.length;++l){u=t[l];var f=e._fieldsArray.indexOf(u);d=o.safeProp(u.name),u.map?(p||(p=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),s(n,u,f,d+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),s(n,u,f,d+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",d,u.name),s(n,u,f,d),u.partOf&&n("if(o.oneofs)")("d%s=%j",o.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},5305:(e,t,n)=>{"use strict";e.exports=function(e){var t=o.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var s=e._fieldsArray[n].resolve(),c=s.resolvedType instanceof r?"int32":s.type,l="m"+o.safeProp(s.name);t("case %i: {",s.id),s.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[s.keyType]?t("k=%j",i.defaults[s.keyType]):t("k=null"),void 0!==i.defaults[c]?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),void 0===i.basic[c]?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==i.long[s.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):s.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===i.basic[c]?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,c)):void 0===i.basic[c]?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,c),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var u=e._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",a(u))}return t("return m")};var r=n(7025),i=n(7063),o=n(9935);function a(e){return"missing required '"+e.name+"'"}},4928:(e,t,n)=>{"use strict";e.exports=function(e){for(var t,n=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(o.compareFieldsById),c=0;c<s.length;++c){var l=s[c].resolve(),u=e._fieldsArray.indexOf(l),d=l.resolvedType instanceof r?"int32":l.type,h=i.basic[d];t="m"+o.safeProp(l.name),l.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),void 0===h?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,d,t),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==i.packed[d]?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),void 0===h?a(n,l,u,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|h)>>>0,d,t)),n("}")):(l.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),void 0===h?a(n,l,u,t):n("w.uint32(%i).%s(%s)",(l.id<<3|h)>>>0,d,t))}return n("return w")};var r=n(7025),i=n(7063),o=n(9935);function a(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},7025:(e,t,n)=>{"use strict";e.exports=a;var r=n(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="Enum";var i=n(9313),o=n(9935);function a(e,t,n,i,o,a){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.valuesOptions=a,this.reserved=void 0,t)for(var s=Object.keys(t),c=0;c<s.length;++c)"number"==typeof t[s[c]]&&(this.valuesById[this.values[s[c]]=t[s[c]]]=s[c])}a.fromJSON=function(e,t){var n=new a(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,n,r){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return r&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=r||null),this.comments[e]=n||null,this},a.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},a.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},3548:(e,t,n)=>{"use strict";e.exports=l;var r=n(3243);((l.prototype=Object.create(r.prototype)).constructor=l).className="Field";var i,o=n(7025),a=n(7063),s=n(9935),c=/^required|optional|repeated$/;function l(e,t,n,i,o,l,u){if(s.isObject(i)?(u=o,l=i,i=o=void 0):s.isObject(o)&&(u=l,l=o,o=void 0),r.call(this,e,l),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(n))throw TypeError("type must be a string");if(void 0!==i&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!s.isString(o))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=n,this.id=t,this.extend=o||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==a.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},l.d=function(e,t,n,r){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(i,o){s.decorateType(i.constructor).add(new l(o,e,t,n,{default:r}))}},l._configure=function(e){i=e}},8836:(e,t,n)=>{"use strict";var r=e.exports=n(9482);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=n(4928),r.decoder=n(5305),r.verifier=n(4497),r.converter=n(3996),r.ReflectionObject=n(3243),r.Namespace=n(9313),r.Root=n(9424),r.Enum=n(7025),r.Type=n(7645),r.Field=n(3548),r.OneOf=n(7598),r.MapField=n(6039),r.Service=n(7513),r.Method=n(4429),r.Message=n(8368),r.wrappers=n(1667),r.types=n(7063),r.util=n(9935),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},9482:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=i,i()},6039:(e,t,n)=>{"use strict";e.exports=a;var r=n(3548);((a.prototype=Object.create(r.prototype)).constructor=a).className="MapField";var i=n(7063),o=n(9935);function a(e,t,n,i,a,s){if(r.call(this,e,t,i,void 0,void 0,a,s),!o.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},a.d=function(e,t,n){return"function"==typeof n?n=o.decorateType(n).name:n&&"object"==typeof n&&(n=o.decorateEnum(n).name),function(r,i){o.decorateType(r.constructor).add(new a(i,e,t,n))}}},8368:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},4429:(e,t,n)=>{"use strict";e.exports=o;var r=n(3243);((o.prototype=Object.create(r.prototype)).constructor=o).className="Method";var i=n(9935);function o(e,t,n,o,a,s,c,l,u){if(i.isObject(a)?(c=a,a=s=void 0):i.isObject(s)&&(c=s,s=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!a||void 0,this.responseType=o,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=u}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},9313:(e,t,n)=>{"use strict";e.exports=d;var r=n(3243);((d.prototype=Object.create(r.prototype)).constructor=d).className="Namespace";var i,o,a,s=n(3548),c=n(9935),l=n(7598);function u(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function d(e,t){r.call(this,e,t),this.nested=void 0,this._nestedArray=null}function h(e){return e._nestedArray=null,e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=u,d.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},d.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),d.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",u(this.nestedArray,e)])},d.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?o.fromJSON:void 0!==t.id?s.fromJSON:d.fromJSON)(n[r],t));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof i||e instanceof l||e instanceof a||e instanceof o||e instanceof d))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof d&&e instanceof d)||t instanceof i||t instanceof o)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),h(this)},d.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},d.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof d))throw Error("path conflicts with non-namespace objects")}else n.add(n=new d(r))}return t&&n.addJSON(t),n},d.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this.resolve()},d.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof d&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof d&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},d.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,n){i=e,o=t,a=n}},3243:(e,t,n)=>{"use strict";e.exports=o,o.className="ReflectionObject";var r,i=n(9935);function o(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},o.prototype.getOption=function(e){if(this.options)return this.options[e]},o.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},o.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var o=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(o){var a=o[e];i.setProperty(a,n,t)}else(o={})[e]=i.setProperty({},n,t),r.push(o)}else{var s={};s[e]=t,r.push(s)}return this},o.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o._configure=function(e){r=e}},7598:(e,t,n)=>{"use strict";e.exports=a;var r=n(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="OneOf";var i=n(3548),o=n(9935);function a(e,t,n,i){if(Array.isArray(t)||(n=t,t=void 0),r.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}s(this)},a.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){o.decorateType(t.constructor).add(new a(n,e)),Object.defineProperty(t,n,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},1408:(e,t,n)=>{"use strict";e.exports=c;var r,i=n(9693),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function h(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,n);if(t===n){var r=i.Buffer;return r?r.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=o;var r=n(1408);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(9693);function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},9424:(e,t,n)=>{"use strict";e.exports=d;var r=n(9313);((d.prototype=Object.create(r.prototype)).constructor=d).className="Root";var i,o,a,s=n(3548),c=n(7025),l=n(7598),u=n(9935);function d(e){r.call(this,"",e),this.deferred=[],this.files=[]}function h(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=u.path.resolve,d.prototype.fetch=u.fetch,d.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=void 0);var i=this;if(!r)return u.asPromise(e,i,t,n);var s=r===h;function c(e,t){if(r){var n=r;if(r=null,s)throw e;n(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in a)return n}return null}function d(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){o.filename=e;var r,a=o(t,i,n),d=0;if(a.imports)for(;d<a.imports.length;++d)(r=l(a.imports[d])||i.resolvePath(e,a.imports[d]))&&p(r);if(a.weakImports)for(d=0;d<a.weakImports.length;++d)(r=l(a.weakImports[d])||i.resolvePath(e,a.weakImports[d]))&&p(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}s||f||c(null,i)}function p(e,t){if(e=l(e)||e,!(i.files.indexOf(e)>-1))if(i.files.push(e),e in a)s?d(e,a[e]):(++f,setTimeout((function(){--f,d(e,a[e])})));else if(s){var n;try{n=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}d(e,n)}else++f,i.fetch(e,(function(n,o){--f,r&&(n?t?f||c(null,i):c(n):d(e,o))}))}var f=0;u.isString(t)&&(t=[t]);for(var m,v=0;v<t.length;++v)(m=i.resolvePath("",t[v]))&&p(m);if(s)return i;f||c(null,i)},d.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,h)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function f(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.get(r.name)||(r.declaringField=t,t.extensionField=r,n.add(r)),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||f(0,e)||this.deferred.push(e);else if(e instanceof c)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof i)for(var t=0;t<this.deferred.length;)f(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);p.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);p.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,n){i=e,o=t,a=n}},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:(e,t,n)=>{"use strict";e.exports=s;var r=n(9313);((s.prototype=Object.create(r.prototype)).constructor=s).className="Service";var i=n(4429),o=n(9935),a=n(5994);function s(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),o=0;o<r.length;++o)n.add(i.fromJSON(r[o],t.methods[r[o]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return o.toObject(["options",t&&t.options||void 0,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var r,i=new a.Service(e,t,n),s=0;s<this.methodsArray.length;++s){var c=o.lcFirst((r=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[c]=o.codegen(["r","c"],o.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},7645:(e,t,n)=>{"use strict";e.exports=y;var r=n(9313);((y.prototype=Object.create(r.prototype)).constructor=y).className="Type";var i=n(7025),o=n(7598),a=n(3548),s=n(6039),c=n(7513),l=n(8368),u=n(1408),d=n(1173),h=n(9935),p=n(4928),f=n(5305),m=n(4497),v=n(3996),g=n(1667);function y(e,t){r.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,l,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:h.oneOfGetter(this._oneofsArray[n].oneof),set:h.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),y.generateConstructor=function(e){for(var t,n=h.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",h.safeProp(t.name)):t.repeated&&n("this%s=[]",h.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(e,t){var n=new y(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var l=Object.keys(t.fields),u=0;u<l.length;++u)n.add((void 0!==t.fields[l[u]].keyType?s.fromJSON:a.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)n.add(o.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var d=t.nested[l[u]];n.add((void 0!==d.id?a.fromJSON:void 0!==d.fields?y.fromJSON:void 0!==d.values?i.fromJSON:void 0!==d.methods?c.fromJSON:r.fromJSON)(l[u],d))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},y.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return h.toObject(["options",t&&t.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):r.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return r.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:h}),this.decode=f(this)({Reader:u,types:t,util:h}),this.verify=m(this)({types:t,util:h}),this.fromObject=v.fromObject(this)({types:t,util:h}),this.toObject=v.toObject(this)({types:t,util:h});var r=g[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){h.decorateType(t,e)}}},7063:(e,t,n)=>{"use strict";var r=t,i=n(9935),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var n=0,r={};for(t|=0;n<e.length;)r[o[n+t]]=e[n++];return r}r.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=a([0,0,0,1,1],7),r.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:(e,t,n)=>{"use strict";var r,i,o=e.exports=n(9693),a=n(5054);o.codegen=n(5124),o.fetch=n(9054),o.path=n(8626),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},o.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];void 0!==i&&(t[r]=i)}return t};var s=/\\/g,c=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(s,"\\\\").replace(c,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(o.decorateRoot.remove(e.$type),e.$type.name=t,o.decorateRoot.add(e.$type)),e.$type;r||(r=n(7645));var i=new r(t||e.name);return o.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var u=0;o.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=n(7025));var t=new i("Enum"+u++,e);return o.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},o.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var i=n.shift();if("__proto__"===i||"prototype"===i)return t;if(n.length>0)t[i]=e(t[i]||{},n,r);else{var o=t[i];o&&(r=[].concat(o).concat(r)),t[i]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(o,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(n(9424)))}})},1945:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},4497:(e,t,n)=>{"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var r=0;r<e.fieldsArray.length;++r){var c=e._fieldsArray[r].resolve(),l="m"+i.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",o(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),a(t,c,r,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",o(c,"array"))("for(var i=0;i<%s.length;++i){",l),a(t,c,r,l+"[i]")("}");else{if(c.partOf){var u=i.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",u)}a(t,c,r,l)}c.optional&&t("}")}return t("return null")};var r=n(7025),i=n(9935);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(t,"buffer"))}return e}function s(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",o(t,"boolean key"))}return e}},1667:(e,t,n)=>{"use strict";var r=t,i=n(8368);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(r);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName),a["@type"]=r,a}return this.toObject(e,t)}}},1173:(e,t,n)=>{"use strict";e.exports=d;var r,i=n(9693),o=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function p(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function v(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(v,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(v,4,t.lo)._push(v,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(g,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=h(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=o;var r=n(1173);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(9693);function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(3840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return V(e.type,!1);case 11:return V(e.type.render,!1);case 1:return V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case A:return"Fragment";case S:return"Portal";case T:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case k:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return z(e(t))}catch(e){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ae=null,we=null;function Te(e){if(e=bi(e)){if("function"!=typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Ce(e){Ae?we?we.push(e):we=[e]:Ae=e}function Re(){if(Ae){var e=Ae,t=we;if(we=Ae=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Oe(){}var ke=!1;function Ne(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ie(e,t,n)}finally{ke=!1,(null!==Ae||null!==we)&&(Oe(),Re())}}function xe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Le(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,o,a,s,c){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ze=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2,lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!=(o&=a)&&(r=dt(o))}else 0!=(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0==(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function Et(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var _t,St,At,wt,Tt,Ct=!1,Rt=[],It=null,Ot=null,kt=null,Nt=new Map,xt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&St(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Tt(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ee=r,n.target.dispatchEvent(r),Ee=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&Ut(It)&&(It=null),null!==Ot&&Ut(Ot)&&(Ot=null),null!==kt&&Ut(kt)&&(kt=null),Nt.forEach(jt),xt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Rt.length){Bt(Rt[0],e);for(var n=1;n<Rt.length;n++){var r=Rt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Ot&&Bt(Ot,e),null!==kt&&Bt(kt,e),Nt.forEach(t),xt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var Gt=E.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=1,Zt(e,t,n,r)}finally{bt=i,Gt.transition=o}}function Wt(e,t,n,r){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=4,Zt(e,t,n,r)}finally{bt=i,Gt.transition=o}}function Zt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,i),!0;case"mouseover":return kt=Mt(kt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xt.set(o,Mt(xt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Yt(e,t,n,r))&&Hr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,$t=null;function en(){if($t)return $t;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=F({},ln,{view:0,detail:0}),hn=on(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(F({},pn,{dataTransfer:0})),vn=on(F({},dn,{relatedTarget:0})),gn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),En=on(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Tn(){return wn}var Cn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=on(Cn),In=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),kn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=on(Nn),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Zn=null;function Kn(e){Ur(e,0)}function Yn(e){if(Z(Ei(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"==typeof er.oninput}Xn=$n}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Zn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Zn)){var t=[];qn(t,Zn,e,_e(e)),Ne(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Zn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==K(r)||(r="selectionStart"in(r=vr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ar={},wr={};function Tr(e){if(Ar[e])return Ar[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return Ar[e]=n[t];return e}u&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Tr("animationend"),Rr=Tr("animationiteration"),Ir=Tr("animationstart"),Or=Tr("transitionend"),kr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){kr.set(e,t),c(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Dr=Nr[Pr];xr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}xr(Cr,"onAnimationEnd"),xr(Rr,"onAnimationIteration"),xr(Ir,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Or,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,l){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=c}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=_e(n),a=[];e:{var s=kr.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Rn;break;case"focusin":l="focus",c=vn;break;case"focusout":l="blur",c=vn;break;case"beforeblur":case"afterblur":c=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=On;break;case Cr:case Rr:case Ir:c=gn;break;case Or:c=kn;break;case"scroll":c=hn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=In}var u=0!=(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&null!=(m=xe(f,h))&&u.push(qr(f,m,p))),d)break;f=f.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ee||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[fi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:Ei(c),p=null==l?s:Ei(l),(s=new u(m,f+"leave",c,n,i)).target=d,s.relatedTarget=p,m=null,yi(i)===r&&((u=new u(h,f+"enter",l,n,i)).target=p,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,f=0,p=u=c;p;p=Zr(p))f++;for(p=0,m=h;m;m=Zr(m))p++;for(;0<f-p;)u=Zr(u),f--;for(;0<p-f;)h=Zr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Zr(u),h=Zr(h)}u=null}else u=null;null!==c&&Kr(a,s,c,u,!1),null!==l&&null!==d&&Kr(a,d,l,u,!0)}if("select"===(c=(s=r?Ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Qn;else if(Hn(s))if(Jn)v=ar;else{v=ir;var g=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?qn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?Ei(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Er(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(g=Wr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:g}),(y||null!==(y=Bn(n)))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),$t=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Wr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Ur(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=xe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=xe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=xe(n,o))&&a.unshift(qr(n,c,s)):i||null!=(c=xe(n,o))&&a.push(qr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,vi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[pi]||null}var Si=[],Ai=-1;function wi(e){return{current:e}}function Ti(e){0>Ai||(e.current=Si[Ai],Si[Ai]=null,Ai--)}function Ci(e,t){Ai++,Si[Ai]=e.current,e.current=t}var Ri={},Ii=wi(Ri),Oi=wi(!1),ki=Ri;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ri;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xi(e){return null!=e.childContextTypes}function Pi(){Ti(Oi),Ti(Ii)}function Di(e,t,n){if(Ii.current!==Ri)throw Error(o(168));Ci(Ii,t),Ci(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,G(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,ki=Ii.current,Ci(Ii,e),Ci(Oi,Oi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,Ti(Oi),Ti(Ii),Ci(Ii,e)):Ti(Oi),Ci(Oi,n)}var Ui=null,ji=!1,Vi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ze($e,zi),t}finally{bt=t,Vi=!1}}return null}var Gi=[],Hi=0,qi=null,Wi=0,Zi=[],Ki=0,Yi=null,Qi=1,Ji="";function Xi(e,t){Gi[Hi++]=Wi,Gi[Hi++]=qi,qi=e,Wi=t}function $i(e,t,n){Zi[Ki++]=Qi,Zi[Ki++]=Ji,Zi[Ki++]=Yi,Yi=e;var r=Qi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Ji=o+e}else Qi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),$i(e,1,0))}function to(e){for(;e===qi;)qi=Gi[--Hi],Gi[Hi]=null,Wi=Gi[--Hi],Gi[Hi]=null;for(;e===Yi;)Yi=Zi[--Ki],Zi[Ki]=null,Ji=Zi[--Ki],Zi[Ki]=null,Qi=Zi[--Ki],Zi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=xl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=xl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=li(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var vo=E.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=wi(null),bo=null,Eo=null,_o=null;function So(){_o=Eo=bo=null}function Ao(e){var t=yo.current;Ti(yo),e._currentValue=t}function wo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){bo=e,_o=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Es=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===bo)throw Error(o(308));Eo=e,bo.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Ro=null;function Io(e){null===Ro?Ro=[e]:Ro.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,ko(e,r)}function ko(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Oc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ko(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,ko(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;No=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?o=l:a.next=l,a=c;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c)}if(null!==o){var d=i.baseState;for(a=0,u=l=c=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=m.payload)?f.call(p,d,h):f))break e;d=F({},d,h);break e;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=p,c=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fc|=a,e.lanes=a,e.memoizedState=d}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function Bo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Do(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rl(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Do(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rl(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Do(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rl(t,e,r,n),Mo(t,e,r))}};function Go(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&cr(n,r)&&cr(i,o))}function Ho(e,t,n){var r=!1,i=Ri,o=t.contextType;return"object"==typeof o&&null!==o?o=Co(o):(i=xi(t)?ki:Ii.current,o=(r=null!=(r=t.contextTypes))?Ni(e,i):Ri),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,xo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Co(o):(o=xi(t)?ki:Ii.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Zo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===A?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===x&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Zo(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Zo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Zo(e,null,t),n.return=e,n;case S:return(t=jl(t,e.mode,n)).return=e,t;case x:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case x:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function m(i,o,s,c){for(var l=null,u=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,m),null===u?l=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(i,d),io&&Xi(i,m),l;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],c))&&(o=a(d,o,m),null===u?l=d:u.sibling=d,u=d);return io&&Xi(i,m),l}for(d=r(i,d);m<s.length;m++)null!==(v=f(d,i,m,s[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===u?l=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),l}function v(i,s,c,l){var u=L(c);if("function"!=typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),io&&Xi(i,v),u;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return io&&Xi(i,v),u}for(m=r(i,m);!y.done;v++,y=c.next())null!==(y=f(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,v),u}return function e(r,o,a,c){if("object"==typeof a&&null!==a&&a.type===A&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var l=a.key,u=o;null!==u;){if(u.key===l){if((l=a.type)===A){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===x&&Yo(l)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Zo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===A?((o=Ml(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Ll(a.type,a.key,a.props,null,r.mode,c)).ref=Zo(r,o,a),c.return=r,r=c)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jl(a,r.mode,c)).return=r,r=o}return s(r);case x:return e(r,o,(u=a._init)(a._payload),c)}if(te(a))return m(r,o,a,c);if(L(a))return v(r,o,a,c);Ko(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Ul(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var Jo=Qo(!0),Xo=Qo(!1),$o={},ea=wi($o),ta=wi($o),na=wi($o);function ra(e){if(e===$o)throw Error(o(174));return e}function ia(e,t){switch(Ci(na,t),Ci(ta,e),Ci(ea,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),Ci(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ce(t,e.type);t!==n&&(Ci(ta,e),Ci(ea,n))}function sa(e){ta.current===e&&(Ti(ea),Ti(ta))}var ca=wi(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=E.ReactCurrentDispatcher,pa=E.ReactCurrentBatchConfig,fa=0,ma=null,va=null,ga=null,ya=!1,ba=!1,Ea=0,_a=0;function Sa(){throw Error(o(321))}function Aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,i,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:cs,e=n(r,i),ba){a=0;do{if(ba=!1,Ea=0,25<=a)throw Error(o(301));a+=1,ga=va=null,t.updateQueue=null,ha.current=ls,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==va&&null!==va.next,fa=0,ga=va=ma=null,ya=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==Ea;return Ea=0,e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?ma.memoizedState=ga=e:ga=ga.next=e,ga}function Ra(){if(null===va){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ga?ma.memoizedState:ga.next;if(null!==t)ga=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ga?ma.memoizedState=ga=e:ga=ga.next=e}return ga}function Ia(e,t){return"function"==typeof t?t(e):t}function Oa(e){var t=Ra(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,l=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,s=r):l=l.next=h,ma.lanes|=d,Fc|=d}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(Es=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Fc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=Ra(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(Es=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function xa(e,t){var n=ma,r=Ra(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,Es=!0),r=r.queue,Ha(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,ja(9,Da.bind(null,n,r,i,t),void 0,null),null===kc)throw Error(o(349));0!=(30&fa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Fa(e)}function La(e,t,n){return n((function(){Ma(t)&&Fa(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Fa(e){var t=ko(e,1);null!==t&&rl(t,e,1,-1)}function Ua(e){var t=Ca();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ra().memoizedState}function Ba(e,t,n,r){var i=Ca();ma.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ra();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Aa(r,a.deps))return void(i.memoizedState=ja(t,n,o,r))}ma.flags|=e,i.memoizedState=ja(1|t,n,o,r)}function Ga(e,t){return Ba(8390656,8,e,t)}function Ha(e,t){return za(2048,8,e,t)}function qa(e,t){return za(4,2,e,t)}function Wa(e,t){return za(4,4,e,t)}function Za(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!=n?n.concat([e]):null,za(4,4,Za.bind(null,t,e),n)}function Ya(){}function Qa(e,t){var n=Ra();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ra();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0==(21&fa)?(e.baseState&&(e.baseState=!1,Es=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Fc|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{bt=n,pa.transition=r}}function es(){return Ra().memoizedState}function ts(e,t,n){var r=nl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e)?is(t,n):null!==(n=Oo(e,t,n,r))&&(rl(n,e,r,tl()),os(n,t,r))}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(i.next=i,Io(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Oo(e,t,i,r))&&(rl(n,e,r,i=tl()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Co,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:Co,useCallback:function(e,t){return Ca().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:Ga,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ba(4194308,4,Za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ca().memoizedState=e},useState:Ua,useDebugValue:Ya,useDeferredValue:function(e){return Ca().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=$a.bind(null,e[1]),Ca().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ca();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===kc)throw Error(o(349));0!=(30&fa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ga(La.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ca(),t=kc.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=Ea++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Co,useCallback:Qa,useContext:Co,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Ja,useReducer:Oa,useRef:Va,useState:function(){return Oa(Ia)},useDebugValue:Ya,useDeferredValue:function(e){return Xa(Ra(),va.memoizedState,e)},useTransition:function(){return[Oa(Ia)[0],Ra().memoizedState]},useMutableSource:Na,useSyncExternalStore:xa,useId:es,unstable_isNewReconciler:!1},ls={readContext:Co,useCallback:Qa,useContext:Co,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Ja,useReducer:ka,useRef:Va,useState:function(){return ka(Ia)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ra();return null===va?t.memoizedState=e:Xa(t,va.memoizedState,e)},useTransition:function(){return[ka(Ia)[0],Ra().memoizedState]},useMutableSource:Na,useSyncExternalStore:xa,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qc||(qc=!0,Wc=r),hs(0,t)},n}function ms(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!=typeof r&&(null===Zc?Zc=new Set([this]):Zc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=E.ReactCurrentOwner,Es=!1;function _s(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=wa(e,t,n,r,o,i),n=Ta(),null===e||Es?(io&&n&&eo(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function As(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Pl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ws(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Dl(o,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(Es=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!=(131072&e.flags)&&(Es=!0)}}return Rs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Dc,Pc),Pc|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Dc,Pc),Pc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Dc,Pc),Pc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Dc,Pc),Pc|=r;return _s(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Rs(e,t,n,r,i){var o=xi(n)?ki:Ii.current;return o=Ni(t,o),To(t,i),n=wa(e,t,n,r,o,i),r=Ta(),null===e||Es?(io&&r&&eo(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Is(e,t,n,r,i){if(xi(n)){var o=!0;Mi(t)}else o=!1;if(To(t,i),null===t.stateNode)Hs(e,t),Ho(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;l="object"==typeof l&&null!==l?Co(l):Ni(t,l=xi(n)?ki:Ii.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==l)&&qo(t,a,r,l),No=!1;var h=t.memoizedState;a.state=h,Uo(t,r,a,i),c=t.memoizedState,s!==r||h!==c||Oi.current||No?("function"==typeof u&&(Bo(t,n,u,r),c=t.memoizedState),(s=No||Go(t,n,s,r,h,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Po(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:go(t.type,s),a.props=l,d=t.pendingProps,h=a.context,c="object"==typeof(c=n.contextType)&&null!==c?Co(c):Ni(t,c=xi(n)?ki:Ii.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==c)&&qo(t,a,r,c),No=!1,h=t.memoizedState,a.state=h,Uo(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||Oi.current||No?("function"==typeof p&&(Bo(t,n,p,r),f=t.memoizedState),(l=No||Go(t,n,l,r,h,f,c)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,i)}function Os(e,t,n,r,i,o){Cs(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),qs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function ks(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Ns(e,t,n,r,i){return fo(),mo(i),t.flags|=256,_s(e,t,n,r),t.child}var xs,Ps,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,a=ca.current,s=!1,c=0!=(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ca,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Fl(c,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):js(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(a=Ml(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&Jo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,a);if(0==(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Vs(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(c=0!=(s&e.childLanes),Es||c){if(null!==(r=kc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,ko(e,i),rl(r,e,i,-1))}return vl(),Vs(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Zi[Ki++]=Qi,Zi[Ki++]=Ji,Zi[Ki++]=Yi,Qi=e.id,Ji=e.overflow,Yi=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Dl(r,s):(s=Ml(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Fs(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wo(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),0!=(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ca,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:case 17:return xi(t.type)&&Pi(),Zs(t),null;case 3:return r=t.stateNode,oa(),Ti(Oi),Ti(Ii),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Ps(e,t),Zs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Zs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!=(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Q(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var c in ye(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"==typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&jr("scroll",r)}switch(n){case"input":W(r),$(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[pi]=r,xs(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ve(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"==typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&jr("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Zs(t),null;case 13:if(Ti(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zs(t),a=!1}else null!==oo&&(sl(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ca.current)?0===Lc&&(Lc=3):vl())),null!==t.updateQueue&&(t.flags|=4),Zs(t),null);case 4:return oa(),Ps(e,t),null===e&&zr(t.stateNode.containerInfo),Zs(t),null;case 10:return Ao(t.type._context),Zs(t),null;case 19:if(Ti(ca),null===(a=t.memoizedState))return Zs(t),null;if(r=0!=(128&t.flags),null===(c=a.rendering))if(r)Ws(a,!1);else{if(0!==Lc||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=la(e))){for(t.flags|=128,Ws(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Gc&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Zs(t),null}else 2*Je()-a.renderingStartTime>Gc&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ca.current,Ci(ca,r?1&n|2:1&n),t):(Zs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Pc)&&(Zs(t),6&t.subtreeFlags&&(t.flags|=8192)):Zs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return xi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(Oi),Ti(Ii),da(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ca),null;case 4:return oa(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}xs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&jr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Js=!1,Xs="function"==typeof WeakSet?WeakSet:Set,$s=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Tl(e,t,n)}else n.current=null}function tc(e,t,n){try{n()}catch(n){Tl(e,t,n)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tc(t,n,o)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[vi],delete t[gi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var dc=null,hc=!1;function pc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Js||ec(n,t);case 6:var r=dc,i=hc;dc=null,pc(e,t,n),hc=i,null!==(dc=r)&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dc.removeChild(n.stateNode));break;case 18:null!==dc&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),zt(e)):ci(dc,n.stateNode));break;case 4:r=dc,i=hc,dc=n.stateNode.containerInfo,hc=!0,pc(e,t,n),dc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Js&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&tc(n,t,a),i=i.next}while(i!==r)}pc(e,t,n);break;case 1:if(!Js&&(ec(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Tl(n,t,e)}pc(e,t,n);break;case 21:pc(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,pc(e,t,n),Js=r):pc(e,t,n);break;default:pc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ol.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,hc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===dc)throw Error(o(160));fc(a,s,i),dc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(e){Tl(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(t){Tl(e,e.return,t)}try{rc(5,e,e.return)}catch(t){Tl(e,e.return,t)}}break;case 1:vc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(vc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(t){Tl(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&J(i,a),be(c,s);var u=be(c,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?ve(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(c){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(t){Tl(e,e.return,t)}}break;case 6:if(vc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){Tl(e,e.return,t)}}break;case 3:if(vc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(t){Tl(e,e.return,t)}break;case 4:default:vc(t,e),yc(e);break;case 13:vc(t,e),yc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zc=Je())),4&r&&mc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,vc(t,e),Js=u):vc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!=(1&e.mode))for($s=e,d=e.child;null!==d;){for(h=$s=d;null!==$s;){switch(f=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:rc(4,p,p.return);break;case 1:ec(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Tl(r,n,e)}}break;case 5:ec(p,p.return);break;case 22:if(null!==p.memoizedState){Sc(h);continue}}null!==f?(f.return=p,$s=f):Sc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,s=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",s))}catch(t){Tl(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){Tl(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vc(t,e),yc(e),4&r&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;lc(e,cc(e),a);break;default:throw Error(o(161))}}catch(t){Tl(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){$s=e,Ec(e,t,n)}function Ec(e,t,n){for(var r=0!=(1&e.mode);null!==$s;){var i=$s,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Js;s=Qs;var l=Js;if(Qs=a,(Js=c)&&!l)for($s=i;null!==$s;)c=(a=$s).child,22===a.tag&&null!==a.memoizedState?Ac(i):null!==c?(c.return=a,$s=c):Ac(i);for(;null!==o;)$s=o,Ec(o,t,n),o=o.sibling;$s=i,Qs=s,Js=l}_c(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,$s=o):_c(e)}}function _c(e){for(;null!==$s;){var t=$s;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&jo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Js||512&t.flags&&oc(t)}catch(e){Tl(t,t.return,e)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function Sc(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function Ac(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(e){Tl(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Tl(t,i,e)}}var o=t.return;try{oc(t)}catch(e){Tl(t,o,e)}break;case 5:var a=t.return;try{oc(t)}catch(e){Tl(t,a,e)}}}catch(e){Tl(t,t.return,e)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var wc,Tc=Math.ceil,Cc=E.ReactCurrentDispatcher,Rc=E.ReactCurrentOwner,Ic=E.ReactCurrentBatchConfig,Oc=0,kc=null,Nc=null,xc=0,Pc=0,Dc=wi(0),Lc=0,Mc=null,Fc=0,Uc=0,jc=0,Vc=null,Bc=null,zc=0,Gc=1/0,Hc=null,qc=!1,Wc=null,Zc=null,Kc=!1,Yc=null,Qc=0,Jc=0,Xc=null,$c=-1,el=0;function tl(){return 0!=(6&Oc)?Je():-1!==$c?$c:$c=Je()}function nl(e){return 0==(1&e.mode)?1:0!=(2&Oc)&&0!==xc?xc&-xc:null!==vo.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rl(e,t,n,r){if(50<Jc)throw Jc=0,Xc=null,Error(o(185));gt(e,n,r),0!=(2&Oc)&&e===kc||(e===kc&&(0==(2&Oc)&&(Uc|=n),4===Lc&&cl(e,xc)),il(e,r),1===n&&0===Oc&&0==(1&t.mode)&&(Gc=Je()+500,ji&&zi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=i[a];-1===c?0!=(s&n)&&0==(s&r)||(i[a]=pt(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===kc?xc:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(ll.bind(null,e)):Bi(ll.bind(null,e)),ai((function(){0==(6&Oc)&&zi()})),n=null;else{switch(Et(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=kl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if($c=-1,el=0,0!=(6&Oc))throw Error(o(327));var n=e.callbackNode;if(Al()&&e.callbackNode!==n)return null;var r=ht(e,e===kc?xc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Oc;Oc|=2;var a=ml();for(kc===e&&xc===t||(Hc=null,Gc=Je()+500,pl(e,t));;)try{bl();break}catch(t){fl(e,t)}So(),Cc.current=a,Oc=i,null!==Nc?t=0:(kc=null,xc=0,t=Lc)}if(0!==t){if(2===t&&0!==(i=ft(e))&&(r=i,t=al(e,i)),1===t)throw n=Mc,pl(e,0),cl(e,r),il(e,Je()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&0!==(a=ft(e))&&(r=a,t=al(e,a)),1===t))throw n=Mc,pl(e,0),cl(e,r),il(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sl(e,Bc,Hc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=zc+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sl.bind(null,e,Bc,Hc),t);break}Sl(e,Bc,Hc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ri(Sl.bind(null,e,Bc,Hc),r);break}Sl(e,Bc,Hc);break;default:throw Error(o(329))}}}return il(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function al(e,t){var n=Vc;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Bc,Bc=n,null!==t&&sl(t)),e}function sl(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function cl(e,t){for(t&=~jc,t&=~Uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!=(6&Oc))throw Error(o(327));Al();var t=ht(e,0);if(0==(1&t))return il(e,Je()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Mc,pl(e,0),cl(e,t),il(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e,Bc,Hc),il(e,Je()),null}function ul(e,t){var n=Oc;Oc|=1;try{return e(t)}finally{0===(Oc=n)&&(Gc=Je()+500,ji&&zi())}}function dl(e){null!==Yc&&0===Yc.tag&&0==(6&Oc)&&Al();var t=Oc;Oc|=1;var n=Ic.transition,r=bt;try{if(Ic.transition=null,bt=1,e)return e()}finally{bt=r,Ic.transition=n,0==(6&(Oc=t))&&zi()}}function hl(){Pc=Dc.current,Ti(Dc)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nc)for(n=Nc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Pi();break;case 3:oa(),Ti(Oi),Ti(Ii),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(ca);break;case 10:Ao(r.type._context);break;case 22:case 23:hl()}n=n.return}if(kc=e,Nc=e=Dl(e.current,null),xc=Pc=t,Lc=0,Mc=null,jc=Uc=Fc=0,Bc=Vc=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ro=null}return e}function fl(e,t){for(;;){var n=Nc;try{if(So(),ha.current=as,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(fa=0,ga=va=ma=null,ba=!1,Ea=0,Rc.current=null,null===n||null===n.return){Lc=1,Mc=t,Nc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=xc,c.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,d=c,h=d.tag;if(0==(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,ys(f,s,c,0,t),1&f.mode&&vs(a,u,t),l=u;var m=(t=f).updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0==(1&t)){vs(a,u,t),vl();break e}l=Error(o(426))}else if(io&&1&c.mode){var g=gs(s);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),ys(g,s,c,0,t),mo(us(l,c));break e}}a=l=us(l,c),4!==Lc&&(Lc=2),null===Vc?Vc=[a]:Vc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,fs(0,l,t));break e;case 1:c=l;var y=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Zc||!Zc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ms(a,c,t));break e}}a=a.return}while(null!==a)}_l(n)}catch(e){t=e,Nc===n&&null!==n&&(Nc=n=n.return);continue}break}}function ml(){var e=Cc.current;return Cc.current=as,null===e?as:e}function vl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===kc||0==(268435455&Fc)&&0==(268435455&Uc)||cl(kc,xc)}function gl(e,t){var n=Oc;Oc|=2;var r=ml();for(kc===e&&xc===t||(Hc=null,pl(e,t));;)try{yl();break}catch(t){fl(e,t)}if(So(),Oc=n,Cc.current=r,null!==Nc)throw Error(o(261));return kc=null,xc=0,Lc}function yl(){for(;null!==Nc;)El(Nc)}function bl(){for(;null!==Nc&&!Ye();)El(Nc)}function El(e){var t=wc(e.alternate,e,Pc);e.memoizedProps=e.pendingProps,null===t?_l(e):Nc=t,Rc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ks(n,t,Pc)))return void(Nc=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Nc=n);if(null===e)return Lc=6,void(Nc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nc=t);Nc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Sl(e,t,n){var r=bt,i=Ic.transition;try{Ic.transition=null,bt=1,function(e,t,n,r){do{Al()}while(null!==Yc);if(0!=(6&Oc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===kc&&(Nc=kc=null,xc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Kc||(Kc=!0,kl(tt,(function(){return Al(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Ic.transition,Ic.transition=null;var s=bt;bt=1;var c=Oc;Oc|=4,Rc.current=null,function(e,t){if(ei=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(c=s+i),h!==a||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(c=s),p===a&&++d===r&&(l=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:go(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(o(163))}}catch(e){Tl(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=nc,nc=!1}(e,n),gc(n,e),fr(ti),Ht=!!ei,ti=ei=null,e.current=n,bc(n,e,i),Qe(),Oc=c,bt=s,Ic.transition=a}else e.current=n;if(Kc&&(Kc=!1,Yc=e,Qc=i),0===(a=e.pendingLanes)&&(Zc=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),il(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qc)throw qc=!1,e=Wc,Wc=null,e;0!=(1&Qc)&&0!==e.tag&&Al(),0!=(1&(a=e.pendingLanes))?e===Xc?Jc++:(Jc=0,Xc=e):Jc=0,zi()}(e,t,n,r)}finally{Ic.transition=i,bt=r}return null}function Al(){if(null!==Yc){var e=Et(Qc),t=Ic.transition,n=bt;try{if(Ic.transition=null,bt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,Qc=0,0!=(6&Oc))throw Error(o(331));var i=Oc;for(Oc|=4,$s=e.current;null!==$s;){var a=$s,s=a.child;if(0!=(16&$s.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for($s=u;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:rc(8,d,a)}var h=d.child;if(null!==h)h.return=d,$s=h;else for(;null!==$s;){var p=(d=$s).sibling,f=d.return;if(ac(d),d===u){$s=null;break}if(null!==p){p.return=f,$s=p;break}$s=f}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}$s=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else e:for(;null!==$s;){if(0!=(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:rc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$s=y;break e}$s=a.return}}var b=e.current;for($s=b;null!==$s;){var E=(s=$s).child;if(0!=(2064&s.subtreeFlags)&&null!==E)E.return=s,$s=E;else e:for(s=b;null!==$s;){if(0!=(2048&(c=$s).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(e){Tl(c,c.return,e)}if(c===s){$s=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,$s=_;break e}$s=c.return}}if(Oc=i,zi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Ic.transition=t}}return!1}function wl(e,t,n){e=Lo(e,t=fs(0,t=us(n,t),1),1),t=tl(),null!==e&&(gt(e,1,t),il(e,t))}function Tl(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Zc||!Zc.has(r))){t=Lo(t,e=ms(t,e=us(n,e),1),1),e=tl(),null!==t&&(gt(t,1,e),il(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,kc===e&&(xc&n)===n&&(4===Lc||3===Lc&&(130023424&xc)===xc&&500>Je()-zc?pl(e,0):jc|=n),il(e,t)}function Rl(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ut,0==(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=ko(e,t))&&(gt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rl(e,n)}function Ol(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Rl(e,n)}function kl(e,t){return Ze(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xl(e,t,n,r){return new Nl(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=xl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Pl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case A:return Ml(n.children,i,a,t);case w:s=8,i|=8;break;case T:return(e=xl(12,n,t,2|i)).elementType=T,e.lanes=a,e;case O:return(e=xl(13,n,t,i)).elementType=O,e.lanes=a,e;case k:return(e=xl(19,n,t,i)).elementType=k,e.lanes=a,e;case P:return Fl(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case R:s=9;break e;case I:s=11;break e;case N:s=14;break e;case x:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=xl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ml(e,t,n,r){return(e=xl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=xl(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=xl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=xl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,o,a,s,c){return e=new Vl(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=xl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xo(o),e}function zl(e){if(!e)return Ri;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(xi(n))return Li(e,n,t)}return t}function Gl(e,t,n,r,i,o,a,s,c){return(e=Bl(n,r,!0,e,0,o,0,s,c)).context=zl(null),n=e.current,(o=Do(r=tl(),i=nl(n))).callback=null!=t?t:null,Lo(n,o,i),e.current.lanes=i,gt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,o=tl(),a=nl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(rl(e,i,a,o),Mo(e,i,a)),a}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}wc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)Es=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Es=!1,function(e,t,n){switch(t.tag){case 3:ks(t),fo();break;case 5:aa(t);break;case 1:xi(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ca,1&ca.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Us(e,t,n):(Ci(ca,1&ca.current),null!==(e=qs(e,t,n))?e.sibling:null);Ci(ca,1&ca.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return qs(e,t,n)}(e,t,n);Es=0!=(131072&e.flags)}else Es=!1,io&&0!=(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ni(t,Ii.current);To(t,n),i=wa(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,xo(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Pl(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=go(r,e),i){case 0:t=Rs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=As(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Rs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(ks(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Po(e,t),Uo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=qs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Cs(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Us(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Oi.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Do(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wo(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),wo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Co(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),As(e,t,r,i=go(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Hs(e,t),t.tag=1,xi(r)?(e=!0,Mi(t)):e=!1,To(t,n),Ho(t,r,i),Wo(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Kl="function"==typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=ql(a);s.call(e)}}Hl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=ql(a);o.call(e)}}var a=Gl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=a,e[fi]=a.current,zr(8===e.nodeType?e.parentNode:e),dl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=ql(c);s.call(e)}}var c=Bl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=c,e[fi]=c.current,zr(8===e.nodeType?e.parentNode:e),dl((function(){Hl(t,c,n,r)})),c}(n,t,e,i,r);return ql(a)}Ql.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hl(e,t,null,null)},Ql.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Hl(null,e,null,null)})),t[fi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Je()),0==(6&Oc)&&(Gc=Je()+500,zi()))}break;case 13:dl((function(){var t=ko(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Zl(e,1)}},St=function(e){if(13===e.tag){var t=ko(e,134217728);null!==t&&rl(t,e,134217728,tl()),Zl(e,134217728)}},At=function(e){if(13===e.tag){var t=nl(e),n=ko(e,t);null!==n&&rl(n,e,t,tl()),Zl(e,t)}},wt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));Z(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ul,Oe=dl;var tu={usingClientEntryPoint:!1,Events:[bi,Ei,_i,Ce,Re,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(o(299));var n=!1,r="",i=Kl;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kl;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gl(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(o(40));return!!e._reactRootContainer&&(dl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},745:(e,t,n)=>{"use strict";var r=n(3935);t.s=r.createRoot,t.a=r.hydrateRoot},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v=Symbol.for("react.module.reference");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case u:case f:case p:case s:return e;default:return t}}case r:return t}}}t.ContextConsumer=c,t.ContextProvider=s,t.Element=n,t.ForwardRef=u,t.Fragment=i,t.Lazy=f,t.Memo=p,t.Portal=r,t.Profiler=a,t.StrictMode=o,t.Suspense=d,t.SuspenseList=h,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return g(e)===u},t.isFragment=function(e){return g(e)===i},t.isLazy=function(e){return g(e)===f},t.isMemo=function(e){return g(e)===p},t.isPortal=function(e){return g(e)===r},t.isProfiler=function(e){return g(e)===a},t.isStrictMode=function(e){return g(e)===o},t.isSuspense=function(e){return g(e)===d},t.isSuspenseList=function(e){return g(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===a||e===o||e===d||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===p||e.$$typeof===s||e.$$typeof===c||e.$$typeof===u||e.$$typeof===v||void 0!==e.getModuleId)},t.typeOf=g},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},2867:(e,t,n)=>{"use strict";t.Z=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(7294)),i=s(n(5697)),o=n(930),a=s(n(8765));function s(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function v(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=n(8337)(),A=o.Text.propTypes||{},w=o.Platform.OS,T=function(e){function t(e){var n;return p(this,t),_(y(n=v(this,g(t).call(this,e))),"linkify",(function(e){if(!n.state.linkifyIt.pretest(e.props.children)||!n.state.linkifyIt.test(e.props.children))return e;var t=[],i=0,a=h({},e.props,{ref:void 0,key:void 0});try{return n.state.linkifyIt.match(e.props.children).forEach((function(s){var c=s.index,l=s.lastIndex,d=s.text,h=s.url,p=e.props.children.substring(i,c);p&&t.push(p),i=l,n.props.linkText&&(d="function"==typeof n.props.linkText?n.props.linkText(h):n.props.linkText);var f={};"web"!==w&&(f.onLongPress=n.props.onLongPress?function(){return n.props.onLongPress(h,d)}:void 0),f.onPress=n.props.onPress?function(){return n.props.onPress(h,d)}:void 0,t.push(r.default.createElement(o.Text,u({},a,f,{key:h+c,style:[e.props.style,n.props.linkStyle]},n.props.injectViewProps(h)),d))})),t.push(e.props.children.substring(i,e.props.children.length)),r.default.cloneElement(e,a,t)}catch(t){return e}})),_(y(n),"parse",(function(e){var t=(e||{}).props,i=(t=void 0===t?{}:t).children;if(!i)return e;var a=h({},e.props,{ref:void 0,key:void 0});return r.default.cloneElement(e,a,r.default.Children.map(i,(function(t){var i=(t||{}).type,s=(i=void 0===i?{}:i).displayName;return"string"==typeof t&&n.state.linkifyIt.pretest(t)?n.linkify(r.default.createElement(o.Text,u({},a,{style:e.props.style}),t)):"Text"!==s||n.isTextNested(t)?n.parse(t):n.linkify(t)})))})),n.state={linkifyIt:e.linkify||S},n}return b(t,e),m(t,[{key:"render",value:function(){var e=u({},this.props);return delete e.onPress,delete e.linkDefault,delete e.onLongPress,delete e.linkStyle,r.default.createElement(o.View,u({},e,{style:this.props.style}),this.props.onPress||this.props.onLongPress||this.props.linkStyle?this.parse(this).props.children:this.props.children)}},{key:"isTextNested",value:function(e){if(!r.default.isValidElement(e))throw new Error("Invalid component");var t=e.type;if("Text"!==(t=void 0===t?{}:t).displayName)throw new Error("Not a Text component");return"string"!=typeof e.props.children}}]),t}(r.Component);T.propTypes={linkDefault:i.default.bool,linkify:i.default.object,linkStyle:A.style,linkText:i.default.oneOfType([i.default.string,i.default.func]),onPress:i.default.func,onLongPress:i.default.func,injectViewProps:i.default.func},T.defaultProps={linkify:S,injectViewProps:function(e){return{}}},T.getDerivedStateFromProps=function(e,t){return e.linkify!==t.linkifyIt?{linkifyIt:e.linkify}:null};var C=function(e){function t(e){var n;return p(this,t),(n=v(this,g(t).call(this,e))).handleLink=n.handleLink.bind(y(n)),n}return b(t,e),m(t,[{key:"handleLink",value:function(e){var t=a.default.parse(e);t.protocol=t.protocol.toLowerCase();var n=a.default.format(t);o.Linking.canOpenURL(n).then((function(e){return e&&o.Linking.openURL(n)}))}},{key:"render",value:function(){var e=this.handleLink||this.props.onPress;return this.props.linkDefault?r.default.createElement(T,u({},this.props,{onPress:e})):r.default.createElement(T,this.props)}}]),t}(r.Component);t.Z=C},335:(e,t,n)=>{var r=n(4836);Object.defineProperty(t,"DF",{enumerable:!0,get:function(){return i.default}});r(n(3361)),r(n(739)),r(n(9237));var i=r(n(6479))},9237:(e,t,n)=>{var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r={};e.glyphs.forEach((function(e){r[e.css]=e.code}));var o=t||e.name||"fontello";return(0,i.default)(r,o,n||o+".ttf")};var i=r(n(3361))},6479:(e,t,n)=>{var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r={};e.icons.forEach((function(e){e.properties.name.split(/\s*,\s*/g).forEach((function(t){r[t]=e.properties.code}))}));var o=t||e.preferences.fontPref.metadata.fontFamily;return(0,i.default)(r,o,n||o+".ttf")};var i=r(n(3361))},3361:(e,t,n)=>{var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeIconAPI=t.DEFAULT_ICON_SIZE=t.DEFAULT_ICON_COLOR=void 0,t.default=function(e,t,n,r){var E=n?n.replace(/\.(otf|ttf)$/,""):t,w=m.Platform.select({windows:"/Assets/"+n+"#"+t,android:E,web:E,default:t}),T=f.default.oneOf(Object.keys(e)),C=function(t){function n(){var e,t;(0,c.default)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=(0,u.default)(this,(e=(0,d.default)(n)).call.apply(e,[this].concat(i)))).root=null,t.handleRef=function(e){t.root=e},t}return(0,h.default)(n,t),(0,l.default)(n,[{key:"setNativeProps",value:function(e){this.root&&this.root.setNativeProps(e)}},{key:"render",value:function(){var t=this.props,n=t.name,i=t.size,o=t.color,c=t.style,l=t.children,u=(0,s.default)(t,["name","size","color","style","children"]),d=n?e[n]||"?":"";"number"==typeof d&&(d=String.fromCodePoint(d));var h={fontSize:i,color:o},f={fontFamily:w,fontWeight:"normal",fontStyle:"normal"};return u.style=[h,c,f,r||{}],u.ref=this.handleRef,p.default.createElement(m.Text,(0,a.default)({selectable:!1},u,{__self:this,__source:{fileName:b,lineNumber:91}}),d,l)}}]),n}(p.PureComponent);C.propTypes={allowFontScaling:f.default.bool,name:T,size:f.default.number,color:f.default.any,children:f.default.node,style:f.default.any},C.defaultProps={size:S,allowFontScaling:!1};var R=(0,g.default)();function I(t){var n=e[t]||"?";return"number"==typeof n?String.fromCodePoint(n):n}return C.Button=(0,y.default)(C),C.getImageSource=function(e){var t,n,r,i,a,s,c,l=arguments;return o.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=l.length>1&&void 0!==l[1]?l[1]:S,n=l.length>2&&void 0!==l[2]?l[2]:A,(0,v.default)(),r=I(e),i=(0,m.processColor)(n),a=r+":"+t+":"+i,!R.has(a)){u.next=8;break}return u.abrupt("return",R.get(a));case 8:return u.prev=8,u.next=11,o.default.awrap(_.getImageForFont(w,r,t,i));case 11:return s=u.sent,c={uri:s,scale:m.PixelRatio.get()},R.setValue(a,c),u.abrupt("return",c);case 17:throw u.prev=17,u.t0=u.catch(8),R.setError(a,u.t0),u.t0;case 21:case"end":return u.stop()}}),null,null,[[8,17]])},C.getImageSourceSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;(0,v.default)();var r=I(e),i=(0,m.processColor)(n),o=r+":"+t+":"+i;if(R.has(o))return R.get(o);try{var a={uri:_.getImageForFontSync(w,r,t,i),scale:m.PixelRatio.get()};return R.setValue(o,a),a}catch(e){throw R.setError(o,e),e}},C.loadFont=function(){var e,t=arguments;return o.default.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.length>0&&void 0!==t[0]?t[0]:n,"ios"!==m.Platform.OS){r.next=7;break}if((0,v.default)(),e){r.next=5;break}throw new Error("Unable to load font, because no file was specified. ");case 5:return r.next=7,o.default.awrap(_.loadFontWithFileName.apply(_,(0,i.default)(e.split("."))));case 7:case"end":return r.stop()}}))},C.hasIcon=function(t){return Object.prototype.hasOwnProperty.call(e,t)},C.getRawGlyphMap=function(){return e},C.getFontFamily=function(){return w},C};var i=r(n(861)),o=r(n(4687)),a=r(n(434)),s=r(n(215)),c=r(n(6690)),l=r(n(9728)),u=r(n(4993)),d=r(n(3808)),h=r(n(1655)),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(7294)),f=r(n(5697)),m=n(930),v=r(n(6444)),g=r(n(1602)),y=r(n(6648)),b="/home/runner/work/react-native-vector-icons/react-native-vector-icons/lib/create-icon-set.js";function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var _=m.NativeModules.RNVectorIconsManager||m.NativeModules.RNVectorIconsModule;t.NativeIconAPI=_;var S=12;t.DEFAULT_ICON_SIZE=S;var A="black";t.DEFAULT_ICON_COLOR=A},1602:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Map;return{setValue:function(t,r){return e.set(t,{type:n,data:r})},setError:function(t,n){return e.set(t,{type:r,data:n})},has:function(t){return e.has(t)},get:function(t){if(e.has(t)){var n=e.get(t),i=n.type,o=n.data;if(i===r)throw o;return o}}}};var n="value",r="error"},739:(e,t,n)=>{var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e);if(0===n.length)throw new Error("You need to add at least one style");var r=(0,u.default)({defaultStyle:n[0],fallbackFamily:function(){return n[0]},glyphValidator:function(){return!0}},t),m=n.reduce((function(t,n){var r=e[n];return t[n]=(0,p.default)(r.glyphMap||{},r.fontFamily||"",r.fontFile||"",r.fontStyle||{}),t}),{});function v(e){return Object.keys(e).reduce((function(t,r){return-1!==n.indexOf(r)&&!0===e[r]?r:t}),r.defaultStyle)}function g(e){var t=e.name,i=v(e);if(r.glyphValidator(t,i))return m[i];var o=r.fallbackFamily(t);return-1===n.indexOf(o)?r.defaultStyle:m[o]}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return-1===n.indexOf(e)?m[r.defaultStyle]:t?g((0,l.default)({name:t},e,!0)):m[v((0,l.default)({},e,!0))]}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=function(t){function r(){return(0,i.default)(this,r),(0,a.default)(this,(0,s.default)(r).apply(this,arguments))}return(0,c.default)(r,t),(0,o.default)(r,[{key:"render",value:function(){var t,r,i=(t=g(this.props),(r=e).length>0?t[r]:t),o=function(e){return Object.keys(e).reduce((function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t}),{})}(this.props);return d.default.createElement(i,(0,u.default)({},o,{__self:this,__source:{fileName:f,lineNumber:123}}))}}]),r}(d.PureComponent);return t.propTypes=n.reduce((function(e,t){return e[t]=h.default.bool,e}),{}),t.defaultProps=n.reduce((function(e,t){return e[t]=!1,e}),{}),t}var E=b();return E.Button=b("Button"),E.getStyledIconSet=y,E.getImageSource=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.DEFAULT_ICON_SIZE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.DEFAULT_ICON_COLOR;return y(arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.defaultStyle,e).getImageSource(e,t,n)},E.getFontFamily=function(){return y(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultStyle).getFontFamily()},E.getRawGlyphMap=function(){return y(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultStyle).getRawGlyphMap()},E.hasIcon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.defaultStyle;return r.glyphValidator(e,t)},E};var i=r(n(6690)),o=r(n(9728)),a=r(n(4993)),s=r(n(3808)),c=r(n(1655)),l=r(n(8416)),u=r(n(434)),d=v(n(7294)),h=r(n(5697)),p=v(n(3361)),f="/home/runner/work/react-native-vector-icons/react-native-vector-icons/lib/create-multi-style-icon-set.js";function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}},6444:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!i){if("android"===r.Platform.OS)throw new Error("RNVectorIconsModule not available, did you properly integrate the module? Try running `react-native link react-native-vector-icons` and recompiling.");throw new Error("RNVectorIconsManager not available, did you add the library to your project and link with libRNVectorIcons.a? Try running `react-native link react-native-vector-icons` and recompiling.")}};var r=n(930),i=r.NativeModules.RNVectorIconsManager||r.NativeModules.RNVectorIconsModule},6648:(e,t,n)=>{var r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return n=t=function(t){function n(){return(0,a.default)(this,n),(0,c.default)(this,(0,l.default)(n).apply(this,arguments))}return(0,u.default)(n,t),(0,s.default)(n,[{key:"render",value:function(){var t=this.props,n=t.style,r=t.iconStyle,a=t.children,s=(0,o.default)(t,["style","iconStyle","children"]),c=(0,f.pick)(s,b,"style","name","size","color"),l=(0,f.pick)(s,E),u=(0,f.omit)(s,Object.keys(c),Object.keys(l),"iconStyle","borderRadius","backgroundColor");c.style=r?[g.icon,r]:g.icon;var h=(0,f.pick)(this.props,"color"),v=(0,f.pick)(this.props,"backgroundColor","borderRadius");return d.default.createElement(p.TouchableHighlight,(0,i.default)({style:[g.touchable,v]},l,{__self:this,__source:{fileName:m,lineNumber:116}}),d.default.createElement(p.View,(0,i.default)({style:[g.container,v,n]},u,{__self:this,__source:{fileName:m,lineNumber:120}}),d.default.createElement(e,(0,i.default)({},c,{__self:this,__source:{fileName:m,lineNumber:121}})),"string"==typeof a?d.default.createElement(p.Text,{style:[g.text,h],selectable:!1,__self:this,__source:{fileName:m,lineNumber:123}},a):a))}}]),n}(d.PureComponent),t.propTypes={backgroundColor:h.default.oneOfType([h.default.string,h.default.number]),borderRadius:h.default.number,color:h.default.any,size:h.default.number,iconStyle:h.default.any,style:h.default.any,children:h.default.node},t.defaultProps={backgroundColor:y,borderRadius:5,color:"white",size:20},n};var i=r(n(434)),o=r(n(215)),a=r(n(6690)),s=r(n(9728)),c=r(n(4993)),l=r(n(3808)),u=r(n(1655)),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(7294)),h=r(n(5697)),p=n(930),f=n(4931),m="/home/runner/work/react-native-vector-icons/react-native-vector-icons/lib/icon-button.js";function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var g=p.StyleSheet.create({container:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:8},touchable:{overflow:"hidden"},icon:{marginRight:10},text:{fontWeight:"600",backgroundColor:"transparent"}}),y="#007AFF",b=["ellipsizeMode","numberOfLines","textBreakStrategy","selectable","suppressHighlighting","allowFontScaling","adjustsFontSizeToFit","minimumFontScale"],E=["accessible","accessibilityLabel","accessibilityHint","accessibilityComponentType","accessibilityRole","accessibilityStates","accessibilityTraits","onFocus","onBlur","disabled","onPress","onPressIn","onPressOut","onLayout","onLongPress","nativeID","testID","delayPressIn","delayPressOut","delayLongPress","activeOpacity","underlayColor","selectionColor","onShowUnderlay","onHideUnderlay","hasTVPreferredFocus","tvParallaxProperties"]},4931:e=>{e.exports={pick:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.flat().filter((function(t){return Object.prototype.hasOwnProperty.call(e,t)})).reduce((function(t,n){return t[n]=e[n],t}),{})},omit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new Set(n.flat());return Object.getOwnPropertyNames(e).filter((function(e){return!i.has(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}}},9672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(7462),i=n(3366),o=n(7294),a=n(3457),s=n(7177),c=["animating","color","hidesWhenStopped","size","style"],l=e=>o.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:e}),u=o.forwardRef(((e,t)=>{var n=e.animating,a=void 0===n||n,u=e.color,p=void 0===u?"#1976D2":u,f=e.hidesWhenStopped,m=void 0===f||f,v=e.size,g=void 0===v?"small":v,y=e.style,b=(0,i.Z)(e,c),E=o.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},l({stroke:p,opacity:.2}),l({stroke:p,strokeDasharray:80,strokeDashoffset:60}));return o.createElement(s.Z,(0,r.Z)({},b,{"aria-valuemax":1,"aria-valuemin":0,ref:t,role:"progressbar",style:[d.container,y]}),o.createElement(s.Z,{children:E,style:["number"==typeof g?{height:g,width:g}:h[g],d.animation,!a&&d.animationPause,!a&&m&&d.hidesWhenStopped]}))}));u.displayName="ActivityIndicator";var d=a.Z.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),h=a.Z.create({small:{width:20,height:20},large:{width:36,height:36}});const p=u},8112:(e,t,n)=>{"use strict";n.d(t,{Z:()=>rt});var r=n(3063),i=n(2805),o=n(7462),a=n(7294),s=n(1373),c=n(3366),l=n(5196),u=n(3759),d=n.n(u),h=n(9410);const p=i.Z,f=()=>!1,m=()=>!1;var v,g=("ios"===p.OS&&n.g.RN$Bridgeless,null),y=1,b=1,E=new Set,_=!1,S=[];"android"===p.OS&&null!=g&&g.queueAndExecuteBatchedOperations&&m();var A=null,w=g,T={getValue:function(e,t){d()(w,"Native animated module is not available"),T.queueOperation(w.getValue,e,t)},setWaitingForIdentifier:function(e){E.add(e),_=!0,f()&&A&&clearTimeout(A)},unsetWaitingForIdentifier:function(e){E.delete(e),0===E.size&&(_=!1,T.disableQueue())},disableQueue:function(){d()(w,"Native animated module is not available"),f()?(clearImmediate(A),A=setImmediate(T.flushQueue)):T.flushQueue()},flushQueue:function(){},queueOperation:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_||0!==S.length?S.push((()=>e(...n))):e(...n)},createAnimatedNode:function(e,t){d()(w,"Native animated module is not available"),T.queueOperation(w.createAnimatedNode,e,t)},updateAnimatedNodeConfig:function(e,t){d()(w,"Native animated module is not available")},startListeningToAnimatedNodeValue:function(e){d()(w,"Native animated module is not available"),T.queueOperation(w.startListeningToAnimatedNodeValue,e)},stopListeningToAnimatedNodeValue:function(e){d()(w,"Native animated module is not available"),T.queueOperation(w.stopListeningToAnimatedNodeValue,e)},connectAnimatedNodes:function(e,t){d()(w,"Native animated module is not available"),T.queueOperation(w.connectAnimatedNodes,e,t)},disconnectAnimatedNodes:function(e,t){d()(w,"Native animated module is not available"),T.queueOperation(w.disconnectAnimatedNodes,e,t)},startAnimatingNode:function(e,t,n,r){d()(w,"Native animated module is not available"),T.queueOperation(w.startAnimatingNode,e,t,n,r)},stopAnimation:function(e){d()(w,"Native animated module is not available"),T.queueOperation(w.stopAnimation,e)},setAnimatedNodeValue:function(e,t){d()(w,"Native animated module is not available"),T.queueOperation(w.setAnimatedNodeValue,e,t)},setAnimatedNodeOffset:function(e,t){d()(w,"Native animated module is not available"),T.queueOperation(w.setAnimatedNodeOffset,e,t)},flattenAnimatedNodeOffset:function(e){d()(w,"Native animated module is not available"),T.queueOperation(w.flattenAnimatedNodeOffset,e)},extractAnimatedNodeOffset:function(e){d()(w,"Native animated module is not available"),T.queueOperation(w.extractAnimatedNodeOffset,e)},connectAnimatedNodeToView:function(e,t){d()(w,"Native animated module is not available"),T.queueOperation(w.connectAnimatedNodeToView,e,t)},disconnectAnimatedNodeFromView:function(e,t){d()(w,"Native animated module is not available"),T.queueOperation(w.disconnectAnimatedNodeFromView,e,t)},restoreDefaultValues:function(e){d()(w,"Native animated module is not available"),null!=w.restoreDefaultValues&&T.queueOperation(w.restoreDefaultValues,e)},dropAnimatedNode:function(e){d()(w,"Native animated module is not available"),T.queueOperation(w.dropAnimatedNode,e)},addAnimatedEventToView:function(e,t,n){d()(w,"Native animated module is not available"),T.queueOperation(w.addAnimatedEventToView,e,t,n)},removeAnimatedEventFromView(e,t,n){d()(w,"Native animated module is not available"),T.queueOperation(w.removeAnimatedEventFromView,e,t,n)}},C={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},R=(0,r.Z)((0,r.Z)({},C),{},{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),I={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},O={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function k(e){return R.hasOwnProperty(e)}function N(e){return I.hasOwnProperty(e)}function x(e){return O.hasOwnProperty(e)}function P(){return b++}var D=!1;function L(e){return null==e.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==e.useNativeDriver||g?e.useNativeDriver||!1:(D||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),D=!0),!1)}const M={API:T,isSupportedColorStyleProp:function(e){return C.hasOwnProperty(e)},isSupportedStyleProp:k,isSupportedTransformProp:N,isSupportedInterpolationParam:x,addWhitelistedStyleProp:function(e){R[e]=!0},addWhitelistedTransformProp:function(e){I[e]=!0},addWhitelistedInterpolationParam:function(e){O[e]=!0},validateStyles:function(e){for(var t in e)if(!k(t))throw new Error("Style property '"+t+"' is not supported by native animated module")},validateTransform:function(e){e.forEach((e=>{if(!N(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")}))},validateInterpolation:function(e){for(var t in e)if(!x(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")},generateNewNodeTag:function(){return y++},generateNewAnimationId:P,assertNativeAnimatedModule:function(){d()(g,"Native animated module is not available")},shouldUseNativeDriver:L,transformDataType:function(e){return"string"!=typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e},get nativeEventEmitter(){return v||(v=new h.Z("ios"!==p.OS?null:g)),v}};var F=M.API,U=1;const j=class{__attach(){}__detach(){this.__isNative&&null!=this.__nativeTag&&(M.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}__getValue(){}__getAnimatedValue(){return this.__getValue()}__addChild(e){}__removeChild(e){}__getChildren(){return[]}constructor(){this._listeners={}}__makeNative(e){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this._platformConfig=e,this.hasListeners()&&this._startListeningToNativeValueUpdates()}addListener(e){var t=String(U++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t}removeListener(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}removeAllListeners(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}hasListeners(){return!!Object.keys(this._listeners).length}_startListeningToNativeValueUpdates(){this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),F.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=M.nativeEventEmitter.addListener("onAnimatedValueUpdate",(e=>{e.tag===this.__getNativeTag()&&this.__onAnimatedValueUpdateReceived(e.value)})))}__onAnimatedValueUpdateReceived(e){this.__callListeners(e)}__callListeners(e){for(var t in this._listeners)this._listeners[t]({value:e})}_stopListeningForNativeValueUpdates(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,F.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}__getNativeTag(){var e;M.assertNativeAnimatedModule(),d()(this.__isNative,'Attempt to get native tag from node not marked as "native"');var t=null!==(e=this.__nativeTag)&&void 0!==e?e:M.generateNewNodeTag();if(null==this.__nativeTag){this.__nativeTag=t;var n=this.__getNativeConfig();this._platformConfig&&(n.platformConfig=this._platformConfig),M.API.createAnimatedNode(t,n),this.__shouldUpdateListenersForNewNativeTag=!0}return t}__getNativeConfig(){throw new Error("This JS animated node type cannot be used as native animated node")}toJSON(){return this.__getValue()}__getPlatformConfig(){return this._platformConfig}__setPlatformConfig(e){this._platformConfig=e}},V=class extends j{constructor(){super(),this._children=[]}__makeNative(e){if(!this.__isNative){this.__isNative=!0;for(var t,n=(0,l.Z)(this._children);!(t=n()).done;){var r=t.value;r.__makeNative(e),M.API.connectAnimatedNodes(this.__getNativeTag(),r.__getNativeTag())}}super.__makeNative(e)}__addChild(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(this.__getPlatformConfig()),M.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))}__removeChild(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&M.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}__getChildren(){return this._children}__callListeners(e){if(super.__callListeners(e),!this.__isNative)for(var t,n=(0,l.Z)(this._children);!(t=n()).done;){var r=t.value;r.__getValue&&r.__callListeners(r.__getValue())}}};var B=n(4586),z=n.n(B),G=e=>e;function H(e){if(e.outputRange&&"string"==typeof e.outputRange[0])return function(e){var t=e.outputRange;d()(t.length>=2,"Bad output range"),function(e){for(var t=e[0].replace(W,""),n=1;n<e.length;++n)d()(t===e[n].replace(W,""),"invalid pattern "+e[0]+" and "+e[n])}(t=t.map(q));var n=t[0].match(W).map((()=>[]));t.forEach((e=>{e.match(W).forEach(((e,t)=>{n[t].push(+e)}))}));var i,o=t[0].match(W).map(((t,i)=>H((0,r.Z)((0,r.Z)({},e),{},{outputRange:n[i]})))),a="string"==typeof(i=t[0])&&i.startsWith("rgb");return e=>{var n=0;return t[0].replace(W,(()=>{var t=+o[n++](e);return a&&(t=n<4?Math.round(t):Math.round(1e3*t)/1e3),String(t)}))}}(e);var t=e.outputRange,n=e.inputRange,i=e.easing||G,o="extend";void 0!==e.extrapolateLeft?o=e.extrapolateLeft:void 0!==e.extrapolate&&(o=e.extrapolate);var a="extend";return void 0!==e.extrapolateRight?a=e.extrapolateRight:void 0!==e.extrapolate&&(a=e.extrapolate),e=>{d()("number"==typeof e,"Cannot interpolation an input which is not a number");var r=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,n);return function(e,t,n,r,i,o,a,s){var c=e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t),c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r,c)}(e,n[r],n[r+1],t[r],t[r+1],i,o,a)}}function q(e){var t=z()(e);return null===t||"number"!=typeof t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var W=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;class Z extends V{constructor(e,t){super(),this._parent=e,this._config=t,this._interpolation=H(t)}__makeNative(e){this._parent.__makeNative(e),super.__makeNative(e)}__getValue(){var e=this._parent.__getValue();return d()("number"==typeof e,"Cannot interpolate an input which is not a number."),this._interpolation(e)}interpolate(e){return new Z(this,e)}__attach(){this._parent.__addChild(this)}__detach(){this._parent.__removeChild(this),super.__detach()}__transformDataType(e){return e.map(M.transformDataType)}__getNativeConfig(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}}}Z.__createInterpolation=H;const K=Z;var Y=n(4591),Q=M.API;const J=class extends V{constructor(e,t){if(super(),"number"!=typeof e)throw new Error("AnimatedValue: Attempting to set value to undefined");this._startingValue=this._value=e,this._offset=0,this._animation=null,t&&t.useNativeDriver&&this.__makeNative()}__detach(){this.__isNative&&Q.getValue(this.__getNativeTag(),(e=>{this._value=e-this._offset})),this.stopAnimation(),super.__detach()}__getValue(){return this._value+this._offset}setValue(e){var t,n;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&(t=this.__getNativeTag().toString(),n=()=>Q.setAnimatedNodeValue(this.__getNativeTag(),e),Q.setWaitingForIdentifier(t),n(),Q.unsetWaitingForIdentifier(t))}setOffset(e){this._offset=e,this.__isNative&&Q.setAnimatedNodeOffset(this.__getNativeTag(),e)}flattenOffset(){this._value+=this._offset,this._offset=0,this.__isNative&&Q.flattenAnimatedNodeOffset(this.__getNativeTag())}extractOffset(){this._offset+=this._value,this._value=0,this.__isNative&&Q.extractAnimatedNodeOffset(this.__getNativeTag())}stopAnimation(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&(this.__isNative?Q.getValue(this.__getNativeTag(),e):e(this.__getValue()))}resetAnimation(e){this.stopAnimation(e),this._value=this._startingValue,this.__isNative&&Q.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}__onAnimatedValueUpdateReceived(e){this._updateValue(e,!1)}interpolate(e){return new K(this,e)}animate(e,t){var n=null;e.__isInteraction&&(n=Y.Z.createInteractionHandle());var r=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,(e=>{this._updateValue(e,!0)}),(e=>{this._animation=null,null!==n&&Y.Z.clearInteractionHandle(n),t&&t(e)}),r,this)}stopTracking(){this._tracking&&this._tracking.__detach(),this._tracking=null}track(e){this.stopTracking(),this._tracking=e,this._tracking&&this._tracking.update()}_updateValue(e,t){if(void 0===e)throw new Error("AnimatedValue: Attempting to set value to undefined");var n;this._value=e,t&&(this,n=new Set,function e(t){"function"==typeof t.update?n.add(t):t.__getChildren().forEach(e)}(this),n.forEach((e=>e.update()))),super.__callListeners(this.__getValue())}__getNativeConfig(){return{type:"value",value:this._value,offset:this._offset}}};function X(e,t,n){var r=[],i=(e,t)=>{if(e instanceof J)e.__makeNative(),r.push({nativeEventPath:t,animatedValueTag:e.__getNativeTag()});else if("object"==typeof e)for(var n in e)i(e[n],t.concat(n))};return d()(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),i(n[0].nativeEvent,[]),null!=e&&r.forEach((n=>{M.API.addAnimatedEventToView(e,t,n)})),{detach(){null!=e&&r.forEach((n=>{M.API.removeAnimatedEventFromView(e,t,n.animatedValueTag)}))}}}class ${constructor(e,t){this._listeners=[],this._argMapping=e,null==t&&(console.warn("Animated.event now requires a second argument for options"),t={useNativeDriver:!1}),t.listener&&this.__addListener(t.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=L(t)}__addListener(e){this._listeners.push(e)}__removeListener(e){this._listeners=this._listeners.filter((t=>t!==e))}__attach(e,t){d()(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=X(e,t,this._argMapping)}__detach(e,t){d()(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()}__getHandler(){var e=this;return this.__isNative?this._callListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=(e,t,n)=>{if(e instanceof J)"number"==typeof t&&e.setValue(t);else if("object"==typeof e)for(var r in e)i(e[r],t[r],r)};e._argMapping.forEach(((e,t)=>{i(e,n[t],"arg"+t)})),e._callListeners(...n)}}_callListeners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach((e=>e(...t)))}}const ee=class extends V{constructor(e){super(),this._transforms=e}__makeNative(){this._transforms.forEach((e=>{for(var t in e){var n=e[t];n instanceof j&&n.__makeNative()}})),super.__makeNative()}__getValue(){return this._transforms.map((e=>{var t={};for(var n in e){var r=e[n];t[n]=r instanceof j?r.__getValue():r}return t}))}__getAnimatedValue(){return this._transforms.map((e=>{var t={};for(var n in e){var r=e[n];t[n]=r instanceof j?r.__getAnimatedValue():r}return t}))}__attach(){this._transforms.forEach((e=>{for(var t in e){var n=e[t];n instanceof j&&n.__addChild(this)}}))}__detach(){this._transforms.forEach((e=>{for(var t in e){var n=e[t];n instanceof j&&n.__removeChild(this)}})),super.__detach()}__getNativeConfig(){var e=[];return this._transforms.forEach((t=>{for(var n in t){var r=t[n];r instanceof j?e.push({type:"animated",property:n,nodeTag:r.__getNativeTag()}):e.push({type:"static",property:n,value:M.transformDataType(r)})}})),M.validateTransform(e),{type:"transform",transforms:e}}};var te=n(3457).Z.flatten;function ne(e){var t=te(e),n={};for(var r in t){var i=t[r];"transform"===r&&Array.isArray(i)?n[r]=new ee(i):i instanceof j?n[r]=i:i&&!Array.isArray(i)&&"object"==typeof i&&(n[r]=ne(i))}return n}const re=class extends V{constructor(e){super(),this._inputStyle=e,this._style=ne(e)}_walkStyleAndGetValues(e){var t={};for(var n in e){var r=e[n];r instanceof j?r.__isNative||(t[n]=r.__getValue()):r&&!Array.isArray(r)&&"object"==typeof r?t[n]=this._walkStyleAndGetValues(r):t[n]=r}return t}__getValue(){return[this._inputStyle,this._walkStyleAndGetValues(this._style)]}_walkStyleAndGetAnimatedValues(e){var t={};for(var n in e){var r=e[n];r instanceof j?t[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&"object"==typeof r&&(t[n]=this._walkStyleAndGetAnimatedValues(r))}return t}__getAnimatedValue(){return this._walkStyleAndGetAnimatedValues(this._style)}__attach(){for(var e in this._style){var t=this._style[e];t instanceof j&&t.__addChild(this)}}__detach(){for(var e in this._style){var t=this._style[e];t instanceof j&&t.__removeChild(this)}super.__detach()}__makeNative(){for(var e in this._style){var t=this._style[e];t instanceof j&&t.__makeNative()}super.__makeNative()}__getNativeConfig(){var e={};for(var t in this._style)if(this._style[t]instanceof j){var n=this._style[t];n.__makeNative(),e[t]=n.__getNativeTag()}return M.validateStyles(e),{type:"style",style:e}}},ie=class extends j{constructor(e,t){super(),e.style&&(e=(0,r.Z)((0,r.Z)({},e),{},{style:new re(e.style)})),this._props=e,this._callback=t,this.__attach()}__getValue(){var e={};for(var t in this._props){var n=this._props[t];n instanceof j?(!n.__isNative||n instanceof re)&&(e[t]=n.__getValue()):e[t]=n instanceof $?n.__getHandler():n}return e}__getAnimatedValue(){var e={};for(var t in this._props){var n=this._props[t];n instanceof j&&(e[t]=n.__getAnimatedValue())}return e}__attach(){for(var e in this._props){var t=this._props[e];t instanceof j&&t.__addChild(this)}}__detach(){for(var e in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var t=this._props[e];t instanceof j&&t.__removeChild(this)}super.__detach()}update(){this._callback()}__makeNative(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof j&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}setNativeView(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())}__connectAnimatedView(){d()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;d()(null!=e,"Unable to locate attached view in the native tree"),M.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}__disconnectAnimatedView(){d()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;d()(null!=e,"Unable to locate attached view in the native tree"),M.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}__restoreDefaultValues(){this.__isNative&&M.API.restoreDefaultValues(this.__getNativeTag())}__getNativeConfig(){var e={};for(var t in this._props){var n=this._props[t];n instanceof j&&(n.__makeNative(),e[t]=n.__getNativeTag())}return{type:"props",props:e}}};var oe=n(9863);function ae(e){return(0,r.Z)((0,r.Z)({},e.__getValue()),{},{collapsable:!1})}var se=["style"];function ce(e){return a.forwardRef(((t,n)=>{var r=function(e){var t=(0,a.useReducer)((e=>e+1),0)[1],n=(0,a.useRef)(null),r=(0,a.useMemo)((()=>new ie(e,(()=>null==n.current?void 0:n.current()))),[e]);!function(e){var t=(0,a.useRef)(null),n=(0,a.useRef)(!1);(0,a.useEffect)((()=>{M.API.flushQueue()})),(0,oe.Z)((()=>(n.current=!1,()=>{n.current=!0})),[]),(0,oe.Z)((()=>{if(e.__attach(),null!=t.current){var r=t.current;r.__restoreDefaultValues(),r.__detach(),t.current=null}return()=>{n.current?e.__detach():t.current=e}}),[e])}(r);var i,o,s=(0,a.useCallback)((i=>{r.setNativeView(i),n.current=()=>{t()};var o=function(e){return"object"==typeof e&&"function"==typeof(null==e?void 0:e.getScrollableNode)?e.getScrollableNode():e}(i),a=[];for(var s in e){var c=e[s];c instanceof $&&c.__isNative&&(c.__attach(o,s),a.push([s,c]))}return()=>{n.current=null;for(var e=0,t=a;e<t.length;e++){var r=t[e],i=r[0];r[1].__detach(o,i)}}}),[e,r]),c=(i=s,o=(0,a.useRef)(void 0),(0,a.useCallback)((e=>{o.current&&(o.current(),o.current=void 0),null!=e&&(o.current=i(e))}),[i]));return[ae(r),c]}(t),i=r[0],s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.useCallback)((e=>{for(var n=0,r=t;n<r.length;n++){var i=r[n];null!=i&&("function"==typeof i?i(e):i.current=e)}}),[...t])}(r[1],n),l=i.passthroughAnimatedPropExplicitValues,u=i.style,d=null!=l?l:{},h=d.style,p=(0,c.Z)(d,se),f=[u,h];return a.createElement(e,(0,o.Z)({},i,p,{style:f,ref:s}))}))}const le=ce(a.forwardRef(((e,t)=>a.createElement(s.Z,(0,o.Z)({scrollEventThrottle:1e-4},e,{ref:t}))))),ue=ce(n(2762).Z);var de=n(1950);const he=ce(a.forwardRef(((e,t)=>a.createElement(de.Z,(0,o.Z)({scrollEventThrottle:1e-4},e,{ref:t})))));var pe=n(7545);const fe=ce(a.forwardRef(((e,t)=>a.createElement(pe.Z,(0,o.Z)({scrollEventThrottle:1e-4},e,{ref:t}))))),me=ce(n(4404).Z),ve=ce(n(7177).Z),ge=class extends V{constructor(e,t){super(),this._a="number"==typeof e?new J(e):e,this._b="number"==typeof t?new J(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()+this._b.__getValue()}interpolate(e){return new K(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}},ye=class extends V{constructor(e,t,n){super(),this._a=e,this._min=t,this._max=n,this._value=this._lastValue=this._a.__getValue()}__makeNative(e){this._a.__makeNative(e),super.__makeNative(e)}interpolate(e){return new K(this,e)}__getValue(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}}},be=class extends V{constructor(e,t){super(),this._warnedAboutDivideByZero=!1,(0===t||t instanceof j&&0===t.__getValue())&&console.error("Detected potential division by zero in AnimatedDivision"),this._a="number"==typeof e?new J(e):e,this._b="number"==typeof t?new J(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t?(this._warnedAboutDivideByZero||(console.error("Detected division by zero in AnimatedDivision"),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}interpolate(e){return new K(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}},Ee=class extends V{constructor(e,t){super(),this._a=e,this._modulus=t}__makeNative(e){this._a.__makeNative(e),super.__makeNative(e)}__getValue(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}interpolate(e){return new K(this,e)}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}}},_e=class extends V{constructor(e,t){super(),this._a="number"==typeof e?new J(e):e,this._b="number"==typeof t?new J(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()*this._b.__getValue()}interpolate(e){return new K(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}},Se=class extends V{constructor(e,t){super(),this._a="number"==typeof e?new J(e):e,this._b="number"==typeof t?new J(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()-this._b.__getValue()}interpolate(e){return new K(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}},Ae=class extends j{constructor(e,t,n,r,i){super(),this._value=e,this._parent=t,this._animationClass=n,this._animationConfig=r,this._useNativeDriver=L(r),this._callback=i,this.__attach()}__makeNative(){this.__isNative=!0,this._parent.__makeNative(),super.__makeNative(),this._value.__makeNative()}__getValue(){return this._parent.__getValue()}__attach(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}__detach(){this._parent.__removeChild(this),super.__detach()}update(){this._value.animate(new this._animationClass((0,r.Z)((0,r.Z)({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}__getNativeConfig(){var e=new this._animationClass((0,r.Z)((0,r.Z)({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:P(),animationConfig:e,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}};var we=1;const Te=class extends V{constructor(e){super();var t=e||{x:0,y:0};"number"==typeof t.x&&"number"==typeof t.y?(this.x=new J(t.x),this.y=new J(t.y)):(d()(t.x instanceof J&&t.y instanceof J,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),this.x=t.x,this.y=t.y),this._listeners={}}setValue(e){this.x.setValue(e.x),this.y.setValue(e.y)}setOffset(e){this.x.setOffset(e.x),this.y.setOffset(e.y)}flattenOffset(){this.x.flattenOffset(),this.y.flattenOffset()}extractOffset(){this.x.extractOffset(),this.y.extractOffset()}__getValue(){return{x:this.x.__getValue(),y:this.y.__getValue()}}resetAnimation(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())}stopAnimation(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())}addListener(e){var t=String(we++),n=t=>{t.value,e(this.__getValue())};return this._listeners[t]={x:this.x.addListener(n),y:this.y.addListener(n)},t}removeListener(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]}removeAllListeners(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}getLayout(){return{left:this.x,top:this.y}}getTranslateTransform(){return[{translateX:this.x},{translateY:this.y}]}};var Ce=1;const Re=class{start(e,t,n,r,i){}stop(){this.__nativeId&&M.API.stopAnimation(this.__nativeId)}__getNativeAnimationConfig(){throw new Error("This animation type cannot be offloaded to native")}__debouncedOnEnd(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)}__startNativeAnimation(e){var t=Ce+":startAnimation";Ce+=1,M.API.setWaitingForIdentifier(t);try{var n=this.__getNativeAnimationConfig();e.__makeNative(n.platformConfig),this.__nativeId=M.generateNewAnimationId(),M.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),n,this.__debouncedOnEnd.bind(this))}catch(e){throw e}finally{M.API.unsetWaitingForIdentifier(t)}}},Ie=class extends Re{constructor(e){var t,n,r;super(),this._deceleration=null!==(t=e.deceleration)&&void 0!==t?t:.998,this._velocity=e.velocity,this._useNativeDriver=L(e),this.__isInteraction=null!==(n=e.isInteraction)&&void 0!==n?n:!this._useNativeDriver,this.__iterations=null!==(r=e.iterations)&&void 0!==r?r:1}__getNativeAnimationConfig(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}start(e,t,n,r,i){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}onUpdate(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));this._onUpdate(t),Math.abs(this._lastValue-t)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}stop(){super.stop(),this.__active=!1,n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}};function Oe(e){return 3.62*(e-30)+194}function ke(e){return 3*(e-8)+25}const Ne=function(e,t){return{stiffness:Oe(e),damping:ke(t)}},xe=function(e,t){function n(e,t,n){return(e-t)/(n-t)}function r(e,t,n){return t+e*(n-t)}var i=n(e/1.7,0,20);i=r(i,0,.8);var o,a,s,c=r(n(t/1.7,0,20),.5,200),l=function(e,t,n){return.01*e+(1-e)*t}(2*(o=i)-o*o,(a=c)<=18?(s=a,7e-4*Math.pow(s,3)-.031*Math.pow(s,2)+.64*s+1.28):a>18&&a<=44?function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2}(a):function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84}(a));return{stiffness:Oe(c),damping:ke(l)}};class Pe extends Re{constructor(e){var t,n,r,i,o,a,s,c,l,u,h;if(super(),this._overshootClamping=null!==(t=e.overshootClamping)&&void 0!==t&&t,this._restDisplacementThreshold=null!==(n=e.restDisplacementThreshold)&&void 0!==n?n:.001,this._restSpeedThreshold=null!==(r=e.restSpeedThreshold)&&void 0!==r?r:.001,this._initialVelocity=null!==(i=e.velocity)&&void 0!==i?i:0,this._lastVelocity=null!==(o=e.velocity)&&void 0!==o?o:0,this._toValue=e.toValue,this._delay=null!==(a=e.delay)&&void 0!==a?a:0,this._useNativeDriver=L(e),this._platformConfig=e.platformConfig,this.__isInteraction=null!==(s=e.isInteraction)&&void 0!==s?s:!this._useNativeDriver,this.__iterations=null!==(c=e.iterations)&&void 0!==c?c:1,void 0!==e.stiffness||void 0!==e.damping||void 0!==e.mass)d()(void 0===e.bounciness&&void 0===e.speed&&void 0===e.tension&&void 0===e.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),this._stiffness=null!==(l=e.stiffness)&&void 0!==l?l:100,this._damping=null!==(u=e.damping)&&void 0!==u?u:10,this._mass=null!==(h=e.mass)&&void 0!==h?h:1;else if(void 0!==e.bounciness||void 0!==e.speed){var p,f;d()(void 0===e.tension&&void 0===e.friction&&void 0===e.stiffness&&void 0===e.damping&&void 0===e.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var m=xe(null!==(p=e.bounciness)&&void 0!==p?p:8,null!==(f=e.speed)&&void 0!==f?f:12);this._stiffness=m.stiffness,this._damping=m.damping,this._mass=1}else{var v,g,y=Ne(null!==(v=e.tension)&&void 0!==v?v:40,null!==(g=e.friction)&&void 0!==g?g:7);this._stiffness=y.stiffness,this._damping=y.damping,this._mass=1}d()(this._stiffness>0,"Stiffness value must be greater than 0"),d()(this._damping>0,"Damping value must be greater than 0"),d()(this._mass>0,"Mass value must be greater than 0")}__getNativeAnimationConfig(){var e;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(e=this._initialVelocity)&&void 0!==e?e:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(e,t,n,r,i){if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=t,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,r instanceof Pe){var o=r.getInternalState();this._lastPosition=o.lastPosition,this._lastVelocity=o.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=o.lastTime}var a=()=>{this._useNativeDriver?this.__startNativeAnimation(i):this.onUpdate()};this._delay?this._timeout=setTimeout(a,this._delay):a()}getInternalState(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}onUpdate(){var e=Date.now();e>this._lastTime+64&&(e=this._lastTime+64);var t=(e-this._lastTime)/1e3;this._frameTime+=t;var n=this._damping,r=this._mass,i=this._stiffness,o=-this._initialVelocity,a=n/(2*Math.sqrt(i*r)),s=Math.sqrt(i/r),c=s*Math.sqrt(1-a*a),l=this._toValue-this._startPosition,u=0,d=0,h=this._frameTime;if(a<1){var p=Math.exp(-a*s*h);u=this._toValue-p*((o+a*s*l)/c*Math.sin(c*h)+l*Math.cos(c*h)),d=a*s*p*(Math.sin(c*h)*(o+a*s*l)/c+l*Math.cos(c*h))-p*(Math.cos(c*h)*(o+a*s*l)-c*l*Math.sin(c*h))}else{var f=Math.exp(-s*h);u=this._toValue-f*(l+(o+s*l)*h),d=f*(o*(h*s-1)+h*l*(s*s))}if(this._lastTime=e,this._lastPosition=u,this._lastVelocity=d,this._onUpdate(u),this.__active){var m=!1;this._overshootClamping&&0!==this._stiffness&&(m=this._startPosition<this._toValue?u>this._toValue:u<this._toValue);var v=Math.abs(d)<=this._restSpeedThreshold,g=!0;if(0!==this._stiffness&&(g=Math.abs(this._toValue-u)<=this._restDisplacementThreshold),m||v&&g)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}const De=Pe;var Le,Me=n(4837);const Fe=class extends Re{constructor(e){var t,n,r,i,o;super(),this._toValue=e.toValue,this._easing=null!==(t=e.easing)&&void 0!==t?t:(Le||(Le=Me.Z.inOut(Me.Z.ease)),Le),this._duration=null!==(n=e.duration)&&void 0!==n?n:500,this._delay=null!==(r=e.delay)&&void 0!==r?r:0,this.__iterations=null!==(i=e.iterations)&&void 0!==i?i:1,this._useNativeDriver=L(e),this._platformConfig=e.platformConfig,this.__isInteraction=null!==(o=e.isInteraction)&&void 0!==o?o:!this._useNativeDriver}__getNativeAnimationConfig(){for(var e=[],t=Math.round(this._duration/(1e3/60)),n=0;n<t;n++)e.push(this._easing(n/t));return e.push(this._easing(1)),{type:"frames",frames:e,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(e,t,n,r,i){this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=n;var o=()=>{0!==this._duration||this._useNativeDriver?(this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))):(this._onUpdate(this._toValue),this.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(o,this._delay):o()}onUpdate(){var e=Date.now();if(e>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}};var Ue=M.API,je={r:0,g:0,b:0,a:1},Ve=1;function Be(e){if(null==e)return null;if(ze(e))return e;var t=z()(e);if(null==t)return null;if("object"==typeof t){if(null!=t)return t}else if("number"==typeof t)return{r:(4278190080&t)>>>24,g:(16711680&t)>>>16,b:(65280&t)>>>8,a:(255&t)/255};return null}function ze(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b&&"number"==typeof e.a}class Ge extends V{constructor(e,t){super(),this._listeners={};var n=null!=e?e:je;if(function(e){return e&&e.r instanceof J&&e.g instanceof J&&e.b instanceof J&&e.a instanceof J}(n)){var r=n;this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a}else{var i,o=null!==(i=Be(n))&&void 0!==i?i:je,a=je;ze(o)?a=o:this.nativeColor=o,this.r=new J(a.r),this.g=new J(a.g),this.b=new J(a.b),this.a=new J(a.a)}(this.nativeColor||t&&t.useNativeDriver)&&this.__makeNative()}setValue(e){var t,n=!1;if(this.__isNative){var r=this.__getNativeTag();Ue.setWaitingForIdentifier(r.toString())}var i=null!==(t=Be(e))&&void 0!==t?t:je;if(ze(i)){var o=i;this.r.setValue(o.r),this.g.setValue(o.g),this.b.setValue(o.b),this.a.setValue(o.a),null!=this.nativeColor&&(this.nativeColor=null,n=!0)}else{var a=i;this.nativeColor!==a&&(this.nativeColor=a,n=!0)}if(this.__isNative){var s=this.__getNativeTag();n&&Ue.updateAnimatedNodeConfig(s,this.__getNativeConfig()),Ue.unsetWaitingForIdentifier(s.toString())}}setOffset(e){this.r.setOffset(e.r),this.g.setOffset(e.g),this.b.setOffset(e.b),this.a.setOffset(e.a)}flattenOffset(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}extractOffset(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}addListener(e){var t=String(Ve++),n=t=>{t.value,e(this.__getValue())};return this._listeners[t]={r:this.r.addListener(n),g:this.g.addListener(n),b:this.b.addListener(n),a:this.a.addListener(n)},t}removeListener(e){this.r.removeListener(this._listeners[e].r),this.g.removeListener(this._listeners[e].g),this.b.removeListener(this._listeners[e].b),this.a.removeListener(this._listeners[e].a),delete this._listeners[e]}removeAllListeners(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}stopAnimation(e){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),e&&e(this.__getValue())}resetAnimation(e){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),e&&e(this.__getValue())}__getValue(){return null!=this.nativeColor?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}__attach(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),super.__attach()}__detach(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),super.__detach()}__makeNative(e){this.r.__makeNative(e),this.g.__makeNative(e),this.b.__makeNative(e),this.a.__makeNative(e),super.__makeNative(e)}__getNativeConfig(){return{type:"color",r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}var He=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete(...arguments),e&&e(...arguments)}:e||t.onComplete},qe=function(e,t,n){if(e instanceof Te){var i=(0,r.Z)({},t),o=(0,r.Z)({},t);for(var a in t){var s=t[a],c=s.x,l=s.y;void 0!==c&&void 0!==l&&(i[a]=c,o[a]=l)}var u=n(e.x,i),d=n(e.y,o);return Ke([u,d],{stopTogether:!1})}if(e instanceof Ge){var h=(0,r.Z)({},t),p=(0,r.Z)({},t),f=(0,r.Z)({},t),m=(0,r.Z)({},t);for(var v in t){var g=t[v],y=g.r,b=g.g,E=g.b,_=g.a;void 0!==y&&void 0!==b&&void 0!==E&&void 0!==_&&(h[v]=y,p[v]=b,f[v]=E,m[v]=_)}var S=n(e.r,h),A=n(e.g,p),w=n(e.b,f),T=n(e.a,m);return Ke([S,A,w,T],{stopTogether:!1})}return null},We=function e(t,n){var i=function(e,t,n){n=He(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof j?r.track(new Ae(r,t.toValue,Fe,i,n)):r.animate(new Fe(i),n)};return qe(t,n,e)||{start:function(e){i(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var o=(0,r.Z)((0,r.Z)({},n),{},{iterations:e});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},Ze=function(e){var t=0;return{start:function(n){0===e.length?n&&n({finished:!0}):e[t].start((function r(i){i.finished&&++t!==e.length?e[t].start(r):n&&n(i)}))},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach(((e,n)=>{n<=t&&e.reset()})),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},Ke=function(e,t){var n=0,r={},i=!(t&&!1===t.stopTogether),o={start:function(t){n!==e.length?e.forEach(((a,s)=>{var c=function(a){if(r[s]=!0,++n===e.length)return n=0,void(t&&t(a));!a.finished&&i&&o.stop()};a?a.start(c):c({finished:!0})})):t&&t({finished:!0})},stop:function(){e.forEach(((e,t)=>{!r[t]&&e.stop(),r[t]=!0}))},reset:function(){e.forEach(((e,t)=>{e.reset(),r[t]=!1,n=0}))},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return o},Ye=function(e){return We(new J(0),{toValue:0,delay:e,duration:0,useNativeDriver:!1})};const Qe={Value:J,ValueXY:Te,Color:Ge,Interpolation:K,Node:j,decay:function e(t,n){var i=function(e,t,n){n=He(n,t);var r=e,i=t;r.stopTracking(),r.animate(new Ie(i),n)};return qe(t,n,e)||{start:function(e){i(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var o=(0,r.Z)((0,r.Z)({},n),{},{iterations:e});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:We,spring:function e(t,n){var i=function(e,t,n){n=He(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof j?r.track(new Ae(r,t.toValue,De,i,n)):r.animate(new De(i),n)};return qe(t,n,e)||{start:function(e){i(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var o=(0,r.Z)((0,r.Z)({},n),{},{iterations:e});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},add:function(e,t){return new ge(e,t)},subtract:function(e,t){return new Se(e,t)},divide:function(e,t){return new be(e,t)},multiply:function(e,t){return new _e(e,t)},modulo:function(e,t){return new Ee(e,t)},diffClamp:function(e,t,n){return new ye(e,t,n)},delay:Ye,sequence:Ze,parallel:Ke,stagger:function(e,t){return Ke(t.map(((t,n)=>Ze([Ye(e*n),t]))))},loop:function(e,t){var n=void 0===t?{}:t,r=n.iterations,i=void 0===r?-1:r,o=n.resetBeforeIteration,a=void 0===o||o,s=!1,c=0;return{start:function(t){e&&0!==i?e._isUsingNativeDriver()?e._startNativeLoop(i):function n(r){void 0===r&&(r={finished:!0}),s||c===i||!1===r.finished?t&&t(r):(c++,a&&e.reset(),e.start(n))}():t&&t({finished:!0})},stop:function(){s=!0,e.stop()},reset:function(){c=0,s=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}},event:function(e,t){var n=new $(e,t);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:ce,attachNativeEvent:X,forkEvent:function(e,t){return e?e instanceof $?(e.__addListener(t),e):function(){"function"==typeof e&&e(...arguments),t(...arguments)}:t},unforkEvent:function(e,t){e&&e instanceof $&&e.__removeListener(t)},Event:$};var Je=!1;function Xe(e){return t=>{var n=null==t?t:function(){if(Je)console.warn("Ignoring recursive animation callback when running mock animations");else{Je=!0;try{t(...arguments)}finally{Je=!1}}};e(n)}}var $e={start:()=>{},stop:()=>{},reset:()=>{},_startNativeLoop:()=>{},_isUsingNativeDriver:()=>!1},et=e=>(0,r.Z)((0,r.Z)({},$e),{},{start:Xe((t=>{e.forEach((e=>e.start())),null==t||t({finished:!0})}))});const tt={Value:J,ValueXY:Te,Color:Ge,Interpolation:K,Node:j,decay:function(e,t){return $e},timing:function(e,t){var n=e;return(0,r.Z)((0,r.Z)({},$e),{},{start:Xe((e=>{n.setValue(t.toValue),null==e||e({finished:!0})}))})},spring:function(e,t){var n=e;return(0,r.Z)((0,r.Z)({},$e),{},{start:Xe((e=>{n.setValue(t.toValue),null==e||e({finished:!0})}))})},add:Qe.add,subtract:Qe.subtract,divide:Qe.divide,multiply:Qe.multiply,modulo:Qe.modulo,diffClamp:Qe.diffClamp,delay:function(e){return $e},sequence:function(e){return et(e)},parallel:function(e,t){return et(e)},stagger:function(e,t){return et(t)},loop:function(e,t){return(void 0===t?{}:t).iterations,$e},event:Qe.event,createAnimatedComponent:ce,attachNativeEvent:X,forkEvent:Qe.forkEvent,unforkEvent:Qe.unforkEvent,Event:$};var nt=i.Z.isTesting?tt:Qe;const rt=(0,r.Z)({FlatList:le,Image:ue,ScrollView:he,SectionList:fe,Text:me,View:ve},nt)},8227:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b}),n(3063);var r=n(3759),i=n.n(r),o=n(6113),a=n(7462),s=n(7294),c=n(3457),l=n(7177),u=s.createContext(null),d=s.forwardRef(((e,t)=>{var n=e.children,r=e.WrapperComponent,i=s.createElement(l.Z,{children:n,key:1,style:f.appContainer});return r&&(i=s.createElement(r,null,i)),s.createElement(u.Provider,{value:e.rootTag},s.createElement(l.Z,{ref:t,style:f.appContainer},i))}));d.displayName="AppContainer";const h=d;var p,f=c.Z.create({appContainer:{flex:1,pointerEvents:"box-none"}}),m=n(1512),v={},g={},y=e=>e();class b{static getAppKeys(){return Object.keys(g)}static getApplication(e,t){return i()(g[e]&&g[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),g[e].getApplication(t)}static registerComponent(e,t){return g[e]={getApplication:e=>{return n=y(t),r=e?e.initialProps:v,i=p&&p(e),{element:s.createElement(h,{WrapperComponent:i,rootTag:{}},s.createElement(n,r)),getStyleElement:e=>{var t=c.Z.getSheet();return s.createElement("style",(0,a.Z)({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}};var n,r,i},run:e=>{return n=y(t),r=p&&p(e),o=e.callback,c=(a={hydrate:e.hydrate||!1,initialProps:e.initialProps||v,mode:e.mode||"concurrent",rootTag:e.rootTag}).initialProps,l=a.mode,u=a.rootTag,d=a.hydrate?"concurrent"===l?m.ZB:m.hS:"concurrent"===l?m.sY:m.ZP,i()(u,"Expect to have a valid rootTag, instead got ",u),d(s.createElement(h,{WrapperComponent:r,ref:o,rootTag:u},s.createElement(n,c)),u);var n,r,o,a,c,l,u,d}},e}static registerConfig(e){e.forEach((e=>{var t=e.appKey,n=e.component,r=e.run;r?b.registerRunnable(t,r):(i()(n,"No component provider passed in"),b.registerComponent(t,n))}))}static registerRunnable(e,t){return g[e]={run:t},e}static runApplication(e,t){return i()(g[e]&&g[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),g[e].run(t)}static setComponentProviderInstrumentationHook(e){y=e}static setWrapperComponentProvider(e){p=e}static unmountApplicationComponentAtRootTag(e){(0,o.Z)(e)}}},7878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(3759),i=n.n(r),o=n(6882),a=n(3145),s=a.Z&&!document.hasOwnProperty("hidden")&&document.hasOwnProperty("webkitHidden"),c=["change","memoryWarning"],l=s?"webkitvisibilitychange":"visibilitychange",u=s?"webkitVisibilityState":"visibilityState",d="active",h=null;class p{static get currentState(){if(!p.isAvailable)return d;switch(document[u]){case"hidden":case"prerender":case"unloaded":return"background";default:return d}}static addEventListener(e,t){if(p.isAvailable&&(i()(-1!==c.indexOf(e),'Trying to subscribe to unknown event: "%s"',e),"change"===e))return h||(h=new o.Z,document.addEventListener(l,(()=>{h&&h.emit("change",p.currentState)}),!1)),h.addListener(e,t)}}p.isAvailable=a.Z&&document[u]},177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(3063),i=n(7462),o=n(3366),a=n(7294),s=n(590),c=n(3457),l=n(7177),u=["aria-readonly","color","disabled","onChange","onValueChange","readOnly","style","value"],d=a.forwardRef(((e,t)=>{var n=e["aria-readonly"],r=e.color,c=e.disabled,d=e.onChange,p=e.onValueChange,f=e.readOnly,m=e.style,v=e.value,g=(0,o.Z)(e,u),y=a.createElement(l.Z,{style:[h.fakeControl,v&&h.fakeControlChecked,v&&r&&{backgroundColor:r,borderColor:r},c&&h.fakeControlDisabled,v&&c&&h.fakeControlCheckedAndDisabled]}),b=(0,s.Z)("input",{checked:v,disabled:c,onChange:function(e){var t=e.nativeEvent.target.checked;e.nativeEvent.value=t,d&&d(e),p&&p(t)},readOnly:!0===f||!0===n||!0===g.accessibilityReadOnly,ref:t,style:[h.nativeControl,h.cursorInherit],type:"checkbox"});return a.createElement(l.Z,(0,i.Z)({},g,{"aria-disabled":c,"aria-readonly":n,style:[h.root,m,c&&h.cursorDefault]}),y,b)}));d.displayName="CheckBox";var h=c.Z.create({root:{cursor:"pointer",height:16,userSelect:"none",width:16},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},fakeControl:{alignItems:"center",backgroundColor:"#fff",borderColor:"#657786",borderRadius:2,borderStyle:"solid",borderWidth:2,height:"100%",justifyContent:"center",width:"100%"},fakeControlChecked:{backgroundColor:"#009688",backgroundImage:'url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMSAxIgogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICA8cGF0aAogICAgIGQ9Ik0gMC4wNDAzODA1OSwwLjYyNjc3NjcgMC4xNDY0NDY2MSwwLjUyMDcxMDY4IDAuNDI5Mjg5MzIsMC44MDM1NTMzOSAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IE0gMC4yMTcxNTcyOSwwLjgwMzU1MzM5IDAuODUzNTUzMzksMC4xNjcxNTcyOSAwLjk1OTYxOTQxLDAuMjczMjIzMyAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IgogICAgIGlkPSJyZWN0Mzc4MCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K")',backgroundRepeat:"no-repeat",borderColor:"#009688"},fakeControlDisabled:{borderColor:"#CCD6DD"},fakeControlCheckedAndDisabled:{backgroundColor:"#AAB8C2",borderColor:"#AAB8C2"},nativeControl:(0,r.Z)((0,r.Z)({},c.Z.absoluteFillObject),{},{height:"100%",margin:0,appearance:"none",padding:0,width:"100%"})});const p=d},7196:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>i});class i{static isAvailable(){return void 0===r&&(r="function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),r}static getString(){return Promise.resolve("")}static setString(e){var t=!1,n=document.body;if(n){var r=document.createElement("span");r.textContent=e,r.style.opacity="0",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.userSelect="auto",n.appendChild(r);var i=window.getSelection();i.removeAllRanges();var o=document.createRange();o.selectNodeContents(r),i.addRange(o);try{document.execCommand("copy"),t=!0}catch(e){}i.removeAllRanges(),n.removeChild(r)}return t}}},5998:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(3759),i=n.n(r),o=n(3145),a={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},s={},c=o.Z;function l(){if(o.Z){var e,t,n=window;if(n.visualViewport){var r=n.visualViewport;e=Math.round(r.height*r.scale),t=Math.round(r.width*r.scale)}else{var i=n.document.documentElement;e=i.clientHeight,t=i.clientWidth}a.window={fontScale:1,height:e,scale:n.devicePixelRatio||1,width:t},a.screen={fontScale:1,height:n.screen.height,scale:n.devicePixelRatio||1,width:n.screen.width}}}function u(){l(),Array.isArray(s.change)&&s.change.forEach((e=>e(a)))}class d{static get(e){return c&&(c=!1,l()),i()(a[e],"No dimension set for key "+e),a[e]}static set(e){e&&(o.Z?i()(!1,"Dimensions cannot be set in the browser"):(null!=e.screen&&(a.screen=e.screen),null!=e.window&&(a.window=e.window)))}static addEventListener(e,t){return s[e]=s[e]||[],s[e].push(t),{remove:()=>{this.removeEventListener(e,t)}}}static removeEventListener(e,t){Array.isArray(s[e])&&(s[e]=s[e].filter((e=>e!==t)))}}o.Z&&(window.visualViewport?window.visualViewport.addEventListener("resize",u,!1):window.addEventListener("resize",u,!1))},4837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r,i=.1,o="function"==typeof Float32Array;function a(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function c(e){return 3*e}function l(e,t,n){return((a(t,n)*e+s(t,n))*e+c(t))*e}function u(e,t,n){return 3*a(t,n)*e*e+2*s(t,n)*e+c(t)}function d(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var a=o?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(var s=0;s<11;++s)a[s]=l(s*i,e,n);return function(o){return e===t&&n===r?o:0===o?0:1===o?1:l(function(t){for(var r=0,o=1;10!==o&&a[o]<=t;++o)r+=i;--o;var s=r+(t-a[o])/(a[o+1]-a[o])*i,c=u(s,e,n);return c>=.001?function(e,t,n,r){for(var i=t,o=0;o<4;++o){var a=u(i,n,r);if(0===a)return i;i-=(l(i,n,r)-e)/a}return i}(t,s,e,n):0===c?s:function(e,t,n,r,i){var o,a,s=0,c=t,u=n;do{(o=l(a=c+(u-c)/2,r,i)-e)>0?u=a:c=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+i,e,n)}(o),t,r)}}class h{static step0(e){return e>0?1:0}static step1(e){return e>=1?1:0}static linear(e){return e}static ease(e){return r||(r=h.bezier(.42,0,1,1)),r(e)}static quad(e){return e*e}static cubic(e){return e*e*e}static poly(e){return t=>Math.pow(t,e)}static sin(e){return 1-Math.cos(e*Math.PI/2)}static circle(e){return 1-Math.sqrt(1-e*e)}static exp(e){return Math.pow(2,10*(e-1))}static elastic(e){void 0===e&&(e=1);var t=e*Math.PI;return e=>1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)}static back(e){return void 0===e&&(e=1.70158),t=>t*t*((e+1)*t-e)}static bounce(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var n=e-2.25/2.75;return 7.5625*n*n+.9375}var r=e-2.625/2.75;return 7.5625*r*r+.984375}static bezier(e,t,n,r){return d(e,t,n,r)}static in(e){return e}static out(e){return t=>1-e(1-t)}static inOut(e){return t=>t<.5?e(2*t)/2:1-e(2*(1-t))/2}}const p=h},1373:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(7462),i=n(3366),o=n(3063),a=n(7177),s=n(3457);const c=function e(t,n,r){if(void 0===r&&(r=-1),0===r)return!0;if(t===n)return!1;if("function"==typeof t&&"function"==typeof n)return!1;if("object"!=typeof t||null===t)return t!==n;if("object"!=typeof n||null===n)return!0;if(t.constructor!==n.constructor)return!0;if(Array.isArray(t)){var i=t.length;if(n.length!==i)return!0;for(var o=0;o<i;o++)if(e(t[o],n[o],r-1))return!0}else{for(var a in t)if(e(t[a],n[a],r-1))return!0;for(var s in n)if(void 0===t[s]&&void 0!==n[s])return!0}return!1};var l=n(2805),u=n(3759),d=n.n(u),h=n(7294),p=n(3903),f=n(4282),m=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function v(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(i=t[n])||m(r)&&m(i)))return!1;var r,i;return!0}var g=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function y(e){return null!=e?e:1}class b extends h.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=e=>{this._listRef=e},this._getItem=(e,t)=>{var n=y(this.props.numColumns);if(n>1){for(var r=[],i=0;i<n;i++){var o=t*n+i;if(o<e.length){var a=e[o];r.push(a)}}return r}return e[t]},this._getItemCount=e=>{if(null!=e&&function(e){return"number"==typeof Object(e).length}(e)){var t=y(this.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},this._keyExtractor=(e,t)=>{var n,r=y(this.props.numColumns),i=null!==(n=this.props.keyExtractor)&&void 0!==n?n:f.jn;return r>1?(d()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",r),e.map(((e,n)=>i(e,t*r+n))).join(":")):i(e,t)},this._renderer=(e,t,n,r,i)=>{var o=y(r),s=n=>e?h.createElement(e,n):t?t(n):null,c=e=>{if(o>1){var t=e.item,r=e.index;return d()(Array.isArray(t),"Expected array of items with numColumns > 1"),h.createElement(a.Z,{style:[E.row,n]},t.map(((t,n)=>{var i=s({item:t,index:r*o+n,separators:e.separators});return null!=i?h.createElement(h.Fragment,{key:n},i):null})))}return s(e)};return e?{ListItemComponent:c}:{renderItem:c}},this._memoizedRenderer=function(e,t){void 0===t&&(t=v);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map((e=>({viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(e.onViewableItemsChanged)}))):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){d()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),d()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),d()(!c(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),d()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var t=e.getItem,n=e.getItemCount,r=e.horizontal,i=e.columnWrapperStyle,o=e.onViewableItemsChanged,a=e.viewabilityConfigCallbackPairs,s=y(this.props.numColumns);d()(!t&&!n,"FlatList does not support custom data formats."),s>1?d()(!r,"numColumns does not support horizontal."):d()(!i,"columnWrapperStyle not supported for single column lists"),d()(!(o&&a),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,t){var n,r=y(this.props.numColumns),i=null!==(n=this.props.keyExtractor)&&void 0!==n?n:f.jn;t.item.forEach(((n,a)=>{d()(null!=t.index,"Missing index!");var s=t.index*r+a;e.push((0,o.Z)((0,o.Z)({},t),{},{item:n,key:i(n,s),index:s}))}))}_createOnViewableItemsChanged(e){return t=>{var n=y(this.props.numColumns);if(e)if(n>1){var r=[],i=[];t.viewableItems.forEach((e=>this._pushMultiColumnViewable(i,e))),t.changed.forEach((e=>this._pushMultiColumnViewable(r,e))),e({viewableItems:i,changed:r})}else e(t)}}render(){var e,t=this.props,n=t.numColumns,o=t.columnWrapperStyle,a=t.removeClippedSubviews,s=t.strictMode,c=void 0!==s&&s,u=(0,i.Z)(t,g),d=c?this._memoizedRenderer:this._renderer;return h.createElement(p.Z,(0,r.Z)({},u,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=a,null!=e?e:"android"===l.Z.OS)},d(this.props.ListItemComponent,this.props.renderItem,o,n,this.props.extraData)))}}var E=s.Z.create({row:{flexDirection:"row"}});const _=b},5900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(7462),i=n(3366),o=n(7294),a=n(2762),s=n(3457),c=n(7177),l=["children","style","imageStyle","imageRef"],u={},d=(0,o.forwardRef)(((e,t)=>{var n=e.children,d=e.style,h=void 0===d?u:d,p=e.imageStyle,f=e.imageRef,m=(0,i.Z)(e,l),v=s.Z.flatten(h),g=v.height,y=v.width;return o.createElement(c.Z,{ref:t,style:h},o.createElement(a.Z,(0,r.Z)({},m,{ref:f,style:[{width:y,height:g,zIndex:-1},s.Z.absoluteFill,p]})),n)}));d.displayName="ImageBackground";const h=d},2762:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(3063),i=n(7462),o=n(3366),a=n(7294),s=n(590),c=[];function l(e){return c[e-1]}var u=n(3817),d=/^data:/;class h{static has(e){var t=h._entries;return d.test(e)||Boolean(t[e])}static add(e){var t=h._entries,n=Date.now();t[e]?(t[e].lastUsedTimestamp=n,t[e].refCount+=1):t[e]={lastUsedTimestamp:n,refCount:1}}static remove(e){var t=h._entries;t[e]&&(t[e].refCount-=1),h._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e,t,n=h._entries,r=Object.keys(n);r.length+1>h._maximumEntries&&(r.forEach((r=>{var i=n[r];(!t||i.lastUsedTimestamp<t.lastUsedTimestamp)&&0===i.refCount&&(e=r,t=i)})),e&&delete n[e])}}h._maximumEntries=256,h._entries={};var p=0,f={},m={abort(e){var t=f[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete f[""+e])},getSize(e,t,n){var r=!1,i=setInterval(a,16),o=m.load(e,a,(function(){"function"==typeof n&&n(),m.abort(o),clearInterval(i)}));function a(){var e=f[""+o];if(e){var n=e.naturalHeight,a=e.naturalWidth;n&&a&&(t(a,n),r=!0)}r&&(m.abort(o),clearInterval(i))}},has:e=>h.has(e),load(e,t,n){p+=1;var r=new window.Image;return r.onerror=n,r.onload=e=>{var n=()=>t({nativeEvent:e});"function"==typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,f[""+p]=r,p},prefetch:e=>new Promise(((t,n)=>{m.load(e,(()=>{h.add(e),h.remove(e),t()}),n)})),queryCache(e){var t={};return e.forEach((e=>{h.has(e)&&(t[e]="disk/memory")})),Promise.resolve(t)}};const v=m;var g=n(1302),y=n(3457),b=n(4370),E=n(7177),_=n(8506),S=["aria-label","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],A="LOADED",w="LOADING",T=0,C=/^(data:image\/svg\+xml;utf8,)(.*)/;function R(e){var t=null;if("number"==typeof e){var n=l(e);if(null==n)throw new Error('Image: asset with ID "'+e+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var i=g.Z.get();r=n.scales.reduce(((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e))}var o=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+o+"."+n.type:""}else"string"==typeof e?t=e:e&&"string"==typeof e.uri&&(t=e.uri);if(t){var a=t.match(C);if(a){var s=a[1],c=a[2];return""+s+encodeURIComponent(c)}}return t}var I=a.forwardRef(((e,t)=>{var n=e["aria-label"],r=e.blurRadius,c=e.defaultSource,d=e.draggable,h=e.onError,p=e.onLayout,f=e.onLoad,m=e.onLoadEnd,g=e.onLoadStart,C=e.pointerEvents,I=e.source,O=e.style,x=(0,o.Z)(e,S),P=a.useState((()=>{var e=R(I);return null!=e&&v.has(e)?A:"IDLE"})),D=P[0],L=P[1],M=a.useState({}),F=M[0],U=M[1],j=a.useContext(b.Z),V=a.useRef(null),B=a.useRef(T++),z=a.useRef(null),G=D===A||D===w&&null==c,H=function(e,t,n,r){var i=y.Z.flatten(e),o=i.filter,a=i.resizeMode,s=i.shadowOffset,c=i.tintColor;i.resizeMode&&(0,_.O)("Image.style.resizeMode","Image: style.resizeMode is deprecated. Please use props.resizeMode."),i.tintColor&&(0,_.O)("Image.style.tintColor","Image: style.tintColor is deprecated. Please use props.tintColor.");var l=[],d=null;if(o&&l.push(o),t&&l.push("blur("+t+"px)"),s){var h=(0,u.Lm)(i);h&&l.push("drop-shadow("+h+")")}return(r||c)&&null!=n&&l.push("url(#tint-"+n+")"),l.length>0&&(d=l.join(" ")),[a,d,c]}(O,r,B.current,e.tintColor),q=H[0],W=H[1],Z=H[2],K=e.resizeMode||q||"cover",Y=e.tintColor||Z,Q=G?I:c,J=R(Q),X=function(e){if("number"==typeof e){var t=l(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"==typeof e)return{height:e.height,width:e.width}}(Q),$=J?'url("'+J+'")':null,ee=function(){if(null!=V.current&&("center"===K||"repeat"===K)){var e=V.current,t=e.naturalHeight,n=e.naturalWidth,r=F.height,i=F.width;if(t&&n&&r&&i){var o=Math.min(1,i/n,r/t);return Math.ceil(o*n)+"px "+Math.ceil(o*t)+"px"}}}(),te=J?(0,s.Z)("img",{alt:n||"",style:k.accessibilityImage$raw,draggable:d||!1,ref:V,src:J}):null,ne=R(I);return a.useEffect((()=>{function e(){null!=z.current&&(v.abort(z.current),z.current=null)}return e(),null!=ne&&(L(w),g&&g(),z.current=v.load(ne,(function(e){L(A),f&&f(e),m&&m()}),(function(){L("ERRORED"),h&&h({nativeEvent:{error:"Failed to load resource "+ne+" (404)"}}),m&&m()}))),e}),[ne,z,L,h,f,m,g]),a.createElement(E.Z,(0,i.Z)({},x,{"aria-label":n,onLayout:function(e){if("center"===K||"repeat"===K||p){var t=e.nativeEvent.layout;p&&p(e),U(t)}},pointerEvents:C,ref:t,style:[k.root,j&&k.inline,X,O,k.undo,{boxShadow:null}]}),a.createElement(E.Z,{style:[k.image,N[K],{backgroundImage:$,filter:W},null!=ee&&{backgroundSize:ee}],suppressHydrationWarning:!0}),te,function(e,t){return e&&null!=t?a.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},a.createElement("defs",null,a.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},a.createElement("feFlood",{floodColor:""+e,key:e}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"atop"})))):null}(Y,B.current))}));I.displayName="Image";var O=I;O.getSize=function(e,t,n){v.getSize(e,t,n)},O.prefetch=function(e){return v.prefetch(e)},O.queryCache=function(e){return v.queryCache(e)};var k=y.Z.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:(0,r.Z)((0,r.Z)({},y.Z.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:(0,r.Z)((0,r.Z)({},y.Z.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),N=y.Z.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});const x=O},4591:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(3759),i=n.n(r),o=n(3063);var a=n(6882),s=n(3145).Z&&void 0!==window.requestIdleCallback,c=s?window.requestIdleCallback:function(e,t){return setTimeout((()=>{var t=Date.now();e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)};s&&window.cancelIdleCallback;const l=c;var u=new a.Z,d={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(e){var t=[],n=new Promise((n=>{b(),e&&t.push(e),t.push({run:n,name:"resolve "+(e&&e.name||"?")}),m.enqueueTasks(t)}));return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{m.cancelTasks(t)}}},createInteractionHandle(){b();var e=++g;return p.add(e),e},clearInteractionHandle(e){i()(!!e,"Must provide a handle to clear."),b(),p.delete(e),f.add(e)},addListener:u.addListener.bind(u),setDeadline(e){y=e}},h=new Set,p=new Set,f=new Set,m=new class{constructor(e){var t=e.onMoreTasks;this._onMoreTasks=t,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach((e=>this.enqueue(e)))}cancelTasks(e){this._queueStack=this._queueStack.map((t=>(0,o.Z)((0,o.Z)({},t),{},{tasks:t.tasks.filter((t=>-1===e.indexOf(t)))}))).filter(((e,t)=>e.tasks.length>0||0===t))}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{"object"==typeof t&&t.gen?this._genPromise(t):"object"==typeof t&&t.run?t.run():(i()("function"==typeof t,"Expected Function, SimpleTask, or PromiseTask, but got:\n"+JSON.stringify(t,null,2)),t())}catch(e){throw e.message="TaskQueue: Error with task "+(t.name||"")+": "+e.message,e}}}_getCurrentQueue(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}_genPromise(e){var t=this._queueStack.push({tasks:[],popable:!1})-1,n=this._queueStack[t];e.gen().then((()=>{n.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()})).catch((t=>{setTimeout((()=>{throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t}),0)}))}}({onMoreTasks:b}),v=0,g=0,y=-1;function b(){v||(v=y>0?setTimeout(E):l(E))}function E(){v=0;var e=h.size;p.forEach((e=>h.add(e))),f.forEach((e=>h.delete(e)));var t=h.size;if(0!==e&&0===t?u.emit(d.Events.interactionComplete):0===e&&0!==t&&u.emit(d.Events.interactionStart),0===t)for(var n=Date.now();m.hasTasksToProcess();)if(m.processNext(),y>0&&Date.now()-n>=y){b();break}p.clear(),f.clear()}const _=d},3668:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1763);const i={addListener:()=>({remove:()=>{}}),dismiss(){(0,r.Z)()},removeAllListeners(){},removeListener(){}}},2286:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3759),i=n.n(r),o=n(3145),a=o.Z?window.location.href:"";const s=new class{constructor(){this._eventCallbacks={}}_dispatchEvent(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this._eventCallbacks[e];null!=i&&Array.isArray(i)&&i.map((e=>{e(...n)}))}addEventListener(e,t){var n=this;return n._eventCallbacks[e]||(n._eventCallbacks[e]=[t]),n._eventCallbacks[e].push(t),{remove(){var r=n._eventCallbacks[e].filter((e=>e.toString()!==t.toString()));n._eventCallbacks[e]=r}}}removeEventListener(e,t){console.error("Linking.removeEventListener('"+e+"', ...): Method has been deprecated. Please instead use `remove()` on the subscription returned by `Linking.addEventListener`.");var n=this._eventCallbacks[e].filter((e=>e.toString()!==t.toString()));this._eventCallbacks[e]=n}canOpenURL(){return Promise.resolve(!0)}getInitialURL(){return Promise.resolve(a)}openURL(e,t){1===arguments.length&&(t="_blank");try{return((e,t)=>{if(o.Z){var n=new URL(e,window.location).toString();0===n.indexOf("tel:")?window.location=n:window.open(n,t,"noopener")}})(e,t),this._dispatchEvent("onOpen",e),Promise.resolve()}catch(e){return Promise.reject(e)}}_validateURL(e){i()("string"==typeof e,"Invalid URL: should be a string. Was: "+e),i()(e,"Invalid URL: cannot be empty")}}},9176:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(7462),i=n(3366),o=n(7294),a=n(3935),s=n(3145);const c=function(e){var t=e.children,n=o.useRef(null);if(s.Z&&!n.current){var r=document.createElement("div");r&&document.body&&(document.body.appendChild(r),n.current=r)}return o.useEffect((()=>{if(s.Z)return()=>{document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}}),[]),n.current&&s.Z?a.createPortal(t,n.current):null};var l=n(3457),u=n(590);function d(e,t){return"slide"===e?t?p:f:"fade"===e?t?m:v:t?h.container:h.hidden}var h=l.Z.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:"300ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:"300ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:"translateY(0%)",animationKeyframes:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0%)"}}},slideOut:{transform:"translateY(100%)",animationKeyframes:{"0%":{transform:"translateY(0%)"},"100%":{transform:"translateY(100%)"}}},hidden:{opacity:0}}),p=[h.container,h.animatedIn,h.slideIn],f=[h.container,h.animatedOut,h.slideOut],m=[h.container,h.animatedIn,h.fadeIn],v=[h.container,h.animatedOut,h.fadeOut];const g=function(e){var t=e.animationType,n=e.children,r=e.onDismiss,i=e.onShow,a=e.visible,s=o.useState(!1),c=s[0],l=s[1],p=o.useRef(!1),f=t&&"none"!==t,m=o.useCallback((e=>{e&&e.currentTarget!==e.target||(a?i&&i():(l(!1),r&&r()))}),[r,i,a]);return o.useEffect((()=>{a&&l(!0),a===p.current||f||m(),p.current=a}),[f,a,m]),c||a?(0,u.Z)("div",{style:c?d(t,a):h.hidden,onAnimationEnd:m,children:n}):null};var y=n(7177),b=["active","children","onRequestClose","transparent"],E=o.forwardRef(((e,t)=>{var n=e.active,a=e.children,c=e.onRequestClose,l=e.transparent,u=(0,i.Z)(e,b);o.useEffect((()=>{if(s.Z){var e=e=>{n&&"Escape"===e.key&&(e.stopPropagation(),c&&c())};return document.addEventListener("keyup",e,!1),()=>document.removeEventListener("keyup",e,!1)}}),[n,c]);var d=o.useMemo((()=>[_.modal,l?_.modalTransparent:_.modalOpaque]),[l]);return o.createElement(y.Z,(0,r.Z)({},u,{"aria-modal":!0,ref:t,role:n?"dialog":null,style:d}),o.createElement(y.Z,{style:_.container},a))})),_=l.Z.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}});const S=E;var A=n(7505),w=()=>(0,u.Z)("div",{role:"none",tabIndex:0,style:O.focusBracket});function T(e){if(!s.Z)return!1;try{e.focus()}catch(e){}return document.activeElement===e}function C(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(T(n)||C(n))return!0}return!1}function R(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(T(n)||R(n))return!0}return!1}const I=e=>{var t=e.active,n=e.children,r=o.useRef(),i=o.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return o.useEffect((()=>{if(s.Z){var e=()=>{if(null!=r.current&&!i.current.trapFocusInProgress&&t){try{if(i.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!r.current.contains(document.activeElement)){var e=C(r.current);i.current.lastFocusedElement===document.activeElement&&(e=R(r.current)),!e&&null!=r.current&&document.activeElement&&A.Z.focus(r.current)}}finally{i.current.trapFocusInProgress=!1}i.current.lastFocusedElement=document.activeElement}};return e(),document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)}}),[t]),o.useEffect((function(){if(s.Z){var e=document.activeElement;return function(){e&&document.contains(e)&&A.Z.focus(e)}}}),[]),o.createElement(o.Fragment,null,o.createElement(w,null),o.createElement(y.Z,{ref:r},n),o.createElement(w,null))};var O=l.Z.create({focusBracket:{outlineStyle:"none"}}),k=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],N=0,x=[],P={};function D(){if(0!==x.length){var e=x[x.length-1];x.forEach((t=>{t in P&&P[t](t===e)}))}}function L(e){e in P&&(P[e](!1),delete P[e]);var t=x.indexOf(e);-1!==t&&(x.splice(t,1),D())}const M=o.forwardRef(((e,t)=>{var n=e.animationType,a=e.children,s=e.onDismiss,l=e.onRequestClose,u=e.onShow,d=e.transparent,h=e.visible,p=void 0===h||h,f=(0,i.Z)(e,k),m=o.useMemo((()=>N++),[]),v=o.useState(!1),y=v[0],b=v[1],E=o.useCallback((()=>{L(m),s&&s()}),[m,s]),_=o.useCallback((()=>{!function(e,t){L(e),x.push(e),P[e]=t,D()}(m,b),u&&u()}),[m,u]);return o.useEffect((()=>()=>L(m)),[m]),o.createElement(c,null,o.createElement(g,{animationType:n,onDismiss:E,onShow:_,visible:p},o.createElement(I,{active:y},o.createElement(S,(0,r.Z)({},f,{active:y,onRequestClose:l,ref:t,transparent:d}),a))))}))},1525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={UIManager:n(7505).Z}},3795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(4591),i={centroidDimension:function(e,t,n,r){var o=e.touchBank,a=0,s=0,c=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==c)c.touchActive&&c.currentTimeStamp>t&&(a+=r&&n?c.currentPageX:r&&!n?c.currentPageY:!r&&n?c.previousPageX:c.previousPageY,s=1);else for(var l=0;l<o.length;l++){var u=o[l];null!=u&&u.touchActive&&u.currentTimeStamp>=t&&(a+=r&&n?u.currentPageX:r&&!n?u.currentPageY:!r&&n?u.previousPageX:u.previousPageY,s++)}return s>0?a/s:i.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return i.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return i.centroidDimension(e,0,!1,!0)},noCentroid:-1};const o=i;var a=o.currentCentroidXOfTouchesChangedAfter,s=o.currentCentroidYOfTouchesChangedAfter,c=o.previousCentroidXOfTouchesChangedAfter,l=o.previousCentroidYOfTouchesChangedAfter,u=o.currentCentroidX,d=o.currentCentroidY,h={_initializeGestureState(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=a(t,e._accountsForMovesUpTo),e.moveY=s(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,r=c(t,n),i=a(t,n),o=l(t,n),u=s(t,n),d=e.dx+(i-r),h=e.dy+(u-o),p=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(d-e.dx)/p,e.vy=(h-e.dy)/p,e.dx=d,e.dy=h,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create(e){var t={handle:null,shouldCancelClick:!1,timeout:null},n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:t=>null!=e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n),onMoveShouldSetResponder:t=>null!=e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n),onStartShouldSetResponderCapture:t=>(1===t.nativeEvent.touches.length&&h._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,null!=e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)),onMoveShouldSetResponderCapture(t){var r=t.touchHistory;return n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(h._updateGestureStateOnMove(n,r),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n))},onResponderGrant:i=>(t.handle||(t.handle=r.Z.createInteractionHandle()),t.timeout&&function(e){clearTimeout(e.timeout)}(t),t.shouldCancelClick=!0,n.x0=u(i.touchHistory),n.y0=d(i.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(i,n),null==e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder(i,n)),onResponderReject(r){p(t,e.onPanResponderReject,r,n)},onResponderRelease(r){p(t,e.onPanResponderRelease,r,n),f(t),h._initializeGestureState(n)},onResponderStart(t){var r=t.touchHistory;n.numberActiveTouches=r.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove(t){var r=t.touchHistory;n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(h._updateGestureStateOnMove(n,r),e.onPanResponderMove&&e.onPanResponderMove(t,n))},onResponderEnd(r){var i=r.touchHistory;n.numberActiveTouches=i.numberActiveTouches,p(t,e.onPanResponderEnd,r,n)},onResponderTerminate(r){p(t,e.onPanResponderTerminate,r,n),f(t),h._initializeGestureState(n)},onResponderTerminationRequest:t=>null==e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n),onClickCapture:e=>{!0===t.shouldCancelClick&&(e.stopPropagation(),e.preventDefault())}},getInteractionHandle:()=>t.handle}}};function p(e,t,n,i){e.handle&&(r.Z.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,i)}function f(e){e.timeout=setTimeout((()=>{e.shouldCancelClick=!1}),250)}const m=h},6250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(3063),i=n(3366),o=n(7294),a=n(590),s=n(6528),c=n(91),l=n(3457),u=["children","enabled","onValueChange","selectedValue","style","testID","itemStyle","mode","prompt"],d=o.forwardRef(((e,t)=>{var n=e.children,l=e.enabled,d=e.onValueChange,p=e.selectedValue,f=e.style,m=e.testID,v=(e.itemStyle,e.mode,e.prompt,(0,i.Z)(e,u)),g=o.useRef(null),y=(0,r.Z)({children:n,disabled:!1===l||void 0,onChange:function(e){var t=e.target,n=t.selectedIndex,r=t.value;d&&d(r,n)},style:[h.initial,f],testID:m,value:p},v),b=(0,c.Z)(y),E=(0,s.Z)(g,b,t);return y.ref=E,(0,a.Z)("select",y)}));d.Item=function(e){var t=e.color,n=e.label,r=e.testID,i=e.value,o={color:t};return(0,a.Z)("option",{children:n,style:o,testID:r,value:i})};var h=l.Z.create({initial:{fontFamily:"System",fontSize:"inherit",margin:0}});const p=d},1302:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5998);class i{static get(){return r.Z.get("window").scale}static getFontScale(){return r.Z.get("window").fontScale||i.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*i.get())}static roundToNearestPixel(e){var t=i.get();return Math.round(e*t)/t}}},2805:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={OS:"web",select:e=>"web"in e?e.web:e.default,get isTesting(){return!1}}},3910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>te});var r=n(7462),i=n(3366),o=n(7294),a=n(6528),s=n(3145),c=()=>{},l=function(){var e=!1;if(s.Z)try{var t={};Object.defineProperty(t,"passive",{get:()=>(e=!0,!1)}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function u(){return this.cancelBubble}function d(){return this.defaultPrevented}function h(e,t,n,r){var i=function(e){return null!=e&&(l?e:Boolean(e.capture))}(r),o=e=>n(function(e){return e.nativeEvent=e,e.persist=c,e.isDefaultPrevented=d,e.isPropagationStopped=u,e}(e));return e.addEventListener(t,o,i),function(){null!=e&&e.removeEventListener(t,o,i)}}var p,f,m="keyboard",v="keyboard",g=!1,y=new Set,b="keyboard",E="mouse",_="touch",S="contextmenu",A="mousedown",w="mousemove",T="mouseup",C="pointerdown",R="pointermove",I="scroll",O="selectionchange",k="touchcancel",N="touchmove",x="touchstart",P={passive:!0},D={capture:!0,passive:!0};function L(){null==p&&null==f||(null!=p&&(v=p,p=null),null!=f&&(m=f,f=null),F())}function M(e){var t=e.type;if("undefined"!=typeof window&&null!=window.PointerEvent){if(t===C)return void(m!==e.pointerType&&(v=e.pointerType,m=e.pointerType,F()));if(t===R)return void(v!==e.pointerType&&(v=e.pointerType,F()))}else{if(g||(t===A&&m!==E&&(v=E,m=E,F()),t===w&&v!==E&&(v=E,F())),t===x)return g=!0,e.touches&&e.touches.length>1&&(g=!1),void(m!==_&&(v=_,m=_,F()));t!==S&&t!==T&&t!==O&&t!==I&&t!==k&&t!==N||(g=!1)}}function F(){var e={activeModality:m,modality:v};y.forEach((t=>{t(e)}))}s.Z&&(h(window,"blur",(function(){p=v,f=m,m=b,v=b,F(),g=!1}),P),h(window,"focus",(function(){L()}),P),h(document,"keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||v!==b&&(v=b,m=b,F())}),D),h(document,"visibilitychange",(function(){"hidden"!==document.visibilityState&&L()}),D),h(document,C,M,D),h(document,R,M,D),h(document,S,M,D),h(document,A,M,D),h(document,w,M,D),h(document,T,M,D),h(document,k,M,D),h(document,N,M,D),h(document,x,M,D),h(document,O,M,D),h(document,I,M,D));var U=n(9863),j=n(7771);function V(e,t){var n=(0,j.Z)((()=>new Map)),r=(0,j.Z)((()=>(r,i)=>{var o=n.get(r);null!=o&&o(),null==i&&(n.delete(r),i=()=>{});var a=h(r,e,i,t);return n.set(r,a),a}));return(0,U.Z)((()=>()=>{n.forEach((e=>{e()})),n.clear()}),[n]),r}var B={},z={passive:!0},G="react-gui:hover:lock",H="react-gui:hover:unlock";function q(e,t,n){var r=document.createEvent("CustomEvent"),i=n||B,o=i.bubbles,a=void 0===o||o,s=i.cancelable,c=void 0===s||s,l=i.detail;r.initCustomEvent(t,a,c,l),e.dispatchEvent(r)}function W(e){var t=e.pointerType;return null!=t?t:v}var Z=n(6560),K=n(3457),Y=n(7177),Q=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function J(e,t){var n=e.children,s=e.delayLongPress,c=e.delayPressIn,l=e.delayPressOut,u=e.disabled,d=e.onBlur,h=e.onContextMenu,p=e.onFocus,f=e.onHoverIn,m=e.onHoverOut,v=e.onKeyDown,g=e.onLongPress,y=e.onPress,b=e.onPressMove,E=e.onPressIn,_=e.onPressOut,S=e.style,A=e.tabIndex,w=e.testOnly_hovered,T=e.testOnly_pressed,C=(0,i.Z)(e,Q),R=X(!0===w),I=R[0],O=R[1],k=X(!1),N=k[0],x=k[1],P=X(!0===T),D=P[0],L=P[1],M=(0,o.useRef)(null),F=(0,a.Z)(t,M),j=(0,o.useMemo)((()=>({delayLongPress:s,delayPressStart:c,delayPressEnd:l,disabled:u,onLongPress:g,onPress:y,onPressChange:L,onPressStart:E,onPressMove:b,onPressEnd:_})),[s,c,l,u,g,y,E,b,_,L]),B=(0,Z.Z)(M,j),K=B.onContextMenu,J=B.onKeyDown;!function(e,t){var n=t.contain,r=t.disabled,i=t.onHoverStart,o=t.onHoverChange,a=t.onHoverUpdate,s=t.onHoverEnd,c=!("undefined"==typeof window||null==window.PointerEvent),l=V(c?"pointermove":"mousemove",z),u=V(c?"pointerenter":"mouseenter",z),d=V(c?"pointerleave":"mouseleave",z),h=V(G,z),p=V(H,z);(0,U.Z)((()=>{var t=e.current;if(null!==t){var c=function(e){null!=s&&s(e),null!=o&&o(!1),l(t,null),d(t,null)},f=function(t){var r=e.current;null!=r&&"touch"!==W(t)&&(n&&q(r,H),c(t))},m=function(e){"touch"!==W(e)&&null!=a&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),a(e))},v=function(e){null!=i&&i(e),null!=o&&o(!0),null!=a&&l(t,r?null:m),d(t,r?null:f)};u(t,r?null:function(t){var i=e.current;null!=i&&"touch"!==W(t)&&(n&&q(i,G),v(t),h(i,r?null:function(e){e.target!==i&&c(t)}),p(i,r?null:function(e){e.target!==i&&v(t)}))})}}),[u,l,d,h,p,n,r,i,o,a,s,e])}(M,{contain:!0,disabled:u,onHoverChange:O,onHoverStart:f,onHoverEnd:m});var ee,te={hovered:I,focused:N,pressed:D},ne=o.useCallback((e=>{e.nativeEvent.target===M.current&&(x(!1),null!=d&&d(e))}),[M,x,d]),re=o.useCallback((e=>{e.nativeEvent.target===M.current&&(x(!0),null!=p&&p(e))}),[M,x,p]),ie=o.useCallback((e=>{null!=K&&K(e),null!=h&&h(e)}),[h,K]),oe=o.useCallback((e=>{null!=J&&J(e),null!=v&&v(e)}),[v,J]);return ee=void 0!==A?A:u?-1:0,o.createElement(Y.Z,(0,r.Z)({},C,B,{"aria-disabled":u,onBlur:ne,onContextMenu:ie,onFocus:re,onKeyDown:oe,ref:F,style:[u?$.disabled:$.active,"function"==typeof S?S(te):S],tabIndex:ee}),"function"==typeof n?n(te):n)}function X(e){var t=(0,o.useState)(!1);return[t[0]||e,t[1]]}var $=K.Z.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),ee=(0,o.memo)((0,o.forwardRef)(J));ee.displayName="Pressable";const te=ee},3330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3366),i=n(7177),o=n(7294),a=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];const s=function(e){e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor;var t=(0,r.Z)(e,a);return o.createElement(i.Z,t)}},6636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(7462),i=n(3366),o=n(7294),a=n(3457),s=n(7177),c=n(3145),l=["style"],u=c.Z&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",d=o.forwardRef(((e,t)=>{var n=e.style,a=(0,i.Z)(e,l);return o.createElement(s.Z,(0,r.Z)({},a,{ref:t,style:[h.root,n]}))}));d.displayName="SafeAreaView";var h=a.Z.create({root:{paddingTop:u+"(safe-area-inset-top)",paddingRight:u+"(safe-area-inset-right)",paddingBottom:u+"(safe-area-inset-bottom)",paddingLeft:u+"(safe-area-inset-left)"}});const p=d},1950:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(3063),i=n(7462),o=n(3366),a=n(5998),s=n(1763),c=n(3759),l=n.n(c),u=n(596),d=n(2805),h=n(7294),p=n(3457),f=n(7177),m=n(6528),v=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function g(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var y=h.forwardRef(((e,t)=>{var n=e.onScroll,r=e.onTouchMove,a=e.onWheel,s=e.scrollEnabled,c=void 0===s||s,l=e.scrollEventThrottle,u=void 0===l?0:l,d=e.showsHorizontalScrollIndicator,p=e.showsVerticalScrollIndicator,y=e.style,E=(0,o.Z)(e,v),_=h.useRef({isScrolling:!1,scrollLastTick:0}),S=h.useRef(null),A=h.useRef(null);function w(e){return t=>{c&&e&&e(t)}}function T(e){_.current.scrollLastTick=Date.now(),n&&n(g(e))}var C=!1===d||!1===p;return h.createElement(f.Z,(0,i.Z)({},E,{onScroll:function(e){var t,r,i;e.stopPropagation(),e.target===A.current&&(e.persist(),null!=S.current&&clearTimeout(S.current),S.current=setTimeout((()=>{!function(e){_.current.isScrolling=!1,n&&n(g(e))}(e)}),100),_.current.isScrolling?(t=_.current.scrollLastTick,r=u,i=Date.now()-t,r>0&&i>=r&&T(e)):function(e){_.current.isScrolling=!0,T(e)}(e))},onTouchMove:w(r),onWheel:w(a),ref:(0,m.Z)(A,t),style:[y,!c&&b.scrollDisabled,C&&b.hideScrollbar]}))})),b=p.Z.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});const E=y;var _=n(3177),S=n(7505),A=n(3620),w=n.n(A),T=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],C={};class R extends h.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var t=e.nativeEvent;this.isTouching=0!==t.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var t=_.Z.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==t||e.target===t||this.observedScrollSinceBecomingResponder||this.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),_.Z.blurTextInput(t))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>Date.now()-this.lastMomentumScrollEndTime<16||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime,this.scrollResponderScrollTo=(e,t,n)=>{if("number"==typeof e)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||C;e=r.x,t=r.y,n=r.animated}var i=this.getScrollableNode(),o=e||0,a=t||0;null!=i&&("function"==typeof i.scroll?i.scroll({top:a,left:o,behavior:n?"smooth":"auto"}):(i.scrollLeft=o,i.scrollTop=a))},this.scrollResponderZoomTo=(e,t)=>{"ios"!==d.Z.OS&&l()("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,t,n)=>{this.additionalScrollOffset=t||0,this.preventNegativeScrollOffset=!!n,S.Z.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,t,n,r)=>{var i=a.Z.get("window").height;this.keyboardWillOpenTo&&(i=this.keyboardWillOpenTo.endCoordinates.screenY);var o=t-i+r+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(o=Math.max(0,o)),this.scrollResponderScrollTo({x:0,y:o,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,t,n)=>{if("number"==typeof e)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||C;t=r.x,e=r.y,n=r.animated}this.scrollResponderScrollTo({x:t||0,y:e||0,animated:!1!==n})},this.scrollToEnd=e=>{var t=!1!==(e&&e.animated),n=this.props.horizontal,r=this.getScrollableNode(),i=n?r.scrollWidth:0,o=n?0:r.scrollHeight;this.scrollResponderScrollTo({x:i,y:o,animated:t})},this._handleContentOnLayout=e=>{var t=e.nativeEvent.layout,n=t.width,r=t.height;this.props.onContentSizeChange(n,r)},this._handleScroll=e=>{"on-drag"===this.props.keyboardDismissMode&&(0,s.Z)(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,null!=e&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard),(0,u.Z)(this.props.forwardedRef)(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){w()(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,t=e.contentContainerStyle,n=e.horizontal,a=e.onContentSizeChange,s=e.refreshControl,c=e.stickyHeaderIndices,u=e.pagingEnabled,d=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,e.centerContent),p=(0,o.Z)(e,T),m={};a&&(m={onLayout:this._handleContentOnLayout});var v=!n&&Array.isArray(c),g=v||u?h.Children.map(this.props.children,((e,t)=>{var n=v&&c.indexOf(t)>-1;return null!=e&&(n||u)?h.createElement(f.Z,{style:[n&&O.stickyHeader,u&&O.pagingEnabledChild]},e):e})):this.props.children,y=h.createElement(f.Z,(0,i.Z)({},m,{children:g,collapsable:!1,ref:this._setInnerViewRef,style:[n&&O.contentContainerHorizontal,d&&O.contentContainerCenterContent,t]})),b=n?O.baseHorizontal:O.baseVertical,_=n?O.pagingEnabledHorizontal:O.pagingEnabledVertical,S=(0,r.Z)((0,r.Z)({},p),{},{style:[b,u&&_,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),A=E;l()(void 0!==A,"ScrollViewClass must not be undefined");var w=h.createElement(A,(0,i.Z)({},S,{ref:this._setScrollNodeRef}),y);return s?h.cloneElement(s,{style:S.style},w):w}}var I={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},O=p.Z.create({baseVertical:(0,r.Z)((0,r.Z)({},I),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:(0,r.Z)((0,r.Z)({},I),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),k=h.forwardRef(((e,t)=>h.createElement(R,(0,i.Z)({},e,{forwardedRef:t}))));k.displayName="ScrollView";const N=k},7545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(7462),i=n(3366),o=n(2805),a=n(7294),s=n(5196),c=n(3063),l=n(7177),u=n(3903),d=n(4282),h=n(3759),p=n.n(h),f=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];class m extends a.PureComponent{constructor(){super(...arguments),this._keyExtractor=(e,t)=>{var n=this._subExtractor(t);return n&&n.key||String(t)},this._convertViewable=e=>{var t;p()(null!=e.index,"Received a broken ViewToken");var n=this._subExtractor(e.index);if(!n)return null;var r=n.section.keyExtractor,i=this.props.keyExtractor||d.jn,o=null!=r?r(e.item,n.index):i(e.item,null!==(t=n.index)&&void 0!==t?t:0);return(0,c.Z)((0,c.Z)({},e),{},{index:n.index,key:o,section:n.section})},this._onViewableItemsChanged=e=>{var t=e.viewableItems,n=e.changed,r=this.props.onViewableItemsChanged;null!=r&&r({viewableItems:t.map(this._convertViewable,this).filter(Boolean),changed:n.map(this._convertViewable,this).filter(Boolean)})},this._renderItem=e=>t=>{var n=t.item,r=t.index,i=this._subExtractor(r);if(!i)return null;var o=i.index;if(null==o){var s=i.section;if(!0===i.header){var c=this.props.renderSectionHeader;return c?c({section:s}):null}var l=this.props.renderSectionFooter;return l?l({section:s}):null}var u=i.section.renderItem||this.props.renderItem,d=this._getSeparatorComponent(r,i,e);return p()(u,"no renderItem!"),a.createElement(v,{SeparatorComponent:d,LeadingSeparatorComponent:0===o?this.props.SectionSeparatorComponent:void 0,cellKey:i.key,index:o,item:n,leadingItem:i.leadingItem,leadingSection:i.leadingSection,prevCellKey:(this._subExtractor(r-1)||{}).key,setSelfHighlightCallback:this._setUpdateHighlightFor,setSelfUpdatePropsCallback:this._setUpdatePropsFor,updateHighlightFor:this._updateHighlightFor,updatePropsFor:this._updatePropsFor,renderItem:u,section:i.section,trailingItem:i.trailingItem,trailingSection:i.trailingSection,inverted:!!this.props.inverted})},this._updatePropsFor=(e,t)=>{var n=this._updatePropsMap[e];null!=n&&n(t)},this._updateHighlightFor=(e,t)=>{var n=this._updateHighlightMap[e];null!=n&&n(t)},this._setUpdateHighlightFor=(e,t)=>{null!=t?this._updateHighlightMap[e]=t:delete this._updateHighlightFor[e]},this._setUpdatePropsFor=(e,t)=>{null!=t?this._updatePropsMap[e]=t:delete this._updatePropsMap[e]},this._updateHighlightMap={},this._updatePropsMap={},this._captureRef=e=>{this._listRef=e}}scrollToLocation(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=e.viewOffset||0;if(null!=this._listRef){e.itemIndex>0&&this.props.stickySectionHeadersEnabled&&(r+=this._listRef.__getFrameMetricsApprox(t-e.itemIndex,this._listRef.props).length);var i=(0,c.Z)((0,c.Z)({},e),{},{viewOffset:r,index:t});this._listRef.scrollToIndex(i)}}getListRef(){return this._listRef}render(){for(var e,t=this.props,n=(t.ItemSeparatorComponent,t.SectionSeparatorComponent,t.renderItem,t.renderSectionFooter,t.renderSectionHeader,t.sections,t.stickySectionHeadersEnabled,(0,i.Z)(t,f)),o=this.props.ListHeaderComponent?1:0,c=this.props.stickySectionHeadersEnabled?[]:void 0,l=0,d=(0,s.Z)(this.props.sections);!(e=d()).done;){var h=e.value;null!=c&&c.push(l+o),l+=2,l+=this.props.getItemCount(h.data)}var p=this._renderItem(l);return a.createElement(u.Z,(0,r.Z)({},n,{keyExtractor:this._keyExtractor,stickyHeaderIndices:c,renderItem:p,data:this.props.sections,getItem:(e,t)=>this._getItem(this.props,e,t),getItemCount:()=>l,onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}_getItem(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var o=t[i],a=o.data,s=e.getItemCount(a);if(-1===r||r===s)return o;if(r<s)return e.getItem(a,r);r-=s+2}return null}_subExtractor(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,o=n.keyExtractor,a=n.sections,s=0;s<a.length;s++){var c=a[s],l=c.data,u=c.key||String(s);if(!((t-=1)>=i(l)+1))return-1===t?{section:c,key:u+":header",index:null,header:!0,trailingSection:a[s+1]}:t===i(l)?{section:c,key:u+":footer",index:null,header:!1,trailingSection:a[s+1]}:{section:c,key:u+":"+(c.keyExtractor||o||d.jn)(r(l,t),t),index:t,leadingItem:r(l,t-1),leadingSection:a[s-1],trailingItem:r(l,t+1),trailingSection:a[s+1]};t-=i(l)+1}}_getSeparatorComponent(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var r=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,i=this.props.SectionSeparatorComponent,o=e===n-1,a=t.index===this.props.getItemCount(t.section.data)-1;return i&&a?i:!r||a||o?null:r}}function v(e){var t=e.LeadingSeparatorComponent,n=e.SeparatorComponent,i=e.cellKey,o=e.prevCellKey,s=e.setSelfHighlightCallback,u=e.updateHighlightFor,d=e.setSelfUpdatePropsCallback,h=e.updatePropsFor,p=e.item,f=e.index,m=e.section,v=e.inverted,g=a.useState(!1),y=g[0],b=g[1],E=a.useState(!1),_=E[0],S=E[1],A=a.useState({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),w=A[0],T=A[1],C=a.useState({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),R=C[0],I=C[1];a.useEffect((()=>(s(i,S),d(i,I),()=>{d(i,null),s(i,null)})),[i,s,I,d]);var O={highlight:()=>{b(!0),S(!0),null!=o&&u(o,!0)},unhighlight:()=>{b(!1),S(!1),null!=o&&u(o,!1)},updateProps:(e,r)=>{"leading"===e?null!=t?T((0,c.Z)((0,c.Z)({},w),r)):null!=o&&h(o,(0,c.Z)((0,c.Z)({},w),r)):"trailing"===e&&null!=n&&I((0,c.Z)((0,c.Z)({},R),r))}},k=e.renderItem({item:p,index:f,section:m,separators:O}),N=null!=t&&a.createElement(t,(0,r.Z)({highlighted:y},w)),x=null!=n&&a.createElement(n,(0,r.Z)({highlighted:_},R));return N||x?a.createElement(l.Z,null,!1===v?N:x,k,!1===v?x:N):k}const g=m;var y=["stickySectionHeadersEnabled"];class b extends a.PureComponent{constructor(){super(...arguments),this._captureRef=e=>{this._wrapperListRef=e}}scrollToLocation(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}recordInteraction(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}flashScrollIndicators(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}getScrollResponder(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}getScrollableNode(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}render(){var e=this.props,t=e.stickySectionHeadersEnabled,n=(0,i.Z)(e,y),s=null!=t?t:"ios"===o.Z.OS;return a.createElement(g,(0,r.Z)({},n,{stickySectionHeadersEnabled:s,ref:this._captureRef,getItemCount:e=>e.length,getItem:(e,t)=>e[t]}))}}const E=b},2357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=()=>{};function i(){return null}i.setBackgroundColor=r,i.setBarStyle=r,i.setHidden=r,i.setNetworkActivityIndicatorVisible=r,i.setTranslucent=r;const o=i},9464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1082);const i=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"==typeof e&&(e=>"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var("))(e))return e;var n=(0,r.Z)(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}}},8017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(r).forEach((e=>{i.forEach((t=>{r[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(t,e)]=r[e]}))}));const o=r;var a=n(9464),s={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function c(e,t){var n=e;return null!=t&&o[t]||"number"!=typeof e?null!=t&&s[t]&&(n=(0,a.Z)(e)):n=e+"px",n}},6586:(e,t,n)=>{"use strict";n.d(t,{S:()=>m});var r=n(3145);function i(e,t,n){if(r.Z){var i=null!=t?t:document,o=i.getElementById(e);if(null==o)if((o=document.createElement("style")).setAttribute("id",e),"string"==typeof n&&o.appendChild(document.createTextNode(n)),i instanceof ShadowRoot)i.insertBefore(o,i.firstChild);else{var a=i.head;a&&a.insertBefore(o,a.firstChild)}return o.sheet}return null}var o=Array.prototype.slice;function a(e){var t,n={},r={};function i(e,t,r){var i=c(n),o=i.indexOf(t)+1,a=i[o],s=null!=a&&null!=n[a].start?n[a].start:e.cssRules.length,l=function(e,t,n){try{return e.insertRule(t,n),!0}catch(e){return!1}}(e,r,s);if(l){null==n[t].start&&(n[t].start=s);for(var u=o;u<i.length;u+=1){var d=i[u],h=n[d].start||0;n[d].start=h+1}}return l}null!=e&&o.call(e.cssRules).forEach(((e,i)=>{var o=e.cssText;if(o.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(s)[1])}(e),n[t]={start:i,rules:[o]};else{var a=u(o);null!=a&&(r[a]=!0,n[t].rules.push(o))}}));var a={getTextContent:()=>c(n).map((e=>{var t=n[e].rules,r=t.shift();return t.sort(),t.unshift(r),t.join("\n")})).join("\n"),insert(t,o){var a=Number(o);if(null==n[a]){var s=function(e){return'[stylesheet-group="'+e+'"]{}'}(a);n[a]={start:null,rules:[s]},null!=e&&i(e,a,s)}var c=u(t);null!=c&&null==r[c]&&(r[c]=!0,n[a].rules.push(t),null!=e&&(i(e,a,t)||n[a].rules.pop()))}};return a}var s=/["']/g;function c(e){return Object.keys(e).map(Number).sort(((e,t)=>e>t?1:-1))}var l=/\s*([,])\s*/g;function u(e){var t=e.split("{")[0].trim();return""!==t?t.replace(l,"$1"):null}var d="react-native-stylesheet",h=new WeakMap,p=[],f=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function m(e,t){var n;if(void 0===t&&(t=d),r.Z){var o=null!=e?e.getRootNode():document;if(0===p.length)n=a(i(t)),f.forEach((e=>{n.insert(e,0)})),h.set(o,p.length),p.push(n);else{var s=h.get(o);if(null==s){var c=p[0],l=null!=c?c.getTextContent():"";n=a(i(t,o,l)),h.set(o,p.length),p.push(n)}else n=p[s]}}else 0===p.length?(n=a(i(t)),f.forEach((e=>{n.insert(e,0)})),p.push(n)):n=p[0];return{getTextContent:()=>n.getTextContent(),id:t,insert(e,t){p.forEach((n=>{n.insert(e,t)}))}}}},3457:(e,t,n)=>{"use strict";n.d(t,{Z:()=>be});var r=n(3063),i=n(3366),o=n(8017),a=n(3145),s={},c=!a.Z||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),l='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',u={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]};const d=(e,t)=>{if(!e)return s;var n={},r=function(){var r=e[i];if(null==r)return"continue";if("backgroundClip"===i)"text"===r&&(n.backgroundClip=r,n.WebkitBackgroundClip=r);else if("flex"===i)-1===r?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=r;else if("font"===i)n[i]=r.replace("System",l);else if("fontFamily"===i)if(r.indexOf("System")>-1){var a=r.split(/,\s*/);a[a.indexOf("System")]=l,n[i]=a.join(",")}else n[i]="monospace"===r?"monospace,monospace":r;else if("textDecorationLine"===i)c?n.textDecorationLine=r:n.textDecoration=r;else if("writingDirection"===i)n.direction=r;else{var s=(0,o.Z)(e[i],i),d=u[i];t&&"inset"===i?(null==e.insetInline&&(n.left=s,n.right=s),null==e.insetBlock&&(n.top=s,n.bottom=s)):t&&"margin"===i?(null==e.marginInline&&(n.marginLeft=s,n.marginRight=s),null==e.marginBlock&&(n.marginTop=s,n.marginBottom=s)):t&&"padding"===i?(null==e.paddingInline&&(n.paddingLeft=s,n.paddingRight=s),null==e.paddingBlock&&(n.paddingTop=s,n.paddingBottom=s)):d?d.forEach(((t,r)=>{null==e[t]&&(n[t]=s)})):n[i]=s}};for(var i in e)r();return n},h=e=>function(e,t){for(var n,r=e.length,i=1^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e).toString(36);var p=/[A-Z]/g,f=/^ms-/,m={};function v(e){return"-"+e.toLowerCase()}const g=function(e){if(e in m)return m[e];var t=e.replace(p,v);return m[e]=f.test(t)?"-"+t:t};var y=n(9668),b=n(1505),E=n(7951),_=n(1385),S=n(9432),A=n(3716),w=n(109),T=n(2564),C=n(2758),R=n(6327),I=["Webkit"],O=["Webkit","ms"];const k={plugins:[b.Z,E.Z,_.Z,S.Z,A.Z,w.Z,T.Z,C.Z,R.Z],prefixMap:{appearance:["Webkit","Moz","ms"],userSelect:["Webkit","Moz"],textEmphasisPosition:O,textEmphasis:O,textEmphasisStyle:O,textEmphasisColor:O,boxDecorationBreak:O,clipPath:I,maskImage:O,maskMode:O,maskRepeat:O,maskPosition:O,maskClip:O,maskOrigin:O,maskSize:O,maskComposite:O,mask:O,maskBorderSource:O,maskBorderMode:O,maskBorderSlice:O,maskBorderWidth:O,maskBorderOutset:O,maskBorderRepeat:O,maskBorder:O,maskType:O,textDecorationStyle:I,textDecorationSkip:I,textDecorationLine:I,textDecorationColor:I,filter:I,breakAfter:I,breakBefore:I,breakInside:I,columnCount:I,columnFill:I,columnGap:I,columnRule:I,columnRuleColor:I,columnRuleStyle:I,columnRuleWidth:I,columns:I,columnSpan:I,columnWidth:I,backdropFilter:I,hyphens:I,flowInto:I,flowFrom:I,regionFragment:I,textOrientation:I,tabSize:["Moz"],fontKerning:I,textSizeAdjust:I}},N=(0,y.Z)(k);var x=["animationKeyframes"],P=new Map,D={},L=1,M=3,F={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},U="borderTopLeftRadius",j="borderTopRightRadius",V="borderBottomLeftRadius",B="borderBottomRightRadius",z="borderLeftColor",G="borderLeftStyle",H="borderLeftWidth",q="borderRightColor",W="borderRightStyle",Z="borderRightWidth",K="right",Y="marginLeft",Q="marginRight",J="paddingLeft",X="paddingRight",$="left",ee={[U]:j,[j]:U,[V]:B,[B]:V,[z]:q,[G]:W,[H]:Z,[q]:z,[W]:G,[Z]:H,[$]:K,[Y]:Q,[Q]:Y,[J]:X,[X]:J,[K]:$},te={borderStartStartRadius:U,borderStartEndRadius:j,borderEndStartRadius:V,borderEndEndRadius:B,borderInlineStartColor:z,borderInlineStartStyle:G,borderInlineStartWidth:H,borderInlineEndColor:q,borderInlineEndStyle:W,borderInlineEndWidth:Z,insetInlineEnd:K,insetInlineStart:$,marginInlineStart:Y,marginInlineEnd:Q,paddingInlineStart:J,paddingInlineEnd:X},ne=["clear","float","textAlign"];function re(e){var t=N(d(e));return"{"+Object.keys(t).map((e=>{var n=t[e],r=g(e);return Array.isArray(n)?n.map((e=>r+":"+e)).join(";"):r+":"+n})).sort().join(";")+";}"}function ie(e,t,n){return e+"-"+h(t+n)}function oe(e){if("number"==typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((e=>{if("string"==typeof e)t.push(e);else{var r=function(e){var t=ie("r","animation",JSON.stringify(e)),n="{"+Object.keys(e).map((t=>""+t+re(e[t]))).join("")+"}",r=["-webkit-",""].map((e=>"@"+e+"keyframes "+t+n));return[t,r]}(e),i=r[0],o=r[1];t.push(i),n.push(...o)}})),[t,n]}var ae=n(6586),se=n(5789),ce=n(3817),le=n(9061),ue=["writingDirection"],de=new WeakMap,he=(0,ae.S)(),pe={shadow:!0,textShadow:!0};function fe(e){e.forEach((e=>{var t=e[0],n=e[1];null!=he&&t.forEach((e=>{he.insert(e,n)}))}))}var me={position:"absolute",left:0,right:0,top:0,bottom:0},ve=ge({x:(0,r.Z)({},me)}).x;function ge(e){return Object.keys(e).forEach((t=>{var n,a,s,c,l=e[t];null!=l&&!0!==l.$$css&&(t.indexOf("$raw")>-1?n=function(e,t){var n=function(e,t){var n,o={$$css:!0},a=[],s=e.animationKeyframes,c=(0,i.Z)(e,x),l=ie("css",t,JSON.stringify(e)),u="."+l;if(null!=s){var d=oe(s),h=d[0],p=d[1];n=h.join(","),a.push(...p)}var f=re((0,r.Z)((0,r.Z)({},c),{},{animationName:n}));return a.push(""+u+f),o[l]=l,[o,[[a,L]]]}(e,t),o=n[0];return fe(n[1]),o}(l,t.split("$raw")[0]):(a=l,s=function(e){var t={$$css:!0},n=[];function r(e,t,r){var i,a=function(e,t){var n=(0,o.Z)(e,t);return"string"!=typeof n?JSON.stringify(n||""):n}(r,t),s=t+a,c=P.get(s);if(null!=c)i=c[0],n.push(c[1]);else{i=ie("r",e,e!==t?s:a);var l=F[e]||M,u=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var o=oe(n),a=o[0],s=o[1],c=re({animationName:a.join(",")});r.push(""+i+c,...s);break;case"placeholderTextColor":var l=re({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+l,i+"::-moz-placeholder"+l,i+":-ms-input-placeholder"+l,i+"::placeholder"+l);break;case"pointerEvents":var u=n;if("auto"===n||"box-only"===n){if(u="auto!important","box-only"===n){var d=re({pointerEvents:"none"});r.push(i+">*"+d)}}else if(("none"===n||"box-none"===n)&&(u="none!important","box-none"===n)){var h=re({pointerEvents:"auto"});r.push(i+">*"+h)}var p=re({pointerEvents:u});r.push(""+i+p);break;case"scrollbarWidth":"none"===n&&r.push(i+"::-webkit-scrollbar{display:none}");var f=re({scrollbarWidth:n});r.push(""+i+f);break;default:var m=re({[t]:n});r.push(""+i+m)}return r}(i,t,r),d=[u,l];n.push(d),P.set(s,[i,d])}return i}return Object.keys(e).sort().forEach((n=>{var i=e[n];if(null!=i){var o;if(ne.indexOf(n)>-1){var a=r(n,n,"left"),s=r(n,n,"right");"start"===i?o=[a,s]:"end"===i&&(o=[s,a])}var c=te[n];if(null!=c){var l=r(n,c,i),u=r(n,ee[c],i);o=[l,u]}if("transitionProperty"===n){for(var d=Array.isArray(i)?i:[i],h=[],p=0;p<d.length;p++){var f=d[p];"string"==typeof f&&null!=te[f]&&h.push(p)}if(h.length>0){var m=[...d],v=[...d];h.forEach((e=>{var t=m[e];if("string"==typeof t){var i=te[t],a=ee[i];m[e]=i,v[e]=a;var s=r(n,n,m),c=r(n,n,v);o=[s,c]}}))}}null==o?o=r(n,n,i):t.$$css$localize=!0,t[n]=o}})),[t,n]}((0,ce.dj)(a,pe)),c=s[0],fe(s[1]),n=c),de.set(l,n))})),e}function ye(e,t){void 0===t&&(t={});var n="rtl"===t.writingDirection,o=function(e,t){void 0===t&&(t={});var n=t,o=n.writingDirection,a=(0,i.Z)(n,ue),s="rtl"===o;return le.D.factory({transform(e){var t=de.get(e);return null!=t?(0,se.j)(t,s):(0,ce.dj)(e,(0,r.Z)((0,r.Z)({},pe),a))}})(e)}(e,t);return Array.isArray(o)&&null!=o[1]&&(o[1]=function(e,t){var n=e||D,r={},i={},o=function(){var e=n[a],o=a,s=e;if(!Object.prototype.hasOwnProperty.call(n,a)||null==e)return"continue";ne.indexOf(a)>-1&&("start"===e?s=t?"right":"left":"end"===e&&(s=t?"left":"right"));var c=te[a];if(null!=c&&(o=t?ee[c]:c),"transitionProperty"===a){var l=Array.isArray(e)?e:[e];l.forEach(((e,n)=>{if("string"==typeof e){var r=te[e];null!=r&&(l[n]=t?ee[r]:r,s=l.join(" "))}}))}r[o]||(i[o]=s),o===a&&(r[o]=!0)};for(var a in n)o();return d(i,!0)}(o[1],n)),o}ye.absoluteFill=ve,ye.absoluteFillObject=me,ye.create=ge,ye.compose=function(e,t){return[e,t]},ye.flatten=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.flat(1/0),i={},o=0;o<r.length;o++){var a=r[o];null!=a&&"object"==typeof a&&Object.assign(i,a)}return i},ye.getSheet=function(){return{id:he.id,textContent:he.getTextContent()}},ye.hairlineWidth=1,a.Z&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=ye.flatten);const be=ye},3817:(e,t,n)=>{"use strict";n.d(t,{Lm:()=>c,dj:()=>p});var r=n(9464),i=n(8017),o=n(8506),a={},s={height:0,width:0},c=e=>{var t=e.shadowColor,n=e.shadowOffset,o=e.shadowOpacity,a=e.shadowRadius,c=n||s,l=c.height,u=c.width,d=(0,i.Z)(u),h=(0,i.Z)(l),p=(0,i.Z)(a||0),f=(0,r.Z)(t||"black",o);if(null!=f&&null!=d&&null!=h&&null!=p)return d+" "+h+" "+p+" "+f},l=e=>{var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+(0,i.Z)(n,t)+")"},u=e=>e.map(l).join(" "),d={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},h={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},p=function(e,t){void 0===t&&(t={});var n=e||a,r={};if(t.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){(0,o.O)("shadowStyles",'"shadow*" style props are deprecated. Use "boxShadow".');var l=c(n);if(null!=l&&null==r.boxShadow){var p=n.boxShadow,f=p?p+", "+l:l;r.boxShadow=f}}if(t.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){(0,o.O)("textShadowStyles",'"textShadow*" style props are deprecated. Use "textShadow".');var m=(e=>{var t=e.textShadowColor,n=e.textShadowOffset,r=e.textShadowRadius,o=n||s,a=o.height,c=o.width,l=r||0,u=(0,i.Z)(c),d=(0,i.Z)(a),h=(0,i.Z)(l),p=(0,i.Z)(t,"textShadowColor");if(p&&(0!==a||0!==c||0!==l)&&null!=u&&null!=d&&null!=h)return u+" "+d+" "+h+" "+p})(n);if(null!=m&&null==r.textShadow){var v=n.textShadow,g=v?v+", "+m:m;r.textShadow=g}}for(var y in n)if(null==h[y]&&"shadowColor"!==y&&"shadowOffset"!==y&&"shadowOpacity"!==y&&"shadowRadius"!==y&&"textShadowColor"!==y&&"textShadowOffset"!==y&&"textShadowRadius"!==y){var b=n[y],E=d[y]||y,_=b;!Object.prototype.hasOwnProperty.call(n,y)||E!==y&&null!=n[E]||("aspectRatio"===E&&"number"==typeof _?r[E]=_.toString():"fontVariant"===E?(Array.isArray(_)&&_.length>0&&((0,o.O)("fontVariant",'"fontVariant" style array value is deprecated. Use space-separated values.'),_=_.join(" ")),r[E]=_):"textAlignVertical"===E?((0,o.O)("textAlignVertical",'"textAlignVertical" style is deprecated. Use "verticalAlign".'),null==n.verticalAlign&&(r.verticalAlign="center"===_?"middle":_)):"transform"===E?(Array.isArray(_)&&((0,o.O)("transform",'"transform" style array value is deprecated. Use space-separated string functions, e.g., "scaleX(2) rotateX(15deg)".'),_=u(_)),r.transform=_):r[E]=_)}return r}},2747:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(7294),i=n(590),o=n(3250),a=n(5819),s=n(42),c=n(9863),l=n(6528),u=n(91),d=n(9038),h=n(3167),p=n(3457),f=n(3177),m=n(8506),v=Object.assign({},o.lG,o.LO,o._T,o.YB,o.Uy,o.hJ,o.E5,o.vr,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),g=null,y=r.forwardRef(((e,t)=>{var n,o,p=e.autoCapitalize,y=void 0===p?"sentences":p,E=e.autoComplete,_=e.autoCompleteType,S=e.autoCorrect,A=void 0===S||S,w=e.blurOnSubmit,T=e.caretHidden,C=e.clearTextOnFocus,R=e.dir,I=e.editable,O=e.enterKeyHint,k=e.inputMode,N=e.keyboardType,x=e.multiline,P=void 0!==x&&x,D=e.numberOfLines,L=e.onBlur,M=e.onChange,F=e.onChangeText,U=e.onContentSizeChange,j=e.onFocus,V=e.onKeyPress,B=e.onLayout,z=e.onMoveShouldSetResponder,G=e.onMoveShouldSetResponderCapture,H=e.onResponderEnd,q=e.onResponderGrant,W=e.onResponderMove,Z=e.onResponderReject,K=e.onResponderRelease,Y=e.onResponderStart,Q=e.onResponderTerminate,J=e.onResponderTerminationRequest,X=e.onScrollShouldSetResponder,$=e.onScrollShouldSetResponderCapture,ee=e.onSelectionChange,te=e.onSelectionChangeShouldSetResponder,ne=e.onSelectionChangeShouldSetResponderCapture,re=e.onStartShouldSetResponder,ie=e.onStartShouldSetResponderCapture,oe=e.onSubmitEditing,ae=e.placeholderTextColor,se=e.readOnly,ce=void 0!==se&&se,le=e.returnKeyType,ue=e.rows,de=e.secureTextEntry,he=void 0!==de&&de,pe=e.selection,fe=e.selectTextOnFocus,me=e.spellCheck;if(null!=k)o=k,n="email"===k?"email":"tel"===k?"tel":"search"===k?"search":"url"===k?"url":"text";else if(null!=N)switch((0,m.O)("keyboardType","keyboardType is deprecated. Use inputMode."),N){case"email-address":n="email";break;case"number-pad":case"numeric":o="numeric";break;case"decimal-pad":o="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}he&&(n="password");var ve=r.useRef({height:null,width:null}),ge=r.useRef(null),ye=r.useCallback((e=>{if(P&&U&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===ve.current.height&&n===ve.current.width||(ve.current.height=t,ve.current.width=n,U({nativeEvent:{contentSize:{height:ve.current.height,width:ve.current.width}}}))}}),[P,U]),be=r.useMemo((()=>e=>{null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&f.Z.currentlyFocusedField()===e},ye(e))}),[ye]);(0,c.Z)((()=>{var e=ge.current;null!=e&&null!=pe&&((e,t)=>{if(((e,t)=>{var n=e.selectionEnd,r=e.selectionStart,i=t.start,o=t.end;return i!==r||o!==n})(e,t)){var n=t.start,r=t.end;try{e.setSelectionRange(n,r||n)}catch(e){}}})(e,pe),document.activeElement===e&&(f.Z._currentlyFocusedNode=e)}),[ge,pe]);var Ee=P?"textarea":"input";(0,s.Z)(ge,B),(0,d.Z)(ge,{onMoveShouldSetResponder:z,onMoveShouldSetResponderCapture:G,onResponderEnd:H,onResponderGrant:q,onResponderMove:W,onResponderReject:Z,onResponderRelease:K,onResponderStart:Y,onResponderTerminate:Q,onResponderTerminationRequest:J,onScrollShouldSetResponder:X,onScrollShouldSetResponderCapture:$,onSelectionChangeShouldSetResponder:te,onSelectionChangeShouldSetResponderCapture:ne,onStartShouldSetResponder:re,onStartShouldSetResponderCapture:ie});var _e=(0,h.PE)().direction,Se=(e=>(0,a.Z)(e,v))(e);Se.autoCapitalize=y,Se.autoComplete=E||_||"on",Se.autoCorrect=A?"on":"off",Se.dir=void 0!==R?R:"auto",null!=le&&(0,m.O)("returnKeyType","returnKeyType is deprecated. Use enterKeyHint."),Se.enterKeyHint=O||le,Se.inputMode=o,Se.onBlur=function(e){f.Z._currentlyFocusedNode=null,L&&(e.nativeEvent.text=e.target.value,L(e))},Se.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,ye(t),M&&M(e),F&&F(n)},Se.onFocus=function(e){var t=e.target;j&&(e.nativeEvent.text=t.value,j(e)),null!=t&&(f.Z._currentlyFocusedNode=t,C&&(t.value=""),fe&&(null!=g&&clearTimeout(g),g=setTimeout((()=>{null!=t&&t.select()}),0)))},Se.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==w?!P:w,r=e.nativeEvent,i=function(e){return e.isComposing||229===e.keyCode}(r);V&&V(e),"Enter"!==e.key||e.shiftKey||i||e.isDefaultPrevented()||(!w&&P||!oe||(e.preventDefault(),r.text=e.target.value,oe(e)),n&&null!=t&&setTimeout((()=>t.blur()),0))},Se.onSelect=function(e){if(ee)try{var t=e.target,n=t.selectionStart,r=t.selectionEnd;e.nativeEvent.selection={start:n,end:r},e.nativeEvent.text=e.target.value,ee(e)}catch(e){}},null!=I&&(0,m.O)("editable","editable is deprecated. Use readOnly."),Se.readOnly=!0===ce||!1===I,null!=D&&(0,m.O)("numberOfLines","TextInput numberOfLines is deprecated. Use rows."),Se.rows=P?null!=ue?ue:D:1,Se.spellCheck=null!=me?me:A,Se.style=[{"--placeholderTextColor":ae},b.textinput$raw,b.placeholder,e.style,T&&b.caretHidden],Se.type=P?void 0:n;var Ae=(0,u.Z)(Se),we=(0,l.Z)(ge,Ae,be,t);Se.ref=we;var Te=null!=e.lang?(0,h.w1)(e.lang):null,Ce=e.dir||Te||_e;return(0,i.Z)(Ee,Se,{writingDirection:Ce})}));y.displayName="TextInput",y.State=f.Z;var b=p.Z.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const E=y},4370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(7294).createContext)(!1)},4404:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(3063),i=n(3366),o=n(7294),a=n(590),s=n(3250),c=n(5819),l=n(42),u=n(6528),d=n(91),h=n(9038),p=n(3457),f=n(4370),m=n(3167),v=n(8506),g=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],y=Object.assign({},s.lG,s.LO,s._T,s.YB,s.Uy,s.hJ,s.E5,s.vr,{href:!0,lang:!0,pointerEvents:!0}),b=o.forwardRef(((e,t)=>{var n=e.hrefAttrs,r=e.numberOfLines,s=e.onClick,p=e.onLayout,b=e.onPress,E=e.onMoveShouldSetResponder,S=e.onMoveShouldSetResponderCapture,A=e.onResponderEnd,w=e.onResponderGrant,T=e.onResponderMove,C=e.onResponderReject,R=e.onResponderRelease,I=e.onResponderStart,O=e.onResponderTerminate,k=e.onResponderTerminationRequest,N=e.onScrollShouldSetResponder,x=e.onScrollShouldSetResponderCapture,P=e.onSelectionChangeShouldSetResponder,D=e.onSelectionChangeShouldSetResponderCapture,L=e.onStartShouldSetResponder,M=e.onStartShouldSetResponderCapture,F=e.selectable,U=(0,i.Z)(e,g);null!=F&&(0,v.O)("selectable","selectable prop is deprecated. Use styles.userSelect.");var j=o.useContext(f.Z),V=o.useRef(null),B=(0,m.PE)().direction;(0,l.Z)(V,p),(0,h.Z)(V,{onMoveShouldSetResponder:E,onMoveShouldSetResponderCapture:S,onResponderEnd:A,onResponderGrant:w,onResponderMove:T,onResponderReject:C,onResponderRelease:R,onResponderStart:I,onResponderTerminate:O,onResponderTerminationRequest:k,onScrollShouldSetResponder:N,onScrollShouldSetResponderCapture:x,onSelectionChangeShouldSetResponder:P,onSelectionChangeShouldSetResponderCapture:D,onStartShouldSetResponder:L,onStartShouldSetResponderCapture:M});var z=o.useCallback((e=>{null!=s?s(e):null!=b&&(e.stopPropagation(),b(e))}),[s,b]),G=j?"span":"div",H=null!=e.lang?(0,m.w1)(e.lang):null,q=e.dir||H,W=q||B,Z=(e=>(0,c.Z)(e,y))(U);if(Z.dir=q,j||(Z.dir=null!=q?q:"auto"),(s||b)&&(Z.onClick=z),Z.style=[null!=r&&r>1&&{WebkitLineClamp:r},!0===j?_.textHasAncestor$raw:_.text$raw,1===r&&_.textOneLine,null!=r&&r>1&&_.textMultiLine,e.style,!0===F&&_.selectable,!1===F&&_.notSelectable,b&&_.pressable],null!=e.href&&(G="a",null!=n)){var K=n.download,Y=n.rel,Q=n.target;null!=K&&(Z.download=K),null!=Y&&(Z.rel=Y),"string"==typeof Q&&(Z.target="_"!==Q.charAt(0)?"_"+Q:Q)}var J=(0,d.Z)(Z),X=(0,u.Z)(V,J,t);Z.ref=X;var $=(0,a.Z)(G,Z,{writingDirection:W});return j?$:o.createElement(f.Z.Provider,{value:!0},$)}));b.displayName="Text";var E={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},_=p.Z.create({text$raw:E,textHasAncestor$raw:(0,r.Z)((0,r.Z)({},E),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});const S=b},8548:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(7462),i=n(3366),o=n(7294),a=n(6528),s=n(6560),c=n(3457),l=n(7177),u=n(8506),d=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function h(e,t){(0,u.O)("TouchableOpacity","TouchableOpacity is deprecated. Please use Pressable.");var n=e.activeOpacity,c=e.delayPressIn,h=e.delayPressOut,f=e.delayLongPress,m=e.disabled,v=e.focusable,g=e.onLongPress,y=e.onPress,b=e.onPressIn,E=e.onPressOut,_=e.rejectResponderTermination,S=e.style,A=(0,i.Z)(e,d),w=(0,o.useRef)(null),T=(0,a.Z)(t,w),C=(0,o.useState)("0s"),R=C[0],I=C[1],O=(0,o.useState)(null),k=O[0],N=O[1],x=(0,o.useCallback)(((e,t)=>{N(e),I(t?t/1e3+"s":"0s")}),[N,I]),P=(0,o.useCallback)((e=>{x(null!=n?n:.2,e)}),[n,x]),D=(0,o.useCallback)((e=>{x(null,e)}),[x]),L=(0,o.useMemo)((()=>({cancelable:!_,disabled:m,delayLongPress:f,delayPressStart:c,delayPressEnd:h,onLongPress:g,onPress:y,onPressStart(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;P(t?0:150),null!=b&&b(e)},onPressEnd(e){D(250),null!=E&&E(e)}})),[f,c,h,m,g,y,b,E,_,P,D]),M=(0,s.Z)(w,L);return o.createElement(l.Z,(0,r.Z)({},A,M,{accessibilityDisabled:m,focusable:!m&&!1!==v,pointerEvents:m?"box-none":void 0,ref:T,style:[p.root,!m&&p.actionable,S,null!=k&&{opacity:k},{transitionDuration:R}]}))}var p=c.Z.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),f=o.memo(o.forwardRef(h));f.displayName="TouchableOpacity";const m=f},7901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7294),i=n(5819),o=n(6528),a=n(6560),s=n(8506),c={accessibilityDisabled:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,children:!0,disabled:!0,focusable:!0,nativeID:!0,onBlur:!0,onFocus:!0,onLayout:!0,testID:!0};function l(e,t){(0,s.O)("TouchableWithoutFeedback","TouchableWithoutFeedback is deprecated. Please use Pressable.");var n=e.delayPressIn,l=e.delayPressOut,u=e.delayLongPress,d=e.disabled,h=e.focusable,p=e.onLongPress,f=e.onPress,m=e.onPressIn,v=e.onPressOut,g=e.rejectResponderTermination,y=(0,r.useRef)(null),b=(0,r.useMemo)((()=>({cancelable:!g,disabled:d,delayLongPress:u,delayPressStart:n,delayPressEnd:l,onLongPress:p,onPress:f,onPressStart:m,onPressEnd:v})),[d,n,l,u,p,f,m,v,g]),E=(0,a.Z)(y,b),_=r.Children.only(e.children),S=[_.props.children],A=(e=>(0,i.Z)(e,c))(e);A.accessibilityDisabled=d,A.focusable=!d&&!1!==h,A.ref=(0,o.Z)(t,y,_.ref);var w=Object.assign(A,E);return r.cloneElement(_,w,...S)}var u=r.memo(r.forwardRef(l));u.displayName="TouchableWithoutFeedback";const d=u},7505:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(r).forEach((e=>{i.forEach((t=>{r[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(t,e)]=r[e]}))}));const o=r,a=function(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||o.hasOwnProperty(e)&&o[e]?(""+t).trim():t+"px"},s=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--"),o=a(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}};var c=e=>{var t=e.offsetHeight,n=e.offsetWidth,r=e.offsetLeft,i=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)r+=e.offsetLeft+e.clientLeft-e.scrollLeft,i+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:n,height:t,top:i-=window.scrollY,left:r-=window.scrollX}},l=(e,t,n)=>{var r=t||e&&e.parentNode;e&&r&&setTimeout((()=>{if(e.isConnected&&r.isConnected){var t=c(r),i=c(e),o=i.height,a=i.left,s=i.top,l=i.width,u=a-t.left,d=s-t.top;n(u,d,l,o,a,s)}}),0)},u={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0};const d={blur(e){try{e.blur()}catch(e){}},focus(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&!0!==e.isContentEditable&&null==u[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(e){}},measure(e,t){l(e,null,t)},measureInWindow(e,t){e&&setTimeout((()=>{var n=c(e),r=n.height,i=n.left,o=n.top,a=n.width;t(i,o,a,r)}),0)},measureLayout(e,t,n,r){l(e,t,r)},updateView(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":s(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation(e,t){t()},setLayoutAnimationEnabledExperimental(){}}},7177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(3366),i=n(7294),o=n(590),a=n(3250),s=n(5819),c=n(42),l=n(6528),u=n(91),d=n(9038),h=n(3457),p=n(4370),f=n(3167),m=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],v=Object.assign({},a.lG,a.LO,a._T,a.YB,a.Uy,a.hJ,a.E5,a.vr,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),g=i.forwardRef(((e,t)=>{var n=e.hrefAttrs,a=e.onLayout,h=e.onMoveShouldSetResponder,g=e.onMoveShouldSetResponderCapture,b=e.onResponderEnd,E=e.onResponderGrant,_=e.onResponderMove,S=e.onResponderReject,A=e.onResponderRelease,w=e.onResponderStart,T=e.onResponderTerminate,C=e.onResponderTerminationRequest,R=e.onScrollShouldSetResponder,I=e.onScrollShouldSetResponderCapture,O=e.onSelectionChangeShouldSetResponder,k=e.onSelectionChangeShouldSetResponderCapture,N=e.onStartShouldSetResponder,x=e.onStartShouldSetResponderCapture,P=(0,r.Z)(e,m),D=i.useContext(p.Z),L=i.useRef(null),M=(0,f.PE)().direction;(0,c.Z)(L,a),(0,d.Z)(L,{onMoveShouldSetResponder:h,onMoveShouldSetResponderCapture:g,onResponderEnd:b,onResponderGrant:E,onResponderMove:_,onResponderReject:S,onResponderRelease:A,onResponderStart:w,onResponderTerminate:T,onResponderTerminationRequest:C,onScrollShouldSetResponder:R,onScrollShouldSetResponderCapture:I,onSelectionChangeShouldSetResponder:O,onSelectionChangeShouldSetResponderCapture:k,onStartShouldSetResponder:N,onStartShouldSetResponderCapture:x});var F="div",U=null!=e.lang?(0,f.w1)(e.lang):null,j=e.dir||U,V=j||M,B=(e=>(0,s.Z)(e,v))(P);if(B.dir=j,B.style=[y.view$raw,D&&y.inline,e.style],null!=e.href&&(F="a",null!=n)){var z=n.download,G=n.rel,H=n.target;null!=z&&(B.download=z),null!=G&&(B.rel=G),"string"==typeof H&&(B.target="_"!==H.charAt(0)?"_"+H:H)}var q=(0,u.Z)(B),W=(0,l.Z)(L,q,t);return B.ref=W,(0,o.Z)(F,B,{writingDirection:V})}));g.displayName="View";var y=h.Z.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}});const b=g},3298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(3903).Z},590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(8443),i=n(3063),o=n(3366),a=n(3457),s=n(8506),c=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],l={},u=Object.prototype.hasOwnProperty,d=Array.isArray,h=/[A-Z]/g;function p(e){return"-"+e.toLowerCase()}function f(e){return d(e)?e.join(" "):e}var m=a.Z.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}});var v=n(7294),g=n(3167);const y=(e,t,n)=>{var d;e&&e.constructor===String&&(d=r.Z.propsToAccessibilityComponent(t));var y=d||e,b=((e,t,n)=>{t||(t=l);var d=t,v=d["aria-activedescendant"],g=d.accessibilityActiveDescendant,y=d["aria-atomic"],b=d.accessibilityAtomic,E=d["aria-autocomplete"],_=d.accessibilityAutoComplete,S=d["aria-busy"],A=d.accessibilityBusy,w=d["aria-checked"],T=d.accessibilityChecked,C=d["aria-colcount"],R=d.accessibilityColumnCount,I=d["aria-colindex"],O=d.accessibilityColumnIndex,k=d["aria-colspan"],N=d.accessibilityColumnSpan,x=d["aria-controls"],P=d.accessibilityControls,D=d["aria-current"],L=d.accessibilityCurrent,M=d["aria-describedby"],F=d.accessibilityDescribedBy,U=d["aria-details"],j=d.accessibilityDetails,V=d["aria-disabled"],B=d.accessibilityDisabled,z=d["aria-errormessage"],G=d.accessibilityErrorMessage,H=d["aria-expanded"],q=d.accessibilityExpanded,W=d["aria-flowto"],Z=d.accessibilityFlowTo,K=d["aria-haspopup"],Y=d.accessibilityHasPopup,Q=d["aria-hidden"],J=d.accessibilityHidden,X=d["aria-invalid"],$=d.accessibilityInvalid,ee=d["aria-keyshortcuts"],te=d.accessibilityKeyShortcuts,ne=d["aria-label"],re=d.accessibilityLabel,ie=d["aria-labelledby"],oe=d.accessibilityLabelledBy,ae=d["aria-level"],se=d.accessibilityLevel,ce=d["aria-live"],le=d.accessibilityLiveRegion,ue=d["aria-modal"],de=d.accessibilityModal,he=d["aria-multiline"],pe=d.accessibilityMultiline,fe=d["aria-multiselectable"],me=d.accessibilityMultiSelectable,ve=d["aria-orientation"],ge=d.accessibilityOrientation,ye=d["aria-owns"],be=d.accessibilityOwns,Ee=d["aria-placeholder"],_e=d.accessibilityPlaceholder,Se=d["aria-posinset"],Ae=d.accessibilityPosInSet,we=d["aria-pressed"],Te=d.accessibilityPressed,Ce=d["aria-readonly"],Re=d.accessibilityReadOnly,Ie=d["aria-required"],Oe=d.accessibilityRequired,ke=(d.role,d.accessibilityRole),Ne=d["aria-roledescription"],xe=d.accessibilityRoleDescription,Pe=d["aria-rowcount"],De=d.accessibilityRowCount,Le=d["aria-rowindex"],Me=d.accessibilityRowIndex,Fe=d["aria-rowspan"],Ue=d.accessibilityRowSpan,je=d["aria-selected"],Ve=d.accessibilitySelected,Be=d["aria-setsize"],ze=d.accessibilitySetSize,Ge=d["aria-sort"],He=d.accessibilitySort,qe=d["aria-valuemax"],We=d.accessibilityValueMax,Ze=d["aria-valuemin"],Ke=d.accessibilityValueMin,Ye=d["aria-valuenow"],Qe=d.accessibilityValueNow,Je=d["aria-valuetext"],Xe=d.accessibilityValueText,$e=d.dataSet,et=d.focusable,tt=d.id,nt=d.nativeID,rt=d.pointerEvents,it=d.style,ot=d.tabIndex,at=d.testID,st=(0,o.Z)(d,c);null!=B&&(0,s.O)("accessibilityDisabled","accessibilityDisabled is deprecated.");var ct=V||B,lt=r.Z.propsToAriaRole(t);null!=g&&(0,s.O)("accessibilityActiveDescendant","accessibilityActiveDescendant is deprecated. Use aria-activedescendant.");var ut=null!=v?v:g;null!=ut&&(st["aria-activedescendant"]=ut),null!=b&&(0,s.O)("accessibilityAtomic","accessibilityAtomic is deprecated. Use aria-atomic.");var dt=null!=y?v:b;null!=dt&&(st["aria-atomic"]=dt),null!=_&&(0,s.O)("accessibilityAutoComplete","accessibilityAutoComplete is deprecated. Use aria-autocomplete.");var ht=null!=E?E:_;null!=ht&&(st["aria-autocomplete"]=ht),null!=A&&(0,s.O)("accessibilityBusy","accessibilityBusy is deprecated. Use aria-busy.");var pt=null!=S?S:A;null!=pt&&(st["aria-busy"]=pt),null!=T&&(0,s.O)("accessibilityChecked","accessibilityChecked is deprecated. Use aria-checked.");var ft=null!=w?w:T;null!=ft&&(st["aria-checked"]=ft),null!=R&&(0,s.O)("accessibilityColumnCount","accessibilityColumnCount is deprecated. Use aria-colcount.");var mt=null!=C?C:R;null!=mt&&(st["aria-colcount"]=mt),null!=O&&(0,s.O)("accessibilityColumnIndex","accessibilityColumnIndex is deprecated. Use aria-colindex.");var vt=null!=I?I:O;null!=vt&&(st["aria-colindex"]=vt),null!=N&&(0,s.O)("accessibilityColumnSpan","accessibilityColumnSpan is deprecated. Use aria-colspan.");var gt=null!=k?k:N;null!=gt&&(st["aria-colspan"]=gt),null!=P&&(0,s.O)("accessibilityControls","accessibilityControls is deprecated. Use aria-controls.");var yt=null!=x?x:P;null!=yt&&(st["aria-controls"]=f(yt)),null!=L&&(0,s.O)("accessibilityCurrent","accessibilityCurrent is deprecated. Use aria-current.");var bt=null!=D?D:L;null!=bt&&(st["aria-current"]=bt),null!=F&&(0,s.O)("accessibilityDescribedBy","accessibilityDescribedBy is deprecated. Use aria-describedby.");var Et=null!=M?M:F;null!=Et&&(st["aria-describedby"]=f(Et)),null!=j&&(0,s.O)("accessibilityDetails","accessibilityDetails is deprecated. Use aria-details.");var _t=null!=U?U:j;null!=_t&&(st["aria-details"]=_t),!0===ct&&(st["aria-disabled"]=!0,"button"!==e&&"form"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e||(st.disabled=!0)),null!=G&&(0,s.O)("accessibilityErrorMessage","accessibilityErrorMessage is deprecated. Use aria-errormessage.");var St=null!=z?z:G;null!=St&&(st["aria-errormessage"]=St),null!=q&&(0,s.O)("accessibilityExpanded","accessibilityExpanded is deprecated. Use aria-expanded.");var At=null!=H?H:q;null!=At&&(st["aria-expanded"]=At),null!=Z&&(0,s.O)("accessibilityFlowTo","accessibilityFlowTo is deprecated. Use aria-flowto.");var wt=null!=W?W:Z;null!=wt&&(st["aria-flowto"]=f(wt)),null!=Y&&(0,s.O)("accessibilityHasPopup","accessibilityHasPopup is deprecated. Use aria-haspopup.");var Tt=null!=K?K:Y;null!=Tt&&(st["aria-haspopup"]=Tt),null!=J&&(0,s.O)("accessibilityHidden","accessibilityHidden is deprecated. Use aria-hidden.");var Ct=null!=Q?Q:J;!0===Ct&&(st["aria-hidden"]=Ct),null!=$&&(0,s.O)("accessibilityInvalid","accessibilityInvalid is deprecated. Use aria-invalid.");var Rt=null!=X?X:$;null!=Rt&&(st["aria-invalid"]=Rt),null!=te&&(0,s.O)("accessibilityKeyShortcuts","accessibilityKeyShortcuts is deprecated. Use aria-keyshortcuts.");var It=null!=ee?ee:te;null!=It&&(st["aria-keyshortcuts"]=f(It)),null!=re&&(0,s.O)("accessibilityLabel","accessibilityLabel is deprecated. Use aria-label.");var Ot=null!=ne?ne:re;null!=Ot&&(st["aria-label"]=Ot),null!=oe&&(0,s.O)("accessibilityLabelledBy","accessibilityLabelledBy is deprecated. Use aria-labelledby.");var kt=null!=ie?ie:oe;null!=kt&&(st["aria-labelledby"]=f(kt)),null!=se&&(0,s.O)("accessibilityLevel","accessibilityLevel is deprecated. Use aria-level.");var Nt=null!=ae?ae:se;null!=Nt&&(st["aria-level"]=Nt),null!=le&&(0,s.O)("accessibilityLiveRegion","accessibilityLiveRegion is deprecated. Use aria-live.");var xt=null!=ce?ce:le;null!=xt&&(st["aria-live"]="none"===xt?"off":xt),null!=de&&(0,s.O)("accessibilityModal","accessibilityModal is deprecated. Use aria-modal.");var Pt=null!=ue?ue:de;null!=Pt&&(st["aria-modal"]=Pt),null!=pe&&(0,s.O)("accessibilityMultiline","accessibilityMultiline is deprecated. Use aria-multiline.");var Dt=null!=he?he:pe;null!=Dt&&(st["aria-multiline"]=Dt),null!=me&&(0,s.O)("accessibilityMultiSelectable","accessibilityMultiSelectable is deprecated. Use aria-multiselectable.");var Lt=null!=fe?fe:me;null!=Lt&&(st["aria-multiselectable"]=Lt),null!=ge&&(0,s.O)("accessibilityOrientation","accessibilityOrientation is deprecated. Use aria-orientation.");var Mt=null!=ve?ve:ge;null!=Mt&&(st["aria-orientation"]=Mt),null!=be&&(0,s.O)("accessibilityOwns","accessibilityOwns is deprecated. Use aria-owns.");var Ft=null!=ye?ye:be;null!=Ft&&(st["aria-owns"]=f(Ft)),null!=_e&&(0,s.O)("accessibilityPlaceholder","accessibilityPlaceholder is deprecated. Use aria-placeholder.");var Ut=null!=Ee?Ee:_e;null!=Ut&&(st["aria-placeholder"]=Ut),null!=Ae&&(0,s.O)("accessibilityPosInSet","accessibilityPosInSet is deprecated. Use aria-posinset.");var jt=null!=Se?Se:Ae;null!=jt&&(st["aria-posinset"]=jt),null!=Te&&(0,s.O)("accessibilityPressed","accessibilityPressed is deprecated. Use aria-pressed.");var Vt=null!=we?we:Te;null!=Vt&&(st["aria-pressed"]=Vt),null!=Re&&(0,s.O)("accessibilityReadOnly","accessibilityReadOnly is deprecated. Use aria-readonly.");var Bt=null!=Ce?Ce:Re;null!=Bt&&(st["aria-readonly"]=Bt,"input"!==e&&"select"!==e&&"textarea"!==e||(st.readOnly=!0)),null!=Oe&&(0,s.O)("accessibilityRequired","accessibilityRequired is deprecated. Use aria-required.");var zt=null!=Ie?Ie:Oe;null!=zt&&(st["aria-required"]=zt,"input"!==e&&"select"!==e&&"textarea"!==e||(st.required=Oe)),null!=ke&&(0,s.O)("accessibilityRole","accessibilityRole is deprecated. Use role."),null!=lt&&(st.role="none"===lt?"presentation":lt),null!=xe&&(0,s.O)("accessibilityRoleDescription","accessibilityRoleDescription is deprecated. Use aria-roledescription.");var Gt=null!=Ne?Ne:xe;null!=Gt&&(st["aria-roledescription"]=Gt),null!=De&&(0,s.O)("accessibilityRowCount","accessibilityRowCount is deprecated. Use aria-rowcount.");var Ht=null!=Pe?Pe:De;null!=Ht&&(st["aria-rowcount"]=Ht),null!=Me&&(0,s.O)("accessibilityRowIndex","accessibilityRowIndex is deprecated. Use aria-rowindex.");var qt=null!=Le?Le:Me;null!=qt&&(st["aria-rowindex"]=qt),null!=Ue&&(0,s.O)("accessibilityRowSpan","accessibilityRowSpan is deprecated. Use aria-rowspan.");var Wt=null!=Fe?Fe:Ue;null!=Wt&&(st["aria-rowspan"]=Wt),null!=Ve&&(0,s.O)("accessibilitySelected","accessibilitySelected is deprecated. Use aria-selected.");var Zt=null!=je?je:Ve;null!=Zt&&(st["aria-selected"]=Zt),null!=ze&&(0,s.O)("accessibilitySetSize","accessibilitySetSize is deprecated. Use aria-setsize.");var Kt=null!=Be?Be:ze;null!=Kt&&(st["aria-setsize"]=Kt),null!=He&&(0,s.O)("accessibilitySort","accessibilitySort is deprecated. Use aria-sort.");var Yt=null!=Ge?Ge:He;null!=Yt&&(st["aria-sort"]=Yt),null!=We&&(0,s.O)("accessibilityValueMax","accessibilityValueMax is deprecated. Use aria-valuemax.");var Qt=null!=qe?qe:We;null!=Qt&&(st["aria-valuemax"]=Qt),null!=Ke&&(0,s.O)("accessibilityValueMin","accessibilityValueMin is deprecated. Use aria-valuemin.");var Jt=null!=Ze?Ze:Ke;null!=Jt&&(st["aria-valuemin"]=Jt),null!=Qe&&(0,s.O)("accessibilityValueNow","accessibilityValueNow is deprecated. Use aria-valuenow.");var Xt=null!=Ye?Ye:Qe;null!=Xt&&(st["aria-valuenow"]=Xt),null!=Xe&&(0,s.O)("accessibilityValueText","accessibilityValueText is deprecated. Use aria-valuetext.");var $t=null!=Je?Je:Xe;if(null!=$t&&(st["aria-valuetext"]=$t),null!=$e)for(var en in $e)if(u.call($e,en)){var tn=en.replace(h,p),nn=$e[en];null!=nn&&(st["data-"+tn]=nn)}0===ot||"0"===ot||-1===ot||"-1"===ot?st.tabIndex=ot:(null!=et&&(0,s.O)("focusable","focusable is deprecated."),!1===et&&(st.tabIndex="-1"),"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==et&&!0!==B||(st.tabIndex="-1"):"button"===lt||"checkbox"===lt||"link"===lt||"radio"===lt||"textbox"===lt||"switch"===lt?!1!==et&&(st.tabIndex="0"):!0===et&&(st.tabIndex="0")),null!=rt&&(0,s.O)("pointerEvents","props.pointerEvents is deprecated. Use style.pointerEvents");var rn=(0,a.Z)([it,rt&&m[rt]],(0,i.Z)({writingDirection:"ltr"},n)),on=rn[0],an=rn[1];on&&(st.className=on),an&&(st.style=an),null!=nt&&(0,s.O)("nativeID","nativeID is deprecated. Use id.");var sn=null!=tt?tt:nt;return null!=sn&&(st.id=sn),null!=at&&(st["data-testid"]=at),null==st.type&&"button"===e&&(st.type="button"),st})(y,t,n),E=v.createElement(y,b);return b.dir?v.createElement(g.Iw,{children:E,direction:b.dir,locale:b.lang}):E}},1082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4586),i=n.n(r);const o=e=>{if(null==e)return e;var t=i()(e);return null!=t?t=(t<<24|t>>>8)>>>0:void 0}},1512:(e,t,n)=>{"use strict";n.d(t,{ZB:()=>s,ZP:()=>u,hS:()=>l,sY:()=>c});var r=n(3935),i=n(745),o=n(6113),a=n(6586);function s(e,t){return(0,a.S)(t),(0,i.a)(t,e)}function c(e,t){(0,a.S)(t);var n=(0,i.s)(t);return n.render(e),n}function l(e,t,n){return(0,a.S)(t),(0,r.hydrate)(e,t,n),{unmount:function(){return(0,o.Z)(t)}}}function u(e,t,n){return(0,a.S)(t),(0,r.render)(e,t,n),{unmount:function(){return(0,o.Z)(t)}}}},6113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(3935).unmountComponentAtNode},1682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5998),i=n(7294);function o(){var e=(0,i.useState)((()=>r.Z.get("window"))),t=e[0],n=e[1];return(0,i.useEffect)((()=>{function e(e){var t=e.window;null!=t&&n(t)}return r.Z.addEventListener("change",e),n(r.Z.get("window")),()=>{r.Z.removeEventListener("change",e)}}),[]),t}},930:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessibilityInfo:()=>m,ActivityIndicator:()=>Z.Z,Alert:()=>v,Animated:()=>g.Z,AppRegistry:()=>_.Z,AppState:()=>S.Z,Appearance:()=>E,BackHandler:()=>w,Button:()=>ee,CheckBox:()=>te.Z,Clipboard:()=>T.Z,DeviceEventEmitter:()=>Lt,Dimensions:()=>C.Z,Easing:()=>R.Z,FlatList:()=>ne.Z,I18nManager:()=>I,Image:()=>re.Z,ImageBackground:()=>ie.Z,InteractionManager:()=>k.Z,Keyboard:()=>O.Z,KeyboardAvoidingView:()=>ue,LayoutAnimation:()=>M,Linking:()=>F.Z,LogBox:()=>Dt,Modal:()=>de.Z,NativeEventEmitter:()=>U,NativeModules:()=>l.Z,PanResponder:()=>j.Z,Picker:()=>he.Z,PixelRatio:()=>V.Z,Platform:()=>N.Z,Pressable:()=>pe.Z,ProgressBar:()=>ge,RefreshControl:()=>ye.Z,SafeAreaView:()=>be.Z,ScrollView:()=>Ee.Z,SectionList:()=>_e.Z,Share:()=>G,StatusBar:()=>Se.Z,StyleSheet:()=>H.Z,Switch:()=>De,Text:()=>Q.Z,TextInput:()=>Le.Z,Touchable:()=>vt,TouchableHighlight:()=>Tt,TouchableNativeFeedback:()=>Ot,TouchableOpacity:()=>Y.Z,TouchableWithoutFeedback:()=>kt.Z,UIManager:()=>x.Z,Vibration:()=>W,View:()=>se.Z,VirtualizedList:()=>Nt.Z,YellowBox:()=>Pt,findNodeHandle:()=>o,processColor:()=>a.Z,render:()=>s.ZP,unmountComponentAtNode:()=>c.Z,unstable_createElement:()=>r.Z,useColorScheme:()=>Mt,useLocaleContext:()=>Ft,useWindowDimensions:()=>Ut.Z});var r=n(590),i=n(3935);const o=e=>{var t;try{t=(0,i.findDOMNode)(e)}catch(e){}return t};var a=n(1082),s=n(1512),c=n(6113),l=n(1525),u=n(3145);function d(){return new Promise(((e,t)=>{e(!0)}))}var h=u.Z&&"function"==typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null,p={},f={isScreenReaderEnabled:d,isReduceMotionEnabled:function(){return new Promise(((e,t)=>{e(!h||h.matches)}))},fetch:d,addEventListener:function(e,t){if("reduceMotionChanged"===e){if(!h)return;var n=e=>{t(e.matches)};r=n,null!=h&&(null!=h.addEventListener?h.addEventListener("change",r):h.addListener(r)),p[t]=n}var r;return{remove:()=>f.removeEventListener(e,t)}},setAccessibilityFocus:function(e){},announceForAccessibility:function(e){},removeEventListener:function(e,t){if("reduceMotionChanged"===e){var n=p[t];if(!n||!h)return;r=n,null!=h&&(null!=h.removeEventListener?h.removeEventListener("change",r):h.removeListener(r))}var r}};const m=f,v=class{static alert(){}};var g=n(8112),y=u.Z&&null!=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,b=new WeakMap;const E={getColorScheme:()=>y&&y.matches?"dark":"light",addChangeListener(e){var t=b.get(e);return t||(t=t=>{var n=t.matches;e({colorScheme:n?"dark":"light"})},b.set(e,t)),y&&y.addListener(t),{remove:function(){var t=b.get(e);y&&t&&y.removeListener(t),b.delete(e)}}}};var _=n(8227),S=n(7878);function A(){}const w={exitApp:A,addEventListener:()=>(console.error("BackHandler is not supported on web and should not be used."),{remove:A}),removeEventListener:A};var T=n(7196),C=n(5998),R=n(4837);const I={allowRTL(){},forceRTL(){},getConstants:()=>({isRTL:!1})};var O=n(3668),k=n(4591),N=n(2805),x=n(7505);function P(e,t){N.Z.isTesting||x.Z.configureNextLayoutAnimation(e,null!=t?t:function(){},(function(){}))}function D(e,t,n){return{duration:e,create:{type:t,property:n},update:{type:t},delete:{type:t,property:n}}}var L={easeInEaseOut:D(300,"easeInEaseOut","opacity"),linear:D(500,"linear","opacity"),spring:{duration:700,create:{type:"linear",property:"opacity"},update:{type:"spring",springDamping:.4},delete:{type:"linear",property:"opacity"}}};const M={configureNext:P,create:D,Types:Object.freeze({spring:"spring",linear:"linear",easeInEaseOut:"easeInEaseOut",easeIn:"easeIn",easeOut:"easeOut",keyboard:"keyboard"}),Properties:Object.freeze({opacity:"opacity",scaleX:"scaleX",scaleY:"scaleY",scaleXY:"scaleXY"}),checkConfig(){console.error("LayoutAnimation.checkConfig(...) has been disabled.")},Presets:L,easeInEaseOut:P.bind(null,L.easeInEaseOut),linear:P.bind(null,L.linear),spring:P.bind(null,L.spring)};var F=n(2286);const U=n(9410).Z;var j=n(3795),V=n(1302),B=n(3759),z=n.n(B);const G=class{static share(e,t){return void 0===t&&(t={}),z()("object"==typeof e&&null!==e,"Content to share must be a valid object"),z()("string"==typeof e.url||"string"==typeof e.message,"At least one of URL and message is required"),z()("object"==typeof t&&null!==t,"Options must be a valid object"),z()(!e.title||"string"==typeof e.title,"Invalid title: title should be a string."),void 0!==window.navigator.share?window.navigator.share({title:e.title,text:e.message,url:e.url}):Promise.reject(new Error("Share is not supported in this browser"))}static get sharedAction(){return"sharedAction"}static get dismissedAction(){return"dismissedAction"}};var H=n(3457),q=e=>{"vibrate"in window.navigator&&window.navigator.vibrate(e)};const W={cancel(){q(0)},vibrate(e){void 0===e&&(e=400),q(e)}};var Z=n(9672),K=n(7294),Y=n(8548),Q=n(4404),J=n(8506),X=K.forwardRef(((e,t)=>{(0,J.O)("Button","Button is deprecated. Please use Pressable.");var n=e.accessibilityLabel,r=e.color,i=e.disabled,o=e.onPress,a=e.testID,s=e.title;return K.createElement(Y.Z,{accessibilityLabel:n,accessibilityRole:"button",disabled:i,focusable:!i,onPress:o,ref:t,style:[$.button,r&&{backgroundColor:r},i&&$.buttonDisabled],testID:a},K.createElement(Q.Z,{style:[$.text,i&&$.textDisabled]},s))}));X.displayName="Button";var $=H.Z.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const ee=X;var te=n(177),ne=n(1373),re=n(2762),ie=n(5900),oe=n(7462),ae=n(3366),se=n(7177),ce=["behavior","contentContainerStyle","keyboardVerticalOffset"];class le extends K.Component{constructor(){super(...arguments),this.frame=null,this.onLayout=e=>{this.frame=e.nativeEvent.layout}}relativeKeyboardHeight(e){var t=this.frame;if(!t||!e)return 0;var n=e.screenY-(this.props.keyboardVerticalOffset||0);return Math.max(t.y+t.height-n,0)}onKeyboardChange(e){}render(){var e=this.props,t=(e.behavior,e.contentContainerStyle,e.keyboardVerticalOffset,(0,ae.Z)(e,ce));return K.createElement(se.Z,(0,oe.Z)({onLayout:this.onLayout},t))}}const ue=le;var de=n(9176),he=n(6250),pe=n(3910),fe=["color","indeterminate","progress","trackColor","style"],me=K.forwardRef(((e,t)=>{var n=e.color,r=void 0===n?"#1976D2":n,i=e.indeterminate,o=void 0!==i&&i,a=e.progress,s=void 0===a?0:a,c=e.trackColor,l=void 0===c?"transparent":c,u=e.style,d=(0,ae.Z)(e,fe),h=100*s,p=o?"25%":h+"%";return K.createElement(se.Z,(0,oe.Z)({},d,{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":o?null:h,ref:t,role:"progressbar",style:[ve.track,u,{backgroundColor:l}]}),K.createElement(se.Z,{style:[{backgroundColor:r,width:p},ve.progress,o&&ve.animation]}))}));me.displayName="ProgressBar";var ve=H.Z.create({track:{forcedColorAdjust:"none",height:5,overflow:"hidden",userSelect:"none",zIndex:0},progress:{forcedColorAdjust:"none",height:"100%",zIndex:-1},animation:{animationDuration:"1s",animationKeyframes:[{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(400%)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"}});const ge=me;var ye=n(3330),be=n(6636),Ee=n(1950),_e=n(7545),Se=n(2357),Ae=n(3063),we=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/;const Te=(e,t)=>{var n;return"string"==typeof e?""+parseFloat(e)*t+e.match(we)[1]:(n=e,!isNaN(parseFloat(n))&&isFinite(n)?e*t:void 0)};var Ce=["aria-label","accessibilityLabel","activeThumbColor","activeTrackColor","disabled","onValueChange","style","thumbColor","trackColor","value"],Re={},Ie="0px 1px 3px rgba(0,0,0,0.5)",Oe=Ie+", 0 0 0 10px rgba(0,0,0,0.1)",ke="#D5D5D5",Ne="#BDBDBD",xe=K.forwardRef(((e,t)=>{var n=e["aria-label"],i=e.accessibilityLabel,o=e.activeThumbColor,a=e.activeTrackColor,s=e.disabled,c=void 0!==s&&s,l=e.onValueChange,u=e.style,d=void 0===u?Re:u,h=e.thumbColor,p=e.trackColor,f=e.value,m=void 0!==f&&f,v=(0,ae.Z)(e,Ce),g=K.useRef(null);function y(e){var t="focus"===e.nativeEvent.type?Oe:Ie;null!=g.current&&(g.current.style.boxShadow=t)}var b=H.Z.flatten(d),E=b.height,_=b.width,S=E||"20px",A=Te(S,2),w=_>A?_:A,T=Te(S,.5),C=!0===m?null!=p&&"object"==typeof p?p.true:null!=a?a:"#A3D3CF":null!=p&&"object"==typeof p?p.false:null!=p?p:"#939393",R=m?null!=o?o:"#009688":null!=h?h:"#FAFAFA",I=S,O=I,k=[Pe.root,d,c&&Pe.cursorDefault,{height:S,width:w}],N=!0===m?"string"==typeof a&&null!=a||"object"==typeof p&&null!=p&&p.true?C:ke:"string"==typeof p&&null!=p||"object"==typeof p&&null!=p&&p.false?C:ke,x=!0===m?null==o?Ne:R:null==h?Ne:R,P=[Pe.track,{backgroundColor:c?N:C,borderRadius:T}],D=[Pe.thumb,m&&Pe.thumbActive,{backgroundColor:c?x:R,height:I,marginStart:m?Te(O,-1):0,width:O}],L=(0,r.Z)("input",{"aria-label":n||i,checked:m,disabled:c,onBlur:y,onChange:function(e){null!=l&&l(e.nativeEvent.target.checked)},onFocus:y,ref:t,style:[Pe.nativeControl,Pe.cursorInherit],type:"checkbox",role:"switch"});return K.createElement(se.Z,(0,oe.Z)({},v,{style:k}),K.createElement(se.Z,{style:P}),K.createElement(se.Z,{ref:g,style:D}),L)}));xe.displayName="Switch";var Pe=H.Z.create({root:{cursor:"pointer",userSelect:"none"},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},track:(0,Ae.Z)((0,Ae.Z)({forcedColorAdjust:"none"},H.Z.absoluteFillObject),{},{height:"70%",margin:"auto",transitionDuration:"0.1s",width:"100%"}),thumb:{forcedColorAdjust:"none",alignSelf:"flex-start",borderRadius:"100%",boxShadow:Ie,start:"0%",transform:"translateZ(0)",transitionDuration:"0.1s"},thumbActive:{insetInlineStart:"100%"},nativeControl:(0,Ae.Z)((0,Ae.Z)({},H.Z.absoluteFillObject),{},{height:"100%",margin:0,appearance:"none",padding:0,width:"100%"})});const De=xe;var Le=n(2747),Me=n(8443),Fe=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},Ue=function(e){var t=this;e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},je=Fe;const Ve=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||je,n.poolSize||(n.poolSize=10),n.release=Ue,n},Be=Fe;var ze=Be;function Ge(e,t){this.width=e,this.height=t}Ge.prototype.destructor=function(){this.width=null,this.height=null},Ge.getPooledFromElement=function(e){return Ge.getPooled(e.offsetWidth,e.offsetHeight)},Ve(Ge,ze);const He=Ge;var qe=n(4586),We=n.n(qe),Ze=Be;function Ke(e,t){this.left=e,this.top=t}Ke.prototype.destructor=function(){this.left=null,this.top=null},Ve(Ke,Ze);const Ye=Ke;var Qe=e=>{var t=e.touches,n=e.changedTouches,r=t&&t.length>0,i=n&&n.length>0;return!r&&i?n[0]:r?t[0]:e},Je="NOT_RESPONDER",Xe="RESPONDER_INACTIVE_PRESS_IN",$e="RESPONDER_INACTIVE_PRESS_OUT",et="RESPONDER_ACTIVE_PRESS_IN",tt="RESPONDER_ACTIVE_PRESS_OUT",nt="RESPONDER_ACTIVE_LONG_PRESS_IN",rt="RESPONDER_ACTIVE_LONG_PRESS_OUT",it="ERROR",ot={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},at=(0,Ae.Z)((0,Ae.Z)({},ot),{},{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),st=(0,Ae.Z)((0,Ae.Z)({},ot),{},{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),ct=(0,Ae.Z)((0,Ae.Z)({},ot),{},{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),lt="RESPONDER_RELEASE",ut="RESPONDER_TERMINATED",dt="LONG_PRESS_DETECTED",ht={NOT_RESPONDER:{DELAY:it,RESPONDER_GRANT:Xe,RESPONDER_RELEASE:it,RESPONDER_TERMINATED:it,ENTER_PRESS_RECT:it,LEAVE_PRESS_RECT:it,LONG_PRESS_DETECTED:it},RESPONDER_INACTIVE_PRESS_IN:{DELAY:et,RESPONDER_GRANT:it,RESPONDER_RELEASE:Je,RESPONDER_TERMINATED:Je,ENTER_PRESS_RECT:Xe,LEAVE_PRESS_RECT:$e,LONG_PRESS_DETECTED:it},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:tt,RESPONDER_GRANT:it,RESPONDER_RELEASE:Je,RESPONDER_TERMINATED:Je,ENTER_PRESS_RECT:Xe,LEAVE_PRESS_RECT:$e,LONG_PRESS_DETECTED:it},RESPONDER_ACTIVE_PRESS_IN:{DELAY:it,RESPONDER_GRANT:it,RESPONDER_RELEASE:Je,RESPONDER_TERMINATED:Je,ENTER_PRESS_RECT:et,LEAVE_PRESS_RECT:tt,LONG_PRESS_DETECTED:nt},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:it,RESPONDER_GRANT:it,RESPONDER_RELEASE:Je,RESPONDER_TERMINATED:Je,ENTER_PRESS_RECT:et,LEAVE_PRESS_RECT:tt,LONG_PRESS_DETECTED:it},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:it,RESPONDER_GRANT:it,RESPONDER_RELEASE:Je,RESPONDER_TERMINATED:Je,ENTER_PRESS_RECT:nt,LEAVE_PRESS_RECT:rt,LONG_PRESS_DETECTED:nt},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:it,RESPONDER_GRANT:it,RESPONDER_RELEASE:Je,RESPONDER_TERMINATED:Je,ENTER_PRESS_RECT:nt,LEAVE_PRESS_RECT:rt,LONG_PRESS_DETECTED:it},error:{DELAY:Je,RESPONDER_GRANT:Xe,RESPONDER_RELEASE:Je,RESPONDER_TERMINATED:Je,ENTER_PRESS_RECT:Je,LEAVE_PRESS_RECT:Je,LONG_PRESS_DETECTED:Je}},pt={componentDidMount:function(){(0,J.O)("TouchableMixin","TouchableMixin is deprecated. Please use Pressable.");var e=this.getTouchableNode&&this.getTouchableNode();e&&e.addEventListener&&(this._touchableBlurListener=e=>{this._isTouchableKeyboardActive&&(this.state.touchable.touchState&&this.state.touchable.touchState!==Je&&this.touchableHandleResponderTerminate({nativeEvent:e}),this._isTouchableKeyboardActive=!1)},e.addEventListener("blur",this._touchableBlurListener))},componentWillUnmount:function(){var e=this.getTouchableNode&&this.getTouchableNode();e&&e.addEventListener&&e.removeEventListener("blur",this._touchableBlurListener),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressInLocation=null,this.state.touchable.responderID=null},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(e){var t=e.currentTarget;e.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=Je,this.state.touchable.responderID=t,this._receiveSignal("RESPONDER_GRANT",e);var n=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(n=isNaN(n)?130:n)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,e),n):this._handleDelay(e);var r=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;r=isNaN(r)?370:r,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,e),r+n)},touchableHandleResponderRelease:function(e){this.pressInLocation=null,this._receiveSignal(lt,e)},touchableHandleResponderTerminate:function(e){this.pressInLocation=null,this._receiveSignal(ut,e)},touchableHandleResponderMove:function(e){if(this.state.touchable.positionOnActivate){var t=this.state.touchable.positionOnActivate,n=this.state.touchable.dimensionsOnActivate,r=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},i=r.left,o=r.top,a=r.right,s=r.bottom,c=this.touchableGetHitSlop?this.touchableGetHitSlop():null;c&&(i+=c.left||0,o+=c.top||0,a+=c.right||0,s+=c.bottom||0);var l=Qe(e.nativeEvent),u=l&&l.pageX,d=l&&l.pageY;if(this.pressInLocation&&this._getDistanceBetweenPoints(u,d,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout(),u>t.left-i&&d>t.top-o&&u<t.left+n.width+a&&d<t.top+n.height+s){var h=this.state.touchable.touchState;this._receiveSignal("ENTER_PRESS_RECT",e),this.state.touchable.touchState===Xe&&h!==Xe&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal("LEAVE_PRESS_RECT",e)}},touchableHandleFocus:function(e){this.props.onFocus&&this.props.onFocus(e)},touchableHandleBlur:function(e){this.props.onBlur&&this.props.onBlur(e)},_remeasureMetricsOnActivation:function(){var e=this.state.touchable.responderID;null!=e&&x.Z.measure(e,this._handleQueryLayout)},_handleQueryLayout:function(e,t,n,r,i,o){(e||t||n||r||i||o)&&(this.state.touchable.positionOnActivate&&Ye.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&He.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=Ye.getPooled(i,o),this.state.touchable.dimensionsOnActivate=He.getPooled(n,r))},_handleDelay:function(e){this.touchableDelayTimeout=null,this._receiveSignal("DELAY",e)},_handleLongDelay:function(e){this.longPressDelayTimeout=null;var t=this.state.touchable.touchState;t!==et&&t!==nt?console.error("Attempted to transition from state `"+t+"` to `"+nt+"`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(dt,e)},_receiveSignal:function(e,t){var n=this.state.touchable.responderID,r=this.state.touchable.touchState,i=ht[r]&&ht[r][e];if(n||e!==lt){if(!i)throw new Error("Unrecognized signal `"+e+"` or state `"+r+"` for Touchable responder `"+n+"`");if(i===it)throw new Error("Touchable cannot transition from `"+r+"` to `"+e+"` for responder `"+n+"`");r!==i&&(this._performSideEffectsForTransition(r,i,e,t),this.state.touchable.touchState=i)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(e){return e===et||e===nt},_savePressInLocation:function(e){var t=Qe(e.nativeEvent),n=t&&t.pageX,r=t&&t.pageY,i=t&&t.locationX,o=t&&t.locationY;this.pressInLocation={pageX:n,pageY:r,locationX:i,locationY:o}},_getDistanceBetweenPoints:function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)},_performSideEffectsForTransition:function(e,t,n,r){var i=this._isHighlight(e),o=this._isHighlight(t);(n===ut||n===lt)&&this._cancelLongPressDelayTimeout();var a=e===Je&&t===Xe,s=!at[e]&&at[t];if((a||s)&&this._remeasureMetricsOnActivation(),st[e]&&n===dt&&this.touchableHandleLongPress&&this.touchableHandleLongPress(r),o&&!i?this._startHighlight(r):!o&&i&&this._endHighlight(r),st[e]&&n===lt){var c=!!this.props.onLongPress,l=ct[e]&&(!c||!this.touchableLongPressCancelsPress());(!ct[e]||l)&&this.touchableHandlePress&&(o||i||(this._startHighlight(r),this._endHighlight(r)),this.touchableHandlePress(r))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_playTouchSound:function(){x.Z.playTouchSound()},_startHighlight:function(e){this._savePressInLocation(e),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(e)},_endHighlight:function(e){this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout((()=>{this.touchableHandleActivePressOut(e)}),this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(e))},touchableHandleKeyEvent:function(e){var t=e.type,n=e.key;"Enter"!==n&&" "!==n||("keydown"===t?this._isTouchableKeyboardActive||this.state.touchable.touchState&&this.state.touchable.touchState!==Je||(this.touchableHandleResponderGrant(e),this._isTouchableKeyboardActive=!0):"keyup"===t&&this._isTouchableKeyboardActive&&this.state.touchable.touchState&&this.state.touchable.touchState!==Je&&(this.touchableHandleResponderRelease(e),this._isTouchableKeyboardActive=!1),e.stopPropagation(),"Enter"===n&&"link"===Me.Z.propsToAriaRole(this.props)||e.preventDefault())},withoutDefaultFocusAndBlur:{}},ft=(pt.touchableHandleFocus,pt.touchableHandleBlur,(0,ae.Z)(pt,["touchableHandleFocus","touchableHandleBlur"]));pt.withoutDefaultFocusAndBlur=ft;var mt={Mixin:pt,TOUCH_TARGET_DEBUG:!1,renderDebugView:e=>{var t=e.color,n=e.hitSlop;if(!mt.TOUCH_TARGET_DEBUG)return null;var r={};for(var i in n=n||{top:0,bottom:0,left:0,right:0})r[i]=-n[i];var o=We()(t);if("number"!=typeof o)return null;var a="#"+("00000000"+o.toString(16)).substr(-8);return K.createElement(se.Z,{pointerEvents:"none",style:(0,Ae.Z)({position:"absolute",borderColor:a.slice(0,-2)+"55",borderWidth:1,borderStyle:"dashed",backgroundColor:a.slice(0,-2)+"0F"},r)})}};const vt=mt;var gt=n(6528),yt=n(6560),bt=["activeOpacity","children","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onHideUnderlay","onLongPress","onPress","onPressIn","onPressOut","onShowUnderlay","rejectResponderTermination","style","testOnly_pressed","underlayColor"];function Et(e,t){return{child:{opacity:null!=e?e:.85},underlay:{backgroundColor:void 0===t?"black":t}}}function _t(e){return null!=e.onPress||null!=e.onPressIn||null!=e.onPressOut||null!=e.onLongPress}function St(e,t){(0,J.O)("TouchableHighlight","TouchableHighlight is deprecated. Please use Pressable.");var n=e.activeOpacity,r=e.children,i=e.delayPressIn,o=e.delayPressOut,a=e.delayLongPress,s=e.disabled,c=e.focusable,l=e.onHideUnderlay,u=e.onLongPress,d=e.onPress,h=e.onPressIn,p=e.onPressOut,f=e.onShowUnderlay,m=e.rejectResponderTermination,v=e.style,g=e.testOnly_pressed,y=e.underlayColor,b=(0,ae.Z)(e,bt),E=(0,K.useRef)(null),_=(0,gt.Z)(t,E),S=(0,K.useState)(!0===g?Et(n,y):null),A=S[0],w=S[1],T=(0,K.useCallback)((()=>{_t(e)&&(w(Et(n,y)),null!=f&&f())}),[n,f,e,y]),C=(0,K.useCallback)((()=>{!0!==g&&_t(e)&&(w(null),null!=l&&l())}),[l,e,g]),R=(0,K.useMemo)((()=>({cancelable:!m,disabled:s,delayLongPress:a,delayPressStart:i,delayPressEnd:o,onLongPress:u,onPress:d,onPressStart(e){T(),null!=h&&h(e)},onPressEnd(e){C(),null!=p&&p(e)}})),[a,i,o,s,u,d,h,p,m,T,C]),I=(0,yt.Z)(E,R),O=K.Children.only(r);return K.createElement(se.Z,(0,oe.Z)({},b,I,{accessibilityDisabled:s,focusable:!s&&!1!==c,pointerEvents:s?"box-none":void 0,ref:_,style:[At.root,v,!s&&At.actionable,A&&A.underlay]}),K.cloneElement(O,{style:[O.props.style,A&&A.child]}))}var At=H.Z.create({root:{userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),wt=K.memo(K.forwardRef(St));wt.displayName="TouchableHighlight";const Tt=wt;class Ct extends K.Component{render(){return K.createElement(se.Z,{style:[Rt,this.props.style]},this.props.children)}}var Rt={};const It=Ct,Ot=It;var kt=n(7901),Nt=n(3298);function xt(e){return K.createElement(It,e)}xt.ignoreWarnings=()=>{};const Pt=xt,Dt={ignoreLogs(){},ignoreAllLogs(){},uninstall(){},install(){}},Lt=n(8593).Z;function Mt(){var e=K.useState(E.getColorScheme()),t=e[0],n=e[1];return K.useEffect((()=>E.addChangeListener((function(e){n(e.colorScheme)})).remove)),t}const Ft=n(3167).PE;var Ut=n(1682)},8443:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null};const i=e=>{var t=e.accessibilityRole,n=e.role||t;if(n){var i=r[n];if(null!==i)return i||n}};var o={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},a={};const s={isDisabled:e=>e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1,propsToAccessibilityComponent:function(e){if(void 0===e&&(e=a),"label"===e.accessibilityRole)return"label";var t=i(e);if(t){if("heading"===t){var n=e.accessibilityLevel||e["aria-level"];return null!=n?"h"+n:"h1"}return o[t]}},propsToAriaRole:i}},3177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7505);const i={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&r.Z.focus(e))},blurTextInput(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&r.Z.blur(e))}}},3145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||!window.document||!window.document.createElement)},1763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3177);const i=()=>{r.Z.blurTextInput(r.Z.currentlyFocusedField())}},3250:(e,t,n)=>{"use strict";n.d(t,{E5:()=>l,LO:()=>i,Uy:()=>s,YB:()=>a,_T:()=>o,hJ:()=>c,lG:()=>r,vr:()=>u});var r={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},i={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},o={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},a={onBlur:!0,onFocus:!0},s={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},c={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},l={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},u={style:!0}},596:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((t=>{null!=t&&("function"!=typeof t?"object"!=typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))}))}}n.d(t,{Z:()=>r}),n(7294)},5819:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&!0===t[r]&&(n[r]=e[r]);return n}n.d(t,{Z:()=>r})},42:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(9863),i=n(7505),o=n(3145),a="__reactLayoutHandler",s=(o.Z,null);function c(e,t){var n=(o.Z&&void 0!==window.ResizeObserver&&null==s&&(s=new window.ResizeObserver((function(e){e.forEach((e=>{var t=e.target,n=t[a];"function"==typeof n&&i.Z.measure(t,((t,r,i,o,a,s)=>{var c={nativeEvent:{layout:{x:t,y:r,width:i,height:o,left:a,top:s}},timeStamp:Date.now()};Object.defineProperty(c.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),n(c)}))}))}))),s);(0,r.Z)((()=>{var n=e.current;null!=n&&(n[a]=t)}),[e,t]),(0,r.Z)((()=>{var t=e.current;return null!=t&&null!=n&&("function"==typeof t[a]?n.observe(t):n.unobserve(t)),()=>{null!=t&&null!=n&&n.unobserve(t)}}),[e,n])}},9863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294);const i=n(3145).Z?r.useLayoutEffect:r.useEffect},3167:(e,t,n)=>{"use strict";n.d(t,{Iw:()=>u,w1:()=>l,PE:()=>d});var r=n(7294),i=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),o=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),a=new Map,s={direction:"ltr",locale:"en-US"},c=(0,r.createContext)(s);function l(e){return function(e){var t=a.get(e);if(t)return t;var n=!1;if(Intl.Locale){var r=new Intl.Locale(e).maximize().script;n=i.has(r)}else{var s=e.split("-")[0];n=o.has(s)}return a.set(e,n),n}(e)?"rtl":"ltr"}function u(e){var t=e.direction,n=e.locale,i=e.children;return t||n?r.createElement(c.Provider,{children:i,value:{direction:n?l(n):t,locale:n}}):i}function d(){return(0,r.useContext)(c)}},6528:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294),i=n(596);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>(0,i.Z)(...t)),[...t])}},91:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7505),i=n(7771);function o(e){return e.pointerEvents,e.style,(0,i.Z)((()=>e=>{null!=e&&(e.measure=t=>r.Z.measure(e,t),e.measureLayout=(t,n,i)=>r.Z.measureLayout(e,t,i,n),e.measureInWindow=t=>r.Z.measureInWindow(e,t))}))}},6560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r="DELAY",i="ERROR",o="LONG_PRESS_DETECTED",a="NOT_RESPONDER",s="RESPONDER_ACTIVE_LONG_PRESS_START",c="RESPONDER_ACTIVE_PRESS_START",l="RESPONDER_INACTIVE_PRESS_START",u="RESPONDER_RELEASE",d="RESPONDER_TERMINATED",h=Object.freeze({NOT_RESPONDER:{DELAY:i,RESPONDER_GRANT:l,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:i},RESPONDER_INACTIVE_PRESS_START:{DELAY:c,RESPONDER_GRANT:i,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:i},RESPONDER_ACTIVE_PRESS_START:{DELAY:i,RESPONDER_GRANT:i,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:s},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:i,RESPONDER_GRANT:i,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:s},ERROR:{DELAY:a,RESPONDER_GRANT:l,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:a}}),p=e=>e.getAttribute("role"),f=e=>e.tagName.toLowerCase(),m=e=>e===c||e===s,v=e=>"button"===p(e),g=e=>e===l||e===c||e===s,y=e=>{var t=e.key,n=e.target,r=" "===t||"Spacebar"===t,i="button"===f(n)||v(n);return"Enter"===t||r&&i};class b{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=a,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(e,t)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=a,this._isPointerTouch="touchstart"===e.nativeEvent.type,this._receiveSignal("RESPONDER_GRANT",e);var n=E(this._config.delayPressStart,0,50);!1!==t&&n>0?this._pressDelayTimeout=setTimeout((()=>{this._receiveSignal(r,e)}),n):this._receiveSignal(r,e);var i=E(this._config.delayLongPress,10,450);this._longPressDelayTimeout=setTimeout((()=>{this._handleLongPress(e)}),i+n)},t=e=>{this._receiveSignal(u,e)},n=e=>{var r=this._config.onPress,i=e.target;if(this._touchState!==a&&y(e)){t(e),document.removeEventListener("keyup",n);var o=i.getAttribute("role"),s=f(i);null==r||"link"===o||"a"===s||"button"===s||"input"===s||"select"===s||"textarea"===s||r(e)}};return{onStartShouldSetResponder:e=>{var t=this._config.disabled;return t&&v(e.currentTarget)&&e.stopPropagation(),null==t||!t},onKeyDown:t=>{var r=this._config.disabled,i=t.key,o=t.target;if(!r&&y(t)){this._touchState===a&&(e(t,!1),document.addEventListener("keyup",n));var s=" "===i||"Spacebar"===i,c=p(o);s&&("button"===c||"menuitem"===c)&&"button"!==f(o)&&t.preventDefault(),t.stopPropagation()}},onResponderGrant:t=>e(t),onResponderMove:e=>{null!=this._config.onPressMove&&this._config.onPressMove(e);var t=_(e);if(null!=this._touchActivatePosition){var n=this._touchActivatePosition.pageX-t.pageX,r=this._touchActivatePosition.pageY-t.pageY;Math.hypot(n,r)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>t(e),onResponderTerminate:e=>{"selectionchange"===e.nativeEvent.type&&(this._selectionTerminated=!0),this._receiveSignal(d,e)},onResponderTerminationRequest:e=>{var t=this._config,n=t.cancelable,r=t.disabled,i=t.onLongPress;return!(!r&&null!=i&&this._isPointerTouch&&"contextmenu"===e.nativeEvent.type)&&(null==n||n)},onClick:e=>{var t=this._config,n=t.disabled,r=t.onPress;n?v(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():null!=r&&!1===e.altKey&&r(e))},onContextMenu:e=>{var t=this._config,n=t.disabled,r=t.onLongPress;n?v(e.currentTarget)&&e.stopPropagation():null!=r&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(e,t){var n=this._touchState,r=null;null!=h[n]&&(r=h[n][e]),this._touchState===a&&e===u||(null==r||r===i?console.error("PressResponder: Invalid signal "+e+" for state "+n+" on responder"):n!==r&&(this._performTransitionSideEffects(n,r,e,t),this._touchState=r))}_performTransitionSideEffects(e,t,n,r){if((e=>e===d||e===u)(n)&&(setTimeout((()=>{this._isPointerTouch=!1}),0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),g(e)&&n===o){var i=this._config.onLongPress;null!=i&&null==r.nativeEvent.key&&(i(r),this._longPressDispatched=!0)}var a=m(e),c=m(t);if(!a&&c?this._activate(r):a&&!c&&this._deactivate(r),g(e)&&n===u){var l=this._config,h=l.onLongPress;null!=l.onPress&&(null!=h&&e===s||c||a||(this._activate(r),this._deactivate(r)))}this._cancelPressDelayTimeout()}_activate(e){var t=this._config,n=t.onPressChange,r=t.onPressStart,i=_(e);this._touchActivatePosition={pageX:i.pageX,pageY:i.pageY},null!=r&&r(e),null!=n&&n(!0)}_deactivate(e){var t=this._config,n=t.onPressChange,r=t.onPressEnd;function i(){null!=r&&r(e),null!=n&&n(!1)}var o=E(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout((()=>{i()}),o):i()}_handleLongPress(e){this._touchState!==c&&this._touchState!==s||this._receiveSignal(o,e)}_cancelLongPressDelayTimeout(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function E(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Math.max(t,null!=e?e:n)}function _(e){var t=e.nativeEvent,n=t.changedTouches,r=t.touches;return null!=r&&r.length>0?r[0]:null!=n&&n.length>0?n[0]:e.nativeEvent}var S=n(7294);function A(e,t){var n=(0,S.useRef)(null);null==n.current&&(n.current=new b(t));var r=n.current;return(0,S.useEffect)((()=>{r.configure(t)}),[t,r]),(0,S.useEffect)((()=>()=>{r.reset()}),[r]),(0,S.useDebugValue)(t),r.getEventHandlers()}},9038:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var r=n(7294);const i=e=>{if(null!=e&&1===e.nodeType&&"function"==typeof e.getBoundingClientRect)return e.getBoundingClientRect()};var o=()=>{},a={},s=[];function c(e){return e>20?e%20:e}function l(e,t){var n,r,l,u=!1,d=e.changedTouches,h=e.type,p=!0===e.metaKey,f=!0===e.shiftKey,m=d&&d[0].force||0,v=c(d&&d[0].identifier||0),g=d&&d[0].clientX||e.clientX,y=d&&d[0].clientY||e.clientY,b=d&&d[0].pageX||e.pageX,E=d&&d[0].pageY||e.pageY,_="function"==typeof e.preventDefault?e.preventDefault.bind(e):o,S=e.timeStamp;function A(e){return Array.prototype.slice.call(e).map((e=>({force:e.force,identifier:c(e.identifier),get locationX(){return C(e.clientX)},get locationY(){return R(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:S})))}if(null!=d)r=A(d),l=A(e.touches);else{var w=[{force:m,identifier:v,get locationX(){return C(g)},get locationY(){return R(y)},pageX:b,pageY:E,target:e.target,timestamp:S}];r=w,l="mouseup"===h||"dragstart"===h?s:w}var T={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:a,eventPhase:e.eventPhase,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>u,isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:p,shiftKey:f,changedTouches:r,force:m,identifier:v,get locationX(){return C(g)},get locationY(){return R(y)},pageX:b,pageY:E,target:e.target,timestamp:S,touches:l,type:h},persist:o,preventDefault:_,stopPropagation(){u=!0},target:e.target,timeStamp:S,touchHistory:t.touchHistory};function C(e){if(n=n||i(T.currentTarget))return e-n.left}function R(e){if(n=n||i(T.currentTarget))return e-n.top}return T}var u="mousedown",d="mousemove",h="mouseup",p="dragstart",f="touchstart",m="touchmove",v="touchend",g="touchcancel",y="scroll",b="select",E="selectionchange";function _(e){return e===f||e===u}function S(e){return e===m||e===d}function A(e){return e===v||e===h||w(e)}function w(e){return e===g||e===p}var T="__reactResponderId";function C(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function R(e){return null!=e?e[T]:null}var I=!1,O=20;function k(e){return e.timeStamp||e.timestamp}function N(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),I&&t>O&&console.error("Touch identifier %s is greater than maximum supported %s which causes performance issues backfilling array locations for all of the indices.",t,O),t}function x(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:k(e)})}function P(e){var t=e.touchBank,n=JSON.stringify(t.slice(0,O));return t.length>O&&(n+=" (original size: "+t.length+")"),n}var D=n(3145),L={},M=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],F=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],U={touchstart:M,mousedown:M,touchmove:F,mousemove:F,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},j={id:null,idPath:null,node:null},V=new Map,B=!1,z=0,G={id:null,node:null,idPath:null},H=new class{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,t){var n=this._touchHistory;if(S(e))t.changedTouches.forEach((e=>function(e,t){var n=t.touchBank[N(e)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=k(e),t.mostRecentTimeStamp=k(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+x(e)+"\n","Touch Bank: "+P(t))}(e,n)));else if(_(e))t.changedTouches.forEach((e=>function(e,t){var n=N(e),r=t.touchBank[n];r?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=k(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=k(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=k(t)}(r,e):t.touchBank[n]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:k(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:k(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:k(e)}}(e),t.mostRecentTimeStamp=k(e)}(e,n))),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches&&(n.indexOfSingleActiveTouch=t.touches[0].identifier);else if(A(e)&&(t.changedTouches.forEach((e=>function(e,t){var n=t.touchBank[N(e)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=k(e),t.mostRecentTimeStamp=k(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+x(e)+"\n","Touch Bank: "+P(t))}(e,n))),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches)){for(var r=n.touchBank,i=0;i<r.length;i++){var o=r[i];if(null!=o&&o.touchActive){n.indexOfSingleActiveTouch=i;break}}if(I){var a=r[n.indexOfSingleActiveTouch];null!=a&&a.touchActive||console.error("Cannot find single active touch.")}}}get touchHistory(){return this._touchHistory}};function q(e){G=e}function W(e){var t=V.get(e);return null!=t?t:L}function Z(e){var t=e.type,n=e.target;if("touchstart"===t&&(B=!0),("touchmove"===t||z>1)&&(B=!1),!("mousedown"===t&&B||"mousemove"===t&&B||"mousemove"===t&&z<1))if(B&&"mouseup"===t)0===z&&(B=!1);else{var r=_(t)&&function(e){var t=e.altKey,n=e.button,r=e.buttons,i=e.ctrlKey,o=e.type,a=!1===t&&!1===i;return!!("touchstart"===o||"touchmove"===o||"mousedown"===o&&(0===n||1===r)&&a||"mousemove"===o&&1===r&&a)}(e),i=S(t),o=A(t),a=function(e){return e===y}(t),s=function(e){return e===b||e===E}(t),c=l(e,H);(r||i||o)&&(e.touches?z=e.touches.length:r?z=1:o&&(z=0),H.recordTouchTrack(t,c.nativeEvent));var u,d=function(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?C(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():C(e.target)}(e),i=0;i<r.length;i++){var o=r[i],a=R(o);null!=a&&(t.push(a),n.push(o))}return{idPath:t,nodePath:n}}(e),h=!1;if(r||i||a&&z>0){var p=G.idPath,f=d.idPath;if(null!=p&&null!=f){var m=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var i=e[0],o=0,a=t[0],s=0;n-r>0&&(i=e[o=n-r],n=r),r-n>0&&(a=t[s=r-n],r=n);for(var c=n;c--;){if(i===a)return i;i=e[o++],a=t[s++]}return null}(p,f);if(null!=m){var v=f.indexOf(m)+(m===G.id?1:0);d={idPath:f.slice(v),nodePath:d.nodePath.slice(v)}}else d=null}null!=d&&(u=function(e,t,n){var r=U[t.type];if(null!=r){for(var i=e.idPath,o=e.nodePath,a=r[0],s=r[1],c=r[2].bubbles,l=function(e,t,r){var o=W(e)[r];if(null!=o&&(n.currentTarget=t,!0===o(n)))return{id:e,node:t,idPath:i.slice(i.indexOf(e))}},u=i.length-1;u>=0;u--){var d=l(i[u],o[u],a);if(null!=d)return d;if(!0===n.isPropagationStopped())return}if(c)for(var h=0;h<i.length;h++){var p=l(i[h],o[h],s);if(null!=p)return p;if(!0===n.isPropagationStopped())return}else{var f=i[0],m=o[0];if(t.target===m)return l(f,m,s)}}}(d,e,c),null!=u&&(function(e,t){var n=G,r=n.id,i=n.node,o=t.id,a=t.node,s=W(o),c=s.onResponderGrant,l=s.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=a,null==r)null!=c&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",c(e)),q(t);else{var u=W(r),d=u.onResponderTerminate,h=u.onResponderTerminationRequest,p=!0;null!=h&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===h(e)&&(p=!1)),p?(null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",d(e)),null!=c&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",c(e)),q(t)):null!=l&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderReject",l(e))}}(c,u),h=!0))}if(null!=G.id&&null!=G.node){var g=G,T=g.id,I=g.node,O=W(T),k=O.onResponderStart,N=O.onResponderMove,x=O.onResponderEnd,P=O.onResponderRelease,D=O.onResponderTerminate,L=O.onResponderTerminationRequest;if(c.bubbles=!1,c.cancelable=!1,c.currentTarget=I,r)null!=k&&(c.dispatchConfig.registrationName="onResponderStart",k(c));else if(i)null!=N&&(c.dispatchConfig.registrationName="onResponderMove",N(c));else{var M=w(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(I)&&e.relatedTarget!==I||a&&0===z||a&&n.contains(I)&&n!==I||s&&function(e){return"selectionchange"===e.type?(n=(t=window.getSelection()).toString(),r=t.anchorNode,i=t.focusNode,o=r&&r.nodeType===window.Node.TEXT_NODE||i&&i.nodeType===window.Node.TEXT_NODE,n.length>=1&&"\n"!==n&&o):"select"===e.type;var t,n,r,i,o}(e),F=o&&!M&&!function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1}(I,e.touches);if(o&&null!=x&&(c.dispatchConfig.registrationName="onResponderEnd",x(c)),F&&(null!=P&&(c.dispatchConfig.registrationName="onResponderRelease",P(c)),q(j)),M){var V=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(h?V=!1:null!=L&&(c.dispatchConfig.registrationName="onResponderTerminationRequest",!1===L(c)&&(V=!1))),V&&(null!=D&&(c.dispatchConfig.registrationName="onResponderTerminate",D(c)),q(j),B=!1,z=0)}}}}}var K=["blur","scroll"],Y=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function Q(e){G.id===e&&function(){var e=G,t=e.id,n=e.node;if(null!=t&&null!=n){var r=W(t).onResponderTerminate;if(null!=r){var i=l({},H);i.currentTarget=n,r(i)}q(j)}B=!1,z=0}(),V.has(e)&&V.delete(e)}var J={},X=0;function $(e,t){void 0===t&&(t=J);var n,i,o=(n=()=>X++,null==(i=r.useRef(null)).current&&(i.current=n()),i.current),a=r.useRef(!1);r.useEffect((()=>(D.Z&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",Z),Y.forEach((e=>{document.addEventListener(e,Z)})),K.forEach((e=>{document.addEventListener(e,Z,!0)})),window.__reactResponderSystemActive=!0),()=>{Q(o)})),[o]),r.useEffect((()=>{var n=t,r=n.onMoveShouldSetResponder,i=n.onMoveShouldSetResponderCapture,s=n.onScrollShouldSetResponder,c=n.onScrollShouldSetResponderCapture,l=n.onSelectionChangeShouldSetResponder,u=n.onSelectionChangeShouldSetResponderCapture,d=n.onStartShouldSetResponder,h=n.onStartShouldSetResponderCapture,p=null!=r||null!=i||null!=s||null!=c||null!=l||null!=u||null!=d||null!=h,f=e.current;p?(function(e,t,n){!function(e,t){null!=e&&(e[T]=t)}(t,e),V.set(e,n)}(o,f,t),a.current=!0):a.current&&(Q(o),a.current=!1)}),[t,e,o]),r.useDebugValue({isResponder:e.current===G.node}),r.useDebugValue(t)}},7771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294),i="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():Object.freeze({});function o(e){var t=r.useRef(i);return t.current===i&&(t.current=e()),t.current}},8506:(e,t,n)=>{"use strict";function r(e,t){}n.d(t,{O:()=>r})},9410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(2805),i=n(8593),o=n(3759),a=n.n(o);class s{constructor(e){"ios"===r.Z.OS&&(a()(null!=e,"`new NativeEventEmitter()` requires a non-null argument."),this._nativeModule=e)}addListener(e,t,n){var r;null==(r=this._nativeModule)||r.addListener(e);var o=i.Z.addListener(e,t,n);return{remove:()=>{var e;null!=o&&(null==(e=this._nativeModule)||e.removeListeners(1),o.remove(),o=null)}}}removeListener(e,t){var n;null==(n=this._nativeModule)||n.removeListeners(1),i.Z.removeListener(e,t)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.Z.emit(e,...n)}removeAllListeners(e){var t;a()(null!=e,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),null==(t=this._nativeModule)||t.removeListeners(this.listenerCount(e)),i.Z.removeAllListeners(e)}listenerCount(e){return i.Z.listenerCount(e)}}},8593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=new(n(6882).Z)},8537:e=>{"use strict";e.exports=function(e,t,n){return t<e?e:t>n?n:t}},4282:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o){var a=e.getItemCount(e.data);if(0===a)return{first:0,last:-1};var s=o.offset,c=o.velocity,l=o.visibleLength,u=o.zoomScale,d=void 0===u?1:u,h=Math.max(0,s),p=h+l,f=(n-1)*l,m=c>1?"after":c<-1?"before":"none",v=Math.max(0,h-.5*f),g=Math.max(0,p+.5*f);if(i(a-1,e).offset*d<v)return{first:Math.max(0,a-1-t),last:a-1};var y=function(e,t,n,r){void 0===r&&(r=1);for(var i=t.getItemCount(t.data),o=[],a=0;a<e.length;a++)for(var s=e[a],c=0,l=i-1;c<=l;){var u=c+(l-c>>>1),d=n(u,t),h=d.offset*r,p=(d.offset+d.length)*r;if(0===u&&s<h||0!==u&&s<=h)l=u-1;else{if(!(s>p)){o[a]=u;break}c=u+1}}return o}([v,h,p,g],e,i,d),b=y[0],E=y[1],_=y[2],S=y[3];b=null==b?0:b,S=null==S?a-1:S;for(var A={first:E=null==E?Math.max(0,b):E,last:_=null==_?Math.min(S,E+t-1):_},w=function(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}(r,A);!(E<=b&&_>=S);){var T=w>=t,C=E<=r.first||E>r.last,R=E>b&&(!T||!C),I=_>=r.last||_<r.first,O=_<S&&(!T||!I);if(T&&!R&&!O)break;!R||"after"===m&&O&&I||(C&&w++,E--),!O||"before"===m&&R&&C||(I&&w++,_++)}if(!(_>=E&&E>=0&&_<a&&E>=b&&_<=S&&E<=A.first&&_>=A.last))throw new Error("Bad window calculation "+JSON.stringify({first:E,last:_,itemCount:a,overscanFirst:b,overscanLast:S,visible:A}));return{first:E,last:_}}function i(e,t){return"object"==typeof e&&null!=(null==e?void 0:e.key)?e.key:"object"==typeof e&&null!=(null==e?void 0:e.id)?e.id:String(t)}n.d(t,{EF:()=>r,jn:()=>i})},3903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var r=n(5196),i=n(7462),o=n(3063),a=n(3330),s=n(1950),c=n(7177),l=n(3457),u=n(4591);var d=n(8537),h=n.n(d);var p=n(3759),f=n.n(p);class m{constructor(e){f()(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,this._regions=0===e?[]:[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(f()(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var t=this._findRegion(e.first),n=t[0],r=t[1],i=this._findRegion(e.last),a=i[0],s=i[1];if(r!==s||n.isSpacer){var c=[],l=[],u=(0,o.Z)((0,o.Z)({},e),{},{isSpacer:!1});n.first<u.first&&(n.isSpacer?c.push({first:n.first,last:u.first-1,isSpacer:!0}):u.first=n.first),a.last>u.last&&(a.isSpacer?l.push({first:u.last+1,last:a.last,isSpacer:!0}):u.last=a.last);var d=[...c,u,...l],h=s-r+1;this._regions.splice(r,h,...d)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every(((t,n)=>t.first===e._regions[n].first&&t.last===e._regions[n].last&&t.isSpacer===e._regions[n].isSpacer))}_findRegion(e){for(var t=0,n=this._regions.length-1;t<=n;){var r=Math.floor((t+n)/2),i=this._regions[r];if(e>=i.first&&e<=i.last)return[i,r];e<i.first?n=r-1:e>i.last&&(t=r+1)}f()(!1,"A region was not found containing cellIdx "+e)}}class v{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,t){var n;f()(!this._childrenToCellKey.has(e),"Trying to add already present child list");var r=null!==(n=this._cellKeyToChildren.get(t))&&void 0!==n?n:new Set;r.add(e),this._cellKeyToChildren.set(t,r),this._childrenToCellKey.set(e,t)}remove(e){var t=this._childrenToCellKey.get(e);f()(null!=t,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var n=this._cellKeyToChildren.get(t);f()(n,"_cellKeyToChildren should contain cellKey"),n.delete(e),0===n.size&&this._cellKeyToChildren.delete(t)}forEach(e){for(var t,n=(0,r.Z)(this._cellKeyToChildren.values());!(t=n()).done;)for(var i,o=t.value,a=(0,r.Z)(o);!(i=a()).done;)e(i.value)}forEachInCell(e,t){for(var n,i,o=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],a=(0,r.Z)(o);!(i=a()).done;)t(i.value)}anyInCell(e,t){for(var n,i,o=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],a=(0,r.Z)(o);!(i=a()).done;)if(t(i.value))return!0;return!1}size(){return this._childrenToCellKey.size}}class g{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var y=[],b=10,E=null;var _=n(7294);class S extends _.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,t){"function"==typeof e?super.setState(((t,n)=>{var r;this._inAsyncStateUpdate=!0;try{r=e(t,n)}catch(e){throw e}finally{this._inAsyncStateUpdate=!1}return r}),t):super.setState(e,t)}_installSetStateHooks(){var e=this,t=this.props,n=this.state;Object.defineProperty(this,"props",{get:()=>(f()(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),t),set(e){t=e}}),Object.defineProperty(this,"state",{get:()=>(f()(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n),set(e){n=e}})}}function A(e,t,n,r,i,o){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,i))return!0;var a=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,i);return 100*(e?a/i:a/o)>=t}const w=class{constructor(e){void 0===e&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,t,n,r,i){var o=e.getItemCount(e.data),a=this._config,s=a.itemVisiblePercentThreshold,c=a.viewAreaCoveragePercentThreshold,l=null!=c,u=l?c:s;f()(null!=u&&null!=s!=(null!=c),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var d=[];if(0===o)return d;var h=-1,p=i||{first:0,last:o-1},m=p.first,v=p.last;if(v>=o)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:i,itemCount:o})),[];for(var g=m;g<=v;g++){var y=r(g,e);if(y){var b=y.offset-t,E=b+y.length;if(b<n&&E>0)h=g,A(l,u,b,E,n,y.length)&&d.push(g);else if(h>=0)break}}return d}onUpdate(e,t,n,r,i,o,a){var s=e.getItemCount(e.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==s&&r(0,e)){var c=[];if(s&&(c=this.computeViewableItems(e,t,n,r,a)),this._viewableIndices.length!==c.length||!this._viewableIndices.every(((e,t)=>e===c[t])))if(this._viewableIndices=c,this._config.minimumViewTime){var l=setTimeout((()=>{this._timers.delete(l),this._onUpdateSync(e,c,o,i)}),this._config.minimumViewTime);this._timers.add(l)}else this._onUpdateSync(e,c,o,i)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,t,n,i){t=t.filter((e=>this._viewableIndices.includes(e)));for(var a,s=this._viewableItems,c=new Map(t.map((t=>{var n=i(t,!0,e);return[n.key,n]}))),l=[],u=(0,r.Z)(c);!(a=u()).done;){var d=a.value,h=d[0],p=d[1];s.has(h)||l.push(p)}for(var f,m=(0,r.Z)(s);!(f=m()).done;){var v=f.value,g=v[0],y=v[1];c.has(g)||l.push((0,o.Z)((0,o.Z)({},y),{},{isViewable:!1}))}l.length>0&&(this._viewableItems=c,n({viewableItems:Array.from(c.values()),changed:l,viewabilityConfig:this._config}))}};var T=_.createContext(null);function C(e){var t=e.children,n=e.value,r=(0,_.useMemo)((()=>({cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild})),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return _.createElement(T.Provider,{value:r},t)}function R(e){var t=e.cellKey,n=e.children,r=(0,_.useContext)(T),i=(0,_.useMemo)((()=>null==r?null:(0,o.Z)((0,o.Z)({},r),{},{cellKey:t})),[r,t]);return _.createElement(T.Provider,{value:i},n)}class I extends _.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,t=e.cellKey,n=e.prevCellKey;this.props.onUpdateSeparators([t,n],{highlighted:!0})},unhighlight:()=>{var e=this.props,t=e.cellKey,n=e.prevCellKey;this.props.onUpdateSeparators([t,n],{highlighted:!1})},updateProps:(e,t)=>{var n=this.props,r=n.cellKey,i=n.prevCellKey;this.props.onUpdateSeparators(["leading"===e?i:r],t)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,t){return{separatorProps:(0,o.Z)((0,o.Z)({},t.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState((t=>({separatorProps:(0,o.Z)((0,o.Z)({},t.separatorProps),e)})))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,t,n,r){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?_.createElement(t,{item:n,index:r,separators:this._separators}):e?e({item:n,index:r,separators:this._separators}):void f()(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,t=e.CellRendererComponent,n=e.ItemSeparatorComponent,r=e.ListItemComponent,o=e.cellKey,a=e.horizontal,s=e.item,l=e.index,u=e.inversionStyle,d=e.onCellFocusCapture,h=e.onCellLayout,p=e.renderItem,f=this._renderElement(p,r,s,l),m=_.isValidElement(n)?n:n&&_.createElement(n,this.state.separatorProps),v=u?a?[O.rowReverse,u]:[O.columnReverse,u]:a?[O.row,u]:u,g=t?_.createElement(t,(0,i.Z)({cellKey:o,index:l,item:s,style:v,onFocusCapture:d},h&&{onLayout:this._onLayout}),f,m):_.createElement(c.Z,(0,i.Z)({style:v,onFocusCapture:d},h&&{onLayout:this._onLayout}),f,m);return _.createElement(R,{cellKey:this.props.cellKey},g)}}var O=l.Z.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}}),k=n(4282),N=n(4357),x=n.n(N),P=!1,D="";function L(e){return null!=e&&e}function M(e){return null!=e?e:10}function F(e){return null!=e?e:2}function U(e,t){return e*t/2}function j(e){return null!=e?e:21}class V extends S{scrollToEnd(e){var t=!e||e.animated,n=this.props.getItemCount(this.props.data)-1;if(!(n<0)){var r=this.__getFrameMetricsApprox(n,this.props),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(L(this.props.horizontal)?{x:i,animated:t}:{y:i,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}}scrollToIndex(e){var t=this.props,n=t.data,r=t.horizontal,i=t.getItemCount,o=t.getItemLayout,a=t.onScrollToIndexFailed,s=e.animated,c=e.index,l=e.viewOffset,u=e.viewPosition;if(f()(c>=0,"scrollToIndex out of range: requested index "+c+" but minimum is 0"),f()(i(n)>=1,"scrollToIndex out of range: item length "+i(n)+" but minimum is 1"),f()(c<i(n),"scrollToIndex out of range: requested index "+c+" is out of 0 to "+(i(n)-1)),!o&&c>this._highestMeasuredFrameIndex)return f()(!!a,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void a({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:c});var d=this.__getFrameMetricsApprox(Math.floor(c),this.props),h=Math.max(0,this._getOffsetApprox(c,this.props)-(u||0)*(this._scrollMetrics.visibleLength-d.length))-(l||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(r?{x:h,animated:s}:{y:h,animated:s}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}scrollToItem(e){for(var t=e.item,n=this.props,r=n.data,i=n.getItem,a=(0,n.getItemCount)(r),s=0;s<a;s++)if(i(r,s)===t){this.scrollToIndex((0,o.Z)((0,o.Z)({},e),{},{index:s}));break}}scrollToOffset(e){var t=e.animated,n=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(L(this.props.horizontal)?{x:n,animated:t}:{y:n,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}recordInteraction(){this._nestedChildLists.forEach((e=>{e.recordInteraction()})),this._viewabilityTuples.forEach((e=>{e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return(null==(e=this.context)?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var t;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=e=>{this._nestedChildLists.add(e.ref,e.cellKey),this._hasInteracted&&e.ref.recordInteraction()},this._unregisterAsNestedChild=e=>{this._nestedChildLists.remove(e.ref)},this._onUpdateSeparators=(e,t)=>{e.forEach((e=>{var n=null!=e&&this._cellRefs[e];n&&n.updateSeparatorProps(t)}))},this._getSpacerKey=e=>e?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new v,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=e=>{this._scrollRef=e},this._defaultRenderScrollComponent=e=>{var t,n=e.onRefresh;return this._isNestedWithSameOrientation()?_.createElement(c.Z,e):n?(f()("boolean"==typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:"undefined")+"`"),_.createElement(s.Z,(0,i.Z)({},e,{refreshControl:null==e.refreshControl?_.createElement(a.Z,{refreshing:e.refreshing,onRefresh:n,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):_.createElement(s.Z,e)},this._onCellLayout=(e,t,n)=>{var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:n,inLayout:!0},o=this._frames[t];o&&i.offset===o.offset&&i.length===o.length&&n===o.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(o?o.length:0),this._totalCellsMeasured+=o?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,n),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(t),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=e=>{delete this._cellRefs[e];var t=this._frames[e];t&&(this._frames[e]=(0,o.Z)((0,o.Z)({},t),{},{inLayout:!1}))},this._onLayout=e=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(e.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(e),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=e=>{this.props.onLayout&&this.props.onLayout(e)},this._onLayoutFooter=e=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(e.nativeEvent.layout)},this._onLayoutHeader=e=>{this._headerLength=this._selectLength(e.nativeEvent.layout)},this._onContentSizeChange=(e,t)=>{e>0&&t>0&&null!=this.props.initialScrollIndex&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(null==this.props.contentOffset&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:x()(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(e,t),this._scrollMetrics.contentLength=this._selectLength({height:t,width:e}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=e=>{var t=e.offset-this._offsetFromParentVirtualizedList,n=e.visibleLength,r=t-this._scrollMetrics.offset;return{visibleLength:n,contentLength:this._scrollMetrics.contentLength,offset:t,dOffset:r}},this._onScroll=e=>{this._nestedChildLists.forEach((t=>{t._onScroll(e)})),this.props.onScroll&&this.props.onScroll(e);var t=e.timeStamp,n=this._selectLength(e.nativeEvent.layoutMeasurement),r=this._selectLength(e.nativeEvent.contentSize),i=this._selectOffset(e.nativeEvent.contentOffset),o=i-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(0===this._scrollMetrics.contentLength)return;var a=this._convertParentScrollMetrics({visibleLength:n,offset:i});n=a.visibleLength,r=a.contentLength,i=a.offset,o=a.dOffset}var s=this._scrollMetrics.timestamp?Math.max(1,t-this._scrollMetrics.timestamp):1,c=o/s;s>500&&this._scrollMetrics.dt>500&&r>5*n&&!this._hasWarned.perf&&(function(){console.log(...arguments)}("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:s,prevDt:this._scrollMetrics.dt,contentLength:r}),this._hasWarned.perf=!0);var l=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;this._scrollMetrics={contentLength:r,dt:s,dOffset:o,offset:i,timestamp:t,velocity:c,visibleLength:n,zoomScale:l},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),0!==c&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=e=>{this._nestedChildLists.forEach((t=>{t._onScrollBeginDrag(e)})),this._viewabilityTuples.forEach((e=>{e.viewabilityHelper.recordInteraction()})),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this._onScrollEndDrag=e=>{this._nestedChildLists.forEach((t=>{t._onScrollEndDrag(e)}));var t=e.nativeEvent.velocity;t&&(this._scrollMetrics.velocity=this._selectOffset(t)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this._onMomentumScrollBegin=e=>{this._nestedChildLists.forEach((t=>{t._onMomentumScrollBegin(e)})),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this._onMomentumScrollEnd=e=>{this._nestedChildLists.forEach((t=>{t._onMomentumScrollEnd(e)})),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState(((e,t)=>{var n=this._adjustCellsAroundViewport(t,e.cellsAroundViewport),r=V._createRenderMask(t,n,this._getNonViewportRenderRegions(t));return n.first===e.cellsAroundViewport.first&&n.last===e.cellsAroundViewport.last&&r.equals(e.renderMask)?null:{cellsAroundViewport:n,renderMask:r}}))},this._createViewToken=(e,t,n)=>{var r=n.data,i=(0,n.getItem)(r,e);return{index:e,item:i,key:this._keyExtractor(i,e,n),isViewable:t}},this._getOffsetApprox=(e,t)=>{if(Number.isInteger(e))return this.__getFrameMetricsApprox(e,t).offset;var n=this.__getFrameMetricsApprox(Math.floor(e),t),r=e-Math.floor(e);return n.offset+r*n.length},this.__getFrameMetricsApprox=(e,t)=>{var n=this._getFrameMetrics(e,t);if(n&&n.index===e)return n;var r=t.data,i=t.getItemCount,o=t.getItemLayout;return f()(e>=0&&e<i(r),"Tried to get frame for out of range index "+e),f()(!o,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*e}},this._getFrameMetrics=(e,t)=>{var n=t.data,r=t.getItem,i=t.getItemCount,o=t.getItemLayout;f()(e>=0&&e<i(n),"Tried to get frame for out of range index "+e);var a=r(n,e),s=this._frames[this._keyExtractor(a,e,t)];return s&&s.index===e||!o?s:o(n,e)},this._getNonViewportRenderRegions=e=>{if(!this._lastFocusedCellKey||!this._cellRefs[this._lastFocusedCellKey])return[];var t=this._cellRefs[this._lastFocusedCellKey].props.index,n=e.getItemCount(e.data);if(t>=n||this._keyExtractor(e.getItem(e.data,t),t,e)!==this._lastFocusedCellKey)return[];for(var r=t,i=0,o=r-1;o>=0&&i<this._scrollMetrics.visibleLength;o--)r--,i+=this.__getFrameMetricsApprox(o,e).length;for(var a=t,s=0,c=a+1;c<n&&s<this._scrollMetrics.visibleLength;c++)a++,s+=this.__getFrameMetricsApprox(c,e).length;return[{first:r,last:a}]},this._checkProps(e),this._fillRateHelper=new class{static addListener(e){return null===E&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),y.push(e),{remove:()=>{y=y.filter((t=>e!==t))}}}static setSampleRate(e){E=e}static setMinSampleCount(e){b=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new g,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(E||0)>Math.random(),this._resetData()}activate(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=n.g.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<b)this._resetData();else{var t=n.g.performance.now()-e,r=(0,o.Z)((0,o.Z)({},this._info),{},{total_time_spent:t});y.forEach((e=>e(r))),this._resetData()}}}computeBlankness(e,t,r){if(!this._enabled||0===e.getItemCount(e.data)||t.last<t.first||null==this._samplesStartTime)return 0;var i=r.dOffset,o=r.offset,a=r.velocity,s=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(s),this._info.pixels_scrolled+=Math.round(Math.abs(i));var c=Math.round(1e3*Math.abs(a)),l=n.g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=l-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=l-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var u=0,d=t.first,h=this._getFrameMetrics(d,e);d<=t.last&&(!h||!h.inLayout);)h=this._getFrameMetrics(d,e),d++;h&&d>0&&(u=Math.min(s,Math.max(0,h.offset-o)));for(var p=0,f=t.last,m=this._getFrameMetrics(f,e);f>=t.first&&(!m||!m.inLayout);)m=this._getFrameMetrics(f,e),f--;if(m&&f<e.getItemCount(e.data)-1){var v=m.offset+m.length;p=Math.min(s,Math.max(0,o+s-v))}var g=Math.round(u+p),y=g/s;return y>0?(this._anyBlankStartTime=l,this._info.any_blank_speed_sum+=c,this._info.any_blank_count++,this._info.pixels_blank+=g,y>.5&&(this._mostlyBlankStartTime=l,this._info.mostly_blank_count++)):(c<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),y}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new g,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}(this._getFrameMetrics),this._updateCellsToRenderBatcher=new class{constructor(e,t){this._delay=t,this._callback=e}dispose(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout((()=>{this._taskHandle=u.Z.runAfterInteractions((()=>{this._taskHandle=null,this._callback()}))}),this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}(this._updateCellsToRender,null!==(t=this.props.updateCellsBatchingPeriod)&&void 0!==t?t:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map((e=>({viewabilityHelper:new w(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged})));else{var r=this.props,l=r.onViewableItemsChanged,d=r.viewabilityConfig;l&&this._viewabilityTuples.push({viewabilityHelper:new w(d),onViewableItemsChanged:l})}var h=V._initialRenderRegion(e);this.state={cellsAroundViewport:h,renderMask:V._createRenderMask(e,h)},this.invertedWheelEventHandler=e=>{var t=this.props.horizontal?e.target.scrollLeft:e.target.scrollTop,n=this.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,r=this.props.horizontal?e.target.clientWidth:e.target.clientHeight,i=n>r,o=this.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,a=o;i&&(a=o<0?Math.min(o+t,0):Math.max(o-(n-r-t),0));var s=o-a;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var c=this._scrollRef.getScrollableNode();if(this.props.horizontal){e.target.scrollLeft+=s;var l=c.scrollLeft-a;c.scrollLeft=this.props.getItemLayout?l:Math.min(l,this._totalCellLength)}else{e.target.scrollTop+=s;var u=c.scrollTop-a;c.scrollTop=this.props.getItemLayout?u:Math.min(u,this._totalCellLength)}e.preventDefault()}}}_checkProps(e){var t=e.onScroll,n=e.windowSize,r=e.getItemCount,i=e.data,o=e.initialScrollIndex;f()(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),f()(j(n)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),f()(r,'VirtualizedList: The "getItemCount" prop must be provided');var a=r(i);null==o||this._hasTriggeredInitialScrollToIndex||!(o<0||a>0&&o>=a)||this._hasWarned.initialScrollIndex||(console.warn('initialScrollIndex "'+o+'" is not valid (list has '+a+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,t,n){var r=e.getItemCount(e.data);f()(t.first>=0&&t.last>=t.first-1&&t.last<r,'Invalid cells around viewport "['+t.first+", "+t.last+']" was passed to VirtualizedList._createRenderMask');var i=new m(r);if(r>0){for(var o=0,a=[t,...null!=n?n:[]];o<a.length;o++){var s=a[o];i.addCells(s)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var c=V._initialRenderRegion(e);i.addCells(c)}var l=new Set(e.stickyHeaderIndices);V._ensureClosestStickyHeader(e,l,i,t.first)}return i}static _initialRenderRegion(e){var t,n,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:i,last:Math.min(r,i+(null!=(n=e.initialNumToRender)?n:10))-1}}static _ensureClosestStickyHeader(e,t,n,r){for(var i=e.ListHeaderComponent?1:0,o=r-1;o>=0;o--)if(t.has(o+i)){n.addCells({first:o,last:o});break}}_adjustCellsAroundViewport(e,t){var n,r=e.data,i=e.getItemCount,o=F(e.onEndReachedThreshold),a=this._scrollMetrics,s=a.contentLength,c=a.offset,l=a.visibleLength,u=s-l-c;if(l<=0||s<=0)return t.last>=i(r)?V._constrainToItemCount(t,e):t;if(e.disableVirtualization){var d=u<o*l?M(e.maxToRenderPerBatch):0;n={first:0,last:Math.min(t.last+d,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(u)>=Number.EPSILON)return t.last>=i(r)?V._constrainToItemCount(t,e):t;n=(0,k.EF)(e,M(e.maxToRenderPerBatch),j(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),f()(n.last<i(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var h=this._findFirstChildWithMore(n.first,n.last);n.last=null!=h?h:n.last}return n}_findFirstChildWithMore(e,t){for(var n=e;n<=t;n++){var r=this._indicesToKeys.get(n);if(null!=r&&this._nestedChildLists.anyInCell(r,(e=>e.hasMore())))return n}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((e=>{e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler):setTimeout((()=>this.setupWebWheelHandler()),50)}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,t){if(e.getItemCount(e.data)===t.renderMask.numCells())return t;var n=V._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:n,renderMask:V._createRenderMask(e,n)}}_pushCells(e,t,n,r,o,a){var s,c=this,l=this.props,u=l.CellRendererComponent,d=l.ItemSeparatorComponent,h=l.ListHeaderComponent,p=l.ListItemComponent,f=l.data,m=l.debug,v=l.getItem,g=l.getItemCount,y=l.getItemLayout,b=l.horizontal,E=l.renderItem,S=h?1:0,A=g(f)-1;o=Math.min(A,o);for(var w=function(){var r=v(f,T),o=c._keyExtractor(r,T,c.props);c._indicesToKeys.set(T,o),n.has(T+S)&&t.push(e.length);var l=null==y||m||c._fillRateHelper.enabled();e.push(_.createElement(I,(0,i.Z)({CellRendererComponent:u,ItemSeparatorComponent:T<A?d:void 0,ListItemComponent:p,cellKey:o,horizontal:b,index:T,inversionStyle:a,item:r,key:o,prevCellKey:s,onUpdateSeparators:c._onUpdateSeparators,onCellFocusCapture:e=>c._onCellFocusCapture(o),onUnmount:c._onCellUnmount,ref:e=>{c._cellRefs[o]=e},renderItem:E},l&&{onCellLayout:c._onCellLayout}))),s=o},T=r;T<=o;T++)w()}static _constrainToItemCount(e,t){var n=t.getItemCount(t.data),r=Math.min(n-1,e.last),i=M(t.maxToRenderPerBatch);return{first:h()(0,n-1-i,e.first),last:r}}_isNestedWithSameOrientation(){var e=this.context;return!(!e||!!e.horizontal!==L(this.props.horizontal))}_keyExtractor(e,t,n){if(null!=n.keyExtractor)return n.keyExtractor(e,t);var r=(0,k.jn)(e,t);return r===String(t)&&(P=!0,e.type&&e.type.displayName&&(D=e.type.displayName)),r}render(){this._checkProps(this.props);var e=this.props,t=e.ListEmptyComponent,n=e.ListFooterComponent,i=e.ListHeaderComponent,a=this.props,s=a.data,l=a.horizontal,u=this.props.inverted?L(this.props.horizontal)?B.horizontallyInverted:B.verticallyInverted:null,d=[],p=new Set(this.props.stickyHeaderIndices),f=[];if(i){p.has(0)&&f.push(0);var m=_.isValidElement(i)?i:_.createElement(i,null);d.push(_.createElement(R,{cellKey:this._getCellKey()+"-header",key:"$header"},_.createElement(c.Z,{onLayout:this._onLayoutHeader,style:[u,this.props.ListHeaderComponentStyle]},m)))}var v=this.props.getItemCount(s);if(0===v&&t){var g=_.isValidElement(t)?t:_.createElement(t,null);d.push(_.createElement(R,{cellKey:this._getCellKey()+"-empty",key:"$empty"},_.cloneElement(g,{onLayout:e=>{this._onLayoutEmpty(e),g.props.onLayout&&g.props.onLayout(e)},style:[u,g.props.style]})))}if(v>0){P=!1,D="";for(var y,b=this._getSpacerKey(!l),E=this.state.renderMask.enumerateRegions(),S=function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].isSpacer)return e[n];return null}(E),A=(0,r.Z)(E);!(y=A()).done;){var w=y.value;if(w.isSpacer){if(this.props.disableVirtualization)continue;var T=w!==S||this.props.getItemLayout?w.last:h()(w.first-1,w.last,this._highestMeasuredFrameIndex),I=this.__getFrameMetricsApprox(w.first,this.props),O=this.__getFrameMetricsApprox(T,this.props),k=O.offset+O.length-I.offset;d.push(_.createElement(c.Z,{key:"$spacer-"+w.first,style:{[b]:k}}))}else this._pushCells(d,f,p,w.first,w.last,u)}!this._hasWarned.keys&&P&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",D),this._hasWarned.keys=!0)}if(n){var N=_.isValidElement(n)?n:_.createElement(n,null);d.push(_.createElement(R,{cellKey:this._getFooterCellKey(),key:"$footer"},_.createElement(c.Z,{onLayout:this._onLayoutFooter,style:[u,this.props.ListFooterComponentStyle]},N)))}var x,M=(0,o.Z)((0,o.Z)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(x=this.props.scrollEventThrottle,null!=x?x:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:f,style:u?[u,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<v-1;var F=_.createElement(C,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:L(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},_.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(M),{ref:this._captureScrollRef},d));return this.props.debug?_.createElement(c.Z,{style:B.debug},F,this._renderDebugOverlay()):F}componentDidUpdate(e){var t=this.props,n=t.data,r=t.extraData;n===e.data&&r===e.extraData||this._viewabilityTuples.forEach((e=>{e.viewabilityHelper.resetViewableIndices()}));var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,(e=>{e.measureLayoutRelativeToContainingList()}))}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),((e,t,n,r)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:t}),this._scrollMetrics.contentLength=this._selectLength({width:n,height:r});var i=this._convertParentScrollMetrics(this.context.getScrollMetrics());(this._scrollMetrics.visibleLength!==i.visibleLength||this._scrollMetrics.offset!==i.offset)&&(this._scrollMetrics.visibleLength=i.visibleLength,this._scrollMetrics.offset=i.offset,this._nestedChildLists.forEach((e=>{e.measureLayoutRelativeToContainingList()})))}),(e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")}))}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],n=this.props.getItemCount(this.props.data),r=0;r<n;r++){var i=this.__getFrameMetricsApprox(r,this.props);i.inLayout&&t.push(i)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,a=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),s=a.offset+a.length-o,l=this._scrollMetrics.offset,u=this._scrollMetrics.visibleLength;return _.createElement(c.Z,{style:[B.debugOverlayBase,B.debugOverlay]},t.map(((t,n)=>_.createElement(c.Z,{key:"f"+n,style:[B.debugOverlayBase,B.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]}))),_.createElement(c.Z,{style:[B.debugOverlayBase,B.debugOverlayFrameLast,{top:o*e,height:s*e}]}),_.createElement(c.Z,{style:[B.debugOverlayBase,B.debugOverlayFrameVis,{top:l*e,height:u*e}]}))}_selectLength(e){return L(this.props.horizontal)?e.width:e.height}_selectOffset(e){return L(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,t=e.data,n=e.getItemCount,r=e.onStartReached,i=e.onStartReachedThreshold,o=e.onEndReached,a=e.onEndReachedThreshold,s=e.initialScrollIndex,c=this._scrollMetrics,l=c.contentLength,u=c.visibleLength,d=c.offset,h=d,p=l-u-d;h<.001&&(h=0),p<.001&&(p=0);var f=h<=(null!=i?i*u:2),m=p<=(null!=a?a*u:2);o&&this.state.cellsAroundViewport.last===n(t)-1&&m&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:p})):null!=r&&0===this.state.cellsAroundViewport.first&&f&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?s&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,r({distanceFromStart:h})):(this._sentStartForContentLength=f?this._sentStartForContentLength:0,this._sentEndForContentLength=m?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,t=e.first,n=e.last,r=this._scrollMetrics,i=r.offset,o=r.visibleLength,a=r.velocity,s=this.props.getItemCount(this.props.data),c=!1,l=function(e){return null!=e?e:2}(this.props.onStartReachedThreshold),u=F(this.props.onEndReachedThreshold);if(t>0){var d=i-this.__getFrameMetricsApprox(t,this.props).offset;c=d<0||a<-2&&d<U(l,o)}if(!c&&n>=0&&n<s-1){var h=this.__getFrameMetricsApprox(n,this.props).offset-(i+o);c=h<0||a>2&&h<U(u,o)}if(c&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,t){this._viewabilityTuples.forEach((n=>{n.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,n.onViewableItemsChanged,t)}))}}V.contextType=T;var B=l.Z.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});const z=V},6882:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(){this._registry={}}addListener(e,t,n){var r=function(e,t){var n=e[t];return null==n&&(n=new Set,e[t]=n),n}(this._registry,e),i={context:n,listener:t,remove(){r.delete(i)}};return r.add(i),i}emit(e){var t=this._registry[e];if(null!=t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=[...t];o<a.length;o++){var s=a[o];s.listener.apply(s.context,r)}}}removeAllListeners(e){null==e?this._registry={}:delete this._registry[e]}listenerCount(e){var t=this._registry[e];return null==t?0:t.size}}},86:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},663:(e,t,n)=>{"use strict";n(86)},8121:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(5069);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function E(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(m,e)||!p.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,A=60106,w=60107,T=60108,C=60114,R=60109,I=60110,O=60112,k=60113,N=60120,x=60115,P=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;S=j("react.element"),A=j("react.portal"),w=j("react.fragment"),T=j("react.strict_mode"),C=j("react.profiler"),R=j("react.provider"),I=j("react.context"),O=j("react.forward_ref"),k=j("react.suspense"),N=j("react.suspense_list"),x=j("react.memo"),P=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function G(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function q(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function W(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return q(e.type,!1);case 11:return q(e.type.render,!1);case 22:return q(e.type._render,!1);case 1:return q(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case w:return"Fragment";case A:return"Portal";case C:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case x:return Z(e.type);case D:return Z(e._render);case P:t=e._payload,e=e._init;try{return Z(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function le(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,me,ve=(me=function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function Ee(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ee(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Re=null,Ie=null;function Oe(e){if(e=ti(e)){if("function"!=typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=ri(t),Ce(e.stateNode,e.type,t))}}function ke(e){Re?Ie?Ie.push(e):Ie=[e]:Re=e}function Ne(){if(Re){var e=Re,t=Ie;if(Ie=Re=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function xe(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=xe,Me=!1,Fe=!1;function Ue(){null===Re&&null===Ie||(De(),Ne())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ri(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(d)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){Ve=!1}function ze(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Ge=!1,He=null,qe=!1,We=null,Ze={onError:function(e){Ge=!0,He=e}};function Ke(e,t,n,r,i,o,a,s,c){Ge=!1,He=null,ze.apply(Ze,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var $e,et,tt,nt,rt=!1,it=[],ot=null,at=null,st=null,ct=new Map,lt=new Map,ut=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function ft(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,i,o),null!==t&&null!==(t=ti(t))&&et(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ei(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void nt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){tt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ti(n))&&et(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){vt(e)&&n.delete(t)}function yt(){for(rt=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=ti(e.blockedOn))&&$e(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==ot&&vt(ot)&&(ot=null),null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),ct.forEach(gt),lt.forEach(gt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yt)))}function Et(e){function t(t){return bt(t,e)}if(0<it.length){bt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==at&&bt(at,e),null!==st&&bt(st,e),ct.forEach(t),lt.forEach(t),n=0;n<ut.length;n++)(r=ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ut.length&&null===(n=ut[0]).blockedOn;)mt(n),null===n.blockedOn&&ut.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},At={},wt={};function Tt(e){if(At[e])return At[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in wt)return At[e]=n[t];return e}d&&(wt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=Tt("animationend"),Rt=Tt("animationiteration"),It=Tt("animationstart"),Ot=Tt("transitionend"),kt=new Map,Nt=new Map,xt=["abort","abort",Ct,"animationEnd",Rt,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),kt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Dt=8;function Lt(e){if(0!=(1&e))return Dt=15,1;if(0!=(2&e))return Dt=14,2;if(0!=(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!=(32&e)?(Dt=11,32):0!=(t=192&e)?(Dt=10,t):0!=(256&e)?(Dt=9,256):0!=(t=3584&e)?(Dt=8,t):0!=(4096&e)?(Dt=7,4096):0!=(t=4186112&e)?(Dt=6,t):0!=(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!=(134217728&e)?(Dt=3,134217728):0!=(t=805306368&e)?(Dt=2,t):0!=(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return Dt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Dt=15;else if(0!=(o=134217727&n)){var c=o&~a;0!==c?(r=Lt(c),i=Dt):0!=(s&=o)&&(r=Lt(s),i=Dt)}else 0!=(o=n&~a)?(r=Lt(o),i=Dt):0!==s&&(r=Lt(s),i=Dt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Lt(t),i<=Dt)return t;Dt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Ut(10,t):e;case 10:return 0===(e=jt(192&~t))?Ut(8,t):e;case 8:return 0===(e=jt(3584&~t))&&0===(e=jt(4186112&~t))&&(e=512),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function jt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Ht|0)|0},Gt=Math.log,Ht=Math.LN2,qt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Zt=!0;function Kt(e,t,n,r){Me||De();var i=Qt,o=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Yt(e,t,n,r){Wt(qt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Zt)if((i=0==(4&t))&&0<it.length&&-1<dt.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ht(o,e,t,n,r),void it.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=ft(ot,e,t,n,r,i),!0;case"dragenter":return at=ft(at,e,t,n,r,i),!0;case"mouseover":return st=ft(st,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,ft(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,ft(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Pr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Te(r);if(null!==(i=ei(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var Xt=null,$t=null,en=null;function tn(){if(en)return en;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,cn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(un),hn=i({},un,{view:0,detail:0}),pn=an(hn),fn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=an(fn),vn=an(i({},fn,{dataTransfer:0})),gn=an(i({},hn,{relatedTarget:0})),yn=an(i({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=an(bn),_n=an(i({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Cn(){return Tn}var Rn=i({},hn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Rn),On=an(i({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=an(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(i({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=i({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(xn),Dn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,Mn=null;d&&"documentMode"in document&&(Mn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Mn,Un=d&&(!Ln||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zn=null,Kn=null;function Yn(e){Rr(e,0)}function Qn(e){if(J(ni(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(d){var $n;if(d){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"==typeof tr.oninput}$n=er}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function nr(){Zn&&(Zn.detachEvent("onpropertychange",rr),Kn=Zn=null)}function rr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];if(Wn(t,Kn,e,Te(e)),e=Yn,Me)e(t);else{Me=!0;try{xe(e,t)}finally{Me=!1,Ue()}}}}function ir(e,t,n){"focusin"===e?(nr(),Kn=n,(Zn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},lr=Object.prototype.hasOwnProperty;function ur(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,Er=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==gr||gr!==X(r)||(r="selectionStart"in(r=gr)&&mr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ur(br,r)||(br=r,0<(r=Lr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(xt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ar=0;Ar<Sr.length;Ar++)Nt.set(Sr[Ar],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,c,l){if(Ke.apply(this,arguments),Ge){if(!Ge)throw Error(a(198));var u=He;Ge=!1,He=null,qe||(qe=!0,We=u)}}(r,t,void 0,e),e.currentTarget=null}function Rr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Cr(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Cr(i,s,l),o=c}}}if(qe)throw e=We,qe=!1,We=null,e}function Ir(e,t){var n=ii(t),r=e+"__bubble";n.has(r)||(xr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function kr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Tr.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ii(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),xr(o,e,i,t),a.add(s))}function xr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=Yt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ei(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{return Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Te(n),a=[];e:{var s=kt.get(e);if(void 0!==s){var c=dn,l=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":c=In;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case Ct:case Rt:case It:c=yn;break;case Ot:c=Nn;break;case"scroll":c=pn;break;case"wheel":c=Pn;break;case"copy":case"cut":case"paste":c=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=On}var u=0!=(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&null!=(m=je(f,h))&&u.push(Dr(f,m,p))),d)break;f=f.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!ei(l)&&!l[Xr])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?ei(l):null)&&(l!==(d=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=mn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:ni(c),p=null==l?s:ni(l),(s=new u(m,f+"leave",c,n,i)).target=d,s.relatedTarget=p,m=null,ei(i)===r&&((u=new u(h,f+"enter",l,n,i)).target=p,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,f=0,p=u=c;p;p=Mr(p))f++;for(p=0,m=h;m;m=Mr(m))p++;for(;0<f-p;)u=Mr(u),f--;for(;0<p-f;)h=Mr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Mr(u),h=Mr(h)}u=null}else u=null;null!==c&&Fr(a,s,c,u,!1),null!==l&&null!==d&&Fr(a,d,l,u,!0)}if("select"===(c=(s=r?ni(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Jn;else if(qn(s))if(Xn)v=sr;else{v=or;var g=ir}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Wn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ni(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(gr=g,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=tn()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Gn=!0)),0<(g=Lr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:g}),(y||null!==(y=zn(n)))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=tn(),en=$t=Xt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Lr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Rr(a,t)}))}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Dr(e,o,i)),null!=(o=je(e,t))&&r.push(Dr(e,o,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=je(n,o))&&a.unshift(Dr(n,c,s)):i||null!=(c=je(n,o))&&a.push(Dr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var jr=null,Vr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function qr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Zr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Kr=0,Yr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Xr="__reactContainer$"+Yr,$r="__reactEvents$"+Yr;function ei(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Zr(e);null!==e;){if(n=e[Qr])return n;e=Zr(e)}return t}n=(e=n).parentNode}return null}function ti(e){return!(e=e[Qr]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ri(e){return e[Jr]||null}function ii(e){var t=e[$r];return void 0===t&&(t=e[$r]=new Set),t}var oi=[],ai=-1;function si(e){return{current:e}}function ci(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function li(e,t){ai++,oi[ai]=e.current,e.current=t}var ui={},di=si(ui),hi=si(!1),pi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=e.childContextTypes}function vi(){ci(hi),ci(di)}function gi(e,t,n){if(di.current!==ui)throw Error(a(168));li(di,t),li(hi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Z(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,pi=di.current,li(di,e),li(hi,hi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(hi),ci(di),li(di,e)):ci(hi),li(hi,n)}var _i=null,Si=null,Ai=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ri=o.unstable_requestPaint,Ii=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,ki=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,xi=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Di=o.unstable_IdlePriority,Li={},Mi=void 0!==Ri?Ri:function(){},Fi=null,Ui=null,ji=!1,Vi=Ii(),Bi=1e4>Vi?Ii:function(){return Ii()-Vi};function zi(){switch(Oi()){case ki:return 99;case Ni:return 98;case xi:return 97;case Pi:return 96;case Di:return 95;default:throw Error(a(332))}}function Gi(e){switch(e){case 99:return ki;case 98:return Ni;case 97:return xi;case 96:return Pi;case 95:return Di;default:throw Error(a(332))}}function Hi(e,t){return e=Gi(e),Ai(e,t)}function qi(e,t,n){return e=Gi(e),wi(e,t,n)}function Wi(){if(null!==Ui){var e=Ui;Ui=null,Ti(e)}Zi()}function Zi(){if(!ji&&null!==Fi){ji=!0;var e=0;try{var t=Fi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),wi(ki,Wi),t}finally{ji=!1}}}var Ki=_.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=si(null),Ji=null,Xi=null,$i=null;function eo(){$i=Xi=Ji=null}function to(e){var t=Qi.current;ci(Qi),e.type._context._currentValue=t}function no(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ro(e,t){Ji=e,$i=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(La=!0),e.firstContext=null)}function io(e,t){if($i!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||($i=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Ji)throw Error(a(308));Xi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var oo=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;oo=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=l)}}if(null!==a){for(h=o.baseState,s=0,d=u=l=null;;){c=a.lane;var p=a.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(c=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){h=f.call(p,h,c);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(c="function"==typeof(f=m.payload)?f.call(p,h,c):f))break e;h=i({},h,c);break e;case 2:oo=!0}}null!==a.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[a]:c.push(a))}else p={eventTime:p,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=p,l=h):d=d.next=p,s|=c;if(null===(a=a.next)){if(null===(c=o.shared.pending))break;a=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(l=h),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Us|=s,e.lanes=s,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lc(),i=uc(e),o=co(r,i);o.payload=t,null!=n&&(o.callback=n),lo(e,o),dc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lc(),i=uc(e),o=co(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),lo(e,o),dc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lc(),r=uc(e),i=co(n,r);i.tag=2,null!=t&&(i.callback=t),lo(e,i),dc(e,r,n)}};function go(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function yo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=io(o):(i=mi(t)?pi:di.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=io(o):(o=mi(t)?pi:di.current,i.context=fi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ao(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=zc(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Gc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=qc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=zc(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case A:return(t=Wc(t,e.mode,n)).return=e,t}if(_o(t)||z(t))return(t=Gc(t,e.mode,n,null)).return=e,t;Ao(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===w?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case A:return n.key===i?u(e,t,n,r):null}if(_o(n)||z(n))return null!==i?null:d(e,t,n,r,null);Ao(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===w?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case A:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||z(r))return d(t,e=e.get(n)||null,r,i,null);Ao(t,r)}return null}function m(i,a,s,c){for(var l=null,u=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(i,d,s[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===u?l=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(i,d),l;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],c))&&(a=o(d,a,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(i,d);m<s.length;m++)null!==(v=f(d,i,m,s[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?l=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),l}function v(i,s,c,l){var u=z(c);if("function"!=typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var d=u=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;v++,y=c.next())null!==(y=f(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"==typeof o&&null!==o&&o.type===w&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case S:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===w){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=So(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===w?((r=Gc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=zc(o.type,o.key,o.props,null,e.mode,c)).ref=So(e,r,o),c.return=e,e=c)}return s(e);case A:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=qc(o,e.mode,c)).return=e,e=r),s(e);if(_o(o))return m(e,r,o,c);if(z(o))return v(e,r,o,c);if(u&&Ao(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Z(e.type)||"Component"))}return n(e,r)}}var To=wo(!0),Co=wo(!1),Ro={},Io=si(Ro),Oo=si(Ro),ko=si(Ro);function No(e){if(e===Ro)throw Error(a(174));return e}function xo(e,t){switch(li(ko,t),li(Oo,e),li(Io,Ro),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Io),li(Io,t)}function Po(){ci(Io),ci(Oo),ci(ko)}function Do(e){No(ko.current);var t=No(Io.current),n=pe(t,e.type);t!==n&&(li(Oo,e),li(Io,n))}function Lo(e){Oo.current===e&&(ci(Io),ci(Oo))}var Mo=si(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,jo=null,Vo=!1;function Bo(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Go(e){if(Vo){var t=jo;if(t){var n=t;if(!zo(e,t)){if(!(t=Wr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Uo=e);Bo(Uo,n)}Uo=e,jo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Uo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function qo(e){if(e!==Uo)return!1;if(!Vo)return Ho(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=jo;t;)Bo(e,t),t=Wr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Uo?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){jo=Uo=null,Vo=!1}var Zo=[];function Ko(){for(var e=0;e<Zo.length;e++)Zo[e]._workInProgressVersionPrimary=null;Zo.length=0}var Yo=_.ReactCurrentDispatcher,Qo=_.ReactCurrentBatchConfig,Jo=0,Xo=null,$o=null,ea=null,ta=!1,na=!1;function ra(){throw Error(a(321))}function ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function oa(e,t,n,r,i,o){if(Jo=o,Xo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Na:xa,e=n(r,i),na){o=0;do{if(na=!1,!(25>o))throw Error(a(301));o+=1,ea=$o=null,t.updateQueue=null,Yo.current=Pa,e=n(r,i)}while(na)}if(Yo.current=ka,t=null!==$o&&null!==$o.next,Jo=0,ea=$o=Xo=null,ta=!1,t)throw Error(a(300));return e}function aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ea?Xo.memoizedState=ea=e:ea=ea.next=e,ea}function sa(){if(null===$o){var e=Xo.alternate;e=null!==e?e.memoizedState:null}else e=$o.next;var t=null===ea?Xo.memoizedState:ea.next;if(null!==t)ea=t,$o=e;else{if(null===e)throw Error(a(310));e={memoizedState:($o=e).memoizedState,baseState:$o.baseState,baseQueue:$o.baseQueue,queue:$o.queue,next:null},null===ea?Xo.memoizedState=ea=e:ea=ea.next=e}return ea}function ca(e,t){return"function"==typeof t?t(e):t}function la(e){var t=sa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=$o,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=o=null,l=i;do{var u=l.lane;if((Jo&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=d,o=r):c=c.next=d,Xo.lanes|=u,Us|=u}l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=s,cr(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=sa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Zo.push(t))),e)return n(t._source);throw Zo.push(t),Error(a(350))}function ha(e,t,n,r){var i=ks;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),c=Yo.current,l=c.useState((function(){return da(i,t,n)})),u=l[1],d=l[0];l=ea;var h=e.memoizedState,p=h.refs,f=p.getSnapshot,m=h.source;h=h.subscribe;var v=Xo;return e.memoizedState={refs:p,source:t,subscribe:r},c.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(d,e)||(u(e),e=uc(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var c=31-zt(a),l=1<<c;r[c]|=e,a&=~l}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=uc(v);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(f,n)&&cr(m,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:d}).dispatch=u=Oa.bind(null,Xo,e),l.queue=e,l.baseQueue=null,d=da(i,t,n),l.memoizedState=l.baseState=d),d}function pa(e,t,n){return ha(sa(),e,t,n)}function fa(e){var t=aa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Oa.bind(null,Xo,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xo.updateQueue)?(t={lastEffect:null},Xo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function va(e){return e={current:e},aa().memoizedState=e}function ga(){return sa().memoizedState}function ya(e,t,n,r){var i=aa();Xo.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=sa();r=void 0===r?null:r;var o=void 0;if(null!==$o){var a=$o.memoizedState;if(o=a.destroy,null!==r&&ia(r,a.deps))return void ma(t,n,o,r)}Xo.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function Ea(e,t){return ya(516,4,e,t)}function _a(e,t){return ba(516,4,e,t)}function Sa(e,t){return ba(4,2,e,t)}function Aa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function wa(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,Aa.bind(null,t,e),n)}function Ta(){}function Ca(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ra(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ia(e,t){var n=zi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Oa(e,t,n){var r=lc(),i=uc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Xo||null!==a&&a===Xo)na=ta=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=a(s,n);if(o.eagerReducer=a,o.eagerState=c,cr(c,s))return}catch(e){}dc(e,i,r)}}var ka={readContext:io,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useOpaqueIdentifier:ra,unstable_isNewReconciler:!1},Na={readContext:io,useCallback:function(e,t){return aa().memoizedState=[e,void 0===t?null:t],e},useContext:io,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ya(4,2,Aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var n=aa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=aa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Xo,e),[r.memoizedState,e]},useRef:va,useState:fa,useDebugValue:Ta,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return Ea((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return va(e=Ia.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=aa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ha(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Kr++).toString(36))),Error(a(355))})),n=fa(t)[1];return 0==(2&Xo.mode)&&(Xo.flags|=516,ma(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Kr++).toString(36)),t},unstable_isNewReconciler:!1},xa={readContext:io,useCallback:Ca,useContext:io,useEffect:_a,useImperativeHandle:wa,useLayoutEffect:Sa,useMemo:Ra,useReducer:la,useRef:ga,useState:function(){return la(ca)},useDebugValue:Ta,useDeferredValue:function(e){var t=la(ca),n=t[0],r=t[1];return _a((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=la(ca)[0];return[ga().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return la(ca)[0]},unstable_isNewReconciler:!1},Pa={readContext:io,useCallback:Ca,useContext:io,useEffect:_a,useImperativeHandle:wa,useLayoutEffect:Sa,useMemo:Ra,useReducer:ua,useRef:ga,useState:function(){return ua(ca)},useDebugValue:Ta,useDeferredValue:function(e){var t=ua(ca),n=t[0],r=t[1];return _a((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(ca)[0];return[ga().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return ua(ca)[0]},unstable_isNewReconciler:!1},Da=_.ReactCurrentOwner,La=!1;function Ma(e,t,n,r){t.child=null===e?Co(t,null,n,r):To(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return ro(t,i),r=oa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ma(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Vc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Bc(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,0==(o&i))return t.lanes=e.lanes,ns(e,t,o);0!=(16384&e.flags)&&(La=!0)}return za(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gc(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gc(0,e),null;t.memoizedState={baseLanes:0},gc(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gc(0,r);return Ma(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=mi(n)?pi:di.current;return o=fi(t,o),ro(t,i),n=oa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ma(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ga(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(ro(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;l="object"==typeof l&&null!==l?io(l):fi(t,l=mi(n)?pi:di.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==l)&&bo(t,a,r,l),oo=!1;var h=t.memoizedState;a.state=h,ho(t,r,a,i),c=t.memoizedState,s!==r||h!==c||hi.current||oo?("function"==typeof u&&(mo(t,n,u,r),c=t.memoizedState),(s=oo||go(t,n,s,r,h,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,so(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Yi(t.type,s),a.props=l,d=t.pendingProps,h=a.context,c="object"==typeof(c=n.contextType)&&null!==c?io(c):fi(t,c=mi(n)?pi:di.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==c)&&bo(t,a,r,c),oo=!1,h=t.memoizedState,a.state=h,ho(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||hi.current||oo?("function"==typeof p&&(mo(t,n,p,r),f=t.memoizedState),(l=oo||go(t,n,l,r,h,f,c))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Ba(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),ns(e,t,o);r=t.stateNode,Da.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=To(t,e.child,null,o),t.child=To(t,null,s,o)):Ma(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function qa(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),xo(e,t.containerInfo)}var Wa,Za,Ka,Ya,Qa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Mo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Mo,1&o),null===e?(void 0!==i.fallback&&Go(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=Hc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bc(a,s),null!==e?r=Bc(e,r):(r=Gc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Bc(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Hc(t,i,0,null),n=Gc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function $a(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),no(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ma(e,t,r.children,n),0!=(2&(r=Mo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Mo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&vi(),null;case 3:return Po(),ci(hi),ci(di),Ko(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Za(t),null;case 5:Lo(t);var o=No(ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Io.current),qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Jr]=s,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<wr.length;e++)Ir(wr[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,s),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ir("invalid",r);break;case"textarea":ce(r,s),Ir("invalid",r)}for(var l in Ae(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Ir("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de.html&&(e=he(n)),e===de.html?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Qr]=t,e[Jr]=r,Wa(e,t,!1,!1),t.stateNode=e,l=we(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),o=r;break;case"iframe":case"object":case"embed":Ir("load",e),o=r;break;case"video":case"audio":for(o=0;o<wr.length;o++)Ir(wr[o],e);o=r;break;case"source":Ir("error",e),o=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=r;break;case"details":Ir("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Ir("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ce(e,r),o=se(e,r),Ir("invalid",e);break;default:o=r}Ae(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?_e(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"==typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ir("scroll",e):null!=d&&E(e,s,d,l))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ur)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(ko.current),No(Io.current),qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ci(Mo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Mo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===ks||0==(134217727&Us)&&0==(134217727&js)||mc(ks,xs))),(r||n)&&(t.flags|=4),null);case 4:return Po(),Za(t),null===e&&kr(t.stateNode.containerInfo),null;case 10:return to(t),null;case 19:if(ci(Mo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(l=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Fo(e))){for(t.flags|=64,rs(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Mo,1&Mo.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Gs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Mo.current,li(Mo,s?1&t|2:1&t),n):null;case 23:case 24:return yc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:mi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Po(),ci(hi),ci(di),Ko(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return ci(Mo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Mo),null;case 4:return Po(),null;case 10:return to(e),null;case 23:case 24:return yc(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Za=function(){},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Io.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Ur)}for(d in Ae(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(null!=u||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Ir("scroll",e),s||l===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===L?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"==typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,Ks=r),ss(0,t)},n}function us(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"==typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Lc(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(a(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(xc(n,e),Nc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ee("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(Si&&"function"==typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(_i,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))xc(t,n);else{r=t;try{i()}catch(e){Lc(r,e)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Lc(t,e)}break;case 5:hs(t);break;case 4:Ss(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):_s(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,l=c;;)if(vs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function As(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),we(e,i),t=we(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?_e(n,c):"dangerouslySetInnerHTML"===s?ve(n,c):"children"===s?ge(n,c):E(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(zs=Bi(),ms(t.child,!0)),void ws(t);case 19:return void ws(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Fc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Cs=Math.ceil,Rs=_.ReactCurrentDispatcher,Is=_.ReactCurrentOwner,Os=0,ks=null,Ns=null,xs=0,Ps=0,Ds=si(0),Ls=0,Ms=null,Fs=0,Us=0,js=0,Vs=0,Bs=null,zs=0,Gs=1/0;function Hs(){Gs=Bi()+500}var qs,Ws=null,Zs=!1,Ks=null,Ys=null,Qs=!1,Js=null,Xs=90,$s=[],ec=[],tc=null,nc=0,rc=null,ic=-1,oc=0,ac=0,sc=null,cc=!1;function lc(){return 0!=(48&Os)?Bi():-1!==ic?ic:ic=Bi()}function uc(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zi()?1:2;if(0===oc&&(oc=Fs),0!==Ki.transition){0!==ac&&(ac=null!==Bs?Bs.pendingLanes:0),e=oc;var t=4186112&~ac;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Ut(0!=(4&Os)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),oc)}function dc(e,t,n){if(50<nc)throw nc=0,rc=null,Error(a(185));if(null===(e=hc(e,t)))return null;Bt(e,t,n),e===ks&&(js|=t,4===Ls&&mc(e,xs));var r=zi();1===t?0!=(8&Os)&&0==(48&Os)?vc(e):(pc(e,n),0===Os&&(Hs(),Wi())):(0==(4&Os)||98!==r&&99!==r||(null===tc?tc=new Set([e]):tc.add(e)),pc(e,n)),Bs=e}function hc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-zt(s),l=1<<c,u=o[c];if(-1===u){if(0==(l&r)||0!=(l&i)){u=t,Lt(l);var d=Dt;o[c]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);s&=~l}if(r=Mt(e,e===ks?xs:0),t=Dt,0===r)null!==n&&(n!==Li&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ti(n)}15===t?(n=vc.bind(null,e),null===Fi?(Fi=[n],Ui=wi(ki,Zi)):Fi.push(n),n=Li):14===t?n=qi(99,vc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=qi(n,fc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function fc(e){if(ic=-1,ac=oc=0,0!=(48&Os))throw Error(a(327));var t=e.callbackNode;if(kc()&&e.callbackNode!==t)return null;var n=Mt(e,e===ks?xs:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=_c();for(ks===e&&xs===r||(Hs(),bc(e,r));;)try{wc();break}catch(t){Ec(e,t)}if(eo(),Rs.current=o,Os=i,null!==Ns?r=0:(ks=null,xs=0,r=Ls),0!=(Fs&js))bc(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ft(e))&&(r=Sc(e,n))),1===r)throw t=Ms,bc(e,0),mc(e,n),pc(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Rc(e);break;case 3:if(mc(e,n),(62914560&n)===n&&10<(r=zs+500-Bi())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gr(Rc.bind(null,e),r);break}Rc(e);break;case 4:if(mc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Gr(Rc.bind(null,e),n);break}Rc(e);break;default:throw Error(a(329))}}return pc(e,Bi()),e.callbackNode===t?fc.bind(null,e):null}function mc(e,t){for(t&=~Vs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!=(48&Os))throw Error(a(327));if(kc(),e===ks&&0!=(e.expiredLanes&xs)){var t=xs,n=Sc(e,t);0!=(Fs&js)&&(n=Sc(e,t=Mt(e,t)))}else n=Sc(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ft(e))&&(n=Sc(e,t))),1===n)throw n=Ms,bc(e,0),mc(e,t),pc(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rc(e),pc(e,Bi()),null}function gc(e,t){li(Ds,Ps),Ps|=t,Fs|=t}function yc(){Ps=Ds.current,ci(Ds)}function bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Po(),ci(hi),ci(di),Ko();break;case 5:Lo(r);break;case 4:Po();break;case 13:case 19:ci(Mo);break;case 10:to(r);break;case 23:case 24:yc()}n=n.return}ks=e,Ns=Bc(e.current,null),xs=Ps=Fs=t,Ls=0,Ms=null,Vs=js=Us=0}function Ec(e,t){for(;;){var n=Ns;try{if(eo(),Yo.current=ka,ta){for(var r=Xo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ta=!1}if(Jo=0,ea=$o=Xo=null,na=!1,Is.current=null,null===n||null===n.return){Ls=1,Ms=t,Ns=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=xs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Mo.current),h=a;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=h.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var v=h.updateQueue;if(null===v){var g=new Set;g.add(l),h.updateQueue=g}else v.add(l);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,lo(s,y)}s.lanes|=1;break e}c=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new cs,c=new Set,b.set(l,c)):void 0===(c=b.get(l))&&(c=new Set,b.set(l,c)),!c.has(s)){c.add(s);var E=Mc.bind(null,o,l,s);l.then(E,E)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);c=Error((Z(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),c=as(c,s),h=a;do{switch(h.tag){case 3:o=c,h.flags|=4096,t&=-t,h.lanes|=t,uo(h,ls(0,o,t));break e;case 1:o=c;var _=h.type,S=h.stateNode;if(0==(64&h.flags)&&("function"==typeof _.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Ys||!Ys.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,uo(h,us(h,o,t));break e}}h=h.return}while(null!==h)}Cc(n)}catch(e){t=e,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function _c(){var e=Rs.current;return Rs.current=ka,null===e?ka:e}function Sc(e,t){var n=Os;Os|=16;var r=_c();for(ks===e&&xs===t||bc(e,t);;)try{Ac();break}catch(t){Ec(e,t)}if(eo(),Os=n,Rs.current=r,null!==Ns)throw Error(a(261));return ks=null,xs=0,Ls}function Ac(){for(;null!==Ns;)Tc(Ns)}function wc(){for(;null!==Ns&&!Ci();)Tc(Ns)}function Tc(e){var t=qs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?Cc(e):Ns=t,Is.current=null}function Cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=is(n,t,Ps)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ps)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ls&&(Ls=5)}function Rc(e){var t=zi();return Hi(99,Ic.bind(null,e,t)),null}function Ic(e,t){do{kc()}while(null!==Js);if(0!=(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var l=31-zt(o),u=1<<l;i[l]=0,s[l]=-1,c[l]=-1,o&=~u}if(null!==tc&&0==(24&r)&&tc.has(e)&&tc.delete(e),e===ks&&(Ns=ks=null,xs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Is.current=null,jr=Zt,mr(s=fr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(e){c=null;break e}var d=0,h=-1,p=-1,f=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==c||0!==o&&3!==v.nodeType||(h=d+o),v!==l||0!==u&&3!==v.nodeType||(p=d+u),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===c&&++f===o&&(h=d),g===l&&++m===u&&(p=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}c=-1===h||-1===p?null:{start:h,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;Vr={focusedElem:s,selectionRange:c},Zt=!1,sc=null,cc=!1,Ws=r;do{try{Oc()}catch(e){if(null===Ws)throw Error(a(330));Lc(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);sc=null,Ws=r;do{try{for(s=e;null!==Ws;){var b=Ws.flags;if(16&b&&ge(Ws.stateNode,""),128&b){var E=Ws.alternate;if(null!==E){var _=E.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:bs(Ws),Ws.flags&=-3;break;case 6:bs(Ws),Ws.flags&=-3,As(Ws.alternate,Ws);break;case 1024:Ws.flags&=-1025;break;case 1028:Ws.flags&=-1025,As(Ws.alternate,Ws);break;case 4:As(Ws.alternate,Ws);break;case 8:Ss(s,c=Ws);var S=c.alternate;gs(c),null!==S&&gs(S)}Ws=Ws.nextEffect}}catch(e){if(null===Ws)throw Error(a(330));Lc(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);if(_=Vr,E=fr(),b=_.focusedElem,s=_.selectionRange,E!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(E=s.start,void 0===(_=s.end)&&(_=E),"selectionStart"in b?(b.selectionStart=E,b.selectionEnd=Math.min(_,b.value.length)):(_=(E=b.ownerDocument||document)&&E.defaultView||window).getSelection&&(_=_.getSelection(),c=b.textContent.length,S=Math.min(s.start,c),s=void 0===s.end?S:Math.min(s.end,c),!_.extend&&S>s&&(c=s,s=S,S=c),c=hr(b,S),o=hr(b,s),c&&o&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((E=E.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),S>s?(_.addRange(E),_.extend(o.node,o.offset)):(E.setEnd(o.node,o.offset),_.addRange(E))))),E=[];for(_=b;_=_.parentNode;)1===_.nodeType&&E.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<E.length;b++)(_=E[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Zt=!!jr,Vr=jr=null,e.current=n,Ws=r;do{try{for(b=e;null!==Ws;){var A=Ws.flags;if(36&A&&fs(b,Ws.alternate,Ws),128&A){E=void 0;var w=Ws.ref;if(null!==w){var T=Ws.stateNode;Ws.tag,E=T,"function"==typeof w?w(E):w.current=E}}Ws=Ws.nextEffect}}catch(e){if(null===Ws)throw Error(a(330));Lc(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,Mi(),Os=i}else e.current=n;if(Qs)Qs=!1,Js=e,Xs=t;else for(Ws=r;null!==Ws;)t=Ws.nextEffect,Ws.nextEffect=null,8&Ws.flags&&((A=Ws).sibling=null,A.stateNode=null),Ws=t;if(0===(r=e.pendingLanes)&&(Ys=null),1===r?e===rc?nc++:(nc=0,rc=e):nc=0,n=n.stateNode,Si&&"function"==typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(_i,n,void 0,64==(64&n.current.flags))}catch(e){}if(pc(e,Bi()),Zs)throw Zs=!1,e=Ks,Ks=null,e;return 0!=(8&Os)||Wi(),null}function Oc(){for(;null!==Ws;){var e=Ws.alternate;cc||null===sc||(0!=(8&Ws.flags)?Xe(Ws,sc)&&(cc=!0):13===Ws.tag&&Ts(e,Ws)&&Xe(Ws,sc)&&(cc=!0));var t=Ws.flags;0!=(256&t)&&ps(e,Ws),0==(512&t)||Qs||(Qs=!0,qi(97,(function(){return kc(),null}))),Ws=Ws.nextEffect}}function kc(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,Hi(e,Pc)}return!1}function Nc(e,t){$s.push(t,e),Qs||(Qs=!0,qi(97,(function(){return kc(),null})))}function xc(e,t){ec.push(t,e),Qs||(Qs=!0,qi(97,(function(){return kc(),null})))}function Pc(){if(null===Js)return!1;var e=Js;if(Js=null,0!=(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=ec;ec=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Lc(o,e)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var c=i.create;i.destroy=c()}catch(e){if(null===o)throw Error(a(330));Lc(o,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Os=t,Wi(),!0}function Dc(e,t,n){lo(e,t=ls(0,t=as(n,t),1)),t=lc(),null!==(e=hc(e,1))&&(Bt(e,1,t),pc(e,t))}function Lc(e,t){if(3===e.tag)Dc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Dc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){var i=us(n,e=as(t,e),1);if(lo(n,i),i=lc(),null!==(n=hc(n,1)))Bt(n,1,i),pc(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Mc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lc(),e.pingedLanes|=e.suspendedLanes&n,ks===e&&(xs&n)===n&&(4===Ls||3===Ls&&(62914560&xs)===xs&&500>Bi()-zs?bc(e,0):Vs|=n),pc(e,t)}function Fc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zi()?1:2:(0===oc&&(oc=Fs),0===(t=jt(62914560&~oc))&&(t=4194304))),n=lc(),null!==(e=hc(e,t))&&(Bt(e,t,n),pc(e,n))}function Uc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Uc(e,t,n,r)}function Vc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Vc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case w:return Gc(n.children,i,o,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case C:return(e=jc(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case k:return(e=jc(13,n,t,i)).type=k,e.elementType=k,e.lanes=o,e;case N:return(e=jc(19,n,t,i)).elementType=N,e.lanes=o,e;case F:return Hc(n,i,o,t);case U:return(e=jc(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case R:s=10;break e;case I:s=9;break e;case O:s=11;break e;case x:s=14;break e;case P:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=jc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Gc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Hc(e,t,n,r){return(e=jc(23,e,r,t)).elementType=F,e.lanes=n,e}function qc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Wc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,r){var i=t.current,o=lc(),s=uc(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(mi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=yi(n,l,c);break e}}n=c}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),dc(i,s,o),s}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function Jc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zc(e,t,null!=n&&!0===n.hydrate),t=jc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Xr]=n.current,kr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)La=!0;else{if(0==(n&r)){switch(La=!1,t.tag){case 3:qa(t),Wo();break;case 5:Do(t);break;case 1:mi(t.type)&&bi(t);break;case 4:xo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ja(e,t,n):(li(Mo,1&Mo.current),null!==(t=ns(e,t,n))?t.sibling:null);li(Mo,1&Mo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Mo,Mo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return ns(e,t,n)}La=0!=(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,di.current),ro(t,n),i=oa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&mo(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Ma(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Vc(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===x)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ga(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(qa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,so(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Wr(t.stateNode.containerInfo.firstChild),Uo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Zo.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ma(e,t,r,n),Wo();t=t.child}return t;case 5:return Do(t),null===e&&Go(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ba(e,t),Ma(e,t,s,n),t.child;case 6:return null===e&&Go(t),null;case 13:return Ja(e,t,n);case 4:return xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):Ma(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var c=t.type._context;if(li(Qi,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0==(o=cr(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!hi.current){t=ns(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===c.tag&&((u=co(-1,n&-n)).tag=2,lo(c,u)),c.lanes|=n,null!==(u=c.alternate)&&(u.lanes|=n),no(c.return,n),l.lanes|=n;break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Ma(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,ro(t,n),r=r(i=io(i,o.unstable_observedBits)),t.flags|=1,Ma(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ua(e,t,i,o=Yi(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,ro(t,n),yo(t,r,i),Eo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},Jc.prototype.render=function(e){Kc(e,this._internalRoot,null,null)},Jc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Kc(null,e,null,(function(){t[Xr]=null}))},$e=function(e){13===e.tag&&(dc(e,4,lc()),Qc(e,4))},et=function(e){13===e.tag&&(dc(e,67108864,lc()),Qc(e,67108864))},tt=function(e){if(13===e.tag){var t=lc(),n=uc(e);dc(e,n,t),Qc(e,n)}},nt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ri(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},xe=function(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Hs(),Wi())}},Pe=function(e,t,n,r,i){var o=Os;Os|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Hs(),Wi())}},De=function(){0==(49&Os)&&(function(){if(null!==tc){var e=tc;tc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pc(e,Bi())}))}Wi()}(),kc())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Hs(),Wi())}};var Xc={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},$c={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=function(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{_i=el.inject($c),Si=el}catch(me){}}t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!function(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}},5943:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(8121)},7789:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,_=E.port2;E.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?_.postMessage(null):(m=!1,v=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){v=e,m||(m=!0,_.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){p(g),g=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function A(e){return void 0===(e=e[0])?null:e}function w(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>T(a,n))void 0!==c&&0>T(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>T(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],R=[],I=1,O=null,k=3,N=!1,x=!1,P=!1;function D(e){for(var t=A(R);null!==t;){if(null===t.callback)w(R);else{if(!(t.startTime<=e))break;w(R),t.sortIndex=t.expirationTime,S(C,t)}t=A(R)}}function L(e){if(P=!1,D(e),!x)if(null!==A(C))x=!0,n(M);else{var t=A(R);null!==t&&r(L,t.startTime-e)}}function M(e,n){x=!1,P&&(P=!1,i()),N=!0;var o=k;try{for(D(n),O=A(C);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=O.callback;if("function"==typeof a){O.callback=null,k=O.priorityLevel;var s=a(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?O.callback=s:O===A(C)&&w(C),D(n)}else w(C);O=A(C)}if(null!==O)var c=!0;else{var l=A(R);null!==l&&r(L,l.startTime-n),c=!1}return c}finally{O=null,k=o,N=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||N||(x=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return A(C)},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var n=k;k=t;try{return e()}finally{k=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=k;k=e;try{return t()}finally{k=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,S(R,e),null===A(C)&&e===A(R)&&(P?i():P=!0,r(L,a-s))):(e.sortIndex=c,S(C,e),x||N||(x=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=k;return function(){var n=k;k=t;try{return e.apply(this,arguments)}finally{k=n}}}},5069:(e,t,n)=>{"use strict";e.exports=n(7789)},2408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var E=b.prototype=new y;E.constructor=b,m(E,g.prototype),E.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,A={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!w.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:A.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+I(c,0):o,_(a)?(i="",null!=e&&(i=e.replace(R,"$&/")+"/"),O(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(R,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",_(e))for(var l=0;l<e.length;l++){var u=o+I(s=e[l],l);c+=O(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=O(s=s.value,t,i,u=o+I(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function k(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var x={current:null},P={transition:null},D={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:P,ReactCurrentOwner:A};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=A.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!w.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return x.current.useCallback(e,t)},t.useContext=function(e){return x.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return x.current.useDeferredValue(e)},t.useEffect=function(e,t){return x.current.useEffect(e,t)},t.useId=function(){return x.current.useId()},t.useImperativeHandle=function(e,t,n){return x.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.current.useMemo(e,t)},t.useReducer=function(e,t,n){return x.current.useReducer(e,t,n)},t.useRef=function(e){return x.current.useRef(e)},t.useState=function(e){return x.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.current.useTransition()},t.version="18.2.0"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,p=3,f=!1,m=!1,v=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(v=!1,E(e),!m)if(null!==r(l))m=!0,P(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,v&&(v=!1,y(C),C=-1),f=!0;var o=p;try{for(E(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!O());){var a=h.callback;if("function"==typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?h.callback=s:h===r(l)&&i(l),E(n)}else i(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),c=!1}return c}finally{h=null,p=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,w=!1,T=null,C=-1,R=5,I=-1;function O(){return!(t.unstable_now()-I<R)}function k(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?A():(w=!1,T=null)}}else w=!1}if("function"==typeof b)A=function(){b(k)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,x=N.port2;N.port1.onmessage=k,A=function(){x.postMessage(null)}}else A=function(){g(k,0)};function P(e){T=e,w||(w=!0,A())}function D(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(v?(y(C),C=-1):v=!0,D(_,o-a))):(e.sortIndex=s,n(l,e),m||f||(m=!0,P(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var h=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=i(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var c=r(e,i),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9061:(e,t)=>{"use strict";t.D=void 0;var n=new WeakMap;function r(e){var t,r,i;return null!=e&&(t=!0===e.disableCache,r=!0===e.disableMix,i=e.transform),function(){for(var e=[],o="",a=null,s=t?null:n,c=new Array(arguments.length),l=0;l<arguments.length;l++)c[l]=arguments[l];for(;c.length>0;){var u=c.pop();if(null!=u&&!1!==u)if(Array.isArray(u))for(var d=0;d<u.length;d++)c.push(u[d]);else{var h=null!=i?i(u):u;if(h.$$css){var p="";if(null!=s&&s.has(h)){var f=s.get(h);null!=f&&(p=f[0],e.push.apply(e,f[1]),s=f[2])}else{var m=[];for(var v in h){var g=h[v];"$$css"!==v&&("string"==typeof g||null===g?e.includes(v)||(e.push(v),null!=s&&m.push(v),"string"==typeof g&&(p+=p?" "+g:g)):console.error("styleq: ".concat(v," typeof ").concat(String(g),' is not "string" or "null".')))}if(null!=s){var y=new WeakMap;s.set(h,[p,m,y]),s=y}}p&&(o=o?p+" "+o:p)}else if(r)null==a&&(a={}),a=Object.assign({},h,a);else{var b=null;for(var E in h){var _=h[E];void 0!==_&&(e.includes(E)||(null!=_&&(null==a&&(a={}),null==b&&(b={}),b[E]=_),e.push(E),s=null))}null!=b&&(a=Object.assign(b,a))}}}return[o,a]}}var i=r();t.D=i,i.factory=r},5789:(e,t)=>{"use strict";t.j=function(e,t){if(null!=e[r]){var o=t?1:0;if(n.has(e)){var a=n.get(e),s=a[o];return null==s&&(s=i(e,t),a[o]=s,n.set(e,a)),s}var c=i(e,t),l=new Array(2);return l[o]=c,n.set(e,l),c}return e};var n=new WeakMap,r="$$css$localize";function i(e,t){var n={};for(var i in e)if(i!==r){var o=e[i];Array.isArray(o)?n[i]=t?o[1]:o[0]:n[i]=o}return n}},9413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},3189:e=>{e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},5045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},9369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},2473:e=>{"use strict";e.exports=function(){}},4114:e=>{function t(){}e.exports=t,t.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,n){this.callbacks=this.callbacks||{};var r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return o._groupName=i,(this.callbacks[e]=this.callbacks[e]||[]).push(o),this},t.once=function(e,t,n){var r=this,i=3===arguments.length,o=i?arguments[1]:void 0,a=i?arguments[2]:arguments[1];return this.on(e,o,(function t(){r.off(e,t),a.apply(this,arguments)})),this},t.releaseGroup=function(e){var t,n,r,i;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(n=0,r=(i=this.callbacks[t]).length;n<r;n++)i[n]._groupName===e&&(i.splice(n,1),n--,r--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,r=this.callbacks[e];return r?1===arguments.length?(delete this.callbacks[e],this):(-1!==(n=r.indexOf(t))&&(r.splice(n,1),0===r.length&&delete this.callbacks[e]),this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,r,i=[].slice.call(arguments,1),o=this.callbacks[e],a=this.getWildcardCallbacks(e);if(o)for(t=0,n=(r=o.slice()).length;t<n&&r[t];++t)r[t].apply(this,i);if(a)for(n=a.length,t=0,n=(r=a.slice()).length;t<n&&r[t];++t)r[t].apply(this,[e].concat(i));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,r=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[t]));return r}},t.mixin(t)},8234:(e,t,n)=>{"use strict";e.exports=n.p+"9c7ecdaf008eef994686.ttf"},3897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},3405:(e,t,n)=>{var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:(e,t,n)=>{var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},8416:(e,t,n)=>{var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},434:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3808:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:(e,t,n)=>{var r=n(6015);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},215:(e,t,n)=>{var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},7071:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},4993:(e,t,n)=>{var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:(e,t,n)=>{var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),s=new I(r||[]);return a(o,"_invoke",{value:w(e,n,s)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var f={};function m(){}function v(){}function g(){}var y={};d(y,c,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(O([])));E&&E!==n&&o.call(E,c)&&(y=E);var _=g.prototype=m.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,s,c){var l=p(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function T(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e||""===e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return v.prototype=g,a(_,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=d(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},S(A.prototype),d(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(h(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(_),d(_,u,"Generator"),d(_,c,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},861:(e,t,n)=>{var r=n(3405),i=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:(e,t,n)=>{var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:(e,t,n)=>{var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:(e,t,n)=>{var r=n(3897);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},4687:(e,t,n)=>{var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},5196:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:()=>i})},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},3063:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:()=>a})},3366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),__webpack_require__.b=document.baseURI||self.location.href;var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{ZO:()=>wh,Lm:()=>Nh,Qi:()=>xh,bY:()=>Ph,ZP:()=>Dh});var t=__webpack_require__(8227);const n=Object.prototype.toString;function r(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return h(e,Error)}}function i(e,t){return n.call(e)===`[object ${t}]`}function o(e){return i(e,"ErrorEvent")}function a(e){return i(e,"DOMError")}function s(e){return i(e,"String")}function c(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function l(e){return i(e,"Object")}function u(e){return"undefined"!=typeof Event&&h(e,Event)}function d(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e,t){try{return e instanceof t}catch(e){return!1}}var p=__webpack_require__(1235);const f=(0,p.Rf)(),m=80;function v(e,t={}){try{let n=e;const r=5,i=[];let o=0,a=0;const s=" > ",c=s.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||m;for(;n&&o++<r&&(l=g(n,u),!("html"===l||o>1&&a+i.length*c+l.length>=d));)i.push(l),a+=l.length,n=n.parentNode;return i.reverse().join(s)}catch(e){return"<unknown>"}}function g(e,t){const n=e,r=[];let i,o,a,c,l;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(u&&u.length)u.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&s(i))for(o=i.split(/\s+/),l=0;l<o.length;l++)r.push(`.${o[l]}`);const d=["aria-label","type","name","title","alt"];for(l=0;l<d.length;l++)a=d[l],c=n.getAttribute(a),c&&r.push(`[${a}="${c}"]`);return r.join("")}function y(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function b(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function E(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!s(e)&&(i(t,"RegExp")?t.test(e):!!s(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}function _(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);if("function"==typeof i)try{A(i,r)}catch(e){}e[t]=i}function S(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function A(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,S(e,"__sentry_original__",t)}function w(e){return e.__sentry_original__}function T(e){if(r(e))return{message:e.message,name:e.name,stack:e.stack,...R(e)};if(u(e)){const t={type:e.type,target:C(e.target),currentTarget:C(e.currentTarget),...R(e)};return"undefined"!=typeof CustomEvent&&h(e,CustomEvent)&&(t.detail=e.detail),t}return e}function C(e){try{return"undefined"!=typeof Element&&h(e,Element)?v(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function R(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function I(e){return O(e,new Map)}function O(e,t){if(l(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=O(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(O(e,t))})),r}return e}function k(){const e=p.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function N(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function x(e){const{message:t,event_id:n}=e;if(t)return t;const r=N(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function P(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function D(e,t){const n=N(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function L(e){if(e&&e.__sentry_captured__)return!0;try{S(e,"__sentry_captured__",!0)}catch(e){}return!1}function M(e){return Array.isArray(e)?e:[e]}const F=["debug","info","warn","error","log","assert","trace"];function U(e){if(!("console"in p.n2))return e();const t=p.n2.console,n={};F.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function j(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?F.forEach((n=>{t[n]=(...t)=>{e&&U((()=>{p.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):F.forEach((e=>{t[e]=()=>{}})),t}let V;V="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,p.YO)("logger",j):j();var B=__webpack_require__(1170);const z="production";var G;function H(e){return new W((t=>{t(e)}))}function q(e){return new W(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(G||(G={}));class W{constructor(e){W.prototype.__init.call(this),W.prototype.__init2.call(this),W.prototype.__init3.call(this),W.prototype.__init4.call(this),this._state=G.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new W(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new W(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(G.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(G.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===G.PENDING&&(d(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===G.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===G.RESOLVED&&e[1](this._value),this._state===G.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function Z(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,B.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:k()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class K{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=J()}static clone(e){const t=new K;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata},t._propagationContext={...e._propagationContext}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Z(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof K?t:this}return e instanceof K?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):l(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=J(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,B.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const n=t.name;n&&(e.tags={transaction:n,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},this._notifyEventProcessors([...Y(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_notifyEventProcessors(e,t,n,r=0){return new W(((i,o)=>{const a=e[r];if(null===t||"function"!=typeof a)i(t);else{const s=a({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.id&&null===s&&V.log(`Event processor "${a.id}" dropped event`),d(s)?s.then((t=>this._notifyEventProcessors(e,t,n,r+1).then(i))).then(null,o):this._notifyEventProcessors(e,s,n,r+1).then(i).then(null,o)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?M(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Y(){return(0,p.YO)("globalEventProcessors",(()=>[]))}function Q(e){Y().push(e)}function J(){return{traceId:k(),spanId:k().substring(16),sampled:!1}}const X=4,$=100;class ee{constructor(e,t=new K,n=X){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=K.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:k(),r=new Error("Sentry syntheticException");return this._withClient(((i,o)=>{i.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},o)})),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:k(),i=new Error(e);return this._withClient(((o,a)=>{o.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},a)})),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:k();return e.type||(this._lastEventId=n),this._withClient(((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=$}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const a={timestamp:(0,B.yW)(),...e},s=i?U((()=>i(a,t))):a;null!==s&&(r.emit&&r.emit("beforeAddBreadcrumb",s,t),n.addBreadcrumb(s,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=ne(this);try{e(this)}finally{ne(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);return"undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||n||console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),Z(e,n)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:i=z}=n&&n.getOptions()||{},{userAgent:o}=p.n2.navigator||{},a=function(e){const t=(0,B.ph)(),n={sid:k(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return I({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&Z(n,e),n}({release:r,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),s=t.getSession&&t.getSession();return s&&"ok"===s.status&&Z(s,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=te().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function te(){return p.n2.__SENTRY__=p.n2.__SENTRY__||{extensions:{},hub:void 0},p.n2}function ne(e){const t=te(),n=ie(t);return oe(t,e),n}function re(){const e=te();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=te()){return t=e,!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)&&!ie(e).isOlderThan(X)||oe(e,new ee),ie(e);var t}(e)}function ie(e){return(0,p.YO)("hub",(()=>new ee),e)}function oe(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}const ae=[];function se(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?M(n(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),o=function(e,t){for(let t=0;t<e.length;t++)if(!0==("Debug"===e[t].name))return t;return-1}(i);if(-1!==o){const[e]=i.splice(o,1);i.push(e)}return i}function ce(e,t){t[e.name]=e,-1===ae.indexOf(e.name)&&(e.setupOnce(Q,re),ae.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.log(`Integration installed: ${e.name}`))}const le=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ue=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/];class de{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=de.id,this._options=e}setupOnce(e,t){const n=e=>{const n=t();if(n){const t=n.getIntegration(de);if(t){const r=n.getClient(),i=r?r.getOptions():{},o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:le],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:ue],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,i);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${x(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception){const{values:t}=e.exception;try{const{type:e="",value:n=""}=t&&t[t.length-1]||{};return[`${n}`,`${e}: ${n}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.error(`Cannot extract message for event ${x(e)}`),[]}}return[]}(e).some((e=>E(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${x(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&E(n,t)}(e,t.ignoreTransactions)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${x(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=he(e);return!!n&&E(n,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${x(e)}.\nUrl: ${he(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=he(e);return!n||E(n,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${x(e)}.\nUrl: ${he(e)}`),!0)}(e,o)?null:e}}return e};n.id=this.name,e(n)}}function he(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.error(`Cannot extract url for event ${x(e)}`),null}}let pe;de.__initStatic();class fe{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=fe.id}setupOnce(){pe=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=w(this)||this;return pe.apply(t,e)}}catch(e){}}}fe.__initStatic();const me=/\(error: (.*)\)/,ve=/captureMessage|captureException/;function ge(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],i=e.split("\n");for(let e=n;e<i.length;e++){const n=i[e];if(n.length>1024)continue;const o=me.test(n)?n.replace(me,"$1"):n;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){r.push(t);break}}if(r.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),ve.test(t[t.length-1].function||"")&&(t.pop(),ve.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const ye="<anonymous>";function be(e){try{return e&&"function"==typeof e&&e.name||ye}catch(e){return ye}}const Ee=(0,p.Rf)();function _e(){if(!("fetch"in Ee))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Se(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const Ae=(0,p.Rf)(),we=(0,p.Rf)(),Te="__sentry_xhr_v2__",Ce={},Re={};function Ie(e,t){Ce[e]=Ce[e]||[],Ce[e].push(t),function(e){if(!Re[e])switch(Re[e]=!0,e){case"console":"console"in we&&F.forEach((function(e){e in we.console&&_(we.console,e,(function(t){return function(...n){Oe("console",{args:n,level:e}),t&&t.apply(we.console,n)}}))}));break;case"dom":!function(){if(!("document"in we))return;const e=Oe.bind(null,"dom"),t=Me(e,!0);we.document.addEventListener("click",t,!1),we.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=we[t]&&we[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(_(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){const r=Me(e);a.handler=r,t.call(this,n,r,i)}a.refCount++}catch(e){}return t.call(this,n,r,i)}})),_(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in we))return;const e=XMLHttpRequest.prototype;_(e,"open",(function(e){return function(...t){const n=t[1],r=this[Te]={method:s(t[0])?t[0].toUpperCase():t[0],url:t[1],request_headers:{}};s(n)&&"POST"===r.method&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[Te];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}Oe("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?_(this,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(this,t)}})):this.addEventListener("readystatechange",i),_(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,i=this[Te];return i&&(i.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),_(e,"send",(function(e){return function(...t){const n=this[Te];return n&&void 0!==t[0]&&(n.body=t[0]),Oe("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":(function(){if(!_e())return!1;if(Se(Ee.fetch))return!0;let e=!1;const t=Ee.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Se(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&_(we,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Ne(t),method:ke(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Ne(t),method:ke(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Oe("fetch",{...i}),e.apply(we,t).then((e=>(Oe("fetch",{...i,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Oe("fetch",{...i,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(!function(){const e=Ae.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ae&&!!Ae.history.pushState&&!!Ae.history.replaceState;return!t&&n}())return;const e=we.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=xe,t=String(n);xe=t,Oe("history",{from:e,to:t})}return e.apply(this,t)}}we.onpopstate=function(...t){const n=we.location.href,r=xe;if(xe=n,Oe("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},_(we.history,"pushState",t),_(we.history,"replaceState",t)}();break;case"error":Fe=we.onerror,we.onerror=function(e,t,n,r,i){return Oe("error",{column:r,error:i,line:n,msg:e,url:t}),!(!Fe||Fe.__SENTRY_LOADER__)&&Fe.apply(this,arguments)},we.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":Ue=we.onunhandledrejection,we.onunhandledrejection=function(e){return Oe("unhandledrejection",e),!(Ue&&!Ue.__SENTRY_LOADER__)||Ue.apply(this,arguments)},we.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn("unknown instrumentation type:",e)}}(e)}function Oe(e,t){if(e&&Ce[e])for(const n of Ce[e]||[])try{n(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${be(n)}\nError:`,t)}}function ke(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Ne(e){return"string"==typeof e?e:e?ke(e,"url")?e.url:e.toString?e.toString():"":""}let xe;const Pe=1e3;let De,Le;function Me(e,t=!1){return n=>{if(!n||Le===n)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===De||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(Le,n))&&(e({event:n,name:r,global:t}),Le=n),clearTimeout(De),De=we.setTimeout((()=>{De=void 0}),Pe)}}let Fe=null,Ue=null;const je=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ve(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${a}`}function Be(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ze(e,t=100,n=1/0){try{return He("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Ge(e,t=3,n=102400){const r=ze(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?Ge(e,t-1,n):r;var i}function He(e,t,n=1/0,r=1/0,i=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[o,a]=i;if(null==t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(s=t)||s==s))return t;var s;const c=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==__webpack_require__.g&&t===__webpack_require__.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(function(e){return l(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${be(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const u="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===u)return c.replace("object ","");if(o(t))return"[Circular ~]";const d=t;if(d&&"function"==typeof d.toJSON)try{return He("",d.toJSON(),u-1,r,i)}catch(e){}const h=Array.isArray(t)?[]:{};let p=0;const f=T(t);for(const e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(p>=r){h[e]="[MaxProperties ~]";break}const t=f[e];h[e]=He(e,t,u-1,r,i),p++}return a(t),h}function qe(e,t=[]){return[e,t]}function We(e,t){const[n,r]=e;return[n,[...r,t]]}function Ze(e,t){const n=e[1];for(const e of n)if(t(e,e[0].type))return!0;return!1}function Ke(e,t){return(t||new TextEncoder).encode(e)}function Ye(e,t){const[n,r]=e;let i=JSON.stringify(n);function o(e){"string"==typeof i?i="string"==typeof e?i+e:[Ke(i,t),e]:i.push("string"==typeof e?Ke(e,t):e)}for(const e of r){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(ze(n))}o(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(i)}function Qe(e,t){const n="string"==typeof e.data?Ke(e.data,t):e.data;return[I({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Je={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function Xe(e){return Je[e]}function $e(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}class et extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const tt="7";function nt(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return n={sentry_key:e.publicKey,sentry_version:tt,...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}(e,r)}`}const rt=new WeakMap,it="Not capturing exception because it's already been captured.";class ot{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},e.dsn?this._dsn=function(e){const t="string"==typeof e?function(e){const t=je.exec(e);if(!t)return void console.error(`Invalid Sentry Dsn: ${e}`);const[n,r,i="",o,a="",s]=t.slice(1);let c="",l=s;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return Be({host:o,pass:i,path:c,projectId:l,port:a,protocol:n,publicKey:r})}(e):Be(e);if(t&&function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(V.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(V.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(V.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(V.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}(e.dsn):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn("No DSN provided, client will not do anything."),this._dsn){const t=nt(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(L(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.log(it));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let i=n&&n.event_id;const o=c(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((e=>this._captureEvent(e,n,r))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&L(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.log(it));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Z(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):H(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{e&&ce(e,t)})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){ce(e,this._integrations)}sendEvent(e,t={}){if(this._dsn){let n=function(e,t,n,r){const i=$e(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=function(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:Ve(r)},...i&&{trace:I({...i})}}}(e,i,r,t);return delete e.sdkProcessingMetadata,qe(a,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=We(n,Qe(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}}sendSession(e){if(this._dsn){const t=function(e,t,n,r){const i=$e(n);return qe({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&{dsn:Ve(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(Z(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new W((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){const r=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),function(e,t,n,r){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=e,a={...t,event_id:t.event_id||n.event_id||k(),timestamp:t.timestamp||(0,B.yW)()},s=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:z),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=y(e.message,o));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=y(a.value,o));const s=e.request;s&&s.url&&(s.url=y(s.url,o))}(a,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(a,s),void 0===t.type&&function(e,t){const n=p.n2._sentryDebugIds;if(!n)return;let r;const i=rt.get(t);i?r=i:(r=new Map,rt.set(t,r));const o=Object.keys(n).reduce(((e,i)=>{let o;const a=r.get(i);a?o=a:(o=t(i),r.set(i,o));for(let t=o.length-1;t>=0;t--){const r=o[t];if(r.filename){e[r.filename]=n[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=o[e.filename])}))}))}catch(e){}}(a,e.stackParser);let c=r;n.captureContext&&(c=K.clone(c).update(n.captureContext));let l=H(a);if(c){if(c.getAttachments){const e=[...n.attachments||[],...c.getAttachments()];e.length&&(n.attachments=e)}l=c.applyToEvent(a,n)}return l.then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof i&&i>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:ze(e.data,t,n)}})))},...e.user&&{user:ze(e.user,t,n)},...e.contexts&&{contexts:ze(e.contexts,t,n)},...e.extra&&{extra:ze(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ze(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=ze(e.data,t,n)),e)))),r}(e,i,o):e)))}(r,e,t,n).then((e=>{if(null===e)return e;const{propagationContext:t}=e.sdkProcessingMetadata||{};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:r,spanId:i,parentSpanId:o,dsc:a}=t;e.contexts={trace:{trace_id:r,span_id:i,parent_span_id:o},...e.contexts};const s=a||function(e,t,n){const r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:o}=n&&n.getUser()||{},a=I({environment:r.environment||z,release:r.release,user_segment:o,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",a),a}(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?V.log(t.message):V.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r;if(!this._isEnabled())return q(new et("SDK not enabled, will not capture event.","log"));const o=st(e),a=at(e),s=e.type||"error",c=`before send for type \`${s}\``;if(a&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),q(new et(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const u="replay_event"===s?"replay":s;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,e),new et("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return at(t)&&r?r(t,n):st(t)&&i?i(t,n):t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(d(e))return e.then((e=>{if(!l(e)&&null!==e)throw new et(n);return e}),(e=>{throw new et(`${t} rejected with ${e}`)}));if(!l(e)&&null!==e)throw new et(n);return e}(i,c)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",u,e),new et(`${c} returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!o&&i&&this._updateSessionFromEvent(i,r);const a=r.transaction_info;if(o&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof et)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new et(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.error("Error while sending event:",e)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function at(e){return void 0===e.type}function st(e){return"transaction"===e.type}const ct="7.64.0";var lt=__webpack_require__(8518);function ut(e,t){const n=ht(e,t),r={type:t&&t.name,value:ft(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function dt(e,t){return{exception:{values:[ut(e,t)]}}}function ht(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(pt.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const pt=/Minified React error #\d+;/i;function ft(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function mt(e,t,n,s,c){let d;if(o(t)&&t.error)return dt(e,t.error);if(a(t)||i(t,"DOMException")){const r=t;if("stack"in t)d=dt(e,t);else{const t=r.name||(a(r)?"DOMError":"DOMException"),i=r.message?`${t}: ${r.message}`:t;d=vt(e,i,n,s),P(d,i)}return"code"in r&&(d.tags={...d.tags,"DOMException.code":`${r.code}`}),d}return r(t)?dt(e,t):l(t)||u(t)?(d=function(e,t,n,r){const i=re().getClient(),o=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:u(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:gt(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Ge(t,o)}};if(n){const t=ht(e,n);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,n,c),D(d,{synthetic:!0}),d):(d=vt(e,t,n,s),P(d,`${t}`,void 0),D(d,{synthetic:!0}),d)}function vt(e,t,n,r){const i={message:t};if(r&&n){const r=ht(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}function gt(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(T(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return y(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:y(r,t)}return""}(e),r=t?"promise rejection":"exception";return o(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:u(e)?`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}const yt=p.n2;let bt=0;function Et(){return bt>0}function _t(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(w(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const i=r.map((e=>_t(e,t)));return e.apply(this,i)}catch(e){throw bt++,setTimeout((()=>{bt--})),i=n=>{var i;n.addEventProcessor((e=>(t.mechanism&&(P(e,void 0,void 0),D(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),i=e,re().captureException(i,{captureContext:undefined})},re().withScope(i),e}var i};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}A(r,e),S(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const St=["fatal","error","warning","log","info","debug"];function At(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const wt="Breadcrumbs";class Tt{static __initStatic(){this.id=wt}constructor(e){this.name=Tt.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){var e;this.options.console&&Ie("console",Ct),this.options.dom&&Ie("dom",(e=this.options.dom,function(t){let n,r="object"==typeof e?e.serializeAttribute:void 0,i="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>1024&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=1024),"string"==typeof r&&(r=[r]);try{const e=t.event;n=function(e){return!!e&&!!e.target}(e)?v(e.target,{keyAttrs:r,maxStringLength:i}):v(e,{keyAttrs:r,maxStringLength:i})}catch(e){n="<unknown>"}0!==n.length&&re().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})})),this.options.xhr&&Ie("xhr",Rt),this.options.fetch&&Ie("fetch",It),this.options.history&&Ie("history",Ot)}addSentryBreadcrumb(e){this.options.sentry&&re().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:x(e)},{event:e})}}function Ct(e){for(let t=0;t<e.args.length;t++)if("ref=Ref<"===e.args[t]){e.args[t+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:(n=e.level,"warn"===n?"warning":St.includes(n)?n:"log"),message:b(e.args," ")};var n;if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${b(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}re().addBreadcrumb(t,{input:e.args,level:e.level})}function Rt(e){const{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[Te];if(!t||!n||!r)return;const{method:i,url:o,status_code:a,body:s}=r,c={method:i,url:o,status_code:a},l={xhr:e.xhr,input:s,startTimestamp:t,endTimestamp:n};re().addBreadcrumb({category:"xhr",data:c,type:"http"},l)}function It(e){const{startTimestamp:t,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){const r=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};re().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{const r={...e.fetchData,status_code:e.response&&e.response.status},i={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};re().addBreadcrumb({category:"fetch",data:r,type:"http"},i)}}function Ot(e){let t=e.from,n=e.to;const r=At(yt.location.href);let i=At(t);const o=At(n);i.path||(i=r),r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),re().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}Tt.__initStatic();class kt extends ot{constructor(e){const t=yt.SENTRY_SDK_SOURCE||(0,lt.S)();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:ct}],version:ct},super(e),e.sendClientReports&&yt.document&&yt.document.addEventListener("visibilitychange",(()=>{"hidden"===yt.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const i=mt(e,t,n&&n.syntheticException||void 0,r);return D(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),H(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){const o=vt(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),H(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){const n=this.getIntegrationById(wt);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(e),super.sendEvent(e,t)}captureUserFeedback(e){if(!this._isEnabled())return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Ve(r)}},o=function(e){return[{type:"user_report"},e]}(e);return qe(i,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.log("Sending outcomes:",e);const t=(n=e,qe((r=this._options.tunnel&&Ve(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:(0,B.yW)(),discarded_events:n}]]));var n,r;this._sendEnvelope(t)}}class Nt{static __initStatic(){this.id="GlobalHandlers"}constructor(e){this.name=Nt.id,this._options={onerror:!0,onunhandledrejection:!0,...e},this._installFunc={onerror:xt,onunhandledrejection:Pt}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(t=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.log(`Global Handler attached: ${t}`),r(),this._installFunc[n]=void 0)}var t}}function xt(){Ie("error",(e=>{const[t,n,r]=Mt();if(!t.getIntegration(Nt))return;const{msg:i,url:a,line:c,column:l,error:u}=e;if(Et()||u&&u.__sentry_own_request__)return;const d=void 0===u&&s(i)?function(e,t,n,r){let i=o(e)?e.message:e,a="Error";const s=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(a=s[1],i=s[2]);return Dt({exception:{values:[{type:a,value:i}]}},t,n,r)}(i,a,c,l):Dt(mt(n,u||i,void 0,r,!1),a,c,l);d.level="error",Lt(t,u,d,"onerror")}))}function Pt(){Ie("unhandledrejection",(e=>{const[t,n,r]=Mt();if(!t.getIntegration(Nt))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}if(Et()||i&&i.__sentry_own_request__)return!0;const o=c(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:mt(n,i,void 0,r,!0);o.level="error",Lt(t,i,o,"onunhandledrejection")}))}function Dt(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},c=a.stacktrace=a.stacktrace||{},l=c.frames=c.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,h=s(t)&&t.length>0?t:function(){try{return f.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:u,filename:h,function:"?",in_app:!0,lineno:d}),e}function Lt(e,t,n,r){D(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function Mt(){const e=re(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}Nt.__initStatic();const Ft=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Ut{static __initStatic(){this.id="TryCatch"}constructor(e){this.name=Ut.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&_(yt,"setTimeout",jt),this._options.setInterval&&_(yt,"setInterval",jt),this._options.requestAnimationFrame&&_(yt,"requestAnimationFrame",Vt),this._options.XMLHttpRequest&&"XMLHttpRequest"in yt&&_(XMLHttpRequest.prototype,"send",Bt);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:Ft).forEach(zt)}}function jt(e){return function(...t){const n=t[0];return t[0]=_t(n,{mechanism:{data:{function:be(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Vt(e){return function(t){return e.apply(this,[_t(t,{mechanism:{data:{function:"requestAnimationFrame",handler:be(e)},handled:!0,type:"instrument"}})])}}function Bt(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&_(n,e,(function(t){const n={mechanism:{data:{function:e,handler:be(t)},handled:!0,type:"instrument"}},r=w(t);return r&&(n.mechanism.data.handler=be(r)),_t(t,n)}))})),e.apply(this,t)}}function zt(e){const t=yt,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(_(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=_t(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:be(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,_t(r,{mechanism:{data:{function:"addEventListener",handler:be(r),target:e},handled:!0,type:"instrument"}}),i])}})),_(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,i,r)}})))}function Gt(e,t,n=250,r,i,o,a){if(!(o.exception&&o.exception.values&&a&&h(a.originalException,Error)))return;const s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,l;s&&(o.exception.values=(c=Ht(e,t,i,a.originalException,r,o.exception.values,s,0),l=n,c.map((e=>(e.value&&(e.value=y(e.value,l)),e)))))}function Ht(e,t,n,r,i,o,a,s){if(o.length>=n+1)return o;let c=[...o];if(h(r[i],Error)){qt(a,s);const o=e(t,r[i]),l=c.length;Wt(o,i,l,s),c=Ht(e,t,n,r[i],i,[o,...c],o,l)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(h(r,Error)){qt(a,s);const l=e(t,r),u=c.length;Wt(l,`errors[${o}]`,u,s),c=Ht(e,t,n,r,i,[l,...c],l,u)}})),c}function qt(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function Wt(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}Ut.__initStatic();class Zt{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this.name=Zt.id,this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(e,t){e(((e,n)=>{const r=t(),i=r.getClient(),o=r.getIntegration(Zt);if(!i||!o)return e;const a=i.getOptions();return Gt(ut,a.stackParser,a.maxValueLength,o._key,o._limit,e,n),e}))}}Zt.__initStatic();class Kt{static __initStatic(){this.id="HttpContext"}constructor(){this.name=Kt.id}setupOnce(){Q((e=>{if(re().getIntegration(Kt)){if(!yt.navigator&&!yt.location&&!yt.document)return e;const t=e.request&&e.request.url||yt.location&&yt.location.href,{referrer:n}=yt.document||{},{userAgent:r}=yt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};return{...e,request:o}}return e}))}}Kt.__initStatic();class Yt{static __initStatic(){this.id="Dedupe"}constructor(){this.name=Yt.id}setupOnce(e,t){const n=e=>{if(e.type)return e;const n=t().getIntegration(Yt);if(n){try{if(function(e,t){return!!t&&(!!function(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!Jt(e,t)&&!!Qt(e,t))))}(e,t)||!!function(e,t){const n=Xt(t),r=Xt(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!Jt(e,t)&&!!Qt(e,t)))}(e,t))}(e,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}}function Qt(e,t){let n=$t(e),r=$t(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function Jt(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function Xt(e){return e.exception&&e.exception.values&&e.exception.values[0]}function $t(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Yt.__initStatic();const en="?";function tn(e,t,n,r){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const nn=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rn=/\((\S*)(?::(\d+))(?::(\d+))\)/,on=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,an=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sn=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,cn=ge([30,e=>{const t=nn.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=rn.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=ln(t[1]||en,t[2]);return tn(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=on.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=an.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||en;return[n,e]=ln(n,e),tn(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=sn.exec(e);return t?tn(t[2],t[1]||en,+t[3],t[4]?+t[4]:void 0):void 0}]),ln=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:en,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};const un=6e4;const dn=30;function hn(e,t,n=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return q(new et("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new W(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{H(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}(e.bufferSize||dn)){let r={};function i(i){const o=[];if(Ze(i,((t,n)=>{const i=Xe(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)){const r=pn(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(t)})),0===o.length)return H();const a=qe(i[0],o),s=t=>{Ze(a,((n,r)=>{const i=pn(n,r);e.recordDroppedEvent(t,Xe(r),i)}))};return n.add((()=>t({body:Ye(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n]=e.split(":",2),o=parseInt(t,10),a=1e3*(isNaN(o)?60:o);if(n)for(const e of n.split(";"))i[e]=r+a;else i.all=r+a}else a?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?un:r-t}(a,r):429===t&&(i.all=r+6e4);return i}(r,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof et)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.error("Skipped sending event because buffer is full."),s("queue_overflow"),H();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function pn(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let fn;function mn(e,t=function(){if(fn)return fn;if(Se(yt.fetch))return fn=yt.fetch.bind(yt);const e=yt.document;let t=yt.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return fn=t.bind(yt)}()){let n=0,r=0;return hn(e,(function(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then((e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return fn=void 0,n-=o,r--,q(e)}}))}function vn(e){return hn(e,(function(t){return new W(((n,r)=>{const i=new XMLHttpRequest;i.onerror=r,i.onreadystatechange=()=>{4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)}))}))}const gn=[new de,new fe,new Ut,new Tt,new Nt,new Zt,new Yt,new Kt];function yn(e){e.startSession({ignoreDuration:!0}),e.captureSession()}var bn=__webpack_require__(7294),En=__webpack_require__(2805),_n=__webpack_require__(930),Sn=__webpack_require__(7177),An=__webpack_require__(1525);const{OS:wn}=En.Z,Tn=("ios"===wn?(0,_n.requireNativeComponent)("RNKMPreviousNextView"):Sn.Z,An.Z.ReactNativeKeyboardManager);function Cn(e,t){return Cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cn(e,t)}function Rn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cn(e,t)}var In=__webpack_require__(7462);function On(e){return"/"===e.charAt(0)}function kn(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const Nn=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&On(e),a=t&&On(t),s=o||a;if(e&&On(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var c=i[i.length-1];n="."===c||".."===c||""===c}else n=!1;for(var l=0,u=i.length;u>=0;u--){var d=i[u];"."===d?kn(i,u):".."===d?(kn(i,u),l++):l&&(kn(i,u),l--)}if(!s)for(;l--;l)i.unshift("..");!s||""===i[0]||i[0]&&On(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function xn(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const Pn=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=xn(t),i=xn(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};function Dn(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,In.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Nn(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}"undefined"==typeof window||!window.document||window.document.createElement;var Ln=__webpack_require__(5697),Mn=__webpack_require__.n(Ln),Fn=1073741823,Un="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:{},jn=bn.createContext||function(e,t){var n,r,i,o="__create-react-context-"+((Un[i="__global_unique_id__"]=(Un[i]||0)+1)+"__"),a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}Rn(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(n="function"==typeof t?t(r,i):Fn,0!=(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(bn.Component);a.childContextTypes=((n={})[o]=Mn().object.isRequired,n);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Rn(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?Fn:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?Fn:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return function(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},n}(bn.Component);return s.contextTypes=((r={})[o]=Mn().object,r),{Provider:a,Consumer:s}};const Vn=jn;var Bn=!0,zn="Invariant failed";function Gn(e,t){if(!e){if(Bn)throw new Error(zn);var n="function"==typeof t?t():t,r=n?"".concat(zn,": ").concat(n):zn;throw new Error(r)}}var Hn=__webpack_require__(4779),qn=__webpack_require__.n(Hn),Wn=(__webpack_require__(663),__webpack_require__(3366)),Zn=(__webpack_require__(8679),function(e){var t=Vn();return t.displayName=e,t}),Kn=Zn("Router-History"),Yn=function(e){var t=Vn();return t.displayName=e,t},Qn=Yn("Router"),Jn=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Rn(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return bn.createElement(Qn.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},bn.createElement(Kn.Provider,{children:this.props.children||null,value:this.props.history}))},t}(bn.Component);bn.Component;var Xn=function(e){function t(){return e.apply(this,arguments)||this}Rn(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(bn.Component);function $n(e){var t=e.message,n=e.when,r=void 0===n||n;return bn.createElement(Qn.Consumer,null,(function(e){if(e||Gn(!1),!r||e.staticContext)return null;var n=e.history.block;return bn.createElement(Xn,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var er={},tr=1e4,nr=0;function rr(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(er[e])return er[e];var t=qn().compile(e);return nr<tr&&(er[e]=t,nr++),t}(e)(t,{pretty:!0})}function ir(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return bn.createElement(Qn.Consumer,null,(function(e){e||Gn(!1);var r=e.history,o=e.staticContext,a=i?r.push:r.replace,s=Dn(t?"string"==typeof n?rr(n,t.params):(0,In.Z)({},n,{pathname:rr(n.pathname,t.params)}):n);return o?(a(s),null):bn.createElement(Xn,{onMount:function(){a(s)},onUpdate:function(e,t){var n,r,i=Dn(t.to);n=i,r=(0,In.Z)({},s,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&Pn(n.state,r.state)||a(s)},to:n})}))}var or={},ar=0;function sr(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=or[n]||(or[n]={});if(r[e])return r[e];var i=[],o={regexp:qn()(e,i,t),keys:i};return ar<1e4&&(r[e]=o,ar++),o}(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,c=i.exec(e);if(!c)return null;var u=c[0],d=c.slice(1),h=e===u;return o&&!h?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var cr=function(e){function t(){return e.apply(this,arguments)||this}return Rn(t,e),t.prototype.render=function(){var e=this;return bn.createElement(Qn.Consumer,null,(function(t){t||Gn(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?sr(n.pathname,e.props):t.match,i=(0,In.Z)({},t,{location:n,match:r}),o=e.props,a=o.children,s=o.component,c=o.render;return Array.isArray(a)&&0===a.length&&(a=null),bn.createElement(Qn.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?bn.createElement(s,i):c?c(i):null:"function"==typeof a?a(i):null)}))},t}(bn.Component);bn.Component;var lr=function(e){function t(){return e.apply(this,arguments)||this}return Rn(t,e),t.prototype.render=function(){var e=this;return bn.createElement(Qn.Consumer,null,(function(t){t||Gn(!1);var n,r,i=e.props.location||t.location;return bn.Children.forEach(e.props.children,(function(e){if(null==r&&bn.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?sr(i.pathname,(0,In.Z)({},e.props,{path:o})):t.match}})),r?bn.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(bn.Component),ur=bn.useContext;function dr(){return ur(Kn)}function hr(){return ur(Qn).location}function pr(){var e=ur(Qn).match;return e?e.params:{}}function fr(e){return"/"===e.charAt(0)?e:"/"+e}function mr(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function vr(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function gr(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function yr(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,In.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Nn(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function br(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Er=!("undefined"==typeof window||!window.document||!window.document.createElement);function _r(e,t){t(window.confirm(e))}var Sr="popstate",Ar="hashchange";function wr(){try{return window.history.state||{}}catch(e){return{}}}var Tr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=function(e){void 0===e&&(e={}),Er||Gn(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,c=o.getUserConfirmation,l=void 0===c?_r:c,u=o.keyLength,d=void 0===u?6:u,h=e.basename?vr(fr(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&(o=mr(o,h)),yr(o,r,n)}function f(){return Math.random().toString(36).substr(2,d)}var m=br();function v(e){(0,In.Z)(I,e),I.length=n.length,m.notifyListeners(I.location,I.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||E(p(e.state))}function y(){E(p(wr()))}var b=!1;function E(e){b?(b=!1,v()):m.confirmTransitionTo(e,"POP",l,(function(t){t?v({action:"POP",location:e}):function(e){var t=I.location,n=S.indexOf(t.key);-1===n&&(n=0);var r=S.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,w(i))}(e)}))}var _=p(wr()),S=[_.key];function A(e){return h+gr(e)}function w(e){n.go(e)}var T=0;function C(e){1===(T+=e)&&1===e?(window.addEventListener(Sr,g),i&&window.addEventListener(Ar,y)):0===T&&(window.removeEventListener(Sr,g),i&&window.removeEventListener(Ar,y))}var R=!1,I={length:n.length,action:"POP",location:_,createHref:A,push:function(e,t){var i="PUSH",o=yr(e,t,f(),I.location);m.confirmTransitionTo(o,i,l,(function(e){if(e){var t=A(o),a=o.key,c=o.state;if(r)if(n.pushState({key:a,state:c},null,t),s)window.location.href=t;else{var l=S.indexOf(I.location.key),u=S.slice(0,l+1);u.push(o.key),S=u,v({action:i,location:o})}else window.location.href=t}}))},replace:function(e,t){var i="REPLACE",o=yr(e,t,f(),I.location);m.confirmTransitionTo(o,i,l,(function(e){if(e){var t=A(o),a=o.key,c=o.state;if(r)if(n.replaceState({key:a,state:c},null,t),s)window.location.replace(t);else{var l=S.indexOf(I.location.key);-1!==l&&(S[l]=o.key),v({action:i,location:o})}else window.location.replace(t)}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return R||(C(1),R=!0),function(){return R&&(R=!1,C(-1)),t()}},listen:function(e){var t=m.appendListener(e);return C(1),function(){C(-1),t()}}};return I}(t.props),t}return Rn(t,e),t.prototype.render=function(){return bn.createElement(Jn,{history:this.history,children:this.props.children})},t}(bn.Component);bn.Component;var Cr=function(e,t){return"function"==typeof e?e(t):e},Rr=function(e,t){return"string"==typeof e?yr(e,null,null,t):e},Ir=function(e){return e},Or=bn.forwardRef;void 0===Or&&(Or=Ir);var kr=Or((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=(0,Wn.Z)(e,["innerRef","navigate","onClick"]),a=o.target,s=(0,In.Z)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=Ir!==Or&&t||n,bn.createElement("a",s)})),Nr=Or((function(e,t){var n=e.component,r=void 0===n?kr:n,i=e.replace,o=e.to,a=e.innerRef,s=(0,Wn.Z)(e,["component","replace","to","innerRef"]);return bn.createElement(Qn.Consumer,null,(function(e){e||Gn(!1);var n=e.history,c=Rr(Cr(o,e.location),e.location),l=c?n.createHref(c):"",u=(0,In.Z)({},s,{href:l,navigate:function(){var t=Cr(o,e.location);(i?n.replace:n.push)(t)}});return Ir!==Or?u.ref=t||a:u.innerRef=a,bn.createElement(r,u)}))})),xr=function(e){return e},Pr=bn.forwardRef;void 0===Pr&&(Pr=xr),Pr((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,a=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,u=e.location,d=e.sensitive,h=e.strict,p=e.style,f=e.to,m=e.innerRef,v=(0,Wn.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return bn.createElement(Qn.Consumer,null,(function(e){e||Gn(!1);var n=u||e.location,i=Rr(Cr(f,n),n),g=i.pathname,y=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=y?sr(n.pathname,{path:y,exact:c,sensitive:d,strict:h}):null,E=!!(l?l(b,n):b),_=E?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(s,o):s,S=E?(0,In.Z)({},p,{},a):p,A=(0,In.Z)({"aria-current":E&&r||null,className:_,style:S,to:i},v);return xr!==Pr?A.ref=t||m:A.innerRef=m,bn.createElement(Nr,A)}))}));const Dr=()=>bn.createElement(bn.Fragment,null),Lr=__webpack_require__(942).bind({concatArrays:!0,ignoreUndefined:!0});function Mr(e,t){return new Promise(((n,r)=>{try{const r=e();null==t||t(null,r),n(r)}catch(e){null==t||t(e),r(e)}}))}function Fr(e,t,n){return Promise.all(e).then((e=>{const r=(null==n?void 0:n(e))??null;return null==t||t(null,r),Promise.resolve(r)}),(e=>(null==t||t(e),Promise.reject(e))))}const Ur={getItem:(e,t)=>Mr((()=>window.localStorage.getItem(e)),t),setItem:(e,t,n)=>Mr((()=>window.localStorage.setItem(e,t)),n),removeItem:(e,t)=>Mr((()=>window.localStorage.removeItem(e)),t),mergeItem:(e,t,n)=>Mr((()=>function(e,t){const n=window.localStorage.getItem(e);if(n){const r=JSON.parse(n),i=JSON.parse(t),o=JSON.stringify(Lr(r,i));window.localStorage.setItem(e,o)}else window.localStorage.setItem(e,t)}(e,t)),n),clear:e=>Mr((()=>window.localStorage.clear()),e),getAllKeys:e=>Mr((()=>{const e=window.localStorage.length,t=[];for(let n=0;n<e;n+=1){const e=window.localStorage.key(n)||"";t.push(e)}return t}),e),flushGetRequests:()=>{},multiGet:(e,t)=>Fr(e.map((e=>Ur.getItem(e))),t,(t=>t.map(((t,n)=>[e[n],t])))),multiSet:(e,t)=>Fr(e.map((e=>Ur.setItem(e[0],e[1]))),t),multiRemove:(e,t)=>Fr(e.map((e=>Ur.removeItem(e))),t),multiMerge:(e,t)=>Fr(e.map((e=>Ur.mergeItem(e[0],e[1]))),t)},jr=Ur,Vr=e=>{(0,bn.useEffect)(e,[])};var Br=__webpack_require__(1682),zr=__webpack_require__(9864);const Gr=(e,t=25)=>e?(null==e?void 0:e.substring(0,t))+((null==e?void 0:e.length)>t?"...":""):"",Hr=e=>!(!e||!zr.isValidElementType(e)),qr=()=>"web"===En.Z.OS,Wr=()=>"web"===En.Z.OS,Zr=()=>{var e,t,n;let r=!1;var i;return i=(null===(e=navigator)||void 0===e?void 0:e.userAgent)||(null===(t=navigator)||void 0===t?void 0:t.vendor)||(null===(n=window)||void 0===n?void 0:n.opera),/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)&&(r=!0),r},Kr=e=>!!(e&&Array.isArray(e)&&e.length),Yr=e=>{const{px:t,py:n,localWidth:r,localHeight:i,globalWidth:o,globalHeight:a,extra:{top:s=0,bottom:c=0,left:l=0,right:u=0}={},popupWidth:d=220}=e;if(t>o/2){const e=o-t+d;let r=0;return e>o&&(r=e-o+10),n>a/2?{bottom:a-n+c,right:o-t-r+u}:{top:n+i+s,right:o-t-r+u}}{const e=t+r+d;let u=0;return e>o&&(u=e-o+10),n>a/2?{bottom:a-n+c,left:t+r-u+l}:{top:n+i+s+s,left:t+r-u+l}}},Qr=576,Jr=768,Xr=1330,$r=()=>{const{width:e,height:t}=(0,Br.Z)();return(n="default")=>"default"===n?e>t:"toolbar"===n?e>Xr:"popup"===n?e>Jr:e>=Xr},ei=()=>{const{width:e}=(0,Br.Z)();return(t=576)=>e<t},ti=()=>{const{width:e}=(0,Br.Z)();return t=>e<360?t/3:e<Jr?t/2:t},ni=(e,t=300)=>{let n;return function(...r){clearTimeout(n),n=setTimeout((()=>e.apply(this,r)),t)}},ri=e=>e.charAt(0).toUpperCase()+e.slice(1),ii=()=>!1,oi=()=>{let e="turnkey_web";return Wr()&&(e="turnkey_web"),e},ai={token:null,displayName:"",selectedLanguageCode:"",rememberedDevicesList:{audioinput:{},audiooutput:{},videoinput:{}},activeDeviceId:{audioinput:"",audiooutput:"",videoinput:""}},si={store:ai,setStore:null},ci=(0,bn.createContext)(si),li=ci,ui=(ci.Consumer,e=>{const[t,n]=(0,bn.useState)(!1),[r,i]=(0,bn.useState)(ai);return Vr((()=>{(async()=>{try{const e=await jr.getItem("store");if(null===e)await jr.setItem("store",JSON.stringify(ai)),n(!0);else{const t=JSON.parse(e);Object.keys(ai).forEach((e=>{t[e]||(t[e]=ai[e])})),t.token=null,i(t),n(!0)}console.log("store hydrated",e),n(!0)}catch(e){console.error("problem hydrating store",e)}})()})),(0,bn.useEffect)((()=>{t&&(async()=>{try{let e=JSON.parse(JSON.stringify(r));e.token=null,await jr.setItem("store",JSON.stringify(e)),console.log("store synced with value",e)}catch(e){console.log("problem syncing the store",e)}})()}),[r,t]),bn.createElement(ci.Provider,{value:{store:r,setStore:i}},t?e.children:bn.createElement(bn.Fragment,null))});var di=function(e,t){return di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},di(e,t)};function hi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}di(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var pi=function(){return pi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pi.apply(this,arguments)};function fi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function mi(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function vi(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function gi(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var yi="Invariant Violation",bi=Object.setPrototypeOf,Ei=void 0===bi?function(e,t){return e.__proto__=t,e}:bi,_i=function(e){function t(n){void 0===n&&(n=yi);var r=e.call(this,"number"==typeof n?yi+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=yi,Ei(r,t.prototype),r}return hi(t,e),t}(Error);function Si(e,t){if(!e)throw new _i(t)}var Ai,wi=["debug","log","warn","error","silent"],Ti=wi.indexOf("log");function Ci(e){return function(){if(wi.indexOf(e)>=Ti)return(console[e]||console.log).apply(console,arguments)}}(Ai=Si||(Si={})).debug=Ci("debug"),Ai.log=Ci("log"),Ai.warn=Ci("warn"),Ai.error=Ci("error");var Ri="3.8.1";function Ii(e){try{return e()}catch(e){}}const Oi=Ii((function(){return globalThis}))||Ii((function(){return window}))||Ii((function(){return self}))||Ii((function(){return global}))||Ii((function(){return Ii.constructor("return this")()}));var ki=new Map;function Ni(e){var t=ki.get(e)||1;return ki.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function xi(e,t){void 0===t&&(t=0);var n=Ni("stringifyForDisplay");return JSON.stringify(e,(function(e,t){return void 0===t?n:t}),t).split(JSON.stringify(n)).join("<undefined>")}function Pi(e){return function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.apply(void 0,gi(["number"==typeof t?Fi(t):t],n,!1))}}var Di=Object.assign((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e||Si(e,Fi(t,n))}),{debug:Pi(Si.debug),log:Pi(Si.log),warn:Pi(Si.warn),error:Pi(Si.error)});function Li(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new _i(Fi(e,t))}var Mi=Symbol.for("ApolloErrorMessageHandler_"+Ri);function Fi(e,t){if(void 0===t&&(t=[]),e){var n=t.map((function(e){return"string"==typeof e?e:xi(e,2).slice(0,1e3)}));return Oi[Mi]&&Oi[Mi](e,n)||"An error occured! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:Ri,message:e,args:n})))}}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t,n){return t&&ji(e.prototype,t),n&&ji(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}globalThis.__DEV__;var Bi=function(){return"function"==typeof Symbol},zi=function(e){return Bi()&&Boolean(Symbol[e])},Gi=function(e){return zi(e)?Symbol[e]:"@@"+e};Bi()&&!zi("observable")&&(Symbol.observable=Symbol("observable"));var Hi=Gi("iterator"),qi=Gi("observable"),Wi=Gi("species");function Zi(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function Ki(e){var t=e.constructor;return void 0!==t&&null===(t=t[Wi])&&(t=void 0),void 0!==t?t:io}function Yi(e){return e instanceof io}function Qi(e){Qi.log?Qi.log(e):setTimeout((function(){throw e}))}function Ji(e){Promise.resolve().then((function(){try{e()}catch(e){Qi(e)}}))}function Xi(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=Zi(t,"unsubscribe");n&&n.call(t)}}catch(e){Qi(e)}}function $i(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function eo(e,t,n){e._state="running";var r=e._observer;try{var i=Zi(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if($i(e),!i)throw n;i.call(r,n);break;case"complete":$i(e),i&&i.call(r)}}catch(e){Qi(e)}"closed"===e._state?Xi(e):"running"===e._state&&(e._state="ready")}function to(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void Ji((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(eo(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void eo(e,t,n);e._queue.push({type:t,value:n})}}var no=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new ro(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&($i(this),Xi(this))},Vi(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),ro=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){to(this._subscription,"next",e)},t.error=function(e){to(this._subscription,"error",e)},t.complete=function(){to(this._subscription,"complete")},Vi(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),io=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new no(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Ki(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Ki(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=Ki(this),r=arguments.length>1,i=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ki(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=Ki(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[qi]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=Zi(t,qi);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return Yi(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(zi("iterator")&&(r=Zi(t,Hi)))return new n((function(e){Ji((function(){if(!e.closed){for(var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ui(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.call(t));!(n=i()).done;){var o=n.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){Ji((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)((function(e){Ji((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},Vi(e,null,[{key:Wi,get:function(){return this}}]),e}();function oo(e){return null!==e&&"object"==typeof e}function ao(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw Li(68,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(Di(1===r.length,69,r.length),n=r[0].name.value),pi(pi({},e),{definitions:gi([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function so(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function co(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=e.name.value;if("function"==typeof t)return t(n);var r=t&&t[n];return Di(r,70,n),r||null;default:return null}}function lo(e){return{__ref:String(e)}}function uo(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function ho(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return ho(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return ho(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw Li(79,t.value,n.kind);e[t.value]=null}}Bi()&&Object.defineProperty(io,Symbol("extensions"),{value:{symbol:qi,hostReportError:Qi},configurable:!0});var po=["connection","include","skip","client","rest","export","nonreactive"],fo=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),"".concat(n.connection.key,"(").concat(mo(i),")")}return n.connection.key}var o=e;if(t){var a=mo(t);o+="(".concat(a,")")}return n&&Object.keys(n).forEach((function(e){-1===po.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(mo(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=mo;return mo=e,t}}),mo=function(e){return JSON.stringify(e,vo)};function vo(e,t){return oo(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function go(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return ho(n,r,i,t)})),n}return null}function yo(e){return e.alias?e.alias.value:e.name.value}function bo(e,t,n){for(var r,i=0,o=t.selections;i<o.length;i++)if(Eo(c=o[i])){if("__typename"===c.name.value)return e[yo(c)]}else r?r.push(c):r=[c];if("string"==typeof e.__typename)return e.__typename;if(r)for(var a=0,s=r;a<s.length;a++){var c,l=bo(e,co(c=s[a],n).selectionSet,n);if("string"==typeof l)return l}}function Eo(e){return"Field"===e.kind}function _o(e){Di(e&&"Document"===e.kind,71);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw Li(72,e.kind);return e}));return Di(t.length<=1,73,t.length),e}function So(e){return _o(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function Ao(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function wo(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function To(e){var t=So(e);return Di(t&&"query"===t.operation,74),t}function Co(e){var t;_o(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw Li(78)}function Ro(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&ho(t,e.variable.name,e.defaultValue)})),t}function Io(e,t){return t?t(e):io.of()}function Oo(e){return"function"==typeof e?new No(e):e}function ko(e){return e.request.length<=1}var No=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return io.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(Oo).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=Oo(n),o=Oo(r||new e(Io));return ko(i)&&ko(o)?new e((function(e){return t(e)?i.request(e)||io.of():o.request(e)||io.of()})):new e((function(e,n){return t(e)?i.request(e,n)||io.of():o.request(e,n)||io.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=pi({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=pi(pi({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return pi({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Ao(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw Li(41,i)}return e}(t))))||io.of()},e.concat=function(t,n){var r=Oo(t);if(ko(r))return!1!==globalThis.__DEV__&&Di.warn(33,r),r;var i=Oo(n);return ko(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||io.of()}))||io.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||io.of()}))||io.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(Io)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw Li(34)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}();const xo="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Po(e){return Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(e)}var Do=10,Lo=2;function Mo(e){return Fo(e,[])}function Fo(e,t){switch(Po(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(xo)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:Fo(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>Lo)return"[Array]";for(var n=Math.min(Do,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(Fo(e[o],t));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>Lo?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+Fo(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function Uo(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),e.prototype.inspect=t,xo&&(e.prototype[xo]=t)}var jo=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();Uo(jo);var Vo=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function Bo(e){return null!=e&&"string"==typeof e.kind}Uo(Vo);var zo={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Go=Object.freeze({});function Ho(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zo,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],c=void 0,l=void 0,u=void 0,d=[],h=[],p=e;do{var f=++a===o.length,m=f&&0!==s.length;if(f){if(l=0===h.length?void 0:d[d.length-1],c=u,u=h.pop(),m){if(i)c=c.slice();else{for(var v={},g=0,y=Object.keys(c);g<y.length;g++){var b=y[g];v[b]=c[b]}c=v}for(var E=0,_=0;_<s.length;_++){var S=s[_][0],A=s[_][1];i&&(S-=E),i&&null===A?(c.splice(S,1),E++):c[S]=A}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(l=u?i?a:o[a]:void 0,null==(c=u?u[l]:p))continue;u&&d.push(l)}var w,T=void 0;if(!Array.isArray(c)){if(!Bo(c))throw new Error("Invalid AST Node: ".concat(Mo(c),"."));var C=qo(t,c.kind,f);if(C){if((T=C.call(t,c,l,u,d,h))===Go)break;if(!1===T){if(!f){d.pop();continue}}else if(void 0!==T&&(s.push([l,T]),!f)){if(!Bo(T)){d.pop();continue}c=T}}}void 0===T&&m&&s.push([l,c]),f?d.pop():(r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(c))?c:null!==(w=n[c.kind])&&void 0!==w?w:[],a=-1,s=[],u&&h.push(u),u=c)}while(void 0!==r);return 0!==s.length&&(p=s[s.length-1][1]),p}function qo(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}function Wo(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];return e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;Di(n&&1===n.length,65,r);var i=n[0];Di(i.name&&"if"===i.name.value,66,r);var o=i.value;Di(o&&("Variable"===o.kind||"BooleanValue"===o.kind),67,r),t.push({directive:e,ifArgument:i})}})),t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t&&t[r.value.name.value],Di(void 0!==i,64,n.name.value)):i=r.value.value,"skip"===n.name.value?!i:i}))}function Zo(e,t,n){var r=new Set(e),i=r.size;return Ho(t,{Directive:function(e){if(r.delete(e.name.value)&&(!n||!r.size))return Go}}),n?!r.size:r.size<i}function Ko(e){return e&&Zo(["client","export"],e,!0)}var Yo=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=Li(37,t,e.message);throw r.parseError=e,r}return n},Qo="function"==typeof WeakMap&&"ReactNative"!==Ii((function(){return navigator.product})),Jo="function"==typeof WeakSet,Xo="function"==typeof Symbol&&"function"==typeof Symbol.for,$o=Xo&&Symbol.asyncIterator;function ea(e){var t={next:function(){return e.read()}};return $o&&(t[Symbol.asyncIterator]=function(){return this}),t}function ta(e){var t,n,r,i,o=e;if(e.body&&(o=e.body),i=o,$o&&i[Symbol.asyncIterator])return function(e){var t,n=e[Symbol.asyncIterator]();return(t={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},t}(o);if(function(e){return!!e.getReader}(o))return ea(o.getReader());if(function(e){return!!e.stream}(o))return ea(o.stream().getReader());if(function(e){return!!e.arrayBuffer}(o))return t=o.arrayBuffer(),n=!1,r={next:function(){return n?Promise.resolve({value:void 0,done:!0}):(n=!0,new Promise((function(e,n){t.then((function(t){e({value:t,done:!1})})).catch(n)})))}},$o&&(r[Symbol.asyncIterator]=function(){return this}),r;if(function(e){return!!e.pipe}(o))return function(e){var t=null,n=null,r=!1,i=[],o=[];function a(e){if(!n){if(o.length){var t=o.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}i.push(e)}}function s(e){n=e,o.slice().forEach((function(t){t[1](e)})),!t||t()}function c(){r=!0,o.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",a),e.removeListener("error",s),e.removeListener("end",c),e.removeListener("finish",c),e.removeListener("close",c)},e.on("data",a),e.on("error",s),e.on("end",c),e.on("finish",c),e.on("close",c);var l={next:function(){return new Promise((function(e,t){return n?t(n):i.length?e({value:i.shift(),done:!1}):r?e({value:void 0,done:!0}):void o.push([e,t])}))}};return $o&&(l[Symbol.asyncIterator]=function(){return this}),l}(o);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}Ii((function(){return window.document.createElement})),Ii((function(){return navigator.userAgent.indexOf("jsdom")>=0}));var na=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},ra=Symbol(),ia=function(e){function t(n){var r,i,o=n.graphQLErrors,a=n.protocolErrors,s=n.clientErrors,c=n.networkError,l=n.errorMessage,u=n.extraInfo,d=e.call(this,l)||this;return d.name="ApolloError",d.graphQLErrors=o||[],d.protocolErrors=a||[],d.clientErrors=s||[],d.networkError=c||null,d.message=l||(i=gi(gi(gi([],(r=d).graphQLErrors,!0),r.clientErrors,!0),r.protocolErrors,!0),r.networkError&&i.push(r.networkError),i.map((function(e){return oo(e)&&e.message||"Error message not found."})).join("\n")),d.extraInfo=u,d.__proto__=t.prototype,d}return hi(t,e),t}(Error),oa=Array.isArray;function aa(e){return Array.isArray(e)&&e.length>0}var sa=Object.prototype.hasOwnProperty;function ca(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return la(e)}function la(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new da,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var ua=function(e,t,n){return this.merge(e[n],t[n])},da=function(){function e(e){void 0===e&&(e=ua),this.reconciler=e,this.isObject=oo,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return oo(t)&&oo(e)?(Object.keys(t).forEach((function(i){if(sa.call(e,i)){var o=e[i];if(t[i]!==o){var a=n.reconciler.apply(n,gi([e,t,i],r,!1));a!==o&&((e=n.shallowCopyForMerge(e))[i]=a)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){return oo(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):pi({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}();function ha(e){return"incremental"in e}function pa(e){return oo(e)&&"payload"in e}function fa(e,t){var n=e,r=new da;return ha(t)&&aa(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,i=e.path,o=i.length-1;o>=0;--o){var a=i[o],s=isNaN(+a)?{}:[];s[a]=t,t=s}n=r.merge(n,t)})),n}var ma=Object.prototype.hasOwnProperty;function va(e){var t={};return e.split("\n").forEach((function(e){var n=e.indexOf(":");if(n>-1){var r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();t[r]=i}})),t}function ga(e,t){e.status>=300&&na(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status));try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}function ya(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&ba(t[i]);)++i;for(var o=t.length;o>i&&ba(t[o-1]);)--o;return t.slice(i,o).join("\n")}function ba(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var Ea={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Sa(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=wa("(",Sa(e.variableDefinitions,", "),")"),i=Sa(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?Sa([t,Sa([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+wa(" = ",r)+wa(" ",Sa(i," "))},SelectionSet:function(e){return Aa(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=wa("",t,": ")+n,s=a+wa("(",Sa(r,", "),")");return s.length>80&&(s=a+wa("(\n",Ta(Sa(r,"\n")),"\n)")),Sa([s,Sa(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+wa(" ",Sa(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return Sa(["...",wa("on ",t),Sa(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(wa("(",Sa(r,", "),")")," ")+"on ".concat(n," ").concat(wa("",Sa(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,c="";return!s||r&&i||(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,s&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+Sa(e.values,", ")+"]"},ObjectValue:function(e){return"{"+Sa(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+wa("(",Sa(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:_a((function(e){var t=e.directives,n=e.operationTypes;return Sa(["schema",Sa(t," "),Aa(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:_a((function(e){return Sa(["scalar",e.name,Sa(e.directives," ")]," ")})),ObjectTypeDefinition:_a((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Sa(["type",t,wa("implements ",Sa(n," & ")),Sa(r," "),Aa(i)]," ")})),FieldDefinition:_a((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(Ra(n)?wa("(\n",Ta(Sa(n,"\n")),"\n)"):wa("(",Sa(n,", "),")"))+": "+r+wa(" ",Sa(i," "))})),InputValueDefinition:_a((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return Sa([t+": "+n,wa("= ",r),Sa(i," ")]," ")})),InterfaceTypeDefinition:_a((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Sa(["interface",t,wa("implements ",Sa(n," & ")),Sa(r," "),Aa(i)]," ")})),UnionTypeDefinition:_a((function(e){var t=e.name,n=e.directives,r=e.types;return Sa(["union",t,Sa(n," "),r&&0!==r.length?"= "+Sa(r," | "):""]," ")})),EnumTypeDefinition:_a((function(e){var t=e.name,n=e.directives,r=e.values;return Sa(["enum",t,Sa(n," "),Aa(r)]," ")})),EnumValueDefinition:_a((function(e){return Sa([e.name,Sa(e.directives," ")]," ")})),InputObjectTypeDefinition:_a((function(e){var t=e.name,n=e.directives,r=e.fields;return Sa(["input",t,Sa(n," "),Aa(r)]," ")})),DirectiveDefinition:_a((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(Ra(n)?wa("(\n",Ta(Sa(n,"\n")),"\n)"):wa("(",Sa(n,", "),")"))+(r?" repeatable":"")+" on "+Sa(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return Sa(["extend schema",Sa(t," "),Aa(n)]," ")},ScalarTypeExtension:function(e){return Sa(["extend scalar",e.name,Sa(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Sa(["extend type",t,wa("implements ",Sa(n," & ")),Sa(r," "),Aa(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Sa(["extend interface",t,wa("implements ",Sa(n," & ")),Sa(r," "),Aa(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return Sa(["extend union",t,Sa(n," "),r&&0!==r.length?"= "+Sa(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return Sa(["extend enum",t,Sa(n," "),Aa(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return Sa(["extend input",t,Sa(n," "),Aa(r)]," ")}};function _a(e){return function(t){return Sa([t.description,e(t)],"\n")}}function Sa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function Aa(e){return wa("{\n",Ta(Sa(e,"\n")),"\n}")}function wa(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function Ta(e){return wa("  ",e.replace(/\n/g,"\n  "))}function Ca(e){return-1!==e.indexOf("\n")}function Ra(e){return null!=e&&e.some(Ca)}var Ia=Qo?new WeakMap:void 0,Oa=function(e){var t;return(t=null==Ia?void 0:Ia.get(e))||(t=function(e){return Ho(e,{leave:Ea})}(e),null==Ia||Ia.set(e,t)),t},ka={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Na=function(e,t){return t(e)};function xa(e){return new io((function(t){t.error(e)}))}var Pa=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),Da={kind:Pa.FIELD,name:{kind:Pa.NAME,value:"__typename"}};function La(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===Pa.FRAGMENT_SPREAD&&La(t[e.name.value],t)}))}function Ma(e){return La(So(e)||function(e){Di("Document"===e.kind,75),Di(e.definitions.length<=1,76);var t=e.definitions[0];return Di("FragmentDefinition"===t.kind,77),t}(e),so(wo(e)))?null:e}function Fa(e){var t=new Map;return function(n){void 0===n&&(n=e);var r=t.get(n);return r||t.set(n,r={variables:new Set,fragmentSpreads:new Set}),r}}function Ua(e,t){_o(t);for(var n=Fa(""),r=Fa(""),i=function(e){for(var t=0,i=void 0;t<e.length&&(i=e[t]);++t)if(!oa(i)){if(i.kind===Pa.OPERATION_DEFINITION)return n(i.name&&i.name.value);if(i.kind===Pa.FRAGMENT_DEFINITION)return r(i.name.value)}return!1!==globalThis.__DEV__&&Di.error(80),null},o=0,a=t.definitions.length-1;a>=0;--a)t.definitions[a].kind===Pa.OPERATION_DEFINITION&&++o;var s,c,l,u=(s=e,c=new Map,l=new Map,s.forEach((function(e){e&&(e.name?c.set(e.name,e):e.test&&l.set(e.test,e))})),function(e){var t=c.get(e.name.value);return!t&&l.size&&l.forEach((function(n,r){r(e)&&(t=n)})),t}),d=function(e){return aa(e)&&e.map(u).some((function(e){return e&&e.remove}))},h=new Map,p=!1,f={enter:function(e){if(d(e.directives))return p=!0,null}},m=Ho(t,{Field:f,InlineFragment:f,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,n,r,o){var a=i(o);a&&a.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,n,r,o){if(d(e.directives))return p=!0,null;var a=i(o);a&&a.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,n,r){h.set(JSON.stringify(r),e)},leave:function(e,t,n,i){return e===h.get(JSON.stringify(i))?e:o>0&&e.selectionSet.selections.every((function(e){return e.kind===Pa.FIELD&&"__typename"===e.name.value}))?(r(e.name.value).removed=!0,p=!0,null):void 0}},Directive:{leave:function(e){if(u(e))return p=!0,null}}});if(!p)return t;var v=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(t){v(r(t)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},g=new Set;m.definitions.forEach((function(e){e.kind===Pa.OPERATION_DEFINITION?v(n(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){g.add(e)})):e.kind!==Pa.FRAGMENT_DEFINITION||0!==o||r(e.name.value).removed||g.add(e.name.value)})),g.forEach((function(e){v(r(e)).fragmentSpreads.forEach((function(e){g.add(e)}))}));var y={enter:function(e){if(t=e.name.value,!g.has(t)||r(t).removed)return null;var t}};return Ma(Ho(m,{FragmentSpread:y,FragmentDefinition:y,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=v(n(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return pi(pi({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}var ja=Object.assign((function(e){return Ho(e,{SelectionSet:{enter:function(e,t,n){if(!n||n.kind!==Pa.OPERATION_DEFINITION){var r=e.selections;if(r&&!r.some((function(e){return Eo(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(Eo(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return pi(pi({},e),{selections:gi(gi([],r,!0),[Da],!1)})}}}}})}),{added:function(e){return e===Da}});function Va(e){return"query"===Co(e).operation?e:Ho(e,{OperationDefinition:{enter:function(e){return pi(pi({},e),{operation:"query"})}}})}function Ba(e){return _o(e),Ua([{test:function(e){return"client"===e.name.value},remove:!0}],e)}var za=Ii((function(){return fetch})),Ga=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.print,o=void 0===i?Na:i,a=e.includeExtensions,s=e.preserveHeaderCase,c=e.useGETForQueries,l=e.includeUnusedVariables,u=void 0!==l&&l,d=fi(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&function(e){if(!e&&"undefined"==typeof fetch)throw Li(35)}(r||za);var h={http:{includeExtensions:a,preserveHeaderCase:s},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new No((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),a={};if(i.clientAwareness){var s=i.clientAwareness,l=s.name,d=s.version;l&&(a["apollographql-client-name"]=l),d&&(a["apollographql-client-version"]=d)}var p=pi(pi({},a),i.headers),f={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:p};if(Zo(["client"],e.query)){var m=Ba(e.query);if(!m)return xa(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=m}var v,g,y,b,E,_=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach((function(e){i=pi(pi(pi({},i),e.options),{headers:pi(pi({},i.headers),e.headers)}),e.credentials&&(i.credentials=e.credentials),o=pi(pi({},o),e.http)})),i.headers&&(i.headers=function(e,t){if(!t){var n=Object.create(null);return Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]=e[t]})),n}var r=Object.create(null);Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]={originalName:t,value:e[t]}}));var i=Object.create(null);return Object.keys(r).forEach((function(e){i[r[e].originalName]=r[e].value})),i}(i.headers,o.preserveHeaderCase));var a=e.operationName,s=e.extensions,c=e.variables,l=e.query,u={operationName:a,variables:c};return o.includeExtensions&&(u.extensions=s),o.includeQuery&&(u.query=t(l,Oa)),{options:i,body:u}}(e,o,ka,h,f),S=_.options,A=_.body;A.variables&&!u&&(A.variables=(v=A.variables,g=e.query,y=pi({},v),b=new Set(Object.keys(v)),Ho(g,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&b.delete(e.name.value)}}),b.forEach((function(e){delete y[e]})),y)),S.signal||"undefined"==typeof AbortController||(E=new AbortController,S.signal=E.signal);var w,T="OperationDefinition"===(w=Co(e.query)).kind&&"subscription"===w.operation,C=Zo(["defer"],e.query);if(c&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(S.method="GET"),C||T){S.headers=S.headers||{};var R="multipart/mixed;";T&&C&&!1!==globalThis.__DEV__&&Di.warn(36),T?R+="boundary=graphql;subscriptionSpec=1.0,application/json":C&&(R+="deferSpec=20220824,application/json"),S.headers.accept=R}if("GET"===S.method){var I=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=Yo(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=Yo(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",o)}var a="",s=e,c=e.indexOf("#");-1!==c&&(a=e.substr(c),s=e.substr(0,c));var l=-1===s.indexOf("?")?"?":"&";return{newURI:s+l+n.join("&")+a}}(t,A),O=I.newURI,k=I.parseError;if(k)return xa(k);t=O}else try{S.body=Yo(A,"Payload")}catch(k){return xa(k)}return new io((function(n){var i=r||Ii((function(){return fetch}))||za,o=n.next.bind(n);return i(t,S).then((function(t){var n;e.setContext({response:t});var r,i=null===(n=t.headers)||void 0===n?void 0:n.get("content-type");return null!==i&&/^multipart\/mixed/i.test(i)?function(e,t){var n;return mi(this,void 0,void 0,(function(){var r,i,o,a,s,c,l,u,d,h,p,f,m,v,g,y,b,E,_,S,A,w,T;return vi(this,(function(C){switch(C.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),i=null===(n=e.headers)||void 0===n?void 0:n.get("content-type"),o="boundary=",a=(null==i?void 0:i.includes(o))?null==i?void 0:i.substring((null==i?void 0:i.indexOf(o))+9).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s="\r\n--".concat(a),c="",l=ta(e),u=!0,C.label=1;case 1:return u?[4,l.next()]:[3,3];case 2:for(d=C.sent(),h=d.value,p=d.done,f="string"==typeof h?h:r.decode(h),m=c.length-s.length+1,u=!p,v=(c+=f).indexOf(s,m);v>-1;){if(g=void 0,w=[c.slice(0,v),c.slice(v+s.length)],c=w[1],y=(g=w[0]).indexOf("\r\n\r\n"),b=va(g.slice(0,y)),(E=b["content-type"])&&-1===E.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(_=g.slice(y))if(S=ga(e,_),Object.keys(S).length>1||"data"in S||"incremental"in S||"errors"in S||"payload"in S)pa(S)?(A={},"payload"in S&&(A=pi({},S.payload)),"errors"in S&&(A=pi(pi({},A),{extensions:pi(pi({},"extensions"in A?A.extensions:null),(T={},T[ra]=S.errors,T))})),t(A)):t(S);else if(1===Object.keys(S).length&&"hasNext"in S&&!S.hasNext)return[2];v=c.indexOf(s)}return[3,1];case 3:return[2]}}))}))}(t,o):(r=e,function(e){return e.text().then((function(t){return ga(e,t)})).then((function(t){return e.status>=300&&na(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||ma.call(t,"data")||ma.call(t,"errors")||na(e,t,"Server response was missing for query '".concat(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName,"'.")),t}))})(t).then(o)})).then((function(){E=void 0,n.complete()})).catch((function(e){E=void 0,function(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}(e,n)})),function(){E&&E.abort()}}))}))},Ha=No.execute,qa=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,Ga(t).request)||this;return n.options=t,n}return hi(t,e),t}(No);const{toString:Wa,hasOwnProperty:Za}=Object.prototype,Ka=Function.prototype.toString,Ya=new Map;function Qa(e,t){try{return Xa(e,t)}finally{Ya.clear()}}const Ja=Qa;function Xa(e,t){if(e===t)return!0;const n=Wa.call(e);if(n!==Wa.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(ns(e,t))return!0;const n=$a(e),r=$a(t),i=n.length;if(i!==r.length)return!1;for(let e=0;e<i;++e)if(!Za.call(t,n[e]))return!1;for(let r=0;r<i;++r){const i=n[r];if(!Xa(e[i],t[i]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(ns(e,t))return!0;const r=e.entries(),i="[object Map]"===n;for(;;){const e=r.next();if(e.done)break;const[n,o]=e.value;if(!t.has(n))return!1;if(i&&!Xa(o,t.get(n)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let n=e.byteLength;if(n===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const n=Ka.call(e);return n===Ka.call(t)&&!function(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(n,ts)}}return!1}function $a(e){return Object.keys(e).filter(es,e)}function es(e){return void 0!==this[e]}const ts="{ [native code] }";function ns(e,t){let n=Ya.get(e);if(n){if(n.has(t))return!0}else Ya.set(e,n=new Set);return n.add(t),!1}const rs=()=>Object.create(null),{forEach:is,slice:os}=Array.prototype,{hasOwnProperty:as}=Object.prototype;class ss{constructor(e=!0,t=rs){this.weakness=e,this.makeData=t}lookup(...e){return this.lookupArray(e)}lookupArray(e){let t=this;return is.call(e,(e=>t=t.getChildTrie(e))),as.call(t,"data")?t.data:t.data=this.makeData(os.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let t=this;for(let n=0,r=e.length;t&&n<r;++n){const r=this.weakness&&cs(e[n])?t.weak:t.strong;t=r&&r.get(e[n])}return t&&t.data}getChildTrie(e){const t=this.weakness&&cs(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let n=t.get(e);return n||t.set(e,n=new ss(this.weakness,this.makeData)),n}}function cs(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}var ls,us,ds=function(){function e(){this.known=new(Jo?WeakSet:Set),this.pool=new ss(Qo),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return oo(e)&&this.known.has(e)},e.prototype.pass=function(e){if(oo(e)){var t=function(e){return oo(e)?oa(e)?e.slice(0):pi({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(oo(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(s=this.pool.lookupArray(r)).array||(this.known.add(s.array=r),!1!==globalThis.__DEV__&&Object.freeze(r)),s.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],a=this.sortedKeys(e);o.push(a.json);var s,c=o.length;if(a.sorted.forEach((function(n){o.push(t.admit(e[n]))})),!(s=this.pool.lookupArray(o)).object){var l=s.object=Object.create(i);this.known.add(l),a.sorted.forEach((function(e,t){l[e]=o[c+t]})),!1!==globalThis.__DEV__&&Object.freeze(l)}return s.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),hs=Object.assign((function(e){if(oo(e)){void 0===ls&&ps();var t=ls.admit(e),n=us.get(t);return void 0===n&&us.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:ps});function ps(){ls=new ds,us=new(Qo?WeakMap:Map)}function fs(e){return e}var ms=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=Jo?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),!1!==t.cache&&(this.stableCacheKeys=new ss(Qo,(function(e){return{key:e}})))}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(fs,{cache:!1})},e.split=function(t,n,r){return void 0===r&&(r=e.identity()),new e((function(e){return(t(e)?n:r).transformDocument(e)}),{cache:!1})},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.getStableCacheEntry(e);if(t&&t.value)return t.value;_o(e);var n=this.transform(e);return this.resultCache.add(n),t&&(t.value=n),n},e.prototype.concat=function(t){var n=this;return new e((function(e){return t.transformDocument(n.transformDocument(e))}),{cache:!1})},e.prototype.getStableCacheEntry=function(e){if(this.stableCacheKeys){var t=this.getCacheKey(e);return t?(Di(Array.isArray(t),63),this.stableCacheKeys.lookupArray(t)):void 0}},e}();function vs(e,t,n){return new io((function(r){var i=r.next,o=r.error,a=r.complete,s=0,c=!1,l={then:function(e){return new Promise((function(t){return t(e())}))}};function u(e,t){return e?function(t){++s;var n=function(){return e(t)};l=l.then(n,n).then((function(e){--s,i&&i.call(r,e),c&&d.complete()}),(function(e){throw--s,e})).catch((function(e){o&&o.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var d={next:u(t,i),error:u(n,o),complete:function(){c=!0,s||a&&a.call(r)}},h=e.subscribe(d);return function(){return h.unsubscribe()}}))}function gs(e){return aa(ys(e))}function ys(e){var t=aa(e.errors)?e.errors.slice(0):[];return ha(e)&&aa(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}function bs(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function Es(e){function t(t){Object.defineProperty(e,t,{value:io})}return Xo&&Symbol.species&&t(Symbol.species),t("@@species"),e}function _s(e){return e&&"function"==typeof e.then}var Ss,As=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],n.notify("next",e),bs(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),n.notify("error",e),bs(n.observers,"error",e))},complete:function(){var e=n,t=e.sub,r=e.sources;if(null!==t){var i=(void 0===r?[]:r).shift();i?_s(i)?i.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=i.subscribe(n.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),bs(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new io(t)]),_s(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return hi(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach((function(n){return n(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(n,r){t||(t=!0,e(n,r))}))},t}(io);function ws(e){return!!e&&e<7}function Ts(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}Es(As),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Ss||(Ss={}));var Cs=Object.prototype.toString;function Rs(e){return Is(e)}function Is(e,t){switch(Cs.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=Is(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=Is(e[n],t)})),r;default:return e}}function Os(e,t,n,r){var i=t.data,o=fi(t,["data"]),a=n.data,s=fi(n,["data"]);return Ja(o,s)&&ks(Co(e).selectionSet,i,a,{fragmentMap:so(wo(e)),variables:r})}function ks(e,t,n,r){if(t===n)return!0;var i=new Set;return e.selections.every((function(e){if(i.has(e))return!0;if(i.add(e),!Wo(e,r.variables))return!0;if(Ns(e))return!0;if(Eo(e)){var o=yo(e),a=t&&t[o],s=n&&n[o],c=e.selectionSet;if(!c)return Ja(a,s);var l=Array.isArray(a),u=Array.isArray(s);if(l!==u)return!1;if(l&&u){var d=a.length;if(s.length!==d)return!1;for(var h=0;h<d;++h)if(!ks(c,a[h],s[h],r))return!1;return!0}return ks(c,a,s,r)}var p=co(e,r.fragmentMap);return p?!!Ns(p)||ks(p.selectionSet,t,n,r):void 0}))}function Ns(e){return!!e.directives&&e.directives.some(xs)}function xs(e){return"nonreactive"===e.name.value}var Ps=Object.assign,Ds=Object.hasOwnProperty,Ls=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,i=t.options,o=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=Fs)}catch(e){}var n=!o.observers.size;o.observers.add(e);var r=o.last;return r&&r.error?e.error&&e.error(r.error):r&&r.result&&e.next&&e.next(r.result),n&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.queryInfo=r,o.queryManager=n,o.waitForOwnResult=js(i.fetchPolicy),o.isTornDown=!1;var a=n.defaultOptions.watchQuery,s=(void 0===a?{}:a).fetchPolicy,c=void 0===s?"cache-first":s,l=i.fetchPolicy,u=void 0===l?c:l,d=i.initialFetchPolicy,h=void 0===d?"standby"===u?c:u:d;o.options=pi(pi({},i),{initialFetchPolicy:h,fetchPolicy:u}),o.queryId=r.queryId||n.generateQueryId();var p=So(o.query);return o.queryName=p&&p.name&&p.name.value,o}return hi(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||Ss.ready,r=pi(pi({},t),{loading:ws(n),networkStatus:n}),i=this.options.fetchPolicy,o=void 0===i?"cache-first":i;if(js(o)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(r.data=a.result),Qa(r.data,{})&&(r.data=void 0),a.complete?(delete r.partial,!a.complete||r.networkStatus!==Ss.loading||"cache-first"!==o&&"cache-only"!==o||(r.networkStatus=Ss.ready,r.loading=!1)):r.partial=!0,!1===globalThis.__DEV__||a.complete||this.options.partialRefetch||r.loading||r.data||r.error||Us(a.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e,t){return!this.last||(this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!Os(this.query,this.last.result,e,this.variables):!Qa(this.last.result,e))||t&&!Qa(this.last.variables,t)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||Qa(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",!1!==globalThis.__DEV__&&e&&Ds.call(e,"variables")){var i=To(this.query),o=i.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||!1!==globalThis.__DEV__&&Di.warn(18,e,(null===(t=i.name)||void 0===t?void 0:t.value)||i)}return e&&!Qa(this.options.variables,e)&&(n.variables=this.options.variables=pi(pi({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,Ss.refetch)},t.prototype.fetchMore=function(e){var t=this,n=pi(pi({},e.query?e:pi(pi(pi(pi({},this.options),{query:this.options.query}),e),{variables:pi(pi({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});n.query=this.transformDocument(n.query);var r=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):n.query;var i=this.queryInfo,o=i.networkStatus;i.networkStatus=Ss.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var a=new Set;return this.queryManager.fetchQuery(r,n,Ss.fetchMore).then((function(s){return t.queryManager.removeQuery(r),i.networkStatus===Ss.fetchMore&&(i.networkStatus=o),t.queryManager.cache.batch({update:function(r){var i=e.updateQuery;i?r.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return i(e,{fetchMoreResult:s.data,variables:n.variables})})):r.writeQuery({query:n.query,variables:n.variables,data:s.data})},onWatchUpdated:function(e){a.add(e.query)}}),s})).finally((function(){a.has(t.query)||Ms(t)}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&Di.error(19,t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=Ts(this.options,e||{});Ps(this.options,t)},t.prototype.setVariables=function(e){return Qa(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},Ss.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var n=t.fetchPolicy,r=void 0===n?"cache-first":n,i=t.initialFetchPolicy,o=void 0===i?r:i;"standby"===r||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(r,{reason:e,options:t,observable:this,initialFetchPolicy:o}):t.fetchPolicy="variables-changed"===e?o:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){Di(n,20),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(ws(e.queryInfo.networkStatus)?i():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},Ss.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){void 0===t&&(t=this.variables);var n=this.getLastError();return n&&this.last&&!Qa(t,this.last.variables)&&(n=void 0),this.last=pi({result:this.queryManager.assumeImmutableResults?e:Rs(e),variables:t},n?{error:n}:null)},t.prototype.reobserveAsConcast=function(e,t){var n=this;this.isTornDown=!1;var r=t===Ss.refetch||t===Ss.fetchMore||t===Ss.poll,i=this.options.variables,o=this.options.fetchPolicy,a=Ts(this.options,e||{}),s=r?a:Ps(this.options,a),c=this.transformDocument(s.query);this.lastQuery=c,r||(this.updatePolling(),e&&e.variables&&!Qa(e.variables,i)&&"standby"!==s.fetchPolicy&&s.fetchPolicy===o&&(this.applyNextFetchPolicy("variables-changed",s),void 0===t&&(t=Ss.setVariables)));var l=c===s.query?s:pi(pi({},s),{query:c});this.waitForOwnResult&&(this.waitForOwnResult=js(l.fetchPolicy));var u=function(){n.concast===p&&(n.waitForOwnResult=!1)},d=l.variables&&pi({},l.variables),h=this.fetch(l,t),p=h.concast,f=h.fromLink,m={next:function(e){u(),n.reportResult(e,d)},error:function(e){u(),n.reportError(e,d)}};return r||!f&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=p,this.observer=m),p.addObserver(m),p},t.prototype.reobserve=function(e,t){return this.reobserveAsConcast(e,t).promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this.getLastError(),r=this.isDifferentFromLastResult(e,t);(n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(n||r)&&bs(this.observers,"next",e)},t.prototype.reportError=function(e,t){var n=pi(pi({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Ss.error,loading:!1});this.updateLastResult(n,t),bs(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t}(io);function Ms(e){var t=e.options,n=t.fetchPolicy,r=t.nextFetchPolicy;return"cache-and-network"===n||"network-only"===n?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,"function"==typeof r?r.apply(this,arguments):n}}):e.reobserve()}function Fs(e){!1!==globalThis.__DEV__&&Di.error(21,e.message,e.stack)}function Us(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&Di.debug(22,e)}function js(e){return"network-only"===e||"no-cache"===e||"standby"===e}function Vs(e){return e.kind===Pa.FIELD||e.kind===Pa.FRAGMENT_SPREAD||e.kind===Pa.INLINE_FRAGMENT}function Bs(){}Es(Ls);class zs{constructor(e=1/0,t=Bs){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}let Gs=null;const Hs={};let qs=1;function Ws(e){try{return e()}catch(e){}}const Zs="@wry/context:Slot",Ks=Ws((()=>globalThis))||Ws((()=>global))||Object.create(null),Ys=Ks[Zs]||Array[Zs]||function(e){try{Object.defineProperty(Ks,Zs,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",qs++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Gs;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===Hs)break;return e!==Gs&&(Gs.slots[this.id]=t),!0}return Gs&&(Gs.slots[this.id]=Hs),!1}getValue(){if(this.hasValue())return Gs.slots[this.id]}withValue(e,t,n,r){const i={__proto__:null,[this.id]:e},o=Gs;Gs={parent:o,slots:i};try{return t.apply(r,n)}finally{Gs=o}}static bind(e){const t=Gs;return function(){const n=Gs;try{return Gs=t,e.apply(this,arguments)}finally{Gs=n}}}static noContext(e,t,n){if(!Gs)return e.apply(n,t);{const r=Gs;try{return Gs=null,e.apply(n,t)}finally{Gs=r}}}}),{bind:Qs,noContext:Js}=Ys,Xs=new Ys,{hasOwnProperty:$s}=Object.prototype,ec=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function tc(e){const{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}const nc=[],rc=100;function ic(e,t){if(!e)throw new Error(t||"assertion failure")}function oc(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}class ac{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++ac.count}peek(){if(1===this.value.length&&!lc(this))return sc(this),this.value[0]}recompute(e){return ic(!this.recomputing,"already recomputing"),sc(this),lc(this)?function(e,t){return vc(e),Xs.withValue(e,cc,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{tc(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){e.dirty=!1,lc(e)||dc(e)}(e),oc(e.value)}(this,e):oc(this.value)}setDirty(){this.dirty||(this.dirty=!0,this.value.length=0,uc(this),tc(this))}dispose(){this.setDirty(),vc(this),hc(this,((e,t)=>{e.setDirty(),gc(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=nc.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(ec(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),nc.push(this.deps),this.deps=null)}}function sc(e){const t=Xs.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),lc(e)?pc(t,e):fc(t,e),t}function cc(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function lc(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function uc(e){hc(e,pc)}function dc(e){hc(e,fc)}function hc(e,t){const n=e.parents.size;if(n){const r=ec(e.parents);for(let i=0;i<n;++i)t(r[i],e)}}function pc(e,t){ic(e.childValues.has(t)),ic(lc(t));const n=!lc(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=nc.pop()||new Set;e.dirtyChildren.add(t),n&&uc(e)}function fc(e,t){ic(e.childValues.has(t)),ic(!lc(t));const n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),mc(e,t),lc(e)||dc(e)}function mc(e,t){const n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(nc.length<rc&&nc.push(n),e.dirtyChildren=null))}function vc(e){e.childValues.size>0&&e.childValues.forEach(((t,n)=>{gc(e,n)})),e.forgetDeps(),ic(null===e.dirtyChildren)}function gc(e,t){t.parents.delete(e),e.childValues.delete(t),mc(e,t)}ac.count=0;const yc={setDirty:!0,dispose:!0,forget:!0};function bc(e){const t=new Map,n=e&&e.subscribe;function r(e){const r=Xs.getValue();if(r){let i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(tc(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){const r=t.get(e);if(r){const i=n&&$s.call(yc,n)?n:"setDirty";ec(r).forEach((e=>e[i]())),t.delete(e),tc(r)}},r}let Ec;function _c(...e){return(Ec||(Ec=new ss("function"==typeof WeakMap))).lookupArray(e)}const Sc=new Set;function Ac(e,{max:t=Math.pow(2,16),makeCacheKey:n=_c,keyArgs:r,subscribe:i}=Object.create(null)){const o=new zs(t,(e=>e.dispose())),a=function(){const t=n.apply(null,r?r.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let a=o.get(t);a||(o.set(t,a=new ac(e)),a.subscribe=i,a.forget=()=>o.delete(t));const s=a.recompute(Array.prototype.slice.call(arguments));return o.set(t,a),Sc.add(o),Xs.hasValue()||(Sc.forEach((e=>e.clean())),Sc.clear()),s};function s(e){const t=o.get(e);t&&t.setDirty()}function c(e){const t=o.get(e);if(t)return t.peek()}function l(e){return o.delete(e)}return Object.defineProperty(a,"size",{get:()=>o.map.size,configurable:!1,enumerable:!1}),Object.freeze(a.options={max:t,makeCacheKey:n,keyArgs:r,subscribe:i}),a.dirtyKey=s,a.dirty=function(){s(n.apply(null,arguments))},a.peekKey=c,a.peek=function(){return c(n.apply(null,arguments))},a.forgetKey=l,a.forget=function(){return l(n.apply(null,arguments))},a.makeCacheKey=n,a.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(a)}var wc=new Ys,Tc=new WeakMap;function Cc(e){var t=Tc.get(e);return t||Tc.set(e,t={vars:new Set,dep:bc()}),t}function Rc(e){Cc(e).vars.forEach((function(t){return t.forgetCache(e)}))}function Ic(e){var t=new Set,n=new Set,r=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){Cc(e).dep.dirty(r),function(e){e.broadcastWatches&&e.broadcastWatches()}(e)}));var a=Array.from(n);n.clear(),a.forEach((function(t){return t(e)}))}}else{var s=wc.getValue();s&&(i(s),Cc(s).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),Cc(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}var Oc=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=ca(t.resolvers,e)})):this.resolvers=ca(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return mi(this,void 0,void 0,(function(){return vi(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,a).then((function(e){return pi(pi({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Zo(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return Ba(e)},e.prototype.prepareContext=function(e){var t=this.cache;return pi(pi({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),mi(this,void 0,void 0,(function(){return vi(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return pi(pi({},t),e.exportedVariables)}))]:[2,pi({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Ho(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return Go}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Va(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,o){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),mi(this,void 0,void 0,(function(){var a,s,c,l,u,d,h,p,f,m;return vi(this,(function(v){return a=Co(e),s=wo(e),c=so(s),l=this.collectSelectionsToResolve(a,c),u=a.operation,d=u?u.charAt(0).toUpperCase()+u.slice(1):"Query",p=(h=this).cache,f=h.client,m={fragmentMap:c,context:pi(pi({},n),{cache:p,client:f}),variables:r,fragmentMatcher:i,defaultOperationType:d,exportedVariables:{},selectionsToResolve:l,onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(a.selectionSet,!1,t,m).then((function(e){return{result:e,exportedVariables:m.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n,r){return mi(this,void 0,void 0,(function(){var i,o,a,s,c,l=this;return vi(this,(function(u){return i=r.fragmentMap,o=r.context,a=r.variables,s=[n],c=function(e){return mi(l,void 0,void 0,(function(){var c,l;return vi(this,(function(u){return(t||r.selectionsToResolve.has(e))&&Wo(e,a)?Eo(e)?[2,this.resolveField(e,t,n,r).then((function(t){var n;void 0!==t&&s.push(((n={})[yo(e)]=t,n))}))]:(function(e){return"InlineFragment"===e.kind}(e)?c=e:(c=i[e.name.value],Di(c,16,e.name.value)),c&&c.typeCondition&&(l=c.typeCondition.name.value,r.fragmentMatcher(n,l,o))?[2,this.resolveSelectionSet(c.selectionSet,t,n,r).then((function(e){s.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(c)).then((function(){return la(s)}))]}))}))},e.prototype.resolveField=function(e,t,n,r){return mi(this,void 0,void 0,(function(){var i,o,a,s,c,l,u,d,h,p=this;return vi(this,(function(f){return n?(i=r.variables,o=e.name.value,a=yo(e),s=o!==a,c=n[a]||n[o],l=Promise.resolve(c),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=n.__typename||r.defaultOperationType,(d=this.resolvers&&this.resolvers[u])&&(h=d[s?o:a])&&(l=Promise.resolve(wc.withValue(this.cache,h,[n,go(e,i),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,l.then((function(n){var i,o;if(void 0===n&&(n=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(r.exportedVariables[e.value.value]=n)}))})),!e.selectionSet)return n;if(null==n)return n;var a=null!==(o=null===(i=e.directives)||void 0===i?void 0:i.some((function(e){return"client"===e.name.value})))&&void 0!==o&&o;return Array.isArray(n)?p.resolveSubSelectedArray(e,t||a,n,r):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t||a,n,r):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n,r){var i=this;return Promise.all(n.map((function(n){return null===n?null:Array.isArray(n)?i.resolveSubSelectedArray(e,t,n,r):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,n,r):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var n=function(e){return!Array.isArray(e)},r=this.selectionsToResolveCache;return function e(i){if(!r.has(i)){var o=new Set;r.set(i,o),Ho(i,{Directive:function(e,t,r,i,a){"client"===e.name.value&&a.forEach((function(e){n(e)&&Vs(e)&&o.add(e)}))},FragmentSpread:function(r,i,a,s,c){var l=t[r.name.value];Di(l,17,r.name.value);var u=e(l);u.size>0&&(c.forEach((function(e){n(e)&&Vs(e)&&o.add(e)})),o.add(r),u.forEach((function(e){o.add(e)})))}})}return r.get(i)}(e)},e}(),kc=new(Qo?WeakMap:Map);function Nc(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return kc.set(e,(kc.get(e)+1)%1e15),n.apply(this,arguments)})}function xc(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Pc=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;kc.has(n)||(kc.set(n,0),Nc(n,"evict"),Nc(n,"modify"),Nc(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||Ss.loading;return this.variables&&this.networkStatus!==Ss.loading&&!Qa(this.variables,e.variables)&&(t=Ss.setVariables),Qa(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){xc(this),this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&Qa(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||Qa(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():Ms(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;xc(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(ws(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=pi(pi({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&Qa(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===kc.get(this.cache)&&Qa(t,n.variables)&&Qa(e.data,n.result.data))},e.prototype.markResult=function(e,t,n,r){var i=this,o=new da,a=aa(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&aa(e.incremental)){var s=fa(this.getDiff().result,e);e.data=s}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=o.merge(c.result,e.data)}this.graphQLErrors=a,"no-cache"===n.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):0!==r&&(Dc(e,n.errorPolicy)?this.cache.performTransaction((function(o){if(i.shouldWrite(e,n.variables))o.writeQuery({query:t,data:e.data,variables:n.variables,overwrite:1===r}),i.lastWrite={result:e,variables:n.variables,dmCount:kc.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var a=i.getDiffOptions(n.variables),s=o.diff(a);i.stopped||i.updateWatch(n.variables),i.updateLastDiff(s,a),s.complete&&(e.data=s.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Ss.ready},e.prototype.markError=function(e){return this.networkStatus=Ss.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function Dc(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!gs(e);return!r&&n&&e.data&&(r=!0),r}var Lc=Object.prototype.hasOwnProperty,Mc=function(){function e(e){var t=e.cache,n=e.link,r=e.defaultOptions,i=e.documentTransform,o=e.queryDeduplication,a=void 0!==o&&o,s=e.onBroadcast,c=e.ssrMode,l=void 0!==c&&c,u=e.clientAwareness,d=void 0===u?{}:u,h=e.localState,p=e.assumeImmutableResults,f=void 0===p?!!t.assumeImmutableResults:p,m=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Qo?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map;var v=new ms((function(e){return m.cache.transformDocument(e)}),{cache:!1});this.cache=t,this.link=n,this.defaultOptions=r||Object.create(null),this.queryDeduplication=a,this.clientAwareness=d,this.localState=h||new Oc({cache:t}),this.ssrMode=l,this.assumeImmutableResults=f,this.documentTransform=i?v.concat(i).concat(v):v,(this.onBroadcast=s)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(Li(23))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t,n,r=e.mutation,i=e.variables,o=e.optimisticResponse,a=e.updateQueries,s=e.refetchQueries,c=void 0===s?[]:s,l=e.awaitRefetchQueries,u=void 0!==l&&l,d=e.update,h=e.onQueryUpdated,p=e.fetchPolicy,f=void 0===p?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":p,m=e.errorPolicy,v=void 0===m?(null===(n=this.defaultOptions.mutate)||void 0===n?void 0:n.errorPolicy)||"none":m,g=e.keepRootFields,y=e.context;return mi(this,void 0,void 0,(function(){var e,t,n,s;return vi(this,(function(l){switch(l.label){case 0:return Di(r,24),Di("network-only"===f||"no-cache"===f,25),e=this.generateMutationId(),r=this.cache.transformForLink(this.transform(r)),t=this.getDocumentInfo(r).hasClientExports,i=this.getVariables(r,i),t?[4,this.localState.addExportedVariables(r,i,y)]:[3,2];case 1:i=l.sent(),l.label=2;case 2:return n=this.mutationStore&&(this.mutationStore[e]={mutation:r,variables:i,loading:!0,error:null}),o&&this.markMutationOptimistic(o,{mutationId:e,document:r,variables:i,fetchPolicy:f,errorPolicy:v,context:y,updateQueries:a,update:d,keepRootFields:g}),this.broadcastQueries(),s=this,[2,new Promise((function(t,l){return vs(s.getObservableFromLink(r,pi(pi({},y),{optimisticResponse:o}),i,!1),(function(t){if(gs(t)&&"none"===v)throw new ia({graphQLErrors:ys(t)});n&&(n.loading=!1,n.error=null);var l=pi({},t);return"function"==typeof c&&(c=c(l)),"ignore"===v&&gs(l)&&delete l.errors,s.markMutationResult({mutationId:e,result:l,document:r,variables:i,fetchPolicy:f,errorPolicy:v,context:y,update:d,updateQueries:a,awaitRefetchQueries:u,refetchQueries:c,removeOptimistic:o?e:void 0,onQueryUpdated:h,keepRootFields:g})})).subscribe({next:function(e){s.broadcastQueries(),"hasNext"in e&&!1!==e.hasNext||t(e)},error:function(t){n&&(n.loading=!1,n.error=t),o&&s.cache.removeOptimistic(e),s.broadcastQueries(),l(t instanceof ia?t:new ia({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,i=[],o="no-cache"===e.fetchPolicy;if(!o&&Dc(r,e.errorPolicy)){if(ha(r)||i.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),ha(r)&&aa(r.incremental)){var a=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),s=void 0;a.result&&(s=fa(a.result,r)),void 0!==s&&(r.data=s,i.push({result:s,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach((function(e,o){var a=e.observableQuery,s=a&&a.queryName;if(s&&Lc.call(c,s)){var l=c[s],u=n.queries.get(o),d=u.document,h=u.variables,p=t.diff({query:d,variables:h,returnPartialData:!0,optimistic:!1}),f=p.result;if(p.complete&&f){var m=l(f,{mutationResult:r,queryName:d&&Ao(d)||void 0,queryVariables:h});m&&i.push({result:m,dataId:"ROOT_QUERY",query:d,variables:h})}}}))}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var l=[];if(this.refetchQueries({updateCache:function(t){o||i.forEach((function(e){return t.write(e)}));var a,s=e.update,c=!(ha(a=r)||function(e){return"hasNext"in e&&"data"in e}(a))||ha(r)&&!r.hasNext;if(s){if(!o){var l=t.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});l.complete&&("incremental"in(r=pi(pi({},r),{data:l.result}))&&delete r.incremental,"hasNext"in r&&delete r.hasNext)}c&&s(t,r,{context:e.context,variables:e.variables})}o||e.keepRootFields||!c||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return l.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(l).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(pi(pi({},t),{result:{data:r}}),e)}catch(e){!1!==globalThis.__DEV__&&Di.error(e)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchConcastWithInfo(e,t,n).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var n={hasClientExports:Ko(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:Zo(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:Ua([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:Ro(So(e)),asQuery:pi(pi({},e),{definitions:e.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?pi(pi({},e),{operation:"query"}):e}))})};t.set(e,n)}return t.get(e)},e.prototype.getVariables=function(e,t){return pi(pi({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);void 0===(e=pi(pi({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=new Pc(this),r=new Ls({queryManager:this,queryInfo:n,options:e});return r.lastQuery=t,this.queries.set(r.queryId,n),n.init({document:t,observableQuery:r,variables:r.variables}),r},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),Di(e.query,26),Di("Document"===e.query.kind,27),Di(!e.returnPartialData,28),Di(!e.pollInterval,29),this.fetchQuery(t,pi(pi({},e),{query:this.transform(e.query)})).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(Li(30)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Ss.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"==typeof e?r.set(e,!1):oo(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e),!1):oo(e)&&e.query&&i.add(e)})),this.queries.forEach((function(t,i){var o=t.observableQuery,a=t.document;if(o){if("all"===e)return void n.set(i,o);var s=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||s&&r.has(s)||a&&r.has(a))&&(n.set(i,o),s&&r.set(s,!0),a&&r.set(a,!0))}})),i.size&&i.forEach((function(e){var r=Ni("legacyOneTimeQuery"),i=t.getQuery(r).init({document:e.query,variables:e.variables}),o=new Ls({queryManager:t,queryInfo:i,options:pi(pi({},e),{fetchPolicy:"network-only"})});Di(o.queryId===r),i.setObservableQuery(o),n.set(r,o)})),!1!==globalThis.__DEV__&&r.size&&r.forEach((function(e,t){e||!1!==globalThis.__DEV__&&Di.warn("string"==typeof t?31:32,t)})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,i){var o=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&n.push(r.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,o=e.variables,a=e.context,s=void 0===a?{}:a;n=this.transform(n),o=this.getVariables(n,o);var c=function(e){return t.getObservableFromLink(n,s,e).map((function(o){"no-cache"!==r&&(Dc(o,i)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var a=gs(o),s=function(e){return!!e.extensions&&Array.isArray(e.extensions[ra])}(o);if(a||s){var c={};throw a&&(c.graphQLErrors=o.errors),s&&(c.protocolErrors=o.extensions[ra]),new ia(c)}return o}))};if(this.getDocumentInfo(n).hasClientExports){var l=this.localState.addExportedVariables(n,o,s).then(c);return new io((function(e){var t=null;return l.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return c(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,o,a=this;void 0===r&&(r=null!==(i=null==t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var s=this.getDocumentInfo(e),c=s.serverQuery,l=s.clientQuery;if(c){var u=this.inFlightLinkObservables,d=this.link,h={query:c,variables:n,operationName:Ao(c)||void 0,context:this.prepareContext(pi(pi({},t),{forceFetch:!r}))};if(t=h.context,r){var p=Oa(c),f=u.get(p)||new Map;u.set(p,f);var m=hs(n);if(!(o=f.get(m))){var v=new As([Ha(d,h)]);f.set(m,o=v),v.beforeNext((function(){f.delete(m)&&f.size<1&&u.delete(p)}))}}else o=new As([Ha(d,h)])}else o=new As([io.of({data:{}})]),t=this.prepareContext(t);return l&&(o=vs(o,(function(e){return a.localState.runResolvers({document:l,remoteResult:e,context:t,variables:n})}))),o},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(n.query);return vs(this.getObservableFromLink(i,n.context,n.variables),(function(o){var a=ys(o),s=a.length>0;if(r>=e.lastRequestId){if(s&&"none"===n.errorPolicy)throw e.markError(new ia({graphQLErrors:a}));e.markResult(o,i,n,t),e.markReady()}var c={data:o.data,loading:!1,networkStatus:Ss.ready};return s&&"ignore"!==n.errorPolicy&&(c.errors=a,c.networkStatus=Ss.error),c}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new ia({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchConcastWithInfo=function(e,t,n){var r=this;void 0===n&&(n=Ss.loading);var i,o,a=t.query,s=this.getVariables(a,t.variables),c=this.getQuery(e),l=this.defaultOptions.watchQuery,u=t.fetchPolicy,d=void 0===u?l&&l.fetchPolicy||"cache-first":u,h=t.errorPolicy,p=void 0===h?l&&l.errorPolicy||"none":h,f=t.returnPartialData,m=void 0!==f&&f,v=t.notifyOnNetworkStatusChange,g=void 0!==v&&v,y=t.context,b=void 0===y?{}:y,E=Object.assign({},t,{query:a,variables:s,fetchPolicy:d,errorPolicy:p,returnPartialData:m,notifyOnNetworkStatusChange:g,context:b}),_=function(e){E.variables=e;var i=r.fetchQueryByPolicy(c,E,n);return"standby"!==E.fetchPolicy&&i.sources.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",t),i},S=function(){return r.fetchCancelFns.delete(e)};if(this.fetchCancelFns.set(e,(function(e){S(),setTimeout((function(){return i.cancel(e)}))})),this.getDocumentInfo(E.query).hasClientExports)i=new As(this.localState.addExportedVariables(E.query,E.variables,E.context).then(_).then((function(e){return e.sources}))),o=!0;else{var A=_(E.variables);o=A.fromLink,i=new As(A.sources)}return i.promise.then(S,S),{concast:i,fromLink:o}},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,i=e.optimistic,o=void 0!==i&&i,a=e.removeOptimistic,s=void 0===a?o?Ni("refetchQueries"):void 0:a,c=e.onQueryUpdated,l=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){l.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var u=new Map;return n&&this.cache.batch({update:n,optimistic:o&&s||!1,removeOptimistic:s,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof Pc&&e.watcher.observableQuery;if(r){if(c){l.delete(r.queryId);var i=c(r,t,n);return!0===i&&(i=r.refetch()),!1!==i&&u.set(r,i),i}null!==c&&l.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),l.size&&l.forEach((function(e,n){var r,i=e.oq,o=e.lastDiff,a=e.diff;if(c){if(!a){var s=i.queryInfo;s.reset(),a=s.getDiff()}r=c(i,a,o)}c&&!0!==r||(r=i.refetch()),!1!==r&&u.set(i,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),s&&this.cache.removeOptimistic(s),u},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,i=t.query,o=t.variables,a=t.fetchPolicy,s=t.refetchWritePolicy,c=t.errorPolicy,l=t.returnPartialData,u=t.context,d=t.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:i,variables:o,networkStatus:n});var p=function(){return e.getDiff(o)},f=function(t,n){void 0===n&&(n=e.networkStatus||Ss.loading);var a=t.result;!1===globalThis.__DEV__||l||Qa(a,{})||Us(t.missing);var s=function(e){return io.of(pi({data:e,loading:ws(n),networkStatus:n},t.complete?null:{partial:!0}))};return a&&r.getDocumentInfo(i).hasForcedResolvers?r.localState.runResolvers({document:i,remoteResult:{data:a},context:u,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return s(e.data||void 0)})):"none"===c&&n===Ss.refetch&&Array.isArray(t.missing)?s(void 0):s(a)},m="no-cache"===a?0:n===Ss.refetch&&"merge"!==s?1:2,v=function(){return r.getResultsFromLink(e,m,{query:i,variables:o,context:u,fetchPolicy:a,errorPolicy:c})},g=d&&"number"==typeof h&&h!==n&&ws(n);switch(a){default:case"cache-first":return(y=p()).complete?{fromLink:!1,sources:[f(y,e.markReady())]}:l||g?{fromLink:!0,sources:[f(y),v()]}:{fromLink:!0,sources:[v()]};case"cache-and-network":var y;return(y=p()).complete||l||g?{fromLink:!0,sources:[f(y),v()]}:{fromLink:!0,sources:[v()]};case"cache-only":return{fromLink:!1,sources:[f(p(),e.markReady())]};case"network-only":return g?{fromLink:!0,sources:[f(p()),v()]}:{fromLink:!0,sources:[v()]};case"no-cache":return g?{fromLink:!0,sources:[f(e.getDiff()),v()]}:{fromLink:!0,sources:[v()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Pc(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return pi(pi({},t),{clientAwareness:this.clientAwareness})},e}();function Fc(e,t){return Ts(e,t,t.variables&&{variables:Ts(pi(pi({},e&&e.variables),t.variables))})}var Uc=!1,jc=function(){function e(e){var t=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw Li(13);var n=e.uri,r=e.credentials,i=e.headers,o=e.cache,a=e.documentTransform,s=e.ssrMode,c=void 0!==s&&s,l=e.ssrForceFetchDelay,u=void 0===l?0:l,d=e.connectToDevTools,h=void 0===d?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1!==globalThis.__DEV__:d,p=e.queryDeduplication,f=void 0===p||p,m=e.defaultOptions,v=e.assumeImmutableResults,g=void 0===v?o.assumeImmutableResults:v,y=e.resolvers,b=e.typeDefs,E=e.fragmentMatcher,_=e.name,S=e.version,A=e.link;if(A||(A=n?new qa({uri:n,credentials:r,headers:i}):No.empty()),this.link=A,this.cache=o,this.disableNetworkFetches=c||u>0,this.queryDeduplication=f,this.defaultOptions=m||Object.create(null),this.typeDefs=b,u&&setTimeout((function(){return t.disableNetworkFetches=!1}),u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!Uc&&h&&!1!==globalThis.__DEV__&&(Uc=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var w=window.navigator,T=w&&w.userAgent,C=void 0;"string"==typeof T&&(T.indexOf("Chrome/")>-1?C="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":T.indexOf("Firefox/")>-1&&(C="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),C&&!1!==globalThis.__DEV__&&Di.log("Download the Apollo DevTools for a better development experience: %s",C)}this.version=Ri,this.localState=new Oc({cache:o,client:this,resolvers:y,fragmentMatcher:E}),this.queryManager=new Mc({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,documentTransform:a,queryDeduplication:f,ssrMode:c,clientAwareness:{name:_,version:S},localState:this.localState,assumeImmutableResults:g,onBroadcast:h?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Fc(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=pi(pi({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Fc(this.defaultOptions.query,e)),Di("cache-and-network"!==e.fetchPolicy,14),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=pi(pi({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Fc(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Ha(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var i=Promise.all(r);return i.queries=n,i.results=r,i.catch((function(e){!1!==globalThis.__DEV__&&Di.debug(15,e)})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),Vc=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=Ac(ao)}return e.prototype.batch=function(e){var t,n=this,r="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(pi(pi({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(pi(pi({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=fi(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,i=e.fragmentName,o=fi(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),i=t(r);return null==i?r:(n.writeQuery(pi(pi({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),i=t(r);return null==i?r:(n.writeFragment(pi(pi({},e),{data:i})),i)}})},e}(),Bc=function(e){function t(n,r,i,o){var a,s=e.call(this,n)||this;if(s.message=n,s.path=r,s.query=i,s.variables=o,Array.isArray(s.path)){s.missing=s.message;for(var c=s.path.length-1;c>=0;--c)s.missing=((a={})[s.path[c]]=s.missing,a)}else s.missing=s.path;return s.__proto__=t.prototype,s}return hi(t,e),t}(Error);function zc(e){return!1!==globalThis.__DEV__&&(t=e,(n=new Set([t])).forEach((function(e){oo(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(t){oo(e[t])&&n.add(e[t])}))}))),e;var t,n}var Gc=Object.prototype.hasOwnProperty;function Hc(e){return null==e}function qc(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"==typeof n&&(t&&(t.keyObject=Hc(r)?Hc(i)?void 0:{_id:i}:{id:r}),Hc(r)&&!Hc(i)&&(r=i),!Hc(r)))return"".concat(n,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var Wc={dataIdFromObject:qc,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Zc(e){var t=e.canonizeResults;return void 0===t?Wc.canonizeResults:t}var Kc=/^[_a-z][_0-9a-z]*/i;function Yc(e){var t=e.match(Kc);return t?t[0]:e}function Qc(e,t,n){return!!oo(t)&&(oa(t)?t.every((function(t){return Qc(e,t,n)})):e.selections.every((function(e){if(Eo(e)&&Wo(e,n)){var r=yo(e);return Gc.call(t,r)&&(!e.selectionSet||Qc(e.selectionSet,t[r],n))}return!0})))}function Jc(e){return oo(e)&&!uo(e)&&!oa(e)}function Xc(e,t){var n=so(wo(e));return{fragmentMap:n,lookupFragment:function(e){var r=n[e];return!r&&t&&(r=t.lookup(e)),r||null}}}var $c=Object.create(null),el=function(){return $c},tl=Object.create(null),nl=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return zc(uo(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return uo(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return lo(e);if(uo(e))return e;var r=n.policies.identify(e)[0];if(r){var i=lo(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return pi({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),Gc.call(this.data,e)){var n=this.data[e];if(n&&Gc.call(n,t))return n[t]}return"__typename"===t&&Gc.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof al?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),Gc.call(this.data,e)?this.data[e]:this instanceof al?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;uo(e)&&(e=e.__ref),uo(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(n=e):e,o="string"==typeof t?this.lookup(n=t):t;if(o){Di("string"==typeof n,1);var a=new da(cl).merge(i,o);if(this.data[n]=a,a!==i&&(delete this.refs[n],this.group.caching)){var s=Object.create(null);i||(s.__exists=1),Object.keys(o).forEach((function(e){if(!i||i[e]!==a[e]){s[e]=1;var t=Yc(e);t===e||r.policies.hasKeyArgs(a.__typename,t)||(s[t]=1),void 0!==a[e]||r instanceof al||delete a[e]}})),!s.__typename||i&&i.__typename||this.policies.rootTypenamesById[n]!==a.__typename||delete s.__typename,Object.keys(s).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),o=!1,a=!0,s={DELETE:$c,INVALIDATE:tl,isReference:uo,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||lo(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(c){var l=Yc(c),u=r[c];if(void 0!==u){var d="function"==typeof t?t:t[c]||t[l];if(d){var h=d===el?$c:d(zc(u),pi(pi({},s),{fieldName:l,storeFieldName:c,storage:n.getStorage(e,c)}));h===tl?n.group.dirty(e,c):(h===$c&&(h=void 0),h!==u&&(i[c]=h,o=!0,u=h))}void 0!==u&&(a=!1)}})),o)return this.merge(e,i),a&&(this instanceof al?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),a=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,a?((r={})[a]=el,r):el)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(Gc.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof al&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){Gc.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&Gc.call(e,n)||t.delete(n)})),e){var n=e.__META,r=fi(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof al?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){Gc.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof al;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!Gc.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){uo(e)&&(t[e.__ref]=!0),oo(e)&&Object.keys(e).forEach((function(t){var n=e[t];oo(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),rl=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?bc():null,this.keyMaker=new ss(Qo)},e.prototype.depend=function(e,t){if(this.d){this.d(il(e,t));var n=Yc(t);n!==t&&this.d(il(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(il(e,t),"__exists"===t?"forget":"setDirty")},e}();function il(e,t){return t+"#"+e}function ol(e,t){ll(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,o=t.seed,a=e.call(this,n,new rl(i))||this;return a.stump=new sl(a),a.storageTrie=new ss(Qo),o&&a.replace(o),a}return hi(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(nl||(nl={}));var al=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return hi(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach((function(n){Qa(r[n],i[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return pi(pi({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return Gc.call(this.data,t)?pi(pi({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(nl),sl=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new rl(t.group.caching,t.group))||this}return hi(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(al);function cl(e,t,n){var r=e[n],i=t[n];return Qa(r,i)?r:i}function ll(e){return!!(e instanceof nl&&e.group.caching)}function ul(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var dl=function(){function e(e){var t=this;this.knownResults=new(Qo?WeakMap:Map),this.config=Ts(e,{addTypename:!1!==e.addTypename,canonizeResults:Zc(e)}),this.canon=e.canon||new ds,this.executeSelectionSet=Ac((function(e){var n,r=e.context.canonizeResults,i=ul(e);i[3]=!r;var o=(n=t.executeSelectionSet).peek.apply(n,i);return o?r?pi(pi({},o),{result:t.canon.admit(o.result)}):o:(ol(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:ul,makeCacheKey:function(e,t,n,r){if(ll(n.store))return n.store.makeCacheKey(e,uo(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=Ac((function(e){return ol(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(ll(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new ds},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,o=e.variables,a=e.returnPartialData,s=void 0===a||a,c=e.canonizeResults,l=void 0===c?this.config.canonizeResults:c,u=this.config.cache.policies;o=pi(pi({},Ro(To(n))),o);var d,h=lo(i),p=this.executeSelectionSet({selectionSet:Co(n).selectionSet,objectOrReference:h,enclosingRef:h,context:pi({store:t,query:n,policies:u,variables:o,varString:hs(o),canonizeResults:l},Xc(n,this.config.fragments))});if(p.missing&&(d=[new Bc(hl(p.missing),p.missing,n,o)],!s))throw d[0];return{result:p.result,complete:!d,missing:d}},e.prototype.isFresh=function(e,t,n,r){if(ll(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.enclosingRef,o=e.context;if(uo(r)&&!o.policies.rootTypenamesById[r.__ref]&&!o.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var a,s=o.variables,c=o.policies,l=o.store.getFieldValue(r,"__typename"),u=[],d=new da;function h(e,t){var n;return e.missing&&(a=d.merge(a,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof l&&!c.rootIdsByTypename[l]&&u.push({__typename:l});var p=new Set(n.selections);p.forEach((function(e){var n,f;if(Wo(e,s))if(Eo(e)){var m=c.readField({fieldName:e.name.value,field:e,variables:o.variables,from:r},o),v=yo(e);void 0===m?ja.added(e)||(a=d.merge(a,((n={})[v]="Can't find field '".concat(e.name.value,"' on ").concat(uo(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):oa(m)?m=h(t.executeSubSelectedArray({field:e,array:m,enclosingRef:i,context:o}),v):e.selectionSet?null!=m&&(m=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:m,enclosingRef:uo(m)?m:i,context:o}),v)):o.canonizeResults&&(m=t.canon.pass(m)),void 0!==m&&u.push(((f={})[v]=m,f))}else{var g=co(e,o.lookupFragment);if(!g&&e.kind===Pa.FRAGMENT_SPREAD)throw Li(7,e.name.value);g&&c.fragmentMatches(g,l)&&g.selectionSet.selections.forEach(p.add,p)}}));var f={result:la(u),missing:a},m=o.canonizeResults?this.canon.admit(f):zc(f);return m.result&&this.knownResults.set(m.result,n),m},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,o=e.enclosingRef,a=e.context,s=new da;function c(e,n){var r;return e.missing&&(t=s.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map((function(e,t){return null===e?null:oa(e)?c(n.executeSubSelectedArray({field:r,array:e,enclosingRef:o,context:a}),t):r.selectionSet?c(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:uo(e)?e:o,context:a}),t):(!1!==globalThis.__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){oo(n)&&(Di(!uo(n),8,function(e,t){return uo(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n),t.name.value),Object.values(n).forEach(r.add,r))}))}}(a.store,r,e),e)})),{result:a.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function hl(e){try{JSON.stringify(e,(function(e,t){if("string"==typeof t)throw t;return t}))}catch(e){return e}}var pl=Object.create(null);function fl(e){var t=JSON.stringify(e);return pl[t]||(pl[t]=Object.create(null))}function ml(e){var t=fl(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},i=n.keyObject=gl(e,(function(e){var i=El(n.storeObject,e,r);return void 0===i&&t!==n.storeObject&&Gc.call(t,e[0])&&(i=El(t,e,bl)),Di(void 0!==i,2,e.join("."),t),i}));return"".concat(n.typename,":").concat(JSON.stringify(i))})}function vl(e){var t=fl(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,i=n.variables,o=n.fieldName,a=gl(e,(function(e){var n=e[0],o=n.charAt(0);if("@"!==o)if("$"!==o){if(t)return El(t,e)}else{var a=n.slice(1);if(i&&Gc.call(i,a)){var s=e.slice(0);return s[0]=a,El(i,s)}}else if(r&&aa(r.directives)){var c=n.slice(1),l=r.directives.find((function(e){return e.name.value===c})),u=l&&go(l,i);return u&&El(u,e.slice(1))}})),s=JSON.stringify(a);return(t||"{}"!==s)&&(o+=":"+s),o})}function gl(e,t){var n=new da;return yl(e).reduce((function(e,r){var i,o=t(r);if(void 0!==o){for(var a=r.length-1;a>=0;--a)(i={})[r[a]]=o,o=i;e=n.merge(e,o)}return e}),Object.create(null))}function yl(e){var t=fl(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,i){oa(t)?(yl(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),oa(e[i+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function bl(e,t){return e[t]}function El(e,t,n){return n=n||bl,_l(t.reduce((function e(t,r){return oa(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function _l(e){return oo(e)?oa(e)?e.map(_l):gl(Object.keys(e).sort(),(function(t){return El(e,t)})):e}function Sl(e){return void 0!==e.args?e.args:e.field?go(e.field,e.variables):null}fo.setStringify(hs);var Al=function(){},wl=function(e,t){return t.fieldName},Tl=function(e,t,n){return(0,n.mergeObjects)(e,t)},Cl=function(e,t){return t},Rl=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=pi({dataIdFromObject:qc},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,i=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,a=t&&t.storeObject||e,s=pi(pi({},t),{typename:i,storeObject:a,readField:t&&t.readField||function(){var e=Ol(arguments,a);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),c=i&&this.getTypePolicy(i),l=c&&c.keyFn||this.config.dataIdFromObject;l;){var u=l(pi(pi({},e),a),s);if(!oa(u)){o=u;break}l=ml(u)}return o=o?String(o):void 0,s.keyObject?[o,s.keyObject]:[o]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=r.queryType,o=r.mutationType,a=r.subscriptionType,s=fi(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),a&&t.setRootTypename("Subscription",n),Gc.call(t.toBeAdded,n)?t.toBeAdded[n].push(s):t.toBeAdded[n]=[s]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?Tl:!1===t?Cl:e.merge}a(r,t.merge),r.keyFn=!1===i?Al:oa(i)?ml(i):"function"==typeof i?i:r.keyFn,o&&Object.keys(o).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)r.read=i;else{var s=i.keyArgs,c=i.read,l=i.merge;r.keyFn=!1===s?wl:oa(s)?vl(s):"function"==typeof s?s:r.keyFn,"function"==typeof c&&(r.read=c),a(r,l)}r.read&&r.merge&&(r.keyFn=r.keyFn||wl)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(Di(!r||r===e,3,e),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(Kc);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!Gc.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);!r&&this.fuzzySubtypes.size&&(r=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((function(n,i){if(n.test(e)){var o=t.supertypeMap.get(i);o&&o.forEach((function(e){return r.add(e)}))}}))),r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),i=r.fields,o=fi(r,["fields"]);Object.assign(n,o),Object.assign(n.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(t,!0),s=[a],c=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},l=!(!n||!this.fuzzySubtypes.size),u=!1,d=0;d<s.length;++d){var h=s[d];if(h.has(o))return a.has(o)||(u&&!1!==globalThis.__DEV__&&Di.warn(4,t,o),a.add(o)),!0;h.forEach(c),l&&d===s.length-1&&Qc(e.selectionSet,n,r)&&(l=!1,u=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&c(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},s=Sl(e);o;){var c=o(s,a);if(!oa(c)){t=c||r;break}o=vl(c)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return ho(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return ho(r,n,i,t)}))),fo(e.name.value,r,n)}(e.field,e.variables):fo(r,Sl(e))),!1===t?r:r===Yc(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),o=Yc(i),a=t.store.getFieldValue(n,i),s=this.getFieldPolicy(e.typename,o,!1),c=s&&s.read;if(c){var l=Il(this,n,e,t,t.store.getStorage(uo(n)?n.__ref:n,i));return wc.withValue(this.cache,c,[a,l])}return a}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var o=n.field,a=n.typename,s=n.merge;return s===Tl?kl(r.store)(e,t):s===Cl?t:(r.overwrite&&(e=void 0),s(e,t,Il(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null))))},e}();function Il(e,t,n,r,i){var o=e.getStoreFieldName(n),a=Yc(o),s=n.variables||r.variables,c=r.store,l=c.toReference,u=c.canRead;return{args:Sl(n),field:n.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:uo,toReference:l,storage:i,cache:e.cache,canRead:u,readField:function(){return e.readField(Ol(arguments,t,s),r)},mergeObjects:kl(r.store)}}function Ol(e,t,n){var r,i=e[0],o=e[1],a=e.length;return"string"==typeof i?r={fieldName:i,from:a>1?o:t}:(r=pi({},i),Gc.call(r,"from")||(r.from=t)),!1!==globalThis.__DEV__&&void 0===r.from&&!1!==globalThis.__DEV__&&Di.warn(5,xi(Array.from(e))),void 0===r.variables&&(r.variables=n),r}function kl(e){return function(t,n){if(oa(t)||oa(n))throw Li(6);if(oo(t)&&oo(n)){var r=e.getFieldValue(t,"__typename"),i=e.getFieldValue(n,"__typename");if(r&&i&&r!==i)return n;if(uo(t)&&Jc(n))return e.merge(t.__ref,n),t;if(Jc(t)&&uo(n))return e.merge(t,n.__ref),n;if(Jc(t)&&Jc(n))return pi(pi({},t),n)}return n}}function Nl(e,t,n){var r="".concat(t).concat(n),i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:pi(pi({},e),{clientOnly:t,deferred:n})),i}var xl=function(){function e(e,t,n){this.cache=e,this.reader=t,this.fragments=n}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,i=t.result,o=t.dataId,a=t.variables,s=t.overwrite,c=So(r),l=new da;a=pi(pi({},Ro(c)),a);var u=pi(pi({store:e,written:Object.create(null),merge:function(e,t){return l.merge(e,t)},variables:a,varString:hs(a)},Xc(r,this.fragments)),{overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),d=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:u});if(!uo(d))throw Li(9,i);return u.incomingById.forEach((function(t,r){var i=t.storeObject,o=t.mergeTree,a=t.fieldNodeSet,s=lo(r);if(o&&o.map.size){var c=n.applyMerges(o,s,i,u);if(uo(c))return;i=c}if(!1!==globalThis.__DEV__&&!u.overwrite){var l=Object.create(null);a.forEach((function(e){e.selectionSet&&(l[e.name.value]=!0)})),Object.keys(i).forEach((function(e){(function(e){return!0===l[Yc(e)]})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"==typeof t&&t},o=i(e);if(o){var a=i(t);if(a&&!uo(o)&&!Qa(o,a)&&!Object.keys(o).every((function(e){return void 0!==r.getFieldValue(a,e)}))){var s=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),c=Yc(n),l="".concat(s,".").concat(c);if(!Ul.has(l)){Ul.add(l);var u=[];oa(o)||oa(a)||[o,a].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!=typeof t||u.includes(t)||u.push(t)})),!1!==globalThis.__DEV__&&Di.warn(12,c,s,u.length?"either ensure all objects of type "+u.join(" and ")+" have an ID or a custom merge function, or ":"",l,o,a)}}}}(s,i,e,u.store)}))}e.merge(r,i)})),e.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,o=e.context,a=e.mergeTree,s=this.cache.policies,c=Object.create(null),l=n&&s.rootTypenamesById[n]||bo(r,i,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof l&&(c.__typename=l);var u=function(){var e=Ol(arguments,c,o.variables);if(uo(e.from)){var t=o.incomingById.get(e.from.__ref);if(t){var n=s.readField(pi(pi({},e),{from:t.storeObject}),o);if(void 0!==n)return n}}return s.readField(e,o)},d=new Set;this.flattenFields(i,r,o,l).forEach((function(e,n){var i,o=yo(n),h=r[o];if(d.add(n),void 0!==h){var p=s.getStoreFieldName({typename:l,fieldName:n.name.value,field:n,variables:e.variables}),f=Dl(a,p),m=t.processFieldValue(h,n,n.selectionSet?Nl(e,!1,!1):e,f),v=void 0;n.selectionSet&&(uo(m)||Jc(m))&&(v=u("__typename",m));var g=s.getMergeFunction(l,n.name.value,v);g?f.info={field:n,typename:l,merge:g}:Fl(a,p),c=e.merge(c,((i={})[p]=m,i))}else!1===globalThis.__DEV__||e.clientOnly||e.deferred||ja.added(n)||s.getReadFunction(l,n.name.value)||!1!==globalThis.__DEV__&&Di.error(10,yo(n),r)}));try{var h=s.identify(r,{typename:l,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:c,readField:u}),p=h[0],f=h[1];n=n||p,f&&(c=o.merge(c,f))}catch(e){if(!n)throw e}if("string"==typeof n){var m=lo(n),v=o.written[n]||(o.written[n]=[]);if(v.indexOf(i)>=0)return m;if(v.push(i),this.reader&&this.reader.isFresh(r,m,i,o))return m;var g=o.incomingById.get(n);return g?(g.storeObject=o.merge(g.storeObject,c),g.mergeTree=Ll(g.mergeTree,a),d.forEach((function(e){return g.fieldNodeSet.add(e)}))):o.incomingById.set(n,{storeObject:c,mergeTree:Ml(a)?void 0:a,fieldNodeSet:d}),m}return c},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?oa(e)?e.map((function(e,o){var a=i.processFieldValue(e,t,n,Dl(r,o));return Fl(r,o),a})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):!1!==globalThis.__DEV__?Rs(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=bo(t,e,n.fragmentMap));var i=new Map,o=this.cache.policies,a=new ss(!1);return function e(s,c){var l=a.lookup(s,c.clientOnly,c.deferred);l.visited||(l.visited=!0,s.selections.forEach((function(a){if(Wo(a,n.variables)){var s=c.clientOnly,l=c.deferred;if(s&&l||!aa(a.directives)||a.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(s=!0),"defer"===t){var r=go(e,n.variables);r&&!1===r.if||(l=!0)}})),Eo(a)){var u=i.get(a);u&&(s=s&&u.clientOnly,l=l&&u.deferred),i.set(a,Nl(n,s,l))}else{var d=co(a,n.lookupFragment);if(!d&&a.kind===Pa.FRAGMENT_SPREAD)throw Li(11,a.name.value);d&&o.fragmentMatches(d,r,t,n.variables)&&e(d.selectionSet,Nl(n,s,l))}}})))}(e,n),i},e.prototype.applyMerges=function(e,t,n,r,i){var o,a=this;if(e.map.size&&!uo(n)){var s,c=oa(n)||!uo(t)&&!Jc(t)?void 0:t,l=n;c&&!i&&(i=[uo(c)?c.__ref:c]);var u=function(e,t){return oa(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=u(c,t),o=u(l,t);if(void 0!==o){i&&i.push(t);var d=a.applyMerges(e,n,o,r,i);d!==o&&(s=s||new Map).set(t,d),i&&Di(i.pop()===t)}})),s&&(n=oa(l)?l.slice(0):pi({},l),s.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(o=r.store).getStorage.apply(o,i)):n},e}(),Pl=[];function Dl(e,t){var n=e.map;return n.has(t)||n.set(t,Pl.pop()||{map:new Map}),n.get(t)}function Ll(e,t){if(e===t||!t||Ml(t))return e;if(!e||Ml(e))return t;var n=e.info&&t.info?pi(pi({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var o=new Set(t.map.keys());e.map.forEach((function(e,n){i.map.set(n,Ll(e,t.map.get(n))),o.delete(n)})),o.forEach((function(n){i.map.set(n,Ll(t.map.get(n),e.map.get(n)))}))}return i}function Ml(e){return!e||!(e.info||e.map.size)}function Fl(e,t){var n=e.map,r=n.get(t);r&&Ml(r)&&(Pl.push(r),n.delete(t))}var Ul=new Set,jl=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new ms(ja),n.assumeImmutableResults=!0,n.makeVar=Ic,n.txCount=0,n.config=function(e){return Ts(Wc,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new Rl({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return hi(t,e),t.prototype.init=function(){var e=this.data=new nl.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new xl(this,this.storeReader=new dl({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Zc(this.config),canon:e?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=Ac((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(ll(n)){var r=e.optimistic,i=e.id,o=e.variables;return n.makeCacheKey(e.query,e.callback,hs({optimistic:r,id:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(pi(pi({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(e){if(e instanceof Bc)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(Gc.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(pi(pi({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t=this;return this.watches.size||function(e){Cc(e).vars.forEach((function(t){return t.attachCache(e)}))}(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&Rc(t),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){hs.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(uo(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){!1!==globalThis.__DEV__&&Di.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(Gc.call(e,"id"))return!1;e=pi(pi({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),hs.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),Rc(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,i=e.optimistic,o=void 0===i||i,a=e.removeOptimistic,s=e.onWatchUpdated,c=function(e){var i=n,o=i.data,a=i.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=o,n.optimisticData=a}},l=new Set;return s&&!this.txCount&&this.broadcastWatches(pi(pi({},e),{onWatchUpdated:function(e){return l.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,c):!1===o?c(this.data):c(),"string"==typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),s&&l.size?(this.broadcastWatches(pi(pi({},e),{onWatchUpdated:function(e,t){var n=s.call(this,e,t);return!1!==n&&l.delete(e),n}})),l.size&&l.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.addFragmentsToDocument=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&Qa(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(Vc),Vl=Xo?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function Bl(){Di(!0,43);var e=bn.createContext[Vl];return e||(Object.defineProperty(bn.createContext,Vl,{value:e=bn.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}var zl=function(e){var t=e.client,n=e.children,r=Bl(),i=bn.useContext(r),o=bn.useMemo((function(){return pi(pi({},i),{client:t||i.client})}),[i,t]);return Di(o.client,44),bn.createElement(r.Provider,{value:o},n)};const Gl=(0,bn.createContext)({client:{}}),Hl=Ga({uri:"https://managedservices-prod.rteappbuilder.com/v1/query",credentials:"include"}),ql=e=>{return t=async(t,{headers:n})=>({headers:{...n,"X-Project-ID":"260afe43c2e20eb1e6e2","X-Platform-ID":"turnkey_web",...e&&{authorization:e?`Bearer ${e}`:""}}}),new No((function(e,n){var r=fi(e,[]);return new io((function(i){var o,a=!1;return Promise.resolve(r).then((function(n){return t(0,e.getContext())})).then(e.setContext).then((function(){a||(o=n(e).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)}))})).catch(i.error.bind(i)),function(){a=!0,o&&o.unsubscribe()}}))}));var t},Wl=e=>{const{store:t}=(0,bn.useContext)(li),[n,r]=(0,bn.useState)(new jc({link:ql(null==t?void 0:t.token).concat(Hl),cache:new jl}));return(0,bn.useEffect)((()=>{console.log("debugging GRAPHQL token changed",t.token),r(new jc({link:ql(null==t?void 0:t.token).concat(Hl),cache:new jl}))}),[null==t?void 0:t.token]),bn.createElement(Gl.Provider,{value:{client:n}},bn.createElement(zl,{client:n},e.children))},Zl={channel:null,password:null,joinFlag:null,phrase:null},Kl={joinSession:()=>{},joinStore:Zl,setJoinStore:null},Yl=(0,bn.createContext)(Kl),Ql=(Yl.Consumer,e=>{const t=dr(),[n,r]=(0,bn.useState)(Zl);return bn.createElement(Yl.Provider,{value:{joinSession:e=>{r(e),t.push(`/${e.phrase}`)},joinStore:n,setJoinStore:r}},e.children)});var Jl=__webpack_require__(5900),Xl=__webpack_require__(6636),$l=__webpack_require__(2357);const eu=(0,bn.createContext)({}),tu=e=>{const t="#099DFD";return console.log(t),bn.createElement(eu.Provider,{value:{primaryColor:t}},e.children)};var nu=__webpack_require__(5998);const ru=(0,bn.createContext)({getDimensionData:()=>({dim:[0,0,!1],isDesktop:!1})}),iu=e=>bn.createElement(ru.Provider,{value:{getDimensionData:(e,t)=>({dim:[e=e||nu.Z.get("window").width,t=t||nu.Z.get("window").height,e>t],isDesktop:!(e<t+150)})}},e.children);var ou=__webpack_require__(8112),au=__webpack_require__(3795),su=__webpack_require__(3668),cu=__webpack_require__(8548),lu=__webpack_require__(4404);const uu=Mn().oneOfType([Mn().object,Mn().number]);var du=__webpack_require__(3457);const hu="#FFF",pu="#FF414D",fu="#69C779",mu="#D8D8D8",vu="#87CEFA",gu="#040405",yu=du.Z.create({base:{flexDirection:"row",height:105,borderRadius:6,backgroundColor:hu,shadowOffset:{width:0,height:0},shadowOpacity:.1,shadowRadius:6,elevation:2},borderTop:{borderTopWidth:5,borderTopColor:mu},contentContainer:{paddingLeft:20,flex:1,flexDirection:"row",justifyContent:"flex-start"},text1:{fontSize:15,fontFamily:"Source Sans Pro",width:"100%",fontWeight:"600",marginRight:2},text2:{fontSize:15,fontFamily:"Source Sans Pro",width:"100%",fontWeight:"400"}});function bu({leadingIcon:e,trailingIcon:t,text1:n,text2:r,onPress:i,style:o,contentContainerStyle:a,text1Style:s,text2Style:c,activeOpacity:l,text1NumberOfLines:u,text2NumberOfLines:d,primaryBtn:h,secondaryBtn:p}){return bn.createElement(cu.Z,{testID:"rootView",style:[yu.base,yu.borderTop,o],onPress:i,activeOpacity:i?l:1},bn.createElement(Sn.Z,{testID:"contentContainer",style:[yu.contentContainer,a]},(n||(null==n?void 0:n.length)>0)&&bn.createElement(Sn.Z,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"}},bn.createElement(Sn.Z,{style:{flexDirection:"row",flex:1}},e||bn.createElement(bn.Fragment,null),bn.createElement(lu.Z,{testID:"text1",style:[yu.text1,s],numberOfLines:u},n)),bn.createElement(Sn.Z,{style:{justifyContent:"flex-start",alignSelf:"center"}},t||bn.createElement(bn.Fragment,null))),(r||(null==r?void 0:r.length)>0)&&bn.createElement(Sn.Z,null,bn.createElement(lu.Z,{testID:"text2",style:[yu.text2,c],numberOfLines:d},r)),h||p?bn.createElement(Sn.Z,{style:{flex:1,flexDirection:"row",paddingTop:32,paddingBottom:24}},h||bn.createElement(bn.Fragment,null),p||bn.createElement(bn.Fragment,null)):bn.createElement(bn.Fragment,null)))}bu.HEIGHT=105,bu.propTypes={leadingIcon:Mn().node,trailingIcon:Mn().node,text1:Mn().string,text2:Mn().string,onPress:Mn().func,style:uu,contentContainerStyle:uu,text1Style:uu,text2Style:uu,activeOpacity:Mn().number,text1NumberOfLines:Mn().number,text2NumberOfLines:Mn().number},bu.defaultProps={leadingIcon:null,trailingIcon:null,text1:void 0,text2:void 0,onPress:void 0,style:void 0,contentContainerStyle:void 0,text1Style:void 0,text2Style:void 0,activeOpacity:.8,text1NumberOfLines:1,text2NumberOfLines:2};const Eu=bu;function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(this,arguments)}function Su(e){return bn.createElement(Eu,_u({},e,{style:{borderTopColor:fu},text1Style:{color:gu},text2Style:{color:gu}}))}Su.propTypes=Eu.propTypes;const Au=Su;function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(this,arguments)}function Tu(e){return bn.createElement(Eu,wu({},e,{style:{borderTopColor:pu},text1Style:{color:pu},text2Style:{color:pu}}))}Tu.propTypes=Eu.propTypes;const Cu=Tu;function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(this,arguments)}function Iu(e){return bn.createElement(Eu,Ru({},e,{style:{borderTopColor:vu},text1Style:{color:gu},text2Style:{color:gu}}))}Iu.propTypes=Eu.propTypes;const Ou=Iu,ku=({obj:e={},keys:t=[]})=>Object.keys(e).reduce(((n,r)=>(t.includes(r)&&(n[r]=e[r]),n)),{}),Nu="ios"===En.Z.OS,xu=du.Z.create({base:{position:"absolute",alignItems:"center",justifyContent:"center"},top:{top:0},bottom:{bottom:0}}),Pu=()=>{var e,t,n,r,i,o;let a=!1;var s;return s=(null===(e=navigator)||void 0===e?void 0:e.userAgent)||(null===(t=navigator)||void 0===t?void 0:t.vendor)||(null===(n=window)||void 0===n?void 0:n.opera),(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(s)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(s.substr(0,4)))&&(a=!0),a=/Macintosh/i.test(null===(r=navigator)||void 0===r?void 0:r.userAgent)&&(null===(i=navigator)||void 0===i?void 0:i.maxTouchPoints)&&(null===(o=navigator)||void 0===o?void 0:o.maxTouchPoints)>1||a,a};function Du(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}const Mu={success:({hide:e,...t})=>bn.createElement(Au,Lu({},t,{onTrailingIconPress:e})),error:({hide:e,...t})=>bn.createElement(Cu,Lu({},t,{onTrailingIconPress:e})),info:({hide:e,...t})=>bn.createElement(Ou,Lu({},t,{onTrailingIconPress:e}))};function Fu(e){const{dx:t,dy:n}=e;return Math.abs(t)>2||Math.abs(n)>2}const Uu=({topOffset:e,bottomOffset:t,keyboardOffset:n,visibilityTime:r,height:i,autoHide:o,position:a,type:s})=>({topOffset:e,bottomOffset:t,keyboardOffset:n,height:i,position:a,type:s,visibilityTime:r,autoHide:o,text1:void 0,text2:void 0,onPress:void 0,onShow:void 0,onHide:void 0});class ju extends bn.Component{static setRef(e={}){ju._ref=e}static getRef(){return ju._ref}static clearRef(){ju._ref=null}static show(e={}){var t;null===(t=ju._ref)||void 0===t||t.show(e)}static hide(){var e;null===(e=ju._ref)||void 0===e||e.hide({forceHide:!0})}static getToastId(){var e;return null===(e=ju._ref)||void 0===e?void 0:e.getToastId()}constructor(e){super(e),Du(this,"getToastId",(()=>{var e;return null===(e=this.state)||void 0===e?void 0:e.toastId})),Du(this,"getCustomStyle",(()=>{let e={};return e=Pu()||nu.Z.get("window").width<768?{left:"3%",right:"3%",width:"94%"}:nu.Z.get("window").width<900?{left:"18%",right:"18%",width:"64%"}:nu.Z.get("window").width<1200?{left:"25%",right:"25%",width:"50%"}:{left:"33.33%",right:"33.33%",width:"33.33%"},e})),Du(this,"keyboardDidShow",(e=>{const{isVisible:t,position:n}=this.state;this.setState({keyboardHeight:e.endCoordinates.height,keyboardVisible:!0}),t&&"bottom"===n&&this.animate({toValue:2})})),Du(this,"keyboardDidHide",(()=>{const{isVisible:e,position:t}=this.state;this.setState({keyboardVisible:!1}),e&&"bottom"===t&&this.animate({toValue:1})})),Du(this,"animateShow",(()=>{const{keyboardVisible:e,position:t}=this.state,n=e&&"bottom"===t?2:1;return this.animate({toValue:n})})),this._setState=this._setState.bind(this),this._animateMovement=this._animateMovement.bind(this),this._animateRelease=this._animateRelease.bind(this),this.startTimer=this.startTimer.bind(this),this.animate=this.animate.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.onLayout=this.onLayout.bind(this),this.state={...Uu(e),inProgress:!1,isVisible:!1,animation:new ou.Z.Value(0),keyboardHeight:0,keyboardVisible:!1,customProps:{},customStyle:this.getCustomStyle(),isHovered:!1,toastId:0},this.panResponder=au.Z.create({onMoveShouldSetPanResponder:(e,t)=>Fu(t),onMoveShouldSetPanResponderCapture:(e,t)=>Fu(t),onPanResponderMove:(e,t)=>{this._animateMovement(t)},onPanResponderRelease:(e,t)=>{this._animateRelease(t)}})}componentDidMount(){const e={remove:()=>{}};this.keyboardDidShowListener=Nu?su.Z.addListener("keyboardDidShow",this.keyboardDidShow):e,this.keyboardDidHideListner=Nu?su.Z.addListener("keyboardDidHide",this.keyboardDidHide):e}componentWillUnmount(){this.keyboardDidShowListener.remove(),this.keyboardDidHideListner.remove(),clearTimeout(this.timer)}_setState(e){return new Promise((t=>this.setState(e,(()=>t()))))}_animateMovement(e){const{position:t,animation:n,keyboardVisible:r}=this.state,{dy:i}=e;let o=1+i/100;const a=r&&"bottom"===t?2:1;"bottom"===t&&(o=a-i/100),o<=a&&n.setValue(o)}_animateRelease(e){const{position:t,animation:n,keyboardVisible:r}=this.state,{dy:i,vy:o}=e,a="bottom"===t;let s=1+i/100;a&&(s=1-i/100),s<=.65||Math.abs(o)>=.65?this.hide({speed:3*Math.abs(o)}):ou.Z.spring(n,{toValue:r&&a?2:1,velocity:o,useNativeDriver:!0}).start()}async show(e={}){const{inProgress:t,isVisible:n}=this.state;(t||n)&&await this.hide(),await this._setState((t=>({...t,...Uu(this.props),height:t.height,inProgress:!0,...e,...null!=e&&e.props?{customProps:e.props}:{customProps:{}}}))),await this.animateShow(),await this._setState((e=>({...e,isVisible:!0,inProgress:!1}))),this.clearTimer();const{autoHide:r,onShow:i}=this.state;r&&this.startTimer(),i&&i()}async hide({speed:e,forceHide:t=!1}={}){if(!this.state.isHovered||t||Zr()){await this._setState((e=>({...e,inProgress:!0}))),await this.animateHide({speed:e}),this.clearTimer(),await this._setState((e=>({...e,isVisible:!1,inProgress:!1,toastId:0})));const{onHide:t}=this.state;t&&t()}}animateHide({speed:e}={}){return this.animate({toValue:0,speed:e})}animate({toValue:e,speed:t=0}){const{animation:n}=this.state;return new Promise((r=>{const i={toValue:e,useNativeDriver:!0,...t>0?{speed:t}:{friction:8}};ou.Z.spring(n,i).start((()=>r()))}))}startTimer(){const{visibilityTime:e}=this.state;this.timer=setTimeout((()=>this.hide()),e)}clearTimer(){clearTimeout(this.timer),this.timer=null}renderContent({config:e}){const t={...Mu,...e},{type:n,customProps:r}=this.state,i=t[n];return i?i({...ku({obj:this.state,keys:["position","type","inProgress","isVisible","text1","text2","leadingIcon","hide","show","onPress","primaryBtn","secondaryBtn","checkbox","toastId"]}),props:{...r},hide:this.hide,show:this.show}):(console.error(`Type '${n}' does not exist. Make sure to add it to your 'config'. You can read the documentation here: https://github.com/calintamas/react-native-toast-message/blob/master/README.md`),null)}getBaseStyle(e="bottom",t){const{topOffset:n,bottomOffset:r,keyboardOffset:i,height:o,animation:a}=this.state,s=[o+5,-("bottom"===e?r:n),-(i+t)],c="bottom"===e?s:s.map((e=>-e)),l=a.interpolate({inputRange:[0,1,2],outputRange:c});return[xu.base,{left:this.state.customStyle.left,right:this.state.customStyle.right,width:this.state.customStyle.width},xu[e],{transform:[{translateY:l}]}]}onLayout(e){this.setState({height:e.nativeEvent.layout.height,customStyle:this.getCustomStyle()})}render(){const{style:e}=this.props,{position:t,keyboardHeight:n}=this.state,r=this.getBaseStyle(t,n);return bn.createElement(Vu,{setIsHovered:e=>{Zr()||(this.setState({isHovered:e}),setTimeout((()=>{e||this.startTimer()})))}},bn.createElement(ou.Z.View,Lu({testID:"animatedView",onLayout:this.onLayout,style:[r,e,{zIndex:100}]},this.panResponder.panHandlers),this.renderContent(this.props)))}}Du(ju,"_ref",null);const Vu=({children:e,setIsHovered:t})=>qr()?bn.createElement("div",{onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)}},e):bn.createElement(bn.Fragment,null,e);ju.propTypes={config:Mn().objectOf(Mn().func),style:uu,topOffset:Mn().number,bottomOffset:Mn().number,keyboardOffset:Mn().number,visibilityTime:Mn().number,autoHide:Mn().bool,height:Mn().number,position:Mn().oneOf(["top","bottom"]),type:Mn().string},ju.defaultProps={config:{},style:void 0,topOffset:30,bottomOffset:40,keyboardOffset:15,visibilityTime:4e3,autoHide:!0,height:60,position:"top",type:"success"};const Bu=ju,zu=bn.createContext({error:{name:"",message:""},setGlobalErrorMessage:()=>{},resetError:()=>{}}),Gu=e=>{const[t,n]=(0,bn.useState)();return bn.createElement(zu.Provider,{value:{error:t,setGlobalErrorMessage:e=>{n(e)},resetError:()=>{n(void 0)}}},e.children)},Hu=()=>{const{error:e}=(0,bn.useContext)(zu);return(0,bn.useEffect)((()=>{(null!=e&&e.name||null!=e&&e.message)&&Bu.show({type:"error",text1:e.name,text2:e.message,visibilityTime:1e4,primaryBtn:null,secondaryBtn:null,leadingIcon:null})}),[e]),bn.createElement(bn.Fragment,null)};var qu=__webpack_require__(2762);const Wu=()=>null,Zu=(du.Z.create({logo:{width:54,height:19}}),function(e){return function(t){const n=(0,bn.useContext)(e);return t?t(n):n}});function Ku(e){return!(!e||"string"!=typeof e)}function Yu(e){return!(!e||"function"!=typeof e)}function Qu(e){return!(!e||"object"!=typeof e)}function Ju(e){return!(!e||!zr.isValidElementType(e))}const Xu=["customLayout","useUserContext"];function $u(e){for(const t in e)if(-1===Xu.indexOf(t)){let n=e[t];n&&(Ju(n)||Qu(n)?Qu(n)&&$u(n):console.error(`Customize:Error ${t} should be a react component or object`))}else{let n=e[t];n&&!Yu(n)&&console.error(`Customize:Error ${t} should be an function`)}}function ed(e){return ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var td="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function nd(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function rd(e){return id(e.source,nd(e.source,e.start))}function id(e,t){var n=e.locationOffset.column-1,r=ad(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,c=t.column+s,l="".concat(e.name,":").concat(a,":").concat(c,"\n"),u=r.split(/\r\n|[\n\r]/g),d=u[i];if(d.length>120){for(var h=Math.floor(c/80),p=c%80,f=[],m=0;m<d.length;m+=80)f.push(d.slice(m,m+80));return l+od([["".concat(a),f[0]]].concat(f.slice(1,h+1).map((function(e){return["",e]})),[[" ",ad(p-1)+"^"],["",f[h+1]]]))}return l+od([["".concat(a-1),u[i-1]],["".concat(a),d],["",ad(c-1)+"^"],["".concat(a+1),u[i+1]]])}function od(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return ad(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function ad(e){return Array(e+1).join(" ")}function sd(e){return sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(e)}function cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ld(e,t){return!t||"object"!==sd(t)&&"function"!=typeof t?ud(e):t}function ud(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dd(e){var t="function"==typeof Map?new Map:void 0;return dd=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return hd(e,arguments,md(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fd(r,e)},dd(e)}function hd(e,t,n){return hd=pd()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&fd(i,n.prototype),i},hd.apply(null,arguments)}function pd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fd(e,t){return fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fd(e,t)}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},md(e)}var vd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fd(e,t)}(a,e);var t,n,r,i,o=(t=a,n=pd(),function(){var e,r=md(t);if(n){var i=md(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return ld(this,e)});function a(e,t,n,r,i,s,c){var l,u,d,h,p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),p=o.call(this,e);var f,m=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,v=n;!v&&m&&(v=null===(f=m[0].loc)||void 0===f?void 0:f.source);var g,y=r;!y&&m&&(y=m.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),y&&0===y.length&&(y=void 0),r&&n?g=r.map((function(e){return nd(n,e)})):m&&(g=m.reduce((function(e,t){return t.loc&&e.push(nd(t.loc.source,t.loc.start)),e}),[]));var b,E=c;if(null==E&&null!=s){var _=s.extensions;"object"==ed(b=_)&&null!==b&&(E=_)}return Object.defineProperties(ud(p),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(l=g)&&void 0!==l?l:void 0,enumerable:null!=g},path:{value:null!=i?i:void 0,enumerable:null!=i},nodes:{value:null!=m?m:void 0},source:{value:null!==(u=v)&&void 0!==u?u:void 0},positions:{value:null!==(d=y)&&void 0!==d?d:void 0},originalError:{value:s},extensions:{value:null!==(h=E)&&void 0!==h?h:void 0,enumerable:null!=E}}),null!=s&&s.stack?(Object.defineProperty(ud(p),"stack",{value:s.stack,writable:!0,configurable:!0}),ld(p)):(Error.captureStackTrace?Error.captureStackTrace(ud(p),a):Object.defineProperty(ud(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return r=a,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+rd(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+id(e.source,s)}return t}(this)}},{key:td,get:function(){return"Object"}}])&&cd(r.prototype,i),a}(dd(Error));function gd(e,t,n){return new vd("Syntax Error: ".concat(n),void 0,e,[t])}var yd=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function bd(e,t){if(!Boolean(e))throw new Error(t)}function Ed(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _d=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||bd(0,"Body must be a string. Received: ".concat(Mo(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||bd(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||bd(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n;return t=e,(n=[{key:td,get:function(){return"Source"}}])&&Ed(t.prototype,n),e}(),Sd=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),Ad=function(){function e(e){var t=new Vo(yd.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==yd.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=Td(this,e)}while(e.kind===yd.COMMENT);return e},e}();function wd(e){return isNaN(e)?yd.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Td(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,c=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Vo(yd.BANG,o,o+1,s,c,t);case 35:return Rd(n,o,s,c,t);case 36:return new Vo(yd.DOLLAR,o,o+1,s,c,t);case 38:return new Vo(yd.AMP,o,o+1,s,c,t);case 40:return new Vo(yd.PAREN_L,o,o+1,s,c,t);case 41:return new Vo(yd.PAREN_R,o,o+1,s,c,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new Vo(yd.SPREAD,o,o+3,s,c,t);break;case 58:return new Vo(yd.COLON,o,o+1,s,c,t);case 61:return new Vo(yd.EQUALS,o,o+1,s,c,t);case 64:return new Vo(yd.AT,o,o+1,s,c,t);case 91:return new Vo(yd.BRACKET_L,o,o+1,s,c,t);case 93:return new Vo(yd.BRACKET_R,o,o+1,s,c,t);case 123:return new Vo(yd.BRACE_L,o,o+1,s,c,t);case 124:return new Vo(yd.PIPE,o,o+1,s,c,t);case 125:return new Vo(yd.BRACE_R,o,o+1,s,c,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?Nd(n,o,s,c,t,e):kd(n,o,s,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Id(n,o,a,s,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Pd(n,o,s,c,t)}throw gd(n,o,Cd(a))}var l=e.line,u=1+o-e.lineStart;return new Vo(yd.EOF,i,i,l,u,t)}function Cd(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(wd(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(wd(e),".")}function Rd(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new Vo(yd.COMMENT,t,s,n,r,i,a.slice(t+1,s))}function Id(e,t,n,r,i,o){var a=e.body,s=n,c=t,l=!1;if(45===s&&(s=a.charCodeAt(++c)),48===s){if((s=a.charCodeAt(++c))>=48&&s<=57)throw gd(e,c,"Invalid number, unexpected digit after 0: ".concat(wd(s),"."))}else c=Od(e,c,s),s=a.charCodeAt(c);if(46===s&&(l=!0,s=a.charCodeAt(++c),c=Od(e,c,s),s=a.charCodeAt(c)),69!==s&&101!==s||(l=!0,43!==(s=a.charCodeAt(++c))&&45!==s||(s=a.charCodeAt(++c)),c=Od(e,c,s),s=a.charCodeAt(c)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw gd(e,c,"Invalid number, expected digit but got: ".concat(wd(s),"."));return new Vo(l?yd.FLOAT:yd.INT,t,c,r,i,o,a.slice(t,c))}function Od(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw gd(e,i,"Invalid number, expected digit but got: ".concat(wd(o),"."))}function kd(e,t,n,r,i){for(var o,a,s,c,l=e.body,u=t+1,d=u,h=0,p="";u<l.length&&!isNaN(h=l.charCodeAt(u))&&10!==h&&13!==h;){if(34===h)return p+=l.slice(d,u),new Vo(yd.STRING,t,u+1,n,r,i,p);if(h<32&&9!==h)throw gd(e,u,"Invalid character within String: ".concat(wd(h),"."));if(++u,92===h){switch(p+=l.slice(d,u-1),h=l.charCodeAt(u)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var f=(o=l.charCodeAt(u+1),a=l.charCodeAt(u+2),s=l.charCodeAt(u+3),c=l.charCodeAt(u+4),xd(o)<<12|xd(a)<<8|xd(s)<<4|xd(c));if(f<0){var m=l.slice(u+1,u+5);throw gd(e,u,"Invalid character escape sequence: \\u".concat(m,"."))}p+=String.fromCharCode(f),u+=4;break;default:throw gd(e,u,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}d=++u}}throw gd(e,u,"Unterminated string.")}function Nd(e,t,n,r,i,o){for(var a=e.body,s=t+3,c=s,l=0,u="";s<a.length&&!isNaN(l=a.charCodeAt(s));){if(34===l&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return u+=a.slice(c,s),new Vo(yd.BLOCK_STRING,t,s+3,n,r,i,ya(u));if(l<32&&9!==l&&10!==l&&13!==l)throw gd(e,s,"Invalid character within String: ".concat(wd(l),"."));10===l?(++s,++o.line,o.lineStart=s):13===l?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===l&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(u+=a.slice(c,s)+'"""',c=s+=4):++s}throw gd(e,s,"Unterminated string.")}function xd(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Pd(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,c=0;s!==a&&!isNaN(c=o.charCodeAt(s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new Vo(yd.NAME,t,s,n,r,i,o.slice(t,s))}var Dd=function(){function e(e,t){var n=function(e){return e instanceof _d}(e)?e:new _d(e);this._lexer=new Ad(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(yd.NAME);return{kind:Pa.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:Pa.DOCUMENT,definitions:this.many(yd.SOF,this.parseDefinition,yd.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(yd.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(yd.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(yd.BRACE_L))return{kind:Pa.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(yd.NAME)&&(t=this.parseName()),{kind:Pa.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(yd.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(yd.PAREN_L,this.parseVariableDefinition,yd.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Pa.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(yd.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(yd.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(yd.DOLLAR),{kind:Pa.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Pa.SELECTION_SET,selections:this.many(yd.BRACE_L,this.parseSelection,yd.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(yd.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(yd.COLON)?(e=r,t=this.parseName()):t=r,{kind:Pa.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(yd.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(yd.PAREN_L,t,yd.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(yd.COLON),{kind:Pa.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:Pa.ARGUMENT,name:this.parseName(),value:(this.expectToken(yd.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(yd.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(yd.NAME)?{kind:Pa.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Pa.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:Pa.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:Pa.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case yd.BRACKET_L:return this.parseList(e);case yd.BRACE_L:return this.parseObject(e);case yd.INT:return this._lexer.advance(),{kind:Pa.INT,value:t.value,loc:this.loc(t)};case yd.FLOAT:return this._lexer.advance(),{kind:Pa.FLOAT,value:t.value,loc:this.loc(t)};case yd.STRING:case yd.BLOCK_STRING:return this.parseStringLiteral();case yd.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:Pa.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:Pa.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:Pa.NULL,loc:this.loc(t)};default:return{kind:Pa.ENUM,value:t.value,loc:this.loc(t)}}case yd.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Pa.STRING,value:e.value,block:e.kind===yd.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:Pa.LIST,values:this.any(yd.BRACKET_L,(function(){return t.parseValueLiteral(e)}),yd.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:Pa.OBJECT,fields:this.any(yd.BRACE_L,(function(){return t.parseObjectField(e)}),yd.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(yd.COLON),{kind:Pa.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(yd.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(yd.AT),{kind:Pa.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(yd.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(yd.BRACKET_R),e={kind:Pa.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(yd.BANG)?{kind:Pa.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:Pa.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===yd.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(yd.STRING)||this.peek(yd.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(yd.BRACE_L,this.parseOperationTypeDefinition,yd.BRACE_R);return{kind:Pa.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(yd.COLON);var n=this.parseNamedType();return{kind:Pa.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:Pa.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Pa.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(yd.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(yd.AMP)||this.peek(yd.NAME));return t}return this.delimitedMany(yd.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(yd.BRACE_L)&&this._lexer.lookahead().kind===yd.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(yd.BRACE_L,this.parseFieldDefinition,yd.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(yd.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:Pa.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(yd.PAREN_L,this.parseInputValueDef,yd.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(yd.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(yd.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:Pa.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Pa.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:Pa.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(yd.EQUALS)?this.delimitedMany(yd.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:Pa.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(yd.BRACE_L,this.parseEnumValueDefinition,yd.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:Pa.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:Pa.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(yd.BRACE_L,this.parseInputValueDef,yd.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===yd.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(yd.BRACE_L,this.parseOperationTypeDefinition,yd.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:Pa.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:Pa.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Pa.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Pa.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Pa.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Pa.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Pa.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(yd.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:Pa.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(yd.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==Sd[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new jo(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw gd(this._lexer.source,t.start,"Expected ".concat(Md(e),", found ").concat(Ld(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==yd.NAME||t.value!==e)throw gd(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(Ld(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===yd.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return gd(this._lexer.source,t.start,"Unexpected ".concat(Ld(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function Ld(e){var t=e.value;return Md(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function Md(e){return function(e){return e===yd.BANG||e===yd.DOLLAR||e===yd.AMP||e===yd.PAREN_L||e===yd.PAREN_R||e===yd.SPREAD||e===yd.COLON||e===yd.EQUALS||e===yd.AT||e===yd.BRACKET_L||e===yd.BRACKET_R||e===yd.BRACE_L||e===yd.PIPE||e===yd.BRACE_R}(e)?'"'.concat(e,'"'):e}var Fd=new Map,Ud=new Map,jd=!0,Vd=!1;function Bd(e){return e.replace(/[\s,]+/g," ").trim()}function zd(e){var t,n,r,i=Bd(e);if(!Fd.has(i)){var o=function(e,t){return new Dd(e,t).parseDocument()}(e,{experimentalFragmentVariables:Vd,allowLegacyFragmentVariables:Vd});if(!o||"Document"!==o.kind)throw new Error("Not a valid GraphQL document.");Fd.set(i,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}((t=o,n=new Set,r=[],t.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var t=e.name.value,i=Bd((a=e.loc).source.body.substring(a.start,a.end)),o=Ud.get(t);o&&!o.has(i)?jd&&console.warn("Warning: fragment with name "+t+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||Ud.set(t,o=new Set),o.add(i),n.has(i)||(n.add(i),r.push(e))}else r.push(e);var a})),pi(pi({},t),{definitions:r}))))}return Fd.get(i)}function Gd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),zd(r)}var Hd,qd,Wd=Gd;(Hd=Gd||(Gd={})).gql=Wd,Hd.resetCaches=function(){Fd.clear(),Ud.clear()},Hd.disableFragmentWarnings=function(){jd=!1},Hd.enableExperimentalFragmentVariables=function(){Vd=!0},Hd.disableExperimentalFragmentVariables=function(){Vd=!1},Gd.default=Gd,function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(qd||(qd={}));var Zd=new Map;function Kd(e){var t;switch(e){case qd.Query:t="Query";break;case qd.Mutation:t="Mutation";break;case qd.Subscription:t="Subscription"}return t}function Yd(e){var t=bn.useContext(Bl()),n=e||t.client;return Di(!!n,47),n}function Qd(e,t){var n=Yd(null==t?void 0:t.client);!function(e,t){var n=function(e){var t,n,r=Zd.get(e);if(r)return r;Di(!!e&&!!e.kind,57,e);for(var i=[],o=[],a=[],s=[],c=0,l=e.definitions;c<l.length;c++){var u=l[c];if("FragmentDefinition"!==u.kind){if("OperationDefinition"===u.kind)switch(u.operation){case"query":o.push(u);break;case"mutation":a.push(u);break;case"subscription":s.push(u)}}else i.push(u)}Di(!i.length||o.length||a.length||s.length,58),Di(o.length+a.length+s.length<=1,59,e,o.length,s.length,a.length),n=o.length?qd.Query:qd.Mutation,o.length||a.length||(n=qd.Subscription);var d=o.length?o:a.length?a:s;Di(1===d.length,60,e,d.length);var h=d[0];t=h.variableDefinitions||[];var p={name:h.name&&"Name"===h.name.kind?h.name.value:"data",type:n,variables:t};return Zd.set(e,p),p}(e),r=Kd(t),i=Kd(n.type);Di(n.type===t,61,r,r,i)}(e,qd.Mutation);var r=bn.useState({called:!1,loading:!1,client:n}),i=r[0],o=r[1],a=bn.useRef({result:i,mutationId:0,isMounted:!0,client:n,mutation:e,options:t});Object.assign(a.current,{client:n,options:t,mutation:e});var s=bn.useCallback((function(e){void 0===e&&(e={});var t=a.current,n=t.options,r=t.mutation,i=pi(pi({},n),{mutation:r}),s=e.client||a.current.client;a.current.result.loading||i.ignoreResults||!a.current.isMounted||o(a.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:s});var c=++a.current.mutationId,l=Fc(i,e);return s.mutate(l).then((function(t){var n,r,i=t.data,u=t.errors,d=u&&u.length>0?new ia({graphQLErrors:u}):void 0,h=e.onError||(null===(n=a.current.options)||void 0===n?void 0:n.onError);if(d&&h&&h(d,l),c===a.current.mutationId&&!l.ignoreResults){var p={called:!0,loading:!1,data:i,error:d,client:s};a.current.isMounted&&!Qa(a.current.result,p)&&o(a.current.result=p)}var f=e.onCompleted||(null===(r=a.current.options)||void 0===r?void 0:r.onCompleted);return d||null==f||f(t.data,l),t})).catch((function(t){var n;if(c===a.current.mutationId&&a.current.isMounted){var r={loading:!1,error:t,data:void 0,called:!0,client:s};Qa(a.current.result,r)||o(a.current.result=r)}var i=e.onError||(null===(n=a.current.options)||void 0===n?void 0:n.onError);if(i)return i(t,l),{data:void 0,errors:t};throw t}))}),[]),c=bn.useCallback((function(){a.current.isMounted&&o({called:!1,loading:!1,client:n})}),[]);return bn.useEffect((function(){return a.current.isMounted=!0,function(){a.current.isMounted=!1}}),[]),[s,pi({reset:c},i)]}const Jd=(0,bn.createContext)({setMeetingInfo:()=>{}}),Xd=e=>bn.createElement(Jd.Provider,{value:{...e.value}},e.children),$d=Zu(Jd);let eh=()=>({events:{},emit(e,...t){let n=this.events[e]||[];for(let e=0,r=n.length;e<r;e++)n[e](...t)},on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter((e=>t!==e))}}});const th=eh(),nh=Gd`
  mutation CreateChannel($title: String!, $enablePSTN: Boolean) {
    createChannel(title: $title, enablePSTN: $enablePSTN) {
      passphrase {
        host
        view
      }
      channel
      title
      pstn {
        number
        dtmf
      }
    }
  }
`,rh=bn.createContext({}),ih=rh.Provider,oh=(rh.Consumer,rh);let ah=function(e){return e[e.Broadcaster=1]="Broadcaster",e[e.Audience=2]="Audience",e}({}),sh=function(e){return e[e.Communication=0]="Communication",e[e.LiveBroadcasting=1]="LiveBroadcasting",e}({}),ch=function(e){return e[e.disabled=0]="disabled",e[e.enabled=1]="enabled",e[e.disabling=2]="disabling",e[e.enabling=3]="enabling",e}({}),lh=function(e){return e[e.NOT_REQUESTED=0]="NOT_REQUESTED",e[e.REQUESTED=1]="REQUESTED",e[e.GRANTED_FOR_CAM_AND_MIC=2]="GRANTED_FOR_CAM_AND_MIC",e[e.GRANTED_FOR_CAM_ONLY=3]="GRANTED_FOR_CAM_ONLY",e[e.GRANTED_FOR_MIC_ONLY=4]="GRANTED_FOR_MIC_ONLY",e[e.REJECTED=5]="REJECTED",e[e.CANCELLED=6]="CANCELLED",e}({}),uh=function(e){return e[e.HIGH=0]="HIGH",e[e.LOW=1]="LOW",e[e.DYNAMIC=2]="DYNAMIC",e}({});const dh={rtcProps:{appId:"",channel:"",geoFencing:!0,audioRoom:!1}},hh=bn.createContext(dh),ph=hh.Provider,fh=(hh.Consumer,hh),mh=bn.createContext({}),vh=mh.Provider,gh=(mh.Consumer,mh);var yh=__webpack_require__(8424),bh=__webpack_require__.n(yh);let Eh=function(e){return e[e.Hidden=1]="Hidden",e[e.Fit=2]="Fit",e[e.Adaptive=3]="Adaptive",e}({}),_h=function(e){return e.host="host",e.audience="audience",e}({}),Sh=function(e){return e.live="live",e.rtc="rtc",e}({});function Ah(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.AgoraRTC=bh();let wh=function(e){return e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e}({}),Th=function(e){return e[e.None=0]="None",e[e.AES128XTS=1]="AES128XTS",e[e.AES128ECB=2]="AES128ECB",e[e.AES256XTS=3]="AES256XTS",e[e.SM4128ECB=4]="SM4128ECB",e[e.AES128GCM=5]="AES128GCM",e[e.AES256GCM=6]="AES256GCM",e}({});bh().setArea({areaCode:wh.GLOBAL,excludedArea:wh.CHINA}),bh().setLogLevel(0),bh().enableLogUpload();class Ch{constructor(e){Ah(this,"activeSpeakerUid",void 0),Ah(this,"appId",void 0),Ah(this,"client",void 0),Ah(this,"screenClient",void 0),Ah(this,"eventsMap",new Map([["UserJoined",()=>null],["UserOffline",()=>null],["JoinChannelSuccess",()=>null],["ScreenshareStopped",()=>null],["RemoteAudioStateChanged",()=>null],["RemoteVideoStateChanged",()=>null],["NetworkQuality",()=>null],["ActiveSpeaker",()=>null],["StreamMessage",()=>null]])),Ah(this,"localStream",{}),Ah(this,"screenStream",{}),Ah(this,"remoteStreams",new Map),Ah(this,"inScreenshare",!1),Ah(this,"videoProfile","480p_9"),Ah(this,"isPublished",!1),Ah(this,"isAudioEnabled",!1),Ah(this,"isVideoEnabled",!1),Ah(this,"isAudioPublished",!1),Ah(this,"isVideoPublished",!1),Ah(this,"isJoined",!1),Ah(this,"videoDeviceId",void 0),Ah(this,"audioDeviceId",void 0),Ah(this,"muteLocalVideoMutex",!1),Ah(this,"muteLocalAudioMutex",!1),Ah(this,"speakerDeviceId",""),Ah(this,"usersVolumeLevel",[]),Ah(this,"getEncryptionMode",((e,t)=>{let n;if(e)switch(t){case Th.None:n="none";break;case Th.AES128ECB:n="aes-128-ecb";break;case Th.AES128XTS:n="aes-128-xts";break;case Th.AES256XTS:n="aes-256-xts";break;case Th.SM4128ECB:n="sm4-128-ecb";default:n="none"}else n="none";return n})),this.appId=e}static async create(e){let t=new Ch(e);return window.engine=t,t}getRemoteVideoStats(e){try{const t=this.client.getRemoteVideoStats();return t&&t[e]?t[e]:null}catch(e){return console.log("ERROR: on getRemoteVideoStats - "+(null==e?void 0:e.message)),null}}async setVideoProfile(e){this.videoProfile=e}async enableAudio(){const e={bypassWebAudio:"web"==En.Z.OS&&Pu()};try{let t=await bh().createMicrophoneAudioTrack(e);this.localStream.audio=t,this.audioDeviceId=null==t?void 0:t.getMediaStreamTrack().getSettings().deviceId,this.isAudioEnabled=!0}catch(e){let t=e;throw e.status={audioError:t},e}}async enableVideo(e,t){const n={bypassWebAudio:"web"==En.Z.OS&&Pu(),microphoneId:t},r={encoderConfig:this.videoProfile,cameraId:e};try{let[e,t]=await bh().createMicrophoneAndCameraTracks(n,r);this.localStream.audio=e,this.localStream.video=t,this.audioDeviceId=null==e?void 0:e.getMediaStreamTrack().getSettings().deviceId,this.videoDeviceId=null==t?void 0:t.getMediaStreamTrack().getSettings().deviceId,this.isVideoEnabled=!0,this.isAudioEnabled=!0}catch(e){let t=!1,a=!1;try{var i;let e;try{e=await bh().createMicrophoneAudioTrack(n)}catch(t){r.microphoneId="",e=await bh().createMicrophoneAudioTrack(n)}this.localStream.audio=e,this.audioDeviceId=null===(i=e)||void 0===i?void 0:i.getMediaStreamTrack().getSettings().deviceId,this.isAudioEnabled=!0}catch(e){t=e}try{var o;let e;try{e=await bh().createCameraVideoTrack(r)}catch(t){r.cameraId="",e=await bh().createCameraVideoTrack(r)}this.localStream.video=e,this.videoDeviceId=null===(o=e)||void 0===o?void 0:o.getMediaStreamTrack().getSettings().deviceId,this.isVideoEnabled=!0}catch(e){a=e}throw e.status={audioError:t,videoError:a},e}}async enableAudioVolumeIndication(e,t,n){bh().setParameter("AUDIO_VOLUME_INDICATION_INTERVAL",e),this.client.enableAudioVolumeIndicator()}async publish(){if(this.localStream.audio||this.localStream.video)try{let n=[];var e,t;this.localStream.audio&&this.isAudioEnabled&&n.push(this.localStream.audio),this.localStream.video&&this.isVideoEnabled&&n.push(this.localStream.video),n.length>0&&(await this.client.publish(n),"audio"===n[0].trackMediaType?this.isAudioPublished=!0:"video"===n[0].trackMediaType&&(this.isVideoPublished=!0),"audio"===(null===(e=n[1])||void 0===e?void 0:e.trackMediaType)?this.isAudioPublished=!0:"video"===(null===(t=n[1])||void 0===t?void 0:t.trackMediaType)&&(this.isVideoPublished=!0),!1===this.isPublished&&(this.isPublished=!0,this.eventsMap.get("JoinChannelSuccess")()))}catch(e){console.error(e,this.localStream),this.isPublished=!1}}async joinChannel(e,t,n,r){this.client.on("user-joined",(e=>{this.eventsMap.get("UserJoined")(e.uid),this.eventsMap.get("RemoteVideoStateChanged")(e.uid,0,0,0),this.eventsMap.get("RemoteAudioStateChanged")(e.uid,0,0,0)})),this.client.on("user-left",(e=>{const t=e.uid;this.remoteStreams.has(t)&&this.remoteStreams.delete(t),this.eventsMap.get("UserOffline")(t)})),this.client.on("user-published",(async(e,t)=>{if(this.inScreenshare&&e.uid===this.screenClient.uid?this.eventsMap.get("RemoteVideoStateChanged")(e.uid,2,0,0):await this.client.subscribe(e,t),"audio"===t){const t=e.audioTrack;var n,r;null==t||t.play(),this.remoteStreams.set(e.uid,{...this.remoteStreams.get(e.uid),audio:t}),this.speakerDeviceId&&(null===(n=this.remoteStreams.get(e.uid))||void 0===n||null===(r=n.audio)||void 0===r||r.setPlaybackDevice(this.speakerDeviceId)),this.eventsMap.get("RemoteAudioStateChanged")(e.uid,2,0,0)}else{const t=e.videoTrack;this.remoteStreams.set(e.uid,{...this.remoteStreams.get(e.uid),video:t}),this.eventsMap.get("RemoteVideoStateChanged")(e.uid,2,0,0)}})),this.client.on("user-unpublished",(async(e,t)=>{if("audio"===t){const{audio:t,...n}=this.remoteStreams.get(e.uid);this.remoteStreams.set(e.uid,n),this.eventsMap.get("RemoteAudioStateChanged")(e.uid,0,0,0)}else{const{video:t,...n}=this.remoteStreams.get(e.uid);this.remoteStreams.set(e.uid,n),this.eventsMap.get("RemoteVideoStateChanged")(e.uid,0,0,0)}})),this.client.on("volume-indicator",(e=>{this.usersVolumeLevel=e})),this.client.on("stream-type-changed",(function(e,t){console.log("[fallback]: ",e,t)})),this.client.on("network-quality",(async({downlinkNetworkQuality:e,uplinkNetworkQuality:t})=>{const n=this.eventsMap.get("NetworkQuality");n(0,e,t);const r=this.client.getRemoteNetworkQuality();Object.keys(r).forEach((e=>{n(e,r[e].downlinkNetworkQuality,r[e].uplinkNetworkQuality)}))})),this.client.on("stream-message",((e,t)=>{console.log(`stt-web: onStreamMessageCallback uid:${e} , payload:${t}`),this.eventsMap.get("StreamMessage")(e,t)})),await this.client.join(this.appId,t,e||null,r||null),this.isJoined=!0,await this.publish(),console.log("enabling screen sleep")}getUsersVolumeLevel(){return this.usersVolumeLevel}async leaveChannel(){this.client.leave(),this.remoteStreams.forEach(((e,t,n)=>{var r,i;null===(r=e.video)||void 0===r||r.close(),null===(i=e.audio)||void 0===i||i.close()})),this.remoteStreams.clear(),console.log("disabling screen sleep")}addListener(e,t){return"UserJoined"!==e&&"UserOffline"!==e&&"JoinChannelSuccess"!==e&&"ScreenshareStopped"!==e&&"RemoteAudioStateChanged"!==e&&"RemoteVideoStateChanged"!==e&&"NetworkQuality"!==e&&"ActiveSpeaker"!==e&&"StreamMessage"!==e||this.eventsMap.set(e,t),{remove:()=>{console.log("Use destroy method to remove all the event listeners from the RtcEngine instead.")}}}async muteLocalAudioStream(e){let t=!1;try{var n;this.muteLocalAudioMutex||(this.muteLocalAudioMutex=!0,t=!0,await(null===(n=this.localStream.audio)||void 0===n?void 0:n.setMuted(e)),this.muteLocalAudioMutex=!1,this.isAudioEnabled=!e,e||this.isAudioPublished||!this.isJoined||await this.publish())}catch(e){t&&(this.muteLocalAudioMutex=!1),console.error(e,"\n Be sure to invoke the enableVideo method before using this method.")}}async muteLocalVideoStream(e){let t=!1;try{var n;this.muteLocalVideoMutex||(this.muteLocalVideoMutex=!0,t=!0,await(null===(n=this.localStream.video)||void 0===n?void 0:n.setEnabled(!e)),this.muteLocalVideoMutex=!1,this.isVideoEnabled=!e,e||this.isVideoPublished||!this.isJoined||await this.publish())}catch(e){t&&(this.muteLocalVideoMutex=!1),console.error(e,"\n Be sure to invoke the enableVideo method before using this method.")}}async muteRemoteAudioStream(e,t){try{var n,r;null===(n=this.remoteStreams.get(e))||void 0===n||null===(r=n.audio)||void 0===r||r.setEnabled(!t)}catch(e){console.error(e)}}async muteRemoteVideoStream(e,t){try{var n,r;null===(n=this.remoteStreams.get(e))||void 0===n||null===(r=n.video)||void 0===r||r.setEnabled(!t)}catch(e){console.error(e)}}async getDevices(e){const t=await bh().getDevices(!0);return e&&e(t),t}async setChannelProfile(e){try{this.client=bh().createClient({codec:"vp8",mode:e===sh.LiveBroadcasting?Sh.live:Sh.rtc}),this.screenClient=bh().createClient({codec:"vp8",mode:e===sh.LiveBroadcasting?Sh.live:Sh.rtc})}catch(e){throw e}}async setClientRole(e,t){try{e==ah.Audience?(this.isJoined&&(await this.client.unpublish(),this.isAudioPublished=!1,this.isVideoPublished=!1,this.isPublished=!1),await this.client.setClientRole(_h.audience,t),await this.screenClient.setClientRole(_h.audience,t)):e==ah.Broadcaster&&(await this.client.setClientRole(_h.host),await this.screenClient.setClientRole(_h.host))}catch(e){throw e}}async changeCamera(e,t,n){try{var r;await(null===(r=this.localStream.video)||void 0===r?void 0:r.setDevice(e)),this.videoDeviceId=e,t(e)}catch(e){n(e)}}async switchCamera(){try{const t=await bh().getDevices(!0);for(let n=0;n<t.length;n++){let r=t[n];if("videoinput"===r.kind&&r.deviceId!==this.videoDeviceId){var e;await(null===(e=this.localStream.video)||void 0===e?void 0:e.setDevice(r.deviceId)),this.videoDeviceId=r.deviceId;break}}}catch(e){throw e}}async changeMic(e,t,n){try{var r;await(null===(r=this.localStream.audio)||void 0===r?void 0:r.setDevice(e)),this.audioDeviceId=e,t(e)}catch(e){n(e)}}async changeSpeaker(e,t,n){try{var r;null===(r=this.remoteStreams)||void 0===r||r.forEach(((t,n,r)=>{var i;null==t||null===(i=t.audio)||void 0===i||i.setPlaybackDevice(e)})),this.speakerDeviceId=e,t(e)}catch(e){n(e)}}async enableDualStreamMode(e){return this.client[e?"enableDualStream":"disableDualStream"]()}async setRemoteSubscribeFallbackOption(e){this.streams.forEach((t=>{this.client.setStreamFallbackOption(t,e)})),Promise.resolve(),console.log("!set fallback")}async enableEncryption(e,t){let n;n=this.getEncryptionMode(e,null==t?void 0:t.encryptionMode);try{await Promise.all([this.client.setEncryptionConfig(n,t.encryptionKey),this.screenClient.setEncryptionConfig(n,t.encryptionKey)])}catch(e){throw e}}setEncryptionSecret(e){console.error("Please use enableEncryption instead")}setEncryptionMode(e){console.error("Please use enableEncryption instead")}async destroy(){var e,t,n,r;this.inScreenshare&&(this.eventsMap.get("UserOffline")(this.screenClient.uid),this.screenClient.leave(),this.eventsMap.get("ScreenshareStopped")()),this.eventsMap.forEach(((e,t,n)=>{this.client.off(t,e)})),this.eventsMap.clear(),0!==this.remoteStreams.size&&(this.remoteStreams.forEach(((e,t,n)=>{var r,i,o,a;(null==e||null===(r=e.video)||void 0===r?void 0:r.isPlaying)&&(null==e||null===(i=e.video)||void 0===i||i.stop()),(null==e||null===(o=e.video)||void 0===o?void 0:o.isPlaying)&&(null==e||null===(a=e.audio)||void 0===a||a.stop())})),this.remoteStreams.clear()),null===(e=this.localStream.audio)||void 0===e||e.close(),null===(t=this.localStream.video)||void 0===t||t.close(),this.localStream={},null===(n=this.screenStream.audio)||void 0===n||n.close(),null===(r=this.screenStream.video)||void 0===r||r.close(),this.screenStream={}}async setRemoteVideoStreamType(e,t){return this.client.setRemoteVideoStreamType(e,t)}isSingleTrack(e){return!e.length}async startScreenshare(e,t,n,r,i,o,a,s={},c="auto"){if(this.inScreenshare){this.eventsMap.get("UserOffline")(this.screenClient.uid),this.screenClient.leave(),this.eventsMap.get("ScreenshareStopped")();try{var l,u;null===(l=this.screenStream.audio)||void 0===l||l.close(),null===(u=this.screenStream.video)||void 0===u||u.close(),this.screenStream={}}catch(e){throw e}this.inScreenshare=!1}else{try{if(console.log("[screenshare]: creating stream"),a&&a.screenKey&&a.mode){let e;e=this.getEncryptionMode(!0,null==a?void 0:a.mode);try{await this.screenClient.setEncryptionConfig(e,a.screenKey)}catch(e){console.log("e: Encryption for screenshare failed",e)}}const e=await bh().createScreenVideoTrack(s,c);this.isSingleTrack(e)?this.screenStream.video=e:(this.screenStream.video=e[0],this.screenStream.audio=e[1])}catch(e){throw console.log("[screenshare]: Error during intialization"),e}await this.screenClient.join(this.appId,t,e||null,r||null),this.inScreenshare=!0,await this.screenClient.publish(this.screenStream.audio?[this.screenStream.video,this.screenStream.audio]:this.screenStream.video),this.screenStream.video.on("track-ended",(()=>{var e,t;this.eventsMap.get("UserOffline")(this.screenClient.uid),this.screenClient.leave(),null===(e=this.screenStream.audio)||void 0===e||e.close(),null===(t=this.screenStream.video)||void 0===t||t.close(),this.screenStream={},this.eventsMap.get("ScreenshareStopped")(),this.inScreenshare=!1}))}}}const Rh=du.Z.create({full:{flex:1}}),Ih=e=>{var t;const n=0===e.uid?window.engine.localStream.video:1===e.uid?window.engine.screenStream.video:null===(t=window.engine.remoteStreams.get(e.uid))||void 0===t?void 0:t.video;return(0,bn.useEffect)((function(){return null!=n&&n.play&&(2===e.renderMode?n.play(String(e.uid),{fit:"contain"}):n.play(String(e.uid))),()=>{console.log(`unmounting stream ${e.uid}`,n),n&&n.stop()}}),[e.uid,e.renderMode,n]),n?bn.createElement("div",{id:String(e.uid),className:"video-container",style:{...Rh.full,...e.style,overflow:"hidden"}}):bn.createElement("div",{style:{...Rh.full,backgroundColor:"black"}})};function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oh.apply(this,arguments)}function kh(e){return bn.createElement(Ih,Oh({uid:0},e))}const Nh={SurfaceView:kh,TextureView:kh},xh={SurfaceView:Ih,TextureView:Ih},Ph={...Eh},Dh=Ch,Lh={"120p_1":{dimensions:{width:160,height:120},frameRate:15,bitRate:65},"120p_3":{dimensions:{width:120,height:120},frameRate:15,bitRate:50},"180p_1":{dimensions:{width:320,height:180},frameRate:15,bitRate:140},"180p_3":{dimensions:{width:180,height:180},frameRate:15,bitRate:100},"180p_4":{dimensions:{width:240,height:180},frameRate:15,bitRate:120},"240p_1":{dimensions:{width:320,height:240},frameRate:15,bitRate:200},"240p_3":{dimensions:{width:240,height:240},frameRate:15,bitRate:140},"240p_4":{dimensions:{width:424,height:240},frameRate:15,bitRate:220},"360p_1":{dimensions:{width:640,height:360},frameRate:15,bitRate:400},"360p_3":{dimensions:{width:360,height:360},frameRate:15,bitRate:260},"360p_4":{dimensions:{width:640,height:360},frameRate:30,bitRate:600},"360p_6":{dimensions:{width:360,height:360},frameRate:30,bitRate:400},"360p_7":{dimensions:{width:480,height:360},frameRate:15,bitRate:320},"360p_8":{dimensions:{width:480,height:360},frameRate:30,bitRate:490},"360p_9":{dimensions:{width:640,height:360},frameRate:15,bitRate:800},"360p_10":{dimensions:{width:640,height:360},frameRate:24,bitRate:800},"360p_11":{dimensions:{width:640,height:360},frameRate:24,bitRate:1e3},"480p_1":{dimensions:{width:640,height:480},frameRate:15,bitRate:500},"480p_2":{dimensions:{width:640,height:480},frameRate:30,bitRate:1e3},"480p_3":{dimensions:{width:480,height:480},frameRate:15,bitRate:400},"480p_4":{dimensions:{width:640,height:480},frameRate:30,bitRate:750},"480p_6":{dimensions:{width:480,height:480},frameRate:30,bitRate:600},"480p_8":{dimensions:{width:848,height:480},frameRate:15,bitRate:610},"480p_9":{dimensions:{width:848,height:480},frameRate:30,bitRate:930},"480p_10":{dimensions:{width:640,height:480},frameRate:10,bitRate:400},"720p_1":{dimensions:{width:1280,height:720},frameRate:15,bitRate:1130},"720p_2":{dimensions:{width:1280,height:720},frameRate:30,bitRate:2e3},"720p_3":{dimensions:{width:1280,height:720},frameRate:30,bitRate:1710},"720p_5":{dimensions:{width:960,height:720},frameRate:15,bitRate:910},"720p_6":{dimensions:{width:960,height:720},frameRate:30,bitRate:1380}},Mh=({dispatch:t,children:n})=>{const r=(0,bn.useRef)(!1),[i,o]=(0,bn.useState)(!1),[a,s]=(0,bn.useState)(!1),{callbacks:c,rtcProps:l,mode:u}=(0,bn.useContext)(fh),{geoFencing:d=!0,audioRoom:h=!1,activeSpeaker:p=!1}=l||{};let f=(0,bn.useRef)({});const m=(0,bn.useRef)(!1),v=(0,bn.useRef)(!0),g=(e,n)=>{t(e&&n?{type:"LocalPermissionState",value:[lh.REJECTED]}:e&&!n?{type:"LocalPermissionState",value:[lh.GRANTED_FOR_CAM_ONLY]}:!e&&n?{type:"LocalPermissionState",value:[lh.GRANTED_FOR_MIC_ONLY]}:{type:"LocalPermissionState",value:[lh.GRANTED_FOR_CAM_AND_MIC]})},y=async()=>{try{t({type:"LocalPermissionState",value:[lh.REQUESTED]}),!0===h?(await f.current.enableAudio(),t({type:"LocalPermissionState",value:[lh.GRANTED_FOR_MIC_ONLY]}),t({type:"LocalMuteAudio",value:[ch.disabled]})):(await f.current.enableVideo(),t({type:"LocalPermissionState",value:[lh.GRANTED_FOR_CAM_AND_MIC]}),t({type:"LocalMuteAudio",value:[ch.disabled]}),t({type:"LocalMuteVideo",value:[ch.disabled]}))}catch(e){const{status:n}=e;if(n){const{audioError:e,videoError:r}=n;e?console.error("No audio device",e):t({type:"LocalMuteAudio",value:[ch.disabled]}),r||h?console.error("No video device",r):t({type:"LocalMuteVideo",value:[ch.disabled]}),g(e,r)}console.error("No devices",e)}};return(0,bn.useEffect)((()=>(r.current||async function(){r.current=!0,"android"===En.Z.OS&&await async function(e){try{const t=[];t.push(_n.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO),e||t.push(_n.PermissionsAndroid.PERMISSIONS.CAMERA);const n=await _n.PermissionsAndroid.requestMultiple(t);n["android.permission.RECORD_AUDIO"]===_n.PermissionsAndroid.RESULTS.GRANTED&&n["android.permission.CAMERA"]===_n.PermissionsAndroid.RESULTS.GRANTED?console.log("You can use the cameras & mic"):n["android.permission.RECORD_AUDIO"]===_n.PermissionsAndroid.RESULTS.GRANTED?console.log("You can use mic"):console.log("Permission denied")}catch(e){console.warn(e)}}(h);try{if(!0!==d||"android"!==En.Z.OS&&"ios"!==En.Z.OS?f.current=await Dh.create(l.appId):f.current=await Dh.createWithAreaCode(l.appId,wh.GLOB^wh.CN),u==sh.LiveBroadcasting?(await f.current.setChannelProfile(sh.LiveBroadcasting),await f.current.setClientRole(l.role===ah.Audience?ah.Audience:ah.Broadcaster)):await f.current.setChannelProfile(sh.Communication),p&&await f.current.enableAudioVolumeIndication(100,3,!0),h)"android"!==En.Z.OS&&"ios"!==En.Z.OS||(await f.current.setAudioProfile(e.AudioProfile.Default,e.AudioScenario.Default),u==sh.Communication&&await f.current.setEnableSpeakerphone(!0));else if(l.profile)if("web"===En.Z.OS)await f.current.setVideoProfile(l.profile);else{const e=Lh[l.profile];await f.current.setVideoEncoderConfiguration({...e,bitrate:0})}u===sh.LiveBroadcasting&&l.role==ah.Audience&&"web"===En.Z.OS||(async()=>{u==sh.LiveBroadcasting&&(null==l?void 0:l.role)==ah.Audience?y():(async()=>{try{t({type:"LocalPermissionState",value:[lh.REQUESTED]}),!0===h?(await f.current.enableAudio(),t({type:"LocalPermissionState",value:[lh.GRANTED_FOR_MIC_ONLY]}),t({type:"LocalMuteAudio",value:[ch.enabled]})):(await f.current.enableVideo(),t({type:"LocalPermissionState",value:[lh.GRANTED_FOR_CAM_AND_MIC]}),t({type:"LocalMuteAudio",value:[ch.enabled]}),t({type:"LocalMuteVideo",value:[ch.enabled]}))}catch(e){const{status:n}=e;if(n){const{audioError:e,videoError:r}=n;e?console.error("No audio device",e):t({type:"LocalMuteAudio",value:[ch.enabled]}),r||h?console.error("No video device",r):t({type:"LocalMuteVideo",value:[ch.enabled]}),g(e,r)}console.error("No devices",e)}})()})().then((()=>{s(!0),m.current=!0})),f.current.addListener("JoinChannelSuccess",(async(e,t,n)=>{console.log("UIkit enabling dual stream",l.dual),l.dual&&(console.log("UIkit enabled dual stream"),await f.current.enableDualStreamMode(l.dual)),(null==c?void 0:c.JoinChannelSuccess)&&c.JoinChannelSuccess(e,t,n)})),f.current.addListener("UserJoined",(async(...e)=>{111111!==e[0]&&t({type:"UserJoined",value:e})})),f.current.addListener("UserOffline",((...e)=>{t({type:"UserOffline",value:e})})),f.current.addListener("RemoteAudioStateChanged",((...e)=>{t({type:"RemoteAudioStateChanged",value:e})})),f.current.addListener("Error",(e=>{console.log("Error: ",e)})),f.current.addListener("RemoteVideoStateChanged",((...e)=>{t({type:"RemoteVideoStateChanged",value:e})})),f.current.addListener("AudioVolumeIndication",((...e)=>{var n;const[r,i]=e;if(0===(null===(n=r[0])||void 0===n?void 0:n.uid)){r[0].vad;const e=r[0].volume;t(e>0?{type:"ActiveSpeakerDetected",value:[l.uid]}:{type:"ActiveSpeakerDetected",value:[void 0]})}})),f.current.addListener("ActiveSpeaker",((...e)=>{t({type:"ActiveSpeakerDetected",value:e})})),o(!0)}catch(e){console.error(e)}r.current=!1}(),()=>{f.current.destroy&&f.current.destroy()})),[l.appId,l.uid]),(0,bn.useEffect)((()=>{v.current?v.current=!1:(async()=>{if(u==sh.LiveBroadcasting&&f.current.setClientRole){var e,n,r,i,o,a;if(l.role==ah.Broadcaster&&(await(null===(e=f.current)||void 0===e?void 0:e.setClientRole(ah.Broadcaster)),m.current||(await y(),m.current=!0),m.current))await(null===(n=f.current)||void 0===n?void 0:n.muteLocalAudioStream(!0)),h||await(null===(r=f.current)||void 0===r?void 0:r.muteLocalVideoStream(!0)),t({type:"LocalMuteAudio",value:[ch.disabled]}),h||t({type:"LocalMuteVideo",value:[ch.disabled]});if(l.role==ah.Audience)await(null===(i=f.current)||void 0===i?void 0:i.muteLocalAudioStream(!0)),h||await(null===(a=f.current)||void 0===a?void 0:a.muteLocalVideoStream(!0)),t({type:"LocalMuteAudio",value:[ch.disabled]}),h||t({type:"LocalMuteVideo",value:[ch.disabled]}),await(null===(o=f.current)||void 0===o?void 0:o.setClientRole(ah.Audience))}})()}),[l.role]),bn.createElement(bn.Fragment,null,i&&f?n(f,a):bn.createElement(bn.Fragment,null))},Fh=({children:e,precall:t,engineRef:n,uidState:r,dispatch:i,tracksReady:o})=>{let a=(0,bn.useRef)(!1);const{rtcProps:s}=(0,bn.useContext)(fh),{audioRoom:c=!1}=s;return(0,bn.useEffect)((()=>{a.current&&o&&"web"===En.Z.OS&&n.current.publish()}),[o]),(0,bn.useEffect)((()=>{const e=n.current;async function o(){try{console.log("Leaving channel"),e.leaveChannel(),a.current=!1}catch(e){console.error("Cannot leave the channel:",e)}}const{renderList:l,activeUids:u}=r,[d]=u,h=l[d].video;async function p(){s.encryption&&s.encryption.key&&s.encryption.mode&&(console.log("using channel encryption",s.encryption),await e.enableEncryption(!0,{encryptionKey:s.encryption.key,encryptionMode:s.encryption.mode})),c||h!==ch.enabled||"ios"!==En.Z.OS||(i({type:"LocalMuteVideo",value:[ch.disabling]}),await e.muteLocalVideoStream(!0),i({type:"LocalMuteVideo",value:[ch.disabled]})),await e.joinChannel(s.token||null,s.channel,null,s.uid||0),c||h!==ch.enabled||"ios"!==En.Z.OS||(i({type:"LocalMuteVideo",value:[ch.enabling]}),await e.muteLocalVideoStream(!1),i({type:"LocalMuteVideo",value:[ch.enabled]}))}return async function(){t?console.log("In precall - waiting to join"):(a.current?(await o(),await p()):(await p(),a.current=!0),console.log("Attempted join: ",s.channel))}(),()=>{t||o()}}),[s.channel,s.uid,s.token,t,s.encryption]),bn.createElement(bn.Fragment,null,e)},Uh=()=>{const{rtcProps:e}=(0,bn.useContext)(fh);return(null==e?void 0:e.uid)||0},jh=e=>{const{callbacks:t,rtcProps:n,mode:r}=(0,bn.useContext)(fh);let[i,o]=(0,bn.useState)((null==n?void 0:n.initialDualStreamMode)||uh.DYNAMIC);const a=Uh(),s={renderList:{[a]:{uid:a,audio:ch.disabled,video:ch.disabled,streamType:"high",type:"rtc",permissionStatus:lh.NOT_REQUESTED}},activeUids:[a],activeSpeaker:void 0,pinnedUid:void 0,lastJoinedUid:0},[c,l]=bn.useState(JSON.parse(JSON.stringify(s)));bn.useEffect((()=>{l(JSON.parse(JSON.stringify(s)))}),[]);const u=(0,bn.useCallback)(((e,t)=>{var n;if(-1===(null==e||null===(n=e.activeUids)||void 0===n?void 0:n.indexOf(t)))return{};let r=[...e.activeUids],o={...e.renderList};const[a]=r;if(a===t)return{};const s=r.findIndex((e=>e===t));return s?(i===uh.DYNAMIC&&(o[a].streamType="low",o[t].streamType="high"),r[0]=t,r[s]=a,{activeUids:r,renderList:o,activeSpeaker:e.activeSpeaker}):{}}),[i]),d=(0,bn.useCallback)(((e,t)=>{var n;if(-1===(null==e||null===(n=e.activeUids)||void 0===n?void 0:n.indexOf(t)))return{};let r=[...e.activeUids],o={...e.renderList};if(!(t in o))return{};const[a]=r;if(a===t)return{};i===uh.DYNAMIC&&(o[a].streamType="low",o[t].streamType="high");const s=r.filter((e=>e!==t&&e!==a));return r=[t,a,...s],{activeSpeaker:e.activeSpeaker,activeUids:r,renderList:o}}),[i]),[h,p]=(0,bn.useReducer)(((e,n)=>{let r={};switch(n.type){case"AddCustomContent":n.type,r=((e,t)=>({...e,activeUids:[...e.activeUids,t.value[0]],renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],...t.value[1]}}}))(e,n);break;case"UpdateRenderList":n.type,r=((e,t)=>({...e,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],...t.value[1]}}}))(e,n);break;case"UpdateDualStreamMode":n.type,r=function(e,t){const n=t.value[0];let r,i={...e.renderList};const o=e=>{i[e].streamType="high"},a=e=>{i[e].streamType="low"};if(n===uh.HIGH)e.activeUids.forEach(o);else if(n===uh.LOW)e.activeUids.forEach(a);else{const[t,...n]=e.activeUids;o(t),n.forEach(a)}return r={activeSpeaker:e.activeSpeaker,renderList:i,activeUids:[...e.activeUids]},r}(e,n);break;case"UserJoined":n.type,r=function(e,t,n,r){const i=t.value[0];let o={},a={type:"rtc"};e.renderList[i]&&"type"in e.renderList[i]&&(a.type=e.renderList[i].type);let s={...e.renderList,[i]:{...e.renderList[i],uid:i,audio:ch.disabled,video:ch.disabled,streamType:n===uh.HIGH?"high":"low",...a}},c=e.activeUids.filter((e=>e===i)).length?[...e.activeUids]:[...e.activeUids,i];const[l]=c;return 2===c.length&&l===r?(n===uh.DYNAMIC&&(s[i].streamType="high"),o={activeSpeaker:e.activeSpeaker,renderList:s,activeUids:c.reverse(),lastJoinedUid:i}):o={activeSpeaker:e.activeSpeaker,renderList:s,activeUids:c,lastJoinedUid:i},console.log("new user joined!\n",e,o,{dualStreamMode:n}),o}(e,n,i,a);break;case"UserOffline":n.type,r=function(e,t){const n=[...e.activeUids].filter((e=>e!==t.value[0]));return{activeSpeaker:e.activeSpeaker,renderList:e.renderList,activeUids:n}}(e,n);break;case"SwapVideo":n.type,r=u(e,n.value[0]);break;case"DequeVideo":n.type,r=d(e,n.value[0]);break;case"UserMuteRemoteAudio":n.type,r=function(e,t){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],audio:t.value[1]}},activeUids:[...e.activeUids]}}(e,n);break;case"UserMuteRemoteVideo":n.type,r=function(e,t){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],video:t.value[1]}},activeUids:[...e.activeUids]}}(e,n);break;case"LocalMuteAudio":n.type,r=function(e,t,n){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[n]:{...e.renderList[n],audio:t.value[0]}},activeUids:[...e.activeUids]}}(e,n,a);break;case"LocalMuteVideo":n.type,r=function(e,t,n){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[n]:{...e.renderList[n],video:t.value[0]}},activeUids:[...e.activeUids]}}(e,n,a);break;case"LocalPermissionState":n.type,r=function(e,t,n){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[n]:{...e.renderList[n],permissionStatus:t.value[0]}},activeUids:[...e.activeUids]}}(e,n,a);break;case"RemoteAudioStateChanged":n.type,r=function(e,t){let n;return n=2===t.value[1]||1===t.value[1]?ch.enabled:ch.disabled,{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],audio:n}},activeUids:[...e.activeUids]}}(e,n);break;case"RemoteVideoStateChanged":n.type,r=function(e,t){let n;return 0===t.value[1]?n=ch.disabled:2===t.value[1]&&(n=ch.enabled),{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],video:void 0!==n?n:e.renderList[t.value[0]].video}},activeUids:[...e.activeUids]}}(e,n);break;case"ActiveSpeakerDetected":n.type,r=function(e,t){var n;return{...e,activeSpeaker:null!=t&&t.value&&null!==(n=t.value)&&void 0!==n&&n.length?t.value[0]:""}}(e,n);break;case"UserPin":n.type,r=function(e,t){var n;return{...e,pinnedUid:null!=t&&t.value&&null!==(n=t.value)&&void 0!==n&&n.length?t.value[0]:""}}(e,n)}return t&&t[n.type]&&(t[n.type].apply(null,n.value),console.log("callback executed")),{...e,...r}}),c);return bn.createElement(Mh,{dispatch:p},((t,i)=>{var s;return bn.createElement(Fh,{precall:!n.callActive,engineRef:t,uidState:h,dispatch:p,tracksReady:i},bn.createElement(ih,{value:{RtcEngine:t.current,dispatch:p,setDualStreamMode:o}},bn.createElement(vh,{value:{renderList:h.renderList,activeUids:r==sh.LiveBroadcasting&&(null==n?void 0:n.role)==ah.Audience?h.activeUids.filter((e=>e!==a)):h.activeUids,activeSpeaker:h.activeSpeaker,pinnedUid:null!=h&&h.pinnedUid&&-1!==(null==h||null===(s=h.activeUids)||void 0===s?void 0:s.indexOf(h.pinnedUid))?h.pinnedUid:void 0,lastJoinedUid:h.lastJoinedUid}},e.children)))}))},Vh=Nh.SurfaceView,Bh=xh.SurfaceView,zh=e=>{const{styleProps:t,rtcProps:n}=(0,bn.useContext)(fh),{maxViewStyles:r}=t||{},i=e.fallback,{containerStyle:o={},landscapeMode:a=!1}=e,s=Uh(),c=e.user.uid===(null==n?void 0:n.screenShareUid)?1:e.user.uid;let l={};return a&&(l={transform:"rotate(90deg)",alignSelf:"center",alignItems:"center"}),c===s?e.user.video?bn.createElement(Vh,{style:o,renderMode:Ph.Fit}):i?bn.createElement(i,null):bn.createElement(Sn.Z,{style:[{flex:1,backgroundColor:"#000"},o]}):bn.createElement(bn.Fragment,null,bn.createElement("div",{style:{flex:1,overflow:"hidden",display:e.user.video?"flex":"none",...l}},bn.createElement(Bh,{style:o,uid:c,renderMode:Ph.Fit})),e.user.video?bn.createElement(bn.Fragment,null):bn.createElement(bn.Fragment,null,i?bn.createElement(i,null):bn.createElement(Sn.Z,{style:[{flex:1,backgroundColor:"#000"},o]})))};let Gh={width:nu.Z.get("window").width,height:nu.Z.get("window").height};du.Z.create({max:{flex:1},buttonHolder:{height:100,alignItems:"center",flex:1,flexDirection:"row",justifyContent:"space-evenly"},button:{paddingHorizontal:20,paddingVertical:10,backgroundColor:"#0093E9",borderRadius:25},buttonText:{color:"#fff"},fullView:{width:Gh.width,height:Gh.height},minView:{width:240,height:135},minContainer:{position:"absolute",top:15,left:0,padding:0,margin:0,width:Gh.width},Controls:{position:"absolute",top:Gh.height-120,left:0,width:Gh.width,height:70,zIndex:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"},minOverlay:{...du.Z.absoluteFill,backgroundColor:"black",opacity:.7},minCloseBtn:{alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.1)",width:46,height:46,borderRadius:23,position:"absolute",right:5,top:5},controlBtn:{width:46,height:46,backgroundColor:"rgba(255,255,255,0.1)",alignItems:"center",justifyContent:"center"},leftRemoteBtn:{borderTopLeftRadius:23,borderBottomLeftRadius:23,borderRightWidth:4*du.Z.hairlineWidth,borderRightColor:"#007aff"},rightRemoteBtn:{borderTopRightRadius:23,borderBottomRightRadius:23,borderLeftWidth:4*du.Z.hairlineWidth,borderLeftColor:"#007aff"},remoteBtnContainer:{width:"100%",display:"flex",marginTop:50,flexDirection:"row",justifyContent:"center",alignSelf:"center"},localBtn:{borderRadius:23,borderWidth:4*du.Z.hairlineWidth,borderColor:"#007aff",backgroundColor:"#007aff"},endCall:{borderRadius:30,borderWidth:4*du.Z.hairlineWidth,borderColor:"#ff0000",width:60,height:60,backgroundColor:"#ff0000"}});const Hh={profile:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABxMSURBVHgB7d1PjFzFnQfwX1X3jGdIkDv4Yu/B00hxtJsE/8kl5DBmrI3kCGEwl3CIEXZMvIqWlfEhOYRI2FLIITnYSERRAGfGAg5wwfwRIVIQg31ZX+KxWXZXa6T0cIFD8LYFa49nuqu2fq+77Z7pP/O6+71X9aq+H2mYGccopv36O7/61e/VEwSwxsTvb5TrhUJpTMqyElQipctCyo2CqKRJlIh/Tety279San70U21+kBCiqltfa13hr7VS10iKitRUVVpXqVarLP10skIAbQRBkDiUaHxsxgRFqSALO6IgIr3T/E9lckvFJFyFg00ptSiFWFhRqrJyZHyBIDgILM+VZnVpuV6fqWtVbgQTzZB7oTQUU6ktaE0VreqXzLfzE8XiQvWQqBJ4C4HlEQ6npVptpzaVkpTF+xytmNJWMZf1glK1D4T5vPSTsXkCbyCwcqwVUKa/9JApN3aavtIMQSch5s1rs2CWv2+gCss3BFbOjD2/vFMKmpGF4kPmTcgV1HrNbljLBJiq195QmubRC8sXBJbjVlVRRAcJAZW0inkTzJuG/hksH92HwHJQK6SklI+ZJvl+QkhlpWreEGdN5frG9ceLZwmcg8ByyMQLKzMIKWdE4YXKyy0ILMs4pLDcc15j2bi8fALDrHYhsCzgJd+N2srBZuN8hiA3ePZLafXshCycxW5j9hBYGUI15ZXGkhFVV6YQWBmIgqpQeBrVlKeEmBdKPYtGffoQWClpW/Y91pyXAv9VNOkTS4eLcwSpQGAlLLp3j+ioVupJwrIvVFFw0fLKPJaLyUJgJQRBBV1UTM9yTi0tnUFwJQOBNSIEFcQQBdc40bPYWRwNAmtICCoYAnpcI0JgDeGOF2v7tRAnKbyjWyAZCK4hIbAGgPEESFhFLy/vQX8rPgRWDNHNyEqdFI2BT4BEmetqDgOo8SCw1nHHrH4afSrIQNU05k9dPyROEPSEwOohOjmhUDipMfQJ2cIysQ8E1hq8/LtJ9DQ1qioAO0y1pZeWnkVwrYbAatO8OXmWsPsHbsBu4hoILEJVBW5DU/624AMLVRXkRMVs/hwK/fTTYAMLVRXkkfnhejzkncQgA2tiVpel1q9jBxByKtidREmBmZzVR4VSFxFWkGNlMT5+cfJ0PbjVQTAVFpaA4CUpT20gOhHKKRBBBBYvAU1V9T6hsQ5+CmaJ6P2SkE9W4CUgIazAX9ESka918pzXgRXdByjE64T7AMF/Jb7W+Zonj3m5JIwO11PqpMbpChAgHjQdl/KYj30t7wILIwsAES/7Wl4FFprrAKt4F1re9LCiW2zQXAdoFzXj+b1BnvAisL7yR/2YkJIrKzTXAVYr8XvDlyHT3AcW74ooreYIAPo56cMOYq57WM3ji48TAMSS95uncxtYCCuA4eQ5tHIZWAgrgNHkNbRyF1h3nK7PYiAUIAFSnrpxSByjHMlVYE3O6pM4bQEgOTwVf/1w4RDlRG52CaMdDoQVQKJ4tZKn3cNcVFjoWQGkKy89LecDC2EFkI08hJbTgYWwAsiW66HlbGDx2eumZ3WKACBTUsiD//djcYYc5GRgNZ8V+D4BgBVmZbPHxWcgOhdYzSNi+NQF3MgMYE9VLy/vcu1oGqfGGtrOs0JYAdhVEuPj70/8/kaZHOJMhRU9hgvnWQE4RQixMC7EHleOW3amwlpS6iQhrACcwkeNLzfem05wIrB4fEHg/kAAJ7k0DW99ScjPUms+igsAHCa0fvj648WzZJHVwMKOIECuWN85tLYk5CY7dgQBciXaOeT3LlliLbBuEvGauEwAkCfl5nvXCitLQtx2A5B7x24cLmT+Hs48sNC3AvCClX5W5ktC9K0AvFCSGza8nnU/K9PAas5ylAkAco+HSrPuZ2W2JMQJDAB+yvJkh0wCq+2m5jIBgG8qG6TclcX9hkXKglJYCnpm4zjR1FcbH/x19GsbBJXM19Vloms3dfRri1+ar5dvfwYvtUYdUn9kWOoV1sTp2kFBYpYgt7bfRTS9RdCOTSL6eqsJqdI4DYyD7MOrJry+0HTJfD7/qabLVwk8kcXSMNXAwlIwn7hiOrBN0L6pRkANE05xcYid/4zorUVN50yAffIlQX6lvjRMdUlo0vAoIaxyoT2kdm+mzHAY7tvKH/yzU0Th9dIVHQUYlpC5k/rSMLUKq1ld/Y3AaRxOHFI/2iZSraQGxZXX2ya0fnURVVfepLk0TC2wJk/XOazKBE7ioPrFd2Sm1dSwXr6C4MoTPqX0+o/lLkpBKoGF5wm6ixvmz+/OR1CtheDKD/P+P2GqrOOUsMQDC/cKuol7VE98S9BTu5x/2Pe6njGhxR/gtKppwN+ddAM++VtzGjNXCCuHcDX17/ulF2HF+L/jv34oaTqHVWJASmmcBZ/oFYxGu1u4quI3N1dWvkK15bakG/CJVljNmStwAPeq/ny/9DqsWKva4v9ecI8oFBK9OTqxwOKJdsKuoBNaS0Ae+gzBVDOcsUR0kNYz/KAZSkhigSVIOPEYoNBxRfWuefO6NFOVhalAKso80kKcTOrcrEQCC9WVG3h59Jvvhv2G5f9+XzYXPFJeqtWepASM/DeLR8y7gd+keKPehma8cxIZcxi5wlrG/YLWIaw64TVxTimJKmukv1GcxmAf3pj9odJyyshV1kgVlvmXHyOElTW+TK6niV+fA18ncMPIVdbQVzuqK7vuuYvown5rz8HNFT6mZu87CocFumGkKmv4K17VZwhhZQUPSb72fYRVXDzx/6p5vTYGNurhqJGqrKGvesxd2cOnLUxhsnsg/Hq99s9YPrtASHl02LmsoQILc1f2cE8mj0fDuIDPpcdgqRNKN2srB2kIQwUWqis7eCmIJvto+PXDfYcOkIWjNISBA6t5X1CZIHN86wmMhvtYL0wj9B1Q5ocr04AGfgdos/4kyBw/IAJ9q2Tw0pAffAF2DXOSw0A/anDelR1cFfDpCwis5PCDXe89q/BkHssGPS9rsAqrcZooZIwbxQirZPHriQa8fULQQEfPxP4ba97kzNUVjj/OUOsgPgRW8ri6+sfXUGVZNtAgaewKa0nVOQkRVhl7FL2r1LQezAFWDTTiEDuwhBBotlvAzXZIDwLLAYXiQ3F/a6zA4mY7adpJkCnsDKaPq6wHphBaVmk9E3fEIV6FhWa7FaiusvFv3ySwLG7zPVZgmbfNDEGmuNmOW3CywXNZuDHaMiEfi/Pb1g2sZqlWJsgUeivZwuttXSnOsnD9CkvGSz5I1u4teANlCdWsfTJG1qwbWOZtk9gzxSAeXg6G8kxBV2BZaJ82WbPesTN9A6t5ozNmrzKG6sqOfdgttI0P9+s7jdA3sJQQsecjIDkP4sZcK7AstG+9ZWHfwMJy0I57NuEnvQ3TqGytW29Z2DOwmh17LAczxv0rDIvawa87+ljW9V0W9q6wsDtoxXZUV1ZNb8brb1u/IdKegYVhUTt2YHfQqvKdBLb1GSLtGlhfeX6ZS7IyQeawHLQLr78TSmONDOrQNbBqAtWVLVvvxJLEJgSWG4o9MqhrYMkBjnuAZJXQ9LUKPzAc0SODOgIr2lLUeobACjyCyi7sEjpC653dxhs6Amu9SVNIFyosu7AkdEbX8YaOwBr0UHgAgDR0y6LOHpYs7CCwAssRgDZdsqgzsNC/sgbLQYA2JovW9rFWBdYwj46G5PDDPQHgtrV9rFWBpUmj4Q4AzhBrMmlVYEkh7yOwqoqHelqFKtcxQs60f7u6hyUEKizL8BRiu/D6O0aIVY33W4HVbG6VCazCG8YuvP7OKbc33m8FFgZG3XD5c01gz+IXeP1dc71en2l93b4knCGwDj0Uu/D6u6egVbn19a3AEmvWimAH3jB2XfqcwDGibYD0doUlRZnAuvOfYkli04dX8fq7Rret/mTbr6KH5QCusDDaYAc33FHhOqnc+iIKrK/0ON0P7EDj3Q5Ut+6aeFFP8ecosLSUZQJnvP0JgQXnPiNwlVrZw5+iwFIat+S45BIqLCvOocJylhCNRw7K5ndlAmec/wx9rKxx7+ryVQJHtXYKZeMbOUXglJev4Kd9lt5exOvtMq311/izbH5TJnDKW3gDZeol/IBwW3NOtFFh4R5C5/CyEFvs2cByMBfK/A85MYvqylVYFmbjmb/idc4DHm2QVKuVCZz03EcazfeUcXV1/jMEVh7U1crXpBSiROAknrxGlZUuHhbF0jsfzOZgWarmfAO46XcfIbDS9MxFvL55IZUqSVLoYbmMf/qjykoHv66ornJEiLIUqLCc97ML6GUljYMK1VW+cFZJTehhuY57WVgaJgvVVf4IITdKTLnnA+8Y4g2WDFRX+cTT7pIgF7jKOnJOEYzuyDmEVR6Zv7WNJrA0loQ5wdPvz2FpOBJeWmPuKp8EN921RtM9T3gpg6XhcPh14w0MyC8sCXOGl4aP/EVh13BA/Hr94B0sqfNOCkKFlTd8o+6vcf/bQH6NytQHJa6wEFg59Nx/aux0xcSvE3p/XihhSZhj/EbEOU79cZMdwe4PBFbO/ct5jbPIe+DhUDTZ/YLA8sAj72k8GmwNDqsj5/Ga+AaB5QHeOdz7J41jlZsQVv5CYHkiGnd4D81l7lkhrPyFwPLMzy+E22Tm/270rPwmJk/X8TfsoQe2Ev32XklTXyXvVaNhWtxyEwKusKoE3uHH3fNkt+/NeL6/8ntnFcIqDFWpEVje4snue9/wc4nIVRUvf/eaUMYEezCq6GEFgAPrn15T3jzduFVVYXo9PAisQHAV8kOzi8hnQeW1IuE/9953UFUFS4iqFEJUCILx8seNaitPwcV/Tv7z8p8bvapwaaWqRTL/4NPdISwcXPxx4OuCnvi2oO13kXOiAwv/Q9NbnyCkoKFoLoVriKtwtYJrerOgR7cRTW8RVkchuJn+yhVNby7iicywmlkOVoqCtNklRGSFjsOBKxo+OfuBrYIenMouvBBSEIfW6lpRa6piRQjt3jZLMJ7j4vDafldjubh7C9H2TcksHfkAQv649PfG/8/ilwgpWB9nVdHUWRUC6OHyVR2Fy8sf83eNYOEQ2zhOUfU1dSdRyXy9cUPnT71rNxsPgF38olFFfXgV4QQj0LpSlOaa0qiwYAAcYuz8ql9FEEG6lJRVKZSqEACA46TWVVkfG8OtOQDgPlH8W7QYxIkNAOC6G4cLIro1x6RVhQAA3FXhf0SBJbReIAAAR2mzQ8ifWxXWNQIAcJRs3vPcCCytUGEBgLOUUov8ubEklBI7hQDgLCVEVFQ1zsOShXkCAHCUbs6L3ppxx2gDALiKRxr4860TRzHaAABOai4H2e0jkrX+gAAAXNNsuLPbFRZ2CgHAQbptTrTY+qIgZAVNLLeE8BBUF/DRN9eWCdw13/riVmCNFwrzN5UiyB4fiscfOzaJ6JTP1llTkC1+2MUn5oMfPnvpauMznwUGdk0UiwtLza9XnYQ1cbrOd0OXCVLFgbTDBNSBb8jokfJ8AB64iUPs/Kea3lrkh2EQZK9idgjvbn1TbP9fonsKhSgTpGL3ZqJ9U4J+tE0gpHIiOlXV/H0dMB+t8PrVRR1VYpABrS+1f7sqsJRWH0hR2E+QKA6qX3xHRp8hv9rD6+UrCK5MaDXf/u2qJz8LEtgpTNBWc4G/e7+MPhBWfuHQ+u8fSnp+WkR/z5AOvSaTVvWwSrO6ZBrv/0swEu5RPfEtQU/twmH5oXjGVFv8AclqTbi3dLyjJv+o3jfrxhmCodxjmumvfV9ily9A3OPa+47CMjEhWuv5pceLe9p/TXb8LlW/RDAUrqr+fD/CKlT8935hv4yuAxidIN2RRR2BpTWdJRjYb74rog/s/oWN2wF8HaAdMLpuWdQRWDykZT7hfKwBcOMVP1WhHQfWH6ZxTYyimUWrdARW9ZCott8dDf3xDiDvGAGs9eg2hNawuH8VZdEasttvVvXaGwTr4soK4wrQD0JrOEKrrhnUNbCK+vbNhtAd9ylQWUEcHFp8vUB8tR4Z1PNVnDxd53msEkEH7k+gqQqD+vkFTc99hFmtGFbdP9hO9vxXtDpD0IHnrBBWMAyusvhUDuhPUO8VXs/AwnhDJ74Fg4dCAYb1qrl+NmL0pS+lehdLPd99GG/o9EtTWWEoFEbB1w8q9L6qSz8Zm+/1P/YMLN5SNFuL2C1s4lIeTXZIAs/sTWN3uSvzDuu7suu/vtF6jiDyKpaCkKBfosrqqrZOkdT3XYhlYQNXVlgKQpL4KGxUWR2qy48Xh6+wsCxsQM8B0oAqa7X1loNs/XVO4MtCVFeQFlRZq/XbHWxZN7CaHftgl4VotEOaUGXdUum3O9gSr5Mc6BApz13hXkFIU+uxbqHrNyzaLlZghTpE+uAUfvpB+h5FFU9qeflEnN8XK7CiUk2IeQoMloOQhX1bKWxCLCz9dLIS57fGHi4K7cgZXg7ivi/IQujLQq3Vs3F/b+zAmiyOzVFAzfftm1BdQXamNwd7vVUnZCF2yyl2YEWn/wXUfEezHbJ03xYKEs9edTtZtJeB7jcJqfmOCguyFGr7IW6zvWWgwAqp+Y7+FWQpxB+Q0XMHYzbbWwa+o1fX6wMlYh7xZDse1wVZ4qZ7aI13RRS72d4ycGA1qizy+qk6W3ErDlgQ2C1glfVudO5mqDNTVL3udfN94wb0ryB7G8fDue406aFWakMFlu8jDlgOgg1Td1IoKkuHi3M0hKECKzp2RqmB158AAMNWV2zoYzQnisVThMP9AGAwFVpemachDR1YqLIAYFAmM84MOsrQbqSDylFlAcAAKlSrzdEIRgosVFkAENeo1RUb+VEwqLIAIIZKMytGMnJgocoCgPXwzuAgNzn3ksjD9prJWSEAgE5Dz12tlUhgcXIKrY8RAMAao8xdrZXY44yv831BAR6jDJCExS+Jzn+qyUOJVVcs0eevh3CSA0DSOKx+8I6KPvtGLy/voQQlGlh8koPWOshHggEMw+ewEkRzo44xrJVoYLGJQuFJyvmYA5fmPl5A4Bafw8qoDnqaaByJB5YPYw6eX0jgAN+vMc6ApKsrltoBPJN/VBdJ652UY3yg2rv3y9AOVoOUBfADsXLjcOFuSkHiFVaLacDnfswBlRYk7fJVou+d9fuaSrrR3i61wIqOUtb5n4DnC+tec4G9tejlljNk6OUrOvoBWF0mf+l0loItqQUW21AoHicPJuCvmQvskfc0PXMRoQXD4WvnyHntd1iZ97peqY18v2A/qQZWswF/iDzBFx1CCwbBAfXzC2FcNzzRnmZ1xTI59X7yxZVTJORR8gQ/s/DV76MZD/1xO+GRv6iob+U7nrm6friQenGSaoXV4svSsIUvQDTjoZ/znzWukRDCyqikMXPVTWbPFZp4YWVGSPk+eeapXSL6AGj53UeafnYhnNaBafvsiTbZMpBJhcV82TVcK2qmnsNkPDSWgHvfCS6sTmQVVizT0qA0q0s3tX4/7wOl3XA/6w/TgnZvQbUVIl4Ccr/K813AtVIbEO0lswqLRbuGQjxMHh6pHA2Z/gm7iKFp7QLu9X2+qlM1zQHRXqyUA5MvLD9JsnCSPIVbesLAVdWRc4Fuvqj6sRs/GU915qoba+sX30Ydunnim4L+9dsCweUZrqR+bSrp5z4KtJo2vegbj489SRZYC6yon6XURfNlmTzGYcW7iAe2obflA94B5GV/YMu/dpUNUu5K4oESw7D6LpqY1WXRCK0See6BrYJ+ey+qrbzi5d+v/qrN56B7lNy32pX2NHs/1n/s3/Fibb9pxL9OgTjwdUFPfQfBlRfBL//aCK0fjp7dYPPPQA6YeGHluJDyaQoEhxUvETFw6i4OKl7+8UfAy79bmvNWx8kyZ94xEy/W5oQQj1FA0N9yD4KqU1b3CcbhzDvF56HS9SC47ENQ9WS1yb6WU++QZhOe7zcsU4BawTW9BT2urCCo+qrwcKjNJvtazv1ID2nnsBcOq+nNaM6niU9ReOl/NL3yMYKqB+s7gt04uQbx9WSHYfA4xKPfELRvK0ECMJ4QT5YnMAzC2abJxOnaQUFiliDClRaH1xOYnB8YV1N8Jj+WfTFZuu0mDqe7vKGNO8TFy8VHtxF6XX1wML1yRdObi4RqagCujC/04vy2FEKrP4TXbXwT8tuLCKlhuR5WLBf76AiteLbfZXYYNxPtKwvavZm8x1XUh2a592ZFR72py1cRUsPKQ1ix3Az+ILQGUxonuscE2INT5vMmPwKsFVCXP29UUR9eRU8qCXkJK5arScUQp+GTxMtHfuLP7n9oLB/5a5fxEo8rp0t/11HjHAGVAotHxQwjd6PVIZyjlSVeRm414bVjk/naVGIbxxtBxhVaFjiU+EG1HEiLX2jz0fgay7v0aa3PLD1ePEg5kst7QbA8zMbUVxthxiHGATZ1Z/PX77x92Wzt0ujnALrWVglxEDU+N783IfXJl/wZoWRLnpaB7XJ78xpCC2A4eQ0rluu7bRFaAIPJc1ix3B8PgNACiCfvYcW8OM/E96fwAIxKkz60dLg4RznnzQFMzRum+ajlYE95AOiiaiqrh128kXkYXp0YF/p5WgBrOHee1agyffJz2pYOiYqWkp9GWyGAgAkhFnwLK+ZVYDEOLT7SlYfiCCBAfO2PC+FdWDGvDxHHDiKExoedwH68f+pB87mHfBAgmvHgs6rQ+pDt5wamLYjHtKAZD57zrrnei3c9rG5afS2+M50AfGKuab62QwgrFtyD8JpDptzXwhIR8qxKqn7C1bPX0xLkkzuxRIQ845EFdfPmw6FUVe2CWBKuxUvEG4cLd/OOCgHkiVkC+jqyEEfwz0Zv3tLDu4hlAnBXxfyAPeTLLTbDCrLCascXAE/HY9AUnNVqrAceViz4Cqtd8+Gt3JAvE4B9qKrWCL7CasfHb0T3ImL8AWxDVdUVKqwesJMINkQ7gPX6MQRVdwisdTTvR+Sn9GBuC9LE51Y96/N9gElAYMXA1RbV68fxTERIg3kTzo1Leax6SFQJ+kJgDQDLREiS2ZmeN/84geVffAisIWA3EUZUEVof8/1khTQgsEaA4IIBRX2qiWLxFJZ/w0Fgjag0q0tLtdqTpjHP/a0yAXRCUCUEgZWQqDFfMxUXggtuQ1AlDIGVsCi4VH0GS8WgIahSgsBKEXpcgdG0oHT9zGRxbA5BlQ4EVgb4XHlFdFQIMUPgHYwnZAeBlaG2AdSHCJPzeVclrc5oTWcRVNlBYFkQ7Syq+n6hxVHzN7CTIDe4mtJavYFlnx0ILMvaqq77CL0uV6GacgQCyyF8+ikJcRBLRidUNdFZUuoMQsodCCxHNRv1+xFemboVUhPF4gKWfO5BYOVAW+WFZWPybi33EFLuQ2DlzNjzyzuloBkh5EMYkxhK1TTOF7hxrjTNrxwZXyDIDQRWjjXvY9wpBO3XJHYgwLrjnT1B+hKqqPxDYHmGl4+a9E4S8j4pBI9MlCkgmh/cYCoos8z7QJBYQED5BYHluVYVZr6c0ULskCTKvsx+cTiZT/Na1S8VhKyolZWFUB8wGgoEVqC4FzYmZVlpU41JOWXWTSbIRFk4VpG1Kiaz3K1yMAkpq7S8Mo9gChMCCzpM/P5GmYrFsllSlpSgEildNn2ykhZyYxRsxBeOMN83xi1EY+xivdELHhm4vTTTusLfcxAJra6Z/lKVpKhI83lFqUqhXq8ilGCt/wedGY9rV99gfgAAAABJRU5ErkJggg==","no-mic":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYISURBVHgB7ZxPbNtUHMe/dhK6aTDCxE7j4Al2qUBbb1xYkws31EZagZ3WihNIqP9OlZDmStxaqauQhjigdicQm7TtOC7NxJFDOiHtApOCBFwmbYFtaku2eL/fi9MmjmM/28+Jk+YzPSVx7Dr+5L3fe+/3nAFDhgwZMmRIv6I5N6ytrWV3d3ezS0tLZcTIyspKLp1OT9DTSSqGvblCpVir1W4vLi5uIgG0CFpdXZ1MpVIb9DRLpUwlPz8/X4ZC+Augh8tU5nx2Lcdx/qDozS9IzhrqchiDyhZdkAG1bMFfTpznD4TueG24vFb2Ienv8BdwLsAhhn3+LHqEU9Atl30MKJBkHy9Tc9rOTzEpzHFKcAqaobLtsp+B6JIuIyS6rl9Cj2gRRAGRe5E84qlJQZpW27l71cycNUhIolKwLOuay/4GwkuKdIGZTOZ19AC90xsLCwvTMUgKTbVaPY0eoHu9mTRJvUD32+GwS/IVxCiSdA19iJQgxkdSiSR59lIU+E16WEafIS2I8ZDEPdTWIEoKJIhhSXC/yIGUFFgQ43GRAycplCDmsEgKLYg5DJIiCWIGXVJkQYyPpNL6+vqlkMf3HCWCGK+LpHzOZr9KUiaIGURJSgUxgyZJuSBmkCRpCIm1QQH4CGUJ05iAJeZj5+ivcVDeT4w9/P8U9qyj4vHB7rv4a++d/eMpjTo9OzvrOYGlHtDEQaqWl4CK6DKBBVk/ICekANMImCXcqx3Fg533UHp6Hg+rp4JKGiNB2+gy0oKsn0QN4WWbHBTAtennRxfx34sTJl24Z3MiSXO0zxX0AF9Boim9KrUSGorSk3GUnn1gfvbl15Fijp2T4lXhHBSuynoGaWpOBsmRXQkNxdhrd3Hhzavm9W+/CL0sZMPH5+znBpWbUEBHQaJJpVFCtOUaKY6nH+GjExvmne8+jSJp0vHagAJcBdnxhmtO19aiRvQdjGdvh5Jkz/ecn1VJQE87N4hmpVP1tALKGTXdt983IUtDEjU3TH1+VTom0dgqRz1iyzbKfN6DAloEiYCcoZpjhaieox2++ACCGJb0YfZH8/tvvoJs4CY5s85tmqbdggJatXNvZalpu1HgmDR27BeTmo5vc6N9cmiPN2VVg8p9QaJpxdhbBYV7t7dG/vCVZItw1rQiFHFQg9JiDJEo3j9+hx9kJJlolaRsHicEiV5L0QhZJVSDREEwScsqb9sTI2nrBtUeS8ytwnPBct9+I/R8WFB6ch53/y00XvpOS1RTb2JW2yArMYwe+xUj2k7jpVTgVokuZuddHBAGhbv9k6/83bypq5J0pJJbexq8feQ35ybTviE0dnSKQmeRcHhc5MIcOYq95+UYlNjm1eBk5p9Ob03HLYkFxT5bjwrHIQ9ilRRL0l41PoKY2CT1hSCbMur3cZ+2nzuJRZJmXcdjqIhDMQ0UbSraFN5ovLDTq5yvMlz23aTB5AwUodMgsYKkY7XWGHsqkUfnmqTs9x06/ev6UkpgtPYv0UdSDop+BKPRRPUKfYBZREVBRrEjNSxrn8B0e8unufGXn7d/YhEKjkE5+wRJJk8xqNjpzTgl6ZQH4j+Q5DhU8ZLD+DQ3HueFbm66ViA5VoJv8tYglVuOS5Ie5EP0hKp8djAOSUKQXYWLiAqvbEw8rpezCibbGja1i64X2xEJSaUgvy85GElbmEcUWAj3ZJlsvZyZ69yzyVINl1v2kWQgwI9w9gVpH1Ow1rCOsBjT7dvORBo9LAetPc1ISJKalrTOxVJirNH7gSONnKnZm4iIxGDSlxZBokd7joJzaC/F7y6Vrxyic+RzvxAXpQQPSWWZ49tm83a15mWEYGMjHjGzpGqlXu5T+LgXeB2Sz1mI0rTcaJLU6K25lRRkju041bbXym7SHga6A4/H8iIWJgjPXIRYjk7RED5uSXazUl1zVOCZMOMPTN8oJ6jiW6yzqOd8hrEkymHkb+Lk2pQWPYuq/wWhCO7Kp9TdaBAHYW4DbojiW4GDzm3q8z6a2iRdTINI+VCRKqlR0TGOuiwDB9IqIlvJCbka/hTzvafY1mb6IIPZxEtVOHtju35SjAAAAABJRU5ErkJggg==","no-cam":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYrSURBVHgB7ZvPbxtFFMe/a8etK2gaVYoAlYOrUg4RKMmNE3H+gjZSi4Q44HDlkDSBY9WtuObngWvjHBBSqeRcOcW9cmkQiAtUGInyQxFtVBUloamX98a7iZ3szs7szq43jT/V1rV3E28/nnkz894Y6NGjR48ePY4rVtCJxcXFEj3U6Biho0rHDWILJ4yc5Jwnh6nQsU7SBnDCkAka8Xm+iBOGTFDd57UKtaIVnCBkMYi70zqOtiSmSvFoEhL453d2dlLrksVicSuJGGnJTrqBmiWVfE6HSlpYWKhalvUx0mOj2Wwuz87OVmEIK+yCEElLPLTJfr4Lkhibbus2DBAqiJmbm7uaz+driHgzXZI0TvdVR0xyKheRnCnJaZta2S3JeczMzFQcx1lFutyCAUIFucG6HHJZqCRqQdP0sIH0KJuYt6m0INU3kUpyR5hxpCipUCicQ0yUupgGmZMUF9OCmJdKUhKCGFVJDWScpAQx9vLycuDQflwkJSkINKuthkhqIOOSEhXEZFkShwE6HDoCsxSJC2KyKMmNkbb7dDroulQEMSyJbmok6Hyakg7JkZKaIJf1bkvSkcOkLUjkmLolSVcOk7YgpiuSKKPAMdCGJt0QxHiSSkEXuJIm6IidJWQ5tFiuIgLdEsSoSOLlCLekyJLiyGFUM4q/Hn79tLWNwVOPcKn4I/r7HmOw8Ainc9vi8Nj87wJ2nTPi8eHOO/h99y2/t2igldxqSO6BuyNnNXXTFzYUuxW9v68LbUFvnv5FSBl65bsOGSrsNs/g4fa7ePDsfWw+v9B+qoFkJG2pXh8kSLmLcQu5NvilOEbP3teWw/DPsNiPXpsTv6c//9g7VYJad5uAHsknzN4+9f3A2MCa+E9x6zEF/65P3vgCY+fWRHeFmqQ6PUwiRaRdzPmabrqvowSdCE/3zuPe5qd4+uI8P20gvLtV6MFoAVO7izl3SUofHiBhOQwHeW6h3I2h1pKqSKkl+QoScqxIo0ZkOD5xXGqTVJMl3dOSdKRZiW5VIDmOb6EwmCHb//WfbOjAI91Xf3/mdTcxD5KVlEmiDQMlHqVh3lmhFnOWupWuHOaa4//6PaXaZAcck1gSz6EQT1Id4SUrgVoMepXeJIocw3BMeq//W++pmP+EdDebHo5Ud6nsE7tguS9IdC1J4ihteK7VNq1gSTXZ9UGS4lZ1D1pQn9lh0wRtrYgph+1NSkKSECRGLcW+mibcgg5NTitxJCFCLS7n/j2FjHKp+MPhlyJLQoSCpYjczjd4grhzHoOjWDs87N/586Y3orUTujfJj6Cdc4GjGAXnMlKcEOrCE0hOq/gwHbajxA/d0ncOeVxFxvHpZh52TEkN96VG0LU56mTDyDg8L5IQVxKnUEaDrrMo/phZkCYUgxieWd/562bYZcb2JbbDo1jiq/W4KCbnIrWkMLqZtFdGI3tpXNKxEKSJUUksKHbdKWl4LqSJPT8/b2RdmaPVe+YFcZDWJZfLLcp2lCj/HvqjvT5Jm12niCiEbbtRoQ9N/Ib4IzFlDo2PsPsEFByVcCVhamoq0mqe50FltNYmmYUrHnEkuUzQPGkNmuSoDXEXy2wc4gCtKSdIwopsR0kQrdX8XSzRvzKZ8vhn7/X66h+f3w+7joIyf8j8Fa0tSd1MLC/cKq0SXrqjjKx2sz1ctD7U3ydkSpKYKFrXRfa/jrgM0fzsypPWMWzg660WqlHkMJK6WegGrnYOZtIOtJNPHbAQro0VBlrH5engWpkqzxFraAyRVJNVbz32BVkfULC2sIyolCpHX7scK6zdjtp62nEl+YkuQeGr7p1rsbzYbNT9iaODBnV7G4aQ5KhLgLwO2CHImqAAtkcJJCfCJ/ezT+NrRJib8Xu/EIkso0gkSac4vnPoyJsXhpfo83Bn9ixMsy4PvlkH46K7J4Rbpvb6/g23CwYSuMhwa2U1uqKEdEhcThTCN1DlqSUlLcntViaCsmmkCTO+YfpELwLxhlspDo2c/2I0i3IY5XW8ux3Ppn+a+v57HTyUXzcwQU0Q7URHm6gr0C84cpxZpXddy7oYj1iZILGGa9KRwxhasko4kLYlspWckGvlnNbwDBvWZPYzmO38D55gnBRWdEoTAAAAAElFTkSuQmCC",pinnedLayout:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFuSURBVHgB7dzBTQJBFIfxeQtBuVHCtmAFSicSTt7swFgCBRi0EiyBErYEb64E58lKYri8/Sfqgd39fifImw3hy8xlDpsSAABdZW3D2dpnHzk/HD7eNl/TL7wvRz+/MX369HQGzGybPa/q5fhZro0Gl2svLefN4WOZ/uAcA52ofLeb13fTKlpQhI8ed06Z+q20yWTTnJRoQRjIjsdqCMp6v7+PhkVCstHoOpoRqOF+E40IJBBIIJBAIIFAAoEEAgkEEggkEEggkEAgYRwNTi+6howdJBBICI/Yf90fd/2osoMEAgkEEggkEEggkEAggUACgQQCCQQSCCQQSCCQQCCBQAKBBC7tBXaQQCCBS3uBHSQQSCCQQCCBQAKBBAIJBBIIJBBIIJBAIIFADbNtNGoL9JYGwj2volkcqKVqz1RtLxgIA7nZonk49dv3iwXaFoSB6oVVXhRzd39JPQt1+E+vnvPjRVFctb11AQCAbvsCS61W9paa/pgAAAAASUVORK5CYII=",gridLayout:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEZSURBVHgB7dzBDYJAEEDR1Qq0A1qwBCuzBGMFaiW2YAfagXawjokHYmB/IhgE/0smHjbM4Us4cCAlSZImKee8iNnG3PKH3vb1oqedl5h9TFVqMCvEqeLnFFOlDmahtjOnHvS88xqzjpXXpsN54cJN6hhnJKqYfdth6Q76xX/7WzvvsXLZdDBPelq0HRgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBhI0pB8o9iws86HNDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDCQpCH50r5hZ50PaWAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIFAKdE8qBjqn/3FoO/DDAp9+WOB1wTrm+FoyNc9HyC5m1RZHkqRxewD9wBbfql+gGwAAAABJRU5ErkJggg==","stop-recording":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfCSURBVHgB7VtRcts2EF1Qsj86SaregD2B7ROEylemEyfOCWKfwM4JrJzAzglsn8BK7en0K2JPEOUEYU9QdZK/REQXACWCIkAsSMhuMnozGsPkEgAfF4tdYAGwwQYbbLDBBt8rmO0GT57GAFunAPO3LP1jCoHBk992AXoJFneAcSyzAZYXvwUylJwBYxnk/CP+nwJ8mbI0ncEdwU7QcP8T/onxNwM+H4YgiSfPEmzyFbZ6AFUifJEChyuArylL/8xgjWgi6B8oX6I1STxJBhA9OgbOT4BGykI7aAQyuIT865t1EdUwxPZP8O6ZdsmLJDcxfIpa8BdAjvVtizozlo5n9XoOcPh9E88n+HuMwy0B85ushSjWdBOHxAg7dKpdQpK+7rk6IYcSYxeghqh+R5DyDqB/biKDCqz/QBuqVTA2Yu9/fwOBwFwCBpIyJGloI4k/eX5WaI1+VdgM/Lq3KQQEaleM2iX692rlVmMffRC5BPClRvjC+heJgW1N1CxnQJ7/q/2HHeVDNrkdhiZH9W2Mw/L2EHjvV2znCqp9/KA0rWMbVEEfTZKyEdqdvD/qMpR8gXbzEN9I9DFeXuw45MgEqQ74Dbf7gBx2LL/G0u7yYgeSvAhSHfj/kyTAh88upSFfXoDXLL05B094EyTbSp6dI0nH2qXvhCTubQtbEVQ0/gEf39UudSJJ+k3wU4zzhuYz9YVvlEEHrJBEclN0tNSg58cYP5nU1Ysk6S9F7AWqv5htYouYMPLTtqEF2qQB2qSJZpNSNrkZUp9vYYOeyikUlt4xOn81Tfq81xRQoq906hF6VNHCY1aGe1722cMeOf2g+hMiwl+Sg1/jdg9fNtUksDMPJmrIGDr7ZP8a5UfQNljlgFP51idJMhFymKKjWl6AU1v/VuFFkNQe0cHlhf6RKvRfYqtajIYaZSMp7x1VZVsCSRZ20OqwrkBqTPkhMU58SCLYU4P6F2WL7M3CgEpnkEdDCklm2bYQbTR49TUsPigITTyhaBGZIGV7lpE0LmBFl/r9+yPJEfpU280qIUn06MT1DF2DlO1R4DgTGKZfK0nRwzOLLA5NyKA7kKT+NU20Xxpnzo9dWkQniMv1mAI9q9tufHG0W2icLwyy+EV7QwhCEttFwz1ySqXjacUWwYOkSZ5EkFoqXfopqct5K1S5KnMXJHF+SrNHuRb5s8MmSZoGRZWY5solrqJqw8rfXZDEti7cQtvjUh5XKRtAI4hrkTH0UsIDr+y3JEkmmxSKpMRlV5QZKIeZ2mExw0mQdNVLT9kZG63MdhYhnGINjl4wkgizE+Kj1nJirQqc+Fayy/VKbdhKgALh6K2LJM4fE6TSshjt2IQIBOVxKb1ieM01vgAq1kdS4nYC+6UrwqyBMoWgKF4WcwJBnMfgAzdJLZdsH+w6BPR6Y5sQxUhrXwK3gJ1gro7VsRaSNM03oFgrd25SehLU3FFl0FvCTtK0HUma5tsRhCAftCdIIDhJ3RGaoO4vEIwkHoRMCkFZWfQa1+0hSBK5AfX6RRz1klYJxV4ujbO1zwSCmPYwIwwhwkxHAYMzXPuueeRyV4LDkbuCPGu6W7WX9j4TCJqXBEUsdorLjI1AYPzSTNLNpYskdxaK5gBXlKAKAkHb6bLI2Y5bPp9CSLQjKQV3xbHWhjVCICQvyNhrwTDBx5GRctjZxpckwooDvnkZjuR2QqnR/EIrBsXakBVFpOzuoC9wH84UdSuSKtknGcDnsbO+ygpF36r11Gm+tCtRlLjFtWXNcMANwN7ETJKWosPYlSvJUy2q0VYoqASlZe0Naz0FihXFtxAeDpLg9epmghlbB8sib7ZX9PwgfS+ekASgtnzlbmYM4dEp81bL4HW+i8+i/btluZr+YoSyRT3h1K0jPCg0ibofVkIuB5cfLXN9aI9QQ9qVxcsmLmMtoDxfVPv1YOC3aVhAZaAp6NvRFpAJKman0q4QtEg9t5yK16FJsQ9Jde3Bvjngu/XsrUUCiqTeHoTZJFwFiSS5wuipPQJeBBm06IKaJVEsfu2Fmd1kWrHu67hJih7pyZ0k7ZGPgSfkdFpqQozbyoR9qMWz4xk+f6Kl7WbgBUHMIq34BieAWuqvnSSe/1KWOSHYLfoMLSCPB6gpvKilfRZpMUyFX7KDvRlAeepnJtd0uNznx1ipd2k8qrCah9iUnixkWZRhX0dARCuCZGOrZzlaZpF2hSHFTiALlVTamiCBWrbrD0hSJ4IEUJOuK4dKAh8moffDRlJzvqQLAdake0eVHEW5prx/Rp3dQqHMTaoY/rgpX5JULwSCObl8/nIdxznN7cvzaaf1k0byLnr0X4ZtNCkYQbIb9WMKrdJ2/duVedsjqO/h6evOrUgKSpDshu0wXWCitBONh/W20BnN0etn80n1nj9JwQmS3VAH3U5WhtwCqVoSnU99h5+yJSJljr0wHwyuHtwrEsirJOGHYu9v1usoUtFwInCBDHswVUe+xTZNtLJfnuOvJ0hYHB3ftdYjiamHD11JWitBC2hEiYXyGIKBdtSzC0l3QpCO4pjkQUuyZsqOsHe20MPeroEkDueodY3rVXdOkI5Cs2I1dEReEfvZIPW3Gn7bU7kA17W9KknOkz/3StB9oAi0RdL5QET1ODzHsMEGG2ywwQY/JP4DcXBrc3r74McAAAAASUVORK5CYII=","demote-filled":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPhSURBVHgB7Zq9TuswFMfdIiGxIPoAqGFHXMQT9L4BTEhMZWO7RYKZMsACqFwGNgQSD1DeIGVBYiF3YEW5EiNDKoQEhA/fcyq7Opi0pI5T6t78JSu4Thz/4q9zjmEsU6ZMmYZRLy8vpTAMy5zzCTbsenx8dACWi+RJ6AlQoVCow8Vhligf56aRkRHaq7PQ2261WnVyuZwL+Xm82gQdS8/Pz1XSy/zq6ooXi0UOPSyT/19CX19fu1AWiHvwivkyTgtmm3DO7u3tBd2gZ2Zm+M3NDaf3iOQ/PT1VmC0SC5SHUFtbW1wTmsP832A2SMLKlAQahneJDbqgg8sUOCG0z2yQSWgrehllEHr/q3fhfBerfNvowRWf9VuGoN1O9aMlJ+B4h+T13cSt1WpeQuiO8xjKjrvAfvnBUhG+8PT0lCeAjmywYrd3TQ8PD7OsXwKr6wRfqgvted4ZiwYuxwXu63xGq0m+WAe6k+09sMBiYQlMQ6cNHMs9jBK4hM339/dNmV9cXGQHBwcf7tnd3WU7Ozvt/PT0NKvX62x8fFz+5FjnWsq5bKqnB3ZIU6ERYQraCmAUmoohsYp0oc/PzzesAKbC/RE/wNzcXMWgwzG4wFSGvazBB0alCF1mg6qUoMusR+VYQqHtC2HcEhgiuKcW0SCBa9uTeXt72xwbG2tIaCg7ps+vra2x9fX1dh6CgGxhYYHd39+38pOTk629G68RWh4dHT1haQqBhFnpUkurSwpoxNJwT5ej2ojvS+Q+KpC810SjldiYo6OjwAQ0GD3zaltF0ADL/Z69KQQVFQShBihpWFXWKWPbCV3LVoqKdYckcEDf+6Xw6yQFJWmf9HDbkkoIfay2WfWlo0ZApMSDpmBxSJ/RUUPLDg8PfR3opaWl2Yh2fzBLY5924Pg3BStSoNTv0jIdi0x1LcWHpO32otg+uYd4DgwXh5nVBA3L4lZFyy4vL3E7W6YP9Opavr6+bijt/h3VkE/A0JhU4kT5fL4k/xb7ckPmAbZyd3enDX1xcVHDOsijfzvtz5+AqdFgUlDvL7o3wodFuKbMQ1kVoH9MTU2t0ufiQK+srFRub29lvgl1/2RxpR6JmkzqNtFhJ/C3t7dd3dU79srcD+BQsboItK/eq7NlOY4T9BwuEo48TzH5qtmHHwEWy7oJ6ILOfyKEmiZkDynyqETso+53Qe+H5vfjD9CdDAP8XcC32qALzWyU7gkHemXMRtEwcBwvq9Fo2AuLUuLebhx/ult92icP36Vms3nSxSL7A6chq8xmqT0sf1d72uphTEUMk0CNYEjooYGNo6H7d8dMmTJlypRpiPUP/nINjVERkUQAAAAASUVORK5CYII=","demote-outlined":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOsSURBVHgB7ZrNThsxEMcnjcQRkSfI9o5QxBPkDQonJE7bF6BUgnPSA1wABXHghkDixCl9g4ULR7aVckXbN9gIIQGLwPVQOxrc3cTxetM43b9kRfshr38ef8yMA1CqVKlSs6jn5+dmkiQ+Y2wBZl0PDw8eh2WihBJ6gatWq3X5jweO6IPOS9VqlVq1wa0dtNttr1KpBPx6BX9dgtbS09NTm1iZ3dzcsHq9zriFZYn+S+herxfwZ7F4B3/x2sdpAa4J5+zBwUE8DHppaYnd3t4y+o4o0ePj4ya4IrFAhQi1s7PDDKEZn/8tcEESVpY80Hx4N2HaxQ3sU+Cc0BG4IJvQTlgZZRH6cNS3cL6LVX7g9OCKD5OWJeggq3705AQcyyjhxF3cTqcT5oQOs+rmz06HwI7ssEKEHzw/P2c5oFMbrPjtQ8v9/X0DJiXudZ3hR02hwzD8DunAvi7wROczek3ywybQWb731AKLhSW2DV00sFZ4mCYeEvZfX1+/yeu1tTU4Ojp6987+/j7s7e0NrhcXF6Hb7cL8/Ly85TkXWsq5bMvSUzukqdCJsAXtBDAKXcWEeEWm0FdXVy0ngKlwf8QOWF5e3rQYcEwvMJXlKGv6gVEFQvswrSoI2odJSvi9Pg/jOnx76iZ/IpyINoqmdAqA9qFo4QkEAqpgwwpXvSBoHzIMkSt8JJCxLqQCvEAbc3JyEtuA5qNqJaWtLfE8GjuaEudJgQmk/KiampW57Zyh5VtJy3UnJHGA3wJdkZ4aVmSi/RA9JJ2hRD2pnNCnKXV7o0bAyEZlQCJg02SeiChrUN/x8XFkAr2+vt4Y1W7t046MBSkwhUypP6AdaOKRqaGl6Eja7lCrMWLevpuHtlOqwu+mW1fHZPWm0GJRHX/LUg/MijoPUqz8tl+bQl9fX6uw+ol+FTgpaHMXC0ysWtpCwBGPdVKpAr+8vHzBCvKUrHmP+2Ty994e7e7uBqbQ2iuzFE3OWS5BWs8L6Eh932TL8jwvHjtdpG4blkuUZm3sCD6cuzagayb/RCjQym/bRdYQF/toUCR0JQuaV9TgDWvxrGIRZzg/5+bmMld/MfSb1WoVnYtPFxcX3sbGxrt3tra2YHt7e3Dd6/VgdXUV7u7u5K1fcRx/BNdkesKBWxy4KJoG1omyLi8v3YVFKXnvQMc5GVaf8cnDv1K/3z/ja8tneo+ccPzgpyFfwWWpFpb3VUs7PYypiGMSqxkMCT0zsDqaub87lipVqlSpUjOs3+SJ5oMyh/uFAAAAAElFTkSuQmCC","lower-hand":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADvSURBVHgB5ZRREcIwDIZbB5MQCZOABBxQCUMBSJgEHCBhczAJlTAJITmyo1dW2vTKC/x3ubVZky9JbzPmr4SInmySdcemCR7I7nFQmAhFAcxrAE7ilyBhJ75pBxCu+VxfC3FbpR8Ai2zzI5OEq4wAxAcZgJctmBJxuzFE/GsTQAqy+ZoAJPAggblxVQMAX/LRuHxrwFsnQWIsBtChkcwlACj30icgkEveR9VecV8pCJR0cMMyMeQYQfIAJYR1khj1z08NUUsJGUyNlJCLqVEhZNqDWAXE0QMSr2dr7cyF0Jrv40z70XxD+Px2nPkZPQCoHCglmaLpAgAAAABJRU5ErkJggg==","raise-hand":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADxSURBVHgB5ZTtEYIwDIYD5391gzqBjIAbOIojsIFuoBs4AmyAG+AIblATDSdW+pFSf3g+d+81V0jeNrQA/BVa644EKcGCNapFFfqFQi1IvvxZgEfJ43wwR3HN8cqVnI9N8uoKRx6tXLGc2HbQUjKaLGEiuWVe8ejtcaxBMpIYYCvPqP1XDOjI4rBF7SRJPeUgri2x6oOxWpnNAMKhe/C43RliPpzaosb3QqzBFbVhgyNI0X6o7xdzEgQ7uIGdBp7/p7Ug52MHJ8fqO5ZJeKv0+/EMRYEETKgExSuIIdAk/AZbTOjE0DdpB0U71EHclp/kDilNkhWhg0nUAAAAAElFTkSuQmCC","turn-off-stt":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAECSURBVHgBzVQLEcIwDE25CZgDhoNJQMJQADiYA4YCcDAsoIA6GChYHQAKSnJLj1LaXvncwbt710/SlyzpCvAP0FrnxBTHFbIPcMs+JfLMLF2NzI6KQ4OskVdPPMVjhTTZkeDRK2g57YUQCt7ECL6MJEFuQhGxF6ZJqRlS3TqeS2vf1K+HoZ5PUbQvE86Qulrzemo6bN2MPFmQ7TXbWxaskBveq3wHooLss0B2+o4DiYecHwSdS906vjt3zyCDMNbW/AKJiAkW9oKbIPHSSxj+ppcF5549ylRGzoQFMZMJhEEPhUYuY4KmTtRJBXGMkSefQdgLFGrA/6kuKPjsk0fkd7gBEy7vamLyRFEAAAAASUVORK5CYII=","live-caption-mode":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADUSURBVHgB5VPtDYIwEL0S/ssIHYERGEE3qBPoBuIGMgFsAk6iI7hBfadHUpsirZFfvOSlxx333RKtDmoUrLUax4nS8QDPSik+KXMMBqwoHUb4Qu4Z78i0pwRIZ8X4ndGfkVM4q8GhHdWFZwT90amGu+l836kKW0c+gCWCVfS5tJa+AQ412ItsA/YKvAX0PfvOVfgz8ikDso4tbcEdve9b4egNZqhiA/LV0SI38BsQiJfReP/EVRjanryEmmaw6Ay5gtKZUSw0eA0F7MS4oTQM4rtWPAFxAE4MEjNhpQAAAABJRU5ErkJggg=="};Nh.SurfaceView,xh.SurfaceView;const qh=(0,bn.createContext)({}),Wh=(qh.Provider,qh.Consumer,e=>{const{renderList:t}=(0,bn.useContext)(gh);if(null==e||!e.localUid)return console.error("Error: local user id is empty"),null;let n=t[null==e?void 0:e.localUid];return n?bn.createElement(qh.Provider,{value:n},e.children):(console.error("Error: we couldn't find the local user data"),null)}),Zh=function(e,t,n,r){bn.useEffect((()=>{if(!(()=>{if("web"!==En.Z.OS)return!1;if(!("userAgent"in navigator))return console.warn("unable to detect browser"),!1;const e=navigator.userAgent,t=e.indexOf("Chrome")>-1,n=e.indexOf("Safari")>-1;return!t||!n})())return;let n;if(e&&e.current){const t=e.current;t&&t.children.length>0&&(n=t.children[0],n.style.display="none")}const r=setTimeout((()=>{n&&(n.style.display="initial")}),t);return()=>clearTimeout(r)}),[n,r])},Kh=e=>{const{styleProps:t}=(0,bn.useContext)(fh),{theme:n}=t||{},r=bn.useRef(null);return Zh(r,10,(null==e?void 0:e.name)||"",null==e?void 0:e.tintColor),bn.createElement(qu.Z,{ref:"web"===En.Z.OS?r:void 0,style:[{width:"100%",height:"100%"},null!=e&&e.tintColor?{tintColor:e.tintColor}:{},null==e?void 0:e.style],resizeMode:"contain",source:{uri:e.name&&Hh[e.name]?Hh[e.name]:e.icon}})},Yh={joinRoomButton:({ready:e,role:t})=>e?t?"JOIN MEETING AS "+(t===ah.Broadcaster?"HOST":"AUDIENCE"):"JOIN MEETING":"Loading..."},Qh={label:"English US",locale:"en-us",data:{meetingNameInputPlaceholder:"Name your Meeting",...Yh,pstnUserLabel:"PSTN User"}},Jh=(0,bn.createContext)({languageCode:Qh.locale,setLanguageCode:()=>{}}),Xh=e=>{const{store:t,setStore:n}=(0,bn.useContext)(li),r=hL((e=>null==e?void 0:e.i18n));let i=r&&Array.isArray(r)&&r.length&&null!=r&&r.find((e=>e.locale===t.selectedLanguageCode))?t.selectedLanguageCode:void 0;const[o,a]=(0,bn.useState)(i||!!(r&&Array.isArray(r)&&r.length)&&r[0].locale||Qh.locale);return(0,bn.useEffect)((()=>{n&&n((e=>({...e,selectedLanguageCode:o})))}),[o]),(0,bn.useEffect)((()=>{let e=r&&Array.isArray(r)&&r.length&&null!=r&&r.find((e=>e.locale===t.selectedLanguageCode))?t.selectedLanguageCode:void 0;a(e||!!(r&&Array.isArray(r)&&r.length)&&r[0].locale||Qh.locale)}),[r]),bn.createElement(Jh.Provider,{value:{languageCode:o,setLanguageCode:e=>{a(e)}}},e.children)},$h=Zu(Jh);function ep(e){const t=$h((e=>e.languageCode)),n=function(e=Qh.locale){const t=hL((e=>null==e?void 0:e.i18n));if(!e||!t||t&&!Array.isArray(t)||t&&Array.isArray(t)&&!t.length)return Qh.data;{let n=t.find((t=>t.locale===e));return n&&n.data?{...Qh.data,...n.data}:Qh.data}}(t);return t=>{let r=n?n[e]:void 0;return r?"function"==typeof r?r(t):"string"==typeof r?r:"":""}}var tp=__webpack_require__(2813),np=__webpack_require__.n(tp);function rp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ip{constructor(){rp(this,"appId",void 0),rp(this,"client",void 0),rp(this,"channelMap",new Map([])),rp(this,"remoteInvititations",new Map([])),rp(this,"localInvititations",new Map([])),rp(this,"channelEventsMap",new Map([["channelMessageReceived",()=>null],["channelMemberJoined",()=>null],["channelMemberLeft",()=>null],["ChannelAttributesUpdated",()=>null]])),rp(this,"clientEventsMap",new Map([["connectionStateChanged",()=>null],["messageReceived",()=>null],["remoteInvitationReceived",()=>null],["tokenExpired",()=>null]])),rp(this,"localInvitationEventsMap",new Map([["localInvitationAccepted",()=>null],["localInvitationCanceled",()=>null],["localInvitationFailure",()=>null],["localInvitationReceivedByPeer",()=>null],["localInvitationRefused",()=>null]])),rp(this,"remoteInvitationEventsMap",new Map([["remoteInvitationAccepted",()=>null],["remoteInvitationCanceled",()=>null],["remoteInvitationFailure",()=>null],["remoteInvitationRefused",()=>null]])),this.appId="",console.log("Using RTM Bridge")}on(e,t){"channelMessageReceived"===e||"channelMemberJoined"===e||"channelMemberLeft"===e||"ChannelAttributesUpdated"===e?this.channelEventsMap.set(e,t):"connectionStateChanged"===e||"messageReceived"===e||"remoteInvitationReceived"===e||"tokenExpired"===e?this.clientEventsMap.set(e,t):"localInvitationAccepted"===e||"localInvitationCanceled"===e||"localInvitationFailure"===e||"localInvitationReceivedByPeer"===e||"localInvitationRefused"===e?this.localInvitationEventsMap.set(e,t):"remoteInvitationAccepted"!==e&&"remoteInvitationCanceled"!==e&&"remoteInvitationFailure"!==e&&"remoteInvitationRefused"!==e||this.remoteInvitationEventsMap.set(e,t)}createClient(e){this.appId=e,this.client=np().createInstance(this.appId),window.rtmClient=this.client,this.client.on("ConnectionStateChanged",((e,t)=>{this.clientEventsMap.get("connectionStateChanged")({state:e,reason:t})})),this.client.on("MessageFromPeer",((e,t,n)=>{this.clientEventsMap.get("messageReceived")({text:e.text,ts:n.serverReceivedTs,offline:n.isOfflineMessage,peerId:t})})),this.client.on("RemoteInvitationReceived",(e=>{this.remoteInvititations.set(e.callerId,e),this.clientEventsMap.get("remoteInvitationReceived")({callerId:e.callerId,content:e.content,state:e.state,channelId:e.channelId,response:e.response}),e.on("RemoteInvitationAccepted",(()=>{this.remoteInvitationEventsMap.get("RemoteInvitationAccepted")({callerId:e.callerId,content:e.content,state:e.state,channelId:e.channelId,response:e.response})})),e.on("RemoteInvitationCanceled",(t=>{this.remoteInvitationEventsMap.get("remoteInvitationCanceled")({callerId:e.callerId,content:t,state:e.state,channelId:e.channelId,response:e.response})})),e.on("RemoteInvitationFailure",(t=>{this.remoteInvitationEventsMap.get("remoteInvitationFailure")({callerId:e.callerId,content:e.content,state:e.state,channelId:e.channelId,response:e.response,code:-1})})),e.on("RemoteInvitationRefused",(()=>{this.remoteInvitationEventsMap.get("remoteInvitationRefused")({callerId:e.callerId,content:e.content,state:e.state,channelId:e.channelId,response:e.response})}))})),this.client.on("TokenExpired",(()=>{this.clientEventsMap.get("tokenExpired")({})}))}async login(e){return this.client.login(e)}async logout(){return await this.client.logout()}async joinChannel(e){return this.channelMap.set(e,this.client.createChannel(e)),this.channelMap.get(e).on("ChannelMessage",((t,n,r)=>{let i=t.text,o=r.serverReceivedTs;this.channelEventsMap.get("channelMessageReceived")({uid:n,channelId:e,text:i,ts:o})})),this.channelMap.get(e).on("MemberJoined",(t=>{this.channelEventsMap.get("channelMemberJoined")({uid:t,channelId:e})})),this.channelMap.get(e).on("MemberLeft",(e=>{console.log("Member Left",this.channelEventsMap),this.channelEventsMap.get("channelMemberLeft")({uid:e})})),this.channelMap.get(e).on("AttributesUpdated",(e=>{})),this.channelMap.get(e).join()}async leaveChannel(e){if(this.channelMap.get(e))return this.channelMap.get(e).leave();Promise.reject("Wrong channel")}async sendMessageByChannelId(e,t){if(this.channelMap.get(e))return this.channelMap.get(e).sendMessage({text:t});console.log(this.channelMap,e),Promise.reject("Wrong channel")}destroyClient(){console.log("Destroy called"),this.channelEventsMap.forEach(((e,t)=>{this.client.off(t,e)})),this.channelEventsMap.clear(),this.channelMap.clear(),this.clientEventsMap.clear(),this.remoteInvitationEventsMap.clear(),this.localInvitationEventsMap.clear()}async getChannelMembersBychannelId(e){if(this.channelMap.get(e)){let t=[],n=this.channelMap.get(e);return await n.getMembers().then((n=>{n.map((n=>{t.push({channelId:e,uid:n})}))})),{members:t}}Promise.reject("Wrong channel")}async queryPeersOnlineStatus(e){let t=[];return await this.client.queryPeersOnlineStatus(e).then((e=>{Object.entries(e).forEach((e=>{t.push({online:e[1],uid:e[0]})}))})),{items:t}}async renewToken(e){return this.client.renewToken(e)}async getUserAttributesByUid(e){let t={};return await this.client.getUserAttributes(e).then((n=>{t={attributes:n,uid:e}})).catch((e=>{Promise.reject(e)})),t}async removeAllLocalUserAttributes(){return this.client.clearLocalUserAttributes()}async removeLocalUserAttributesByKeys(e){return this.client.deleteLocalUserAttributesByKeys(e)}async replaceLocalUserAttributes(e){let t={};return e.map((e=>{let n=Object.values(e)[0],r=Object.values(e)[1];t[n]=r})),this.client.setLocalUserAttributes({...t})}async setLocalUserAttributes(e){let t={};return e.map((e=>{let n=Object.values(e)[0],r=Object.values(e)[1];t[n]=r})),this.client.setLocalUserAttributes({...t})}async addOrUpdateLocalUserAttributes(e){let t={};return e.map((e=>{let n=Object.values(e)[0],r=Object.values(e)[1];t[n]=r})),this.client.addOrUpdateLocalUserAttributes({...t})}addOrUpdateChannelAttributes(e,t,n){return Promise.resolve()}async sendLocalInvitation(e){let t=this.client.createLocalInvitation(e.uid);return this.localInvititations.set(e.uid,t),t.content=e.content,t.on("LocalInvitationAccepted",(e=>{this.localInvitationEventsMap.get("localInvitationAccepted")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:e})})),t.on("LocalInvitationCanceled",(()=>{this.localInvitationEventsMap.get("localInvitationCanceled")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:t.response})})),t.on("LocalInvitationFailure",(e=>{this.localInvitationEventsMap.get("localInvitationFailure")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:t.response,code:-1})})),t.on("LocalInvitationReceivedByPeer",(()=>{this.localInvitationEventsMap.get("localInvitationReceivedByPeer")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:t.response})})),t.on("LocalInvitationRefused",(e=>{this.localInvitationEventsMap.get("localInvitationRefused")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:e})})),t.send()}async sendMessageToPeer(e){return this.client.sendMessageToPeer({text:e.text},e.peerId)}async acceptRemoteInvitation(e){return this.remoteInvititations.get(e.uid).accept()}async refuseRemoteInvitation(e){return this.remoteInvititations.get(e.uid).refuse()}async cancelLocalInvitation(e){return console.log(this.localInvititations.get(e.uid)),this.localInvititations.get(e.uid).cancel()}getSdkVersion(e){e(tp.VERSION)}addListener(e,t){return"ChannelAttributesUpdated"===e&&this.channelEventsMap.set(e,t),{remove:()=>{console.log("Use destroy method to remove all the event listeners from the RtcEngine instead.")}}}}function op(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ap{static getInstance(){return ap._instance?ap._instance:new ap}async createClientInstance(){await this.engine.createClient("3011254ab8fa4162abe3adba271813c1")}async destroyClientInstance(){await this.engine.logout()}constructor(){return op(this,"engine",void 0),op(this,"localUID",""),op(this,"channelId",""),ap._instance||(ap._instance=this,this.engine=new ip,this.localUID="",this.channelId="",this.createClientInstance()),ap._instance}setLocalUID(e){this.localUID=e}setChannelId(e){this.channelId=e}setLoginInfo(e,t){this.localUID=e,this.channelId=t}get localUid(){return this.localUID}get channelUid(){return this.channelId}async destroy(){try{await this.destroyClientInstance(),this.localUID="",this.channelId=""}catch(e){console.log("Error destroying instance error: ",e)}}}op(ap,"_instance",null);const sp=ap,cp=function(){let e={};const t=function(e){return"function"==typeof e||!(!e||"object"!=typeof e)&&t(e.listener)},n=function(t,n){const r=function(t,n){let r;return e.hasOwnProperty(n)?(e[n].get(t)||e[n].set(t,[]),r=e[n].get(t)):(e[n]=new Map,e[n].set(t,[]),r=e[n].get(t)),r}(t,n);let i;return r instanceof Array&&(i={},i[t]=r),i||r},r=function(e,t){for(var n=e.length;n--;)if(e[n].listener.toString()===t.toString())return n;return-1};return{getEvents:t=>e[t]||(e[t]=new Map),addListener(e,i,o){if(!t(i))throw new Error("Listener must be a function");const a=n(e,o),s="object"==typeof i;for(let e in a)a.hasOwnProperty(e)&&-1===r(a[e],i)&&a[e].push(s?i:{listener:i,once:!1});return this},removeListener(e,t,i){let o=n(e,i);for(let e in o)if(o.hasOwnProperty(e)){let n=r(o[e],t);-1!==n&&o[e].splice(n,1)}return this},removeAllListeners(e,t){let n=typeof e,r=this.getEvents(t);return"string"===n&&r.has(e)&&r.delete(e),this},removeAll(t){return e[t]=new Map,this},emitEvent(e,t,r){let i,o,a=n(e,t);for(let n in a)if(a.hasOwnProperty(n)){i=a[n].slice(0);for(let n=0;n<i.length;n++){o=i[n],!0===o.once&&this.removeListener(e,t,o.listener);const r=[].slice.call(arguments,2);o.listener.apply(this,r||[])}}return this},clear(){e={}}}}(),lp=cp,up=function(){let e=[];return{enqueue(t){e.push(t)},dequeue(){if(0!=e.length)return e.pop()},isEmpty:()=>0===e.length,size:()=>e.length,clear(){e=[]}}}(),dp=up,hp="RECORDING_STARTED",pp="RECORDING_STOPPED",fp="RECORDING_STOP_REQUEST",mp="SCREENSHARE_STARTED",vp="SCREENSHARE_STOPPED",gp="recording",yp="raised",bp="role",Ep="PUBLIC_CHAT_MESSAGE",_p="PRIVATE_CHAT_MESSAGE",Sp="screenshare",Ap="name",wp="VIDEO_MEETING_HOST",Tp="VIDEO_MEETING_ATTENDEE",Cp="STT_IS_ACTIVE",Rp="STT_LANGUAGE_CHANGED";let Ip=function(e){return e.core="core",e.fpe="fpe",e}({}),Op=function(e){return e[e.LEVEL1=1]="LEVEL1",e[e.LEVEL2=2]="LEVEL2",e[e.LEVEL3=3]="LEVEL3",e}({});const kp=e=>{if("string"!=typeof e)return!1;try{const t=JSON.parse(e),n=Object.prototype.toString.call(t);return"[object Object]"===n||"[object Array]"===n}catch(e){return!1}},Np=e=>{try{return[null,JSON.parse(e)]}catch(e){return[e]}},xp=e=>{let t=e;return t<0&&(t=e+parseInt("0xffffffff")+1),t},Pp=()=>(new Date).getTime(),Dp=e=>{if(!e)return Pp();try{const t=new Date(e).getTime();return isNaN(t)?Pp():t}catch(e){return Pp()}};function Lp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mp=class{constructor(e){Lp(this,"source",Ip.core),Lp(this,"_persist",(async(e,t)=>{const n=sp.getInstance().engine;try{const r={key:e,value:t};await n.addOrUpdateLocalUserAttributes([r])}catch(e){console.log("CUSTOM_EVENT_API error occured while updating the value ",e)}})),Lp(this,"_validateEvt",(e=>{if("string"!=typeof e)throw Error("CUSTOM_EVENT_API Event name cannot be of type "+typeof e);if(""==e.trim())throw Error("CUSTOM_EVENT_API Name or function cannot be empty");return!0})),Lp(this,"_validateListener",(e=>{if("function"!=typeof e)throw Error("CUSTOM_EVENT_API Function cannot be of type "+typeof e);return!0})),Lp(this,"_send",(async(e,t)=>{const n="string"==typeof t?parseInt(t):t,r=sp.getInstance().engine,i=JSON.stringify(e);if(void 0===n||"number"==typeof n&&n<=0||Array.isArray(n)&&0===(null==n?void 0:n.length)){console.log("CUSTOM_EVENT_API: case 1 executed");try{const e=sp.getInstance().channelUid;await r.sendMessageByChannelId(e,i)}catch(e){throw console.log("CUSTOM_EVENT_API: send event case 1 error : ",e),e}}if("number"==typeof n&&0!==n){console.log("CUSTOM_EVENT_API: case 2 executed",n);const e=xp(n);try{await r.sendMessageToPeer({peerId:`${e}`,offline:!1,text:i})}catch(e){throw console.log("CUSTOM_EVENT_API: send event case 2 error : ",e),e}}if("object"==typeof n&&Array.isArray(n)){console.log("CUSTOM_EVENT_API: case 3 executed",n);try{for(const e of n){const t=xp(e);await r.sendMessageToPeer({peerId:`${t}`,offline:!1,text:i})}}catch(e){throw console.log("CUSTOM_EVENT_API: send event case 3 error : ",e),e}}})),Lp(this,"on",((e,t)=>{try{if(!this._validateEvt(e)||!this._validateListener(t))return;return lp.addListener(e,t,this.source),console.log("CUSTOM_EVENT_API event listener registered",e),()=>{lp.removeListener(e,t,this.source)}}catch(e){console.log("CUSTOM_EVENT_API on error: ",e)}})),Lp(this,"off",((e,t)=>{try{t?this._validateListener(t)&&this._validateEvt(e)&&lp.removeListener(e,t,this.source):e?this._validateEvt(e)&&lp.removeAllListeners(e,this.source):lp.removeAll(this.source)}catch(e){console.log("CUSTOM_EVENT_API off error: ",e)}})),Lp(this,"send",(async(e="",t="",n=Op.LEVEL1,r=-1)=>{if(!this._validateEvt(e))return;const i=JSON.stringify({payload:t,persistLevel:n,source:this.source}),o={evt:e,value:i};if(n===Op.LEVEL2||n===Op.LEVEL3)try{await this._persist(e,i)}catch(e){console.log("CUSTOM_EVENT_API persist error: ",e)}try{await this._send(o,r)}catch(e){console.log("CUSTOM_EVENT_API: sending failed. ",e)}})),e&&(this.source=e)}},Fp=new Mp;let Up=function(e){return e.muteVideo="1",e.muteAudio="2",e.muteSingleVideo="3",e.muteSingleAudio="4",e.kickUser="5",e.requestVideo="6",e.requestAudio="7",e.kickScreenshare="9",e}({});const jp=(0,bn.createContext)(null),Vp=bn.createContext({displayName:"",setDisplayName:()=>{},saveName:()=>{}}),Bp=Gd`
  mutation updateUserName($name: String!) {
    updateUserName(name: $name) {
      name
      email
    }
  }
`,zp=e=>{const t=Uh(),n=(()=>{const{rtcProps:e}=(0,bn.useContext)(fh);return(null==e?void 0:e.screenShareUid)||0})(),{dispatch:r}=tm(),{store:i,setStore:o}=(0,bn.useContext)(li),{hasUserJoinedRTM:a}=(0,bn.useContext)(jp),[s,c]=(0,bn.useState)(null!=i&&i.displayName?i.displayName:""),[l]=Qd(Bp),u="User",d=ep("pstnUserLabel")(),h=e=>`${e}'s screenshare`;(0,bn.useEffect)((()=>(Fp.on(Ap,(e=>{const t=JSON.parse(null==e?void 0:e.payload);t&&(null!=t&&t.uid&&p(null==t?void 0:t.uid,{name:"1"===String(null==t?void 0:t.uid)[0]?d:(null==t?void 0:t.name)||u}),null!=t&&t.screenShareUid&&p(null==t?void 0:t.screenShareUid,{name:h((null==t?void 0:t.name)||u)}))})),()=>{Fp.off(Ap)})),[]),(0,bn.useEffect)((()=>{o((e=>({...e,displayName:s}))),p(t,{name:s||u}),p(n,{name:h(s||u)}),a&&Fp.send(Ap,JSON.stringify({uid:t,screenShareUid:n,name:s||u}),Op.LEVEL2)}),[s,a]);const p=(e,t)=>{r({type:"UpdateRenderList",value:[e,t]})};return bn.createElement(Vp.Provider,{value:{setDisplayName:c,displayName:s,saveName:e=>{if(e&&""!==(null==e?void 0:e.trim()))try{l({variables:{name:e}}).catch((e=>{console.log("ERROR, could not save the name",e)}))}catch(e){console.log("ERROR, could not save the name",e)}}}},e.children)},Gp=Zu(Vp),Hp=function(){const{displayName:e}=Gp();return e},qp=Gd`
  query JoinChannel($passphrase: String!) {
    joinChannel(passphrase: $passphrase) {
      channel
      title
      isHost
      secret
      mainUser {
        rtc
        rtm
        uid
      }
      screenShare {
        rtc
        rtm
        uid
      }
    }
    getUser {
      name
      email
    }
  }
`,Wp=Gd`
  query JoinChannel($passphrase: String!) {
    joinChannel(passphrase: $passphrase) {
      channel
      title
      isHost
      secret
      mainUser {
        rtc
        rtm
        uid
      }
      screenShare {
        rtc
        rtm
        uid
      }
    }
  }
`;function Zp(){const{store:e}=(0,bn.useContext)(li),{setMeetingInfo:t}=$d(),{client:n}=(0,bn.useContext)(Gl);return Hp(),async r=>{t((e=>({...e,isJoinDataFetched:!1})));try{const y=await n.query({query:null===e.token?Wp:qp,variables:{passphrase:r}});if(y.error)throw y.error;if(y&&y.data){var i,o,a,s,c,l,u,d,h,p,f,m,v,g;let e=y.data,n={};return null!=e&&null!==(i=e.joinChannel)&&void 0!==i&&i.channel&&(n.channel=e.joinChannel.channel),null!=e&&null!==(o=e.joinChannel)&&void 0!==o&&null!==(a=o.mainUser)&&void 0!==a&&a.uid&&(n.uid=e.joinChannel.mainUser.uid),null!=e&&null!==(s=e.joinChannel)&&void 0!==s&&null!==(c=s.mainUser)&&void 0!==c&&c.rtc&&(n.token=e.joinChannel.mainUser.rtc),null!=e&&null!==(l=e.joinChannel)&&void 0!==l&&null!==(u=l.mainUser)&&void 0!==u&&u.rtm&&(n.rtmToken=e.joinChannel.mainUser.rtm),null!=e&&null!==(d=e.joinChannel)&&void 0!==d&&d.secret&&(n.encryptionSecret=e.joinChannel.secret),null!=e&&null!==(h=e.joinChannel)&&void 0!==h&&null!==(p=h.screenShare)&&void 0!==p&&p.uid&&(n.screenShareUid=e.joinChannel.screenShare.uid),null!=e&&null!==(f=e.joinChannel)&&void 0!==f&&null!==(m=f.screenShare)&&void 0!==m&&m.rtc&&(n.screenShareToken=e.joinChannel.screenShare.rtc),null!=e&&null!==(v=e.joinChannel)&&void 0!==v&&v.isHost&&(n.isHost=e.joinChannel.isHost),null!=e&&null!==(g=e.joinChannel)&&void 0!==g&&g.title&&(n.meetingTitle=e.joinChannel.title),console.log("!!!!!Meetinginfo",{meetingInfo:n,response:y.data}),t((e=>{let t={...e.data,...n};return{...e,isJoinDataFetched:!0,data:t}})),n}throw new Error("An error occurred in parsing the channel data.")}catch(e){throw e}}}const Kp=(0,bn.createContext)({selectedCam:"",selectedMic:"",selectedSpeaker:"",deviceList:[],setSelectedCam:async()=>{},setSelectedMic:async()=>{},setSelectedSpeaker:async()=>{},setDeviceList:()=>{}}),Yp=(...e)=>{console.log("[DeviceConfigure] ",...e)},Qp=e=>{const t=tm(),[n,r]=(0,bn.useState)(""),[i,o]=(0,bn.useState)(""),[a,s]=(0,bn.useState)(""),[c,l]=(0,bn.useState)([]),u=(0,bn.useRef)(!1),d=(0,bn.useRef)([]),h=(0,bn.useRef)(!1),p=(0,bn.useRef)([]),f=(0,bn.useRef)(!1),m=(0,bn.useRef)([]),{primaryColor:v}=(0,bn.useContext)(eu),{store:g,setStore:y}=(0,bn.useContext)(li),{rememberedDevicesList:b,activeDeviceId:E}=g,{microphoneDevice:_,speakerDevice:S,cameraDevice:A,clearState:w}=(0,bn.useContext)(sf),T=(0,bn.useMemo)((()=>c.filter((e=>"default"===e.deviceId)).length>0),[c]),C=(e,t)=>{const{kind:n}=e;y((r=>({...r,rememberedDevicesList:{...r.rememberedDevicesList,[n]:{[e.deviceId]:t?"switch-on-connect":"ignore-on-connect",...r.rememberedDevicesList[n]}}})))},{RtcEngine:R}=t,{localStream:I}=R,O=(0,bn.useCallback)((async e=>{let t;return await R.getDevices((function(n){!e&&Yp("Fetching all devices: ",n),t=n.filter((e=>""!==(null==e?void 0:e.deviceId)&&("audioinput"==e.kind||"videoinput"==e.kind||"audiooutput"==e.kind))),!e&&Yp("Setting unique devices",t),t.length>0&&l(t)})),t}),[]),k=e=>{let t;var n;return("audio"===e?R.isAudioEnabled:R.isVideoEnabled)?(t=null===(n=I[e])||void 0===n?void 0:n.getMediaStreamTrack().getSettings().deviceId,Yp(`Agora ${e} Track is using`,t)):(t="audio"===e?R.audioDeviceId:R.videoDeviceId,Yp(`Agora ${e} Engine is using`,t)),t??""},N=(e,t)=>!!t.find((t=>t.deviceId===e)),x=e=>{const{sdkStateName:t,sdkState:n}={audioinput:{sdkStateName:"microphoneDevice",sdkState:_},audiooutput:{sdkStateName:"speakerDevice",sdkState:S},videoinput:{sdkStateName:"cameraDevice",sdkState:A}}[e],{deviceId:r,promise:i}=n,o=t=>D(t,e),{setMethod:a}={audiooutput:{setMethod:f.current?o:U},audioinput:{setMethod:u.current?o:M},videoinput:{setMethod:h.current?o:F}}[e];a(r).then((()=>{i.res()})).catch((e=>{i.rej(e)})).finally((()=>{w(t[e])}))};(0,bn.useEffect)((()=>{let e=0;const t=setInterval((()=>{e+=1,O(e%10!=0)}),2e3);return()=>{clearInterval(t)}}),[]),(0,bn.useEffect)((()=>{null!=_&&_.deviceId&&i&&x("audioinput")}),[_]),(0,bn.useEffect)((()=>{null!=S&&S.deviceId&&a&&x("audiooutput")}),[S]),(0,bn.useEffect)((()=>{null!=A&&A.deviceId&&n&&x("videoinput")}),[A]),(0,bn.useEffect)((()=>{const e="useEffect[rtc,store]";if(E&&c.length>0){const t=t=>{var l;const{uiSelectedState:u}={videoinput:{uiSelectedState:n},audioinput:{uiSelectedState:i},audiooutput:{uiSelectedState:a}}[t];if(u&&0!=u.trim().length)return;const d=null===(l=c.find((e=>"default"===e.deviceId&&(!T||"default"===e.deviceId))))||void 0===l?void 0:l.deviceId,h=E[t],{currentDevice:p,deviceLogTag:f,setDevice:m,setDeviceUi:v,eventEmitter:g,sdkDevice:y}={videoinput:{currentDevice:k("video"),deviceLogTag:"cam:",setDevice:F,setDeviceUi:r,eventEmitter:e=>{th.emit("devices-selected-camera-changed",e)},sdkDevice:A},audioinput:{currentDevice:k("audio"),deviceLogTag:"mic:",setDevice:M,setDeviceUi:o,eventEmitter:e=>{th.emit("devices-selected-microphone-changed",e)},sdkDevice:_},audiooutput:{currentDevice:d,deviceLogTag:"speaker:",setDevice:U,setDeviceUi:s,eventEmitter:e=>{th.emit("devices-selected-speaker-changed",e)},sdkDevice:S}}[t];Yp(e,f,"Device list populated but none selected"),null!=y&&y.deviceId&&p?N(y.deviceId,c)?x(t):y.promise.rej(new Error("Provided device not detected")):h&&p&&p!==h&&N(h,c)?(Yp(e,f,"Setting to active id",h),m(h).catch((t=>{Yp(e,f,"ERROR:Setting to active id",h,t.message)}))):(g(p),v(p))};t("videoinput"),t("audioinput"),t("audiooutput")}(0===c.length||c.find((e=>""===e.label)))&&(Yp(e,"Empty device list"),O())}),[t,g,c]);const P=async e=>{const t=c,r=await O(),o=e.device,{logTag:s,currentDevice:l,setCurrentDevice:u}={audioinput:{logTag:"mic: on-microphone-changed",currentDevice:i,setCurrentDevice:M},audiooutput:{logTag:"speaker: on-speaker-changed",currentDevice:a,setCurrentDevice:U},videoinput:{logTag:"cam: on-camera-changed",currentDevice:n,setCurrentDevice:F}}[o.kind];Yp(s,e),"default"===l&&u("default");const d=!!t.find((e=>e.deviceId===o.deviceId));if("ACTIVE"!==e.state||d){if("INACTIVE"===e.state&&o.deviceId===l)return void((e,t)=>{var n,r,i;const o=t||c;switch(e){case"audioinput":const e=null===(n=o.find((e=>"audioinput"===e.kind&&(!T||"default"===e.deviceId))))||void 0===n?void 0:n.deviceId;M(e);break;case"videoinput":const t=null===(r=o.find((e=>"videoinput"===e.kind)))||void 0===r?void 0:r.deviceId;F(t);break;case"audiooutput":const a=null===(i=o.find((e=>"audiooutput"===e.kind&&(!T||"default"===e.deviceId))))||void 0===i?void 0:i.deviceId;U(a)}})(o.kind,r)}else{const e=b[o.kind][o.deviceId];if(e){if("switch-on-connect"===e)return void u(o.deviceId)}else j(o)}};(0,bn.useEffect)((()=>(bh().onMicrophoneChanged=P,()=>{bh().onMicrophoneChanged=null})),[i,c]),(0,bn.useEffect)((()=>(bh().onPlaybackDeviceChanged=P,()=>{bh().onPlaybackDeviceChanged=null})),[a,c]),(0,bn.useEffect)((()=>(bh().onCameraChanged=P,()=>{bh().onCameraChanged=null})),[n,c]);const D=async(e,t)=>{const{queue:n}={audiooutput:{queue:m.current},audioinput:{queue:d.current},videoinput:{queue:p.current}}[t];return new Promise(((t,r)=>{n.push({deviceId:e,resolveQueued:t,rejectQueued:r})}))},L=(e,t)=>{const{mutexRef:n,queueRef:i,setMethod:a,logtag:c}={audioinput:{mutexRef:u,queueRef:d,setMethod:"changeMic",logtag:"setMic:"},audiooutput:{mutexRef:f,queueRef:m,setMethod:"changeSpeaker",logtag:"setSpeaker:"},videoinput:{mutexRef:h,queueRef:p,setMethod:"changeCamera",logtag:"setCam:"}}[t];Yp(c,t,"setting to",e);const l=()=>{if(i.current.length>0){const e=i.current.shift();L(e.deviceId,t).then((()=>{e.resolveQueued()})).catch((t=>e.rejectQueued(t)))}};return new Promise(((i,u)=>{if(n.current){const e=new Error(c+" Change already in progress");return Yp("DeviceConfigure:",c,"Error setting",t,e.message),void u(e)}n.current=!0,R[a](e,(()=>{(e=>{switch(Yp("Refreshing",e??"all"),e){case"audioinput":let e=k("audio");e&&th.emit("devices-selected-microphone-changed",e),o(e);break;case"videoinput":let t=k("video");t&&th.emit("devices-selected-camera-changed",t),r(t);break;case"audiooutput":let n=R.speakerDeviceId;n&&th.emit("devices-selected-speaker-changed",n),s(n);break;default:e=k("audio"),t=k("video"),n=R.speakerDeviceId,e&&th.emit("devices-selected-microphone-changed",e),o(e),t&&th.emit("devices-selected-camera-changed",t),r(t),n&&th.emit("devices-selected-speaker-changed",n),s(n)}})(t),((e,t)=>{y((n=>({...n,activeDeviceId:{...E,[e]:t}})))})(t,e),n.current=!1,i(null),l()}),(e=>{n.current=!1,console.error("DeviceConfigure:",c,"Error setting",t,e),u(e),l()}))}))},M=e=>L(e,"audioinput"),F=e=>L(e,"videoinput"),U=e=>L(e,"audiooutput"),j=e=>{const{name:t,setAction:n}={audioinput:{name:"mic",setAction:M},videoinput:{name:"webcam",setAction:F},audiooutput:{name:"speaker",setAction:U}}[e.kind];Bu.show({type:"checked",leadingIcon:null,text1:`New ${t} detected`,text2:bn.createElement(lu.Z,null,bn.createElement(lu.Z,null,"New ",t," named "),bn.createElement(lu.Z,{style:{fontWeight:"bold"}},e.label),bn.createElement(lu.Z,null," detected. Do you want to switch?")),visibilityTime:6e3,checkbox:{disabled:!1,color:v,text:"Remember my choice"},primaryBtn:{text:"SWITCH DEVICE",onPress:t=>{n(e.deviceId),t&&C(e,!0),Bu.hide()}},secondaryBtn:{text:"IGNORE",onPress:t=>{t&&C(e,!1),Bu.hide()}}})};return bn.createElement(Kp.Provider,{value:{selectedCam:n,setSelectedCam:F,selectedMic:i,setSelectedMic:M,selectedSpeaker:a,setSelectedSpeaker:U,deviceList:c,setDeviceList:l}},e.children)};function Jp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xp=new class{constructor(){Jp(this,"emitter",void 0),Jp(this,"emitCache",{}),Jp(this,"emitCacheDisabled",{}),this.emitter=eh()}async emit(e,...t){if(this.emitCache[e])throw new Error(`Event: ${e} already in callstack`);const n=await new Promise(((n,r)=>{this.emitCache[e]=[n,r,...t],this.emitter.emit(e,n,r,...t)})).then((t=>(delete this.emitCache[e],t))).catch((t=>{throw delete this.emitCache[e],t}));return n}on(e,t){const n=this.emitter.on(e,t);return this.emitCache[e]&&!this.emitCacheDisabled[e]&&this.emitter.emit(e,...this.emitCache[e]),this.emitCacheDisabled[e]=!0,n}},$p=Xp,ef={isJoinDataFetched:!1,data:{isHost:!1,meetingTitle:"",roomId:{attendee:""},isSeparateHostLink:!0}},tf=(0,bn.createContext)(ef),nf=e=>bn.createElement(tf.Provider,{value:{...e.value}},e.children),rf=Zu(tf),of=(e,t)=>{t(new Error("Video call not initialized, call this method on 'join' or 'ready-to-join' event listener callback"))},af={enterRoom:{set:()=>{}},join:{initialized:!1},customize:{},microphoneDevice:{},speakerDevice:{},cameraDevice:{},onMuteVideo:e=>{},onMuteAudio:e=>{},clearState:()=>{}},sf=(0,bn.createContext)(af);let cf=null;const lf=e=>$p.on("join",((t,n,r,i,o)=>{if("object"==typeof r){if(!(e=>{const{channel:t,encryptionSecret:n,rtmToken:r,screenShareToken:i,screenShareUid:o,token:a,uid:s}=e;return!(!i||!o||!(t&&r&&a&&s))})(r))return void n(new Error("Invalid meeting details"));e({initialized:!0,phrase:"sdk-initiated-meeting",meetingDetails:r,skipPrecall:i,userName:o,promise:{res:t,rej:n}})}else"string"==typeof r&&r.trim().length>0?e({initialized:!0,phrase:r,skipPrecall:i,userName:o,promise:{res:t,rej:n}}):n(new Error("Invalid room detail"))})),uf=e=>$p.on("microphoneDevice",((t,n,r)=>{e({deviceId:r,promise:{res:t,rej:n}})})),df=e=>$p.on("speakerDevice",((t,n,r)=>{e({deviceId:r,promise:{res:t,rej:n}})})),hf=e=>$p.on("cameraDevice",((t,n,r)=>{e({deviceId:r,promise:{res:t,rej:n}})}));var pf;cf=[(pf=e=>{af.customize=e},$p.on("customize",((e,t,n)=>{pf({customization:n}),e()}))),lf((e=>{af.join=e})),uf((e=>{af.microphoneDevice=e})),df((e=>{af.speakerDevice=e})),hf((e=>{af.cameraDevice=e})),$p.on("muteVideo",of),$p.on("muteAudio",of)];const ff=(0,bn.createContext)({videoMuteQueue:{current:[]},audioMuteQueue:{current:[]}}),mf=e=>{const t=(0,bn.useRef)([]),n=(0,bn.useRef)([]),{onMuteVideo:r,onMuteAudio:i,clearState:o}=(0,bn.useContext)(sf),a=Af(),s=gf(),c=(e,r)=>{const i=a[e===vf.video?"video":"audio"];return ch.enabling===i||ch.disabling===i?new Promise(((i,o)=>{e===vf.video?t.current.push({resolveQueued:i,rejectQueued:o,action:r?ch.disabled:ch.enabled}):n.current.push({resolveQueued:i,rejectQueued:o,action:r?ch.disabled:ch.enabled})})):s(e,r?ch.disabled:ch.enabled)};return(0,bn.useEffect)((()=>(r((async(e,t,n)=>{const r="function"==typeof n?n(!a.video):n;try{await c(vf.video,r),e()}catch(e){t(e)}})),i((async(e,t,n)=>{const r="function"==typeof n?n(!a.audio):n;try{await c(vf.audio,r),e()}catch(e){t(e)}})),()=>{o("muteVideo"),o("muteAudio")})),[a]),bn.createElement(ff.Provider,{value:{videoMuteQueue:t,audioMuteQueue:n}},e.children)};let vf=function(e){return e[e.audio=0]="audio",e[e.video=1]="video",e}({});const gf=function(){const{RtcEngine:e,dispatch:t}=tm(),n=Af(),{rtcProps:r}=(0,bn.useContext)(fh),{videoMuteQueue:i,audioMuteQueue:o}=(null==r||r.role,ah.Broadcaster,(0,bn.useContext)(ff)),a=async(r,s,c)=>{const l=r===vf.video?i:o,u=async()=>{if(l.current.length>0){const e=l.current.shift();try{await a(r,e.action,!0),e.resolveQueued()}catch(t){e.rejectQueued(t)}}};switch(r){case vf.audio:let r=n.audio;if(r===ch.enabled||r===ch.disabled)if(r!==s){t({type:"LocalMuteAudio",value:[r===ch.enabled?ch.disabling:ch.enabling]});try{await e.muteLocalAudioStream(r===ch.enabled),t({type:"LocalMuteAudio",value:[r===ch.enabled?ch.disabled:ch.enabled]}),u()}catch(e){if(t({type:"LocalMuteAudio",value:[r]}),u(),c)throw e;console.error("Error toggling audio",e)}}else u();break;case vf.video:const i=n.video;if(i===ch.enabled||i===ch.disabled)if(i!==s){t({type:"LocalMuteVideo",value:[i===ch.enabled?ch.disabling:ch.enabling]});try{qr()?await e.muteLocalVideoStream(i===ch.enabled):await e.enableLocalVideo(i!==ch.enabled),t({type:"LocalMuteVideo",value:[i===ch.enabled?ch.disabled:ch.enabled]}),u()}catch(e){if(t({type:"LocalMuteVideo",value:[i]}),u(),c)throw e;console.error("Error toggling video",e)}}else u()}};return a},yf=function(){const{renderList:e}=nm();return t=>!e[t]&&"1"===String(t)[0]},bf=Gd`
  mutation mutePSTN($uid: Int!, $passphrase: String!, $mute: Boolean!) {
    mutePSTN(uid: $uid, passphrase: $passphrase, mute: $mute) {
      uid
      mute
    }
  }
`,Ef=()=>{const[e,{data:t,loading:n,error:r}]=Qd(bf),{data:{isHost:i,roomId:o}}=rf(),a=yf();return async s=>{if(i){if(a(s)?await e({variables:{uid:s,passphrase:null==o?void 0:o.host,mute:1}}):console.error("UID does not belong to the PSTN user."),!n&&r)throw r;return t}console.error("A host can only mute audience audio or video.")}};let _f=function(e){return e[e.audio=0]="audio",e[e.video=1]="video",e}({});const Sf=function(){const{data:{isHost:e}}=rf(),t=yf(),n=Ef();return async(r,i)=>{if(e)switch(r){case _f.audio:if(i)if(t(i))try{n(i)}catch(e){console.error("An error occurred while muting the PSTN user.")}else Fp.send(Up.muteAudio,"",Op.LEVEL1,i);else Fp.send(Up.muteAudio,"",Op.LEVEL1);break;case _f.video:i?t(i)||Fp.send(Up.muteVideo,"",Op.LEVEL1,i):Fp.send(Up.muteVideo,"",Op.LEVEL1)}else console.error("A host can only mute audience audio or video.")}},Af=()=>{const e=Uh(),{renderList:t}=nm();return t[e]},wf=bn.createContext({currentLayout:"",setLayout:()=>{}}),Tf=e=>bn.createElement(wf.Provider,{value:{...e.value}},e.children),Cf=Zu(wf),Rf=Gd`
  mutation setPresenter($uid: Int!, $passphrase: String!) {
    setPresenter(uid: $uid, passphrase: $passphrase)
  }
`,If=Gd`
  mutation setNormal($passphrase: String!) {
    setNormal(passphrase: $passphrase)
  }
`,Of=function(){const[e]=Qd(Rf),[t]=Qd(If),{phrase:n}=pr();return{executeNormalQuery:()=>{t({variables:{passphrase:n}}).then((e=>{console.log(e.data),e.data.stopRecordingSession})).catch((e=>{console.log(e)}))},executePresenterQuery:t=>{e({variables:{uid:t,passphrase:n}}).then((e=>{e.data.setPresenter})).catch((e=>{console.log(e)}))}}},kf=(0,bn.createContext)({screenShareData:{},setScreenShareData:()=>{},isScreenShareOnFullView:!1,setScreenShareOnFullView:()=>{}}),Nf=e=>{const{rtcProps:t}=(0,bn.useContext)(fh),[n,r]=(0,bn.useState)(!1),[i,o]=(0,bn.useState)({[null==t?void 0:t.screenShareUid]:{name:"",isActive:!1,isExpanded:!1,ts:0}});return bn.createElement(kf.Provider,{value:{screenShareData:i,setScreenShareData:o,isScreenShareOnFullView:n,setScreenShareOnFullView:r}},e.children)},xf=Zu(kf),Pf=(0,bn.createContext)({startRecording:()=>{},stopRecording:()=>{},isRecordingActive:!1,inProgress:!1}),Df=Gd`
  mutation startRecordingSession(
    $passphrase: String!
    $secret: String
    $config: recordingConfig!
  ) {
    startRecordingSession(
      passphrase: $passphrase
      secret: $secret
      config: $config
    )
  }
`,Lf=Gd`
  mutation stopRecordingSession($passphrase: String!) {
    stopRecordingSession(passphrase: $passphrase)
  }
`,Mf=e=>{const{rtcProps:t}=(0,bn.useContext)(fh),{setRecordingActive:n,isRecordingActive:r}=null==e?void 0:e.value,[i,o]=(0,bn.useState)(!1),[a,s]=(0,bn.useState)(0),{renderList:c,activeUids:l}=nm(),{phrase:u}=pr(),[d]=Qd(Df),[h]=Qd(Lf),p=function(e){const t=(0,bn.useRef)();return(0,bn.useEffect)((()=>{t.current=e})),t.current}({isRecordingActive:r}),f=e=>e?"Recording Started":"Recording Stopped",{executePresenterQuery:m,executeNormalQuery:v}=Of(),{localUid:g}=(0,bn.useContext)(jp),{screenShareData:y}=xf();bn.useEffect((()=>(Fp.on(gp,(e=>{const t=JSON.parse(e.payload),r=t.action,i=t.value;switch(r){case hp:s(parseInt(i)),n(!0);break;case pp:n(!1);break;case fp:b()}})),()=>{Fp.off(gp)})),[]),(0,bn.useEffect)((()=>{if(p){var e;if((null==p?void 0:p.isRecordingActive)===r)return;Bu.show({type:"info",text1:f(r),text2:r?`This meeting is being recorded by ${Gr(null===(e=c[a])||void 0===e?void 0:e.name)||"user"}`:"",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null,leadingIcon:null})}}),[r]);const b=()=>{g===a||-1===l.indexOf(a)?(o(!0),h({variables:{passphrase:u}}).then((e=>{console.log(e.data),o(!1),"success"===e.data.stopRecordingSession&&(Fp.send(gp,JSON.stringify({action:pp,value:""}),Op.LEVEL3),n(!1))})).catch((e=>{o(!1),console.log(e)}))):Fp.send(gp,JSON.stringify({action:fp,value:""}),Op.LEVEL1)};return bn.createElement(Pf.Provider,{value:{inProgress:i,startRecording:()=>{o(!0),d({variables:{passphrase:u,secret:t.encryption&&t.encryption.key?t.encryption.key:"",config:{resolution:"SD360p",trigger:"AUTO"}}}).then((e=>{if(console.log(e.data),o(!1),"success"===e.data.startRecordingSession){Fp.send(gp,JSON.stringify({action:hp,value:`${g}`}),Op.LEVEL3),s(g),n(!0);const e=Object.entries(y).filter((e=>{var t,n;return(null===(t=e[1])||void 0===t?void 0:t.ts)&&e[1].ts>0&&(null===(n=e[1])||void 0===n?void 0:n.isActive)})).sort(((e,t)=>t[1].ts-e[1].ts)),t=e.length>0?e[0][0]:0;t?(console.log("screenshare: Executing presenter query for screenuid",t),m(parseInt(t))):v()}})).catch((e=>{o(!1),console.log(e)}))},stopRecording:b,isRecordingActive:r}},e.children)},Ff=Zu(Pf),Uf=bn.createContext({groupActive:!1,privateActive:!1,selectedChatUserId:0,message:"",setGroupActive:()=>{},setPrivateActive:()=>{},setSelectedChatUserId:()=>{},setMessage:()=>{},inputActive:!1,setInputActive:()=>{}}),jf=e=>{const[t,n]=(0,bn.useState)(!1),[r,i]=(0,bn.useState)(!1),[o,a]=(0,bn.useState)(!1),[s,c]=(0,bn.useState)(0),[l,u]=(0,bn.useState)("");return bn.createElement(Uf.Provider,{value:{groupActive:t,privateActive:r,selectedChatUserId:s,setGroupActive:n,setPrivateActive:i,setSelectedChatUserId:c,message:l,setMessage:u,inputActive:o,setInputActive:a}},e.children)},Vf=Zu(Uf),Bf=bn.createContext({totalUnreadCount:0,unreadGroupMessageCount:0,unreadPrivateMessageCount:0,unreadIndividualMessageCount:{},setUnreadGroupMessageCount:()=>{},setUnreadIndividualMessageCount:()=>{},setUnreadPrivateMessageCount:()=>{}}),zf=e=>{const[t,n]=(0,bn.useState)(0),[r,i]=(0,bn.useState)(0),[o,a]=(0,bn.useState)({});return(0,bn.useEffect)((()=>{let e=0;for(const t in o)e+=o[t];i(e)}),[o]),bn.createElement(Bf.Provider,{value:{totalUnreadCount:t+r,unreadGroupMessageCount:t,setUnreadGroupMessageCount:n,unreadPrivateMessageCount:r,setUnreadPrivateMessageCount:i,unreadIndividualMessageCount:o,setUnreadIndividualMessageCount:a}},e.children)},Gf=Zu(Bf);let Hf=function(e){return e[e.None=0]="None",e[e.Participants=1]="Participants",e[e.Chat=2]="Chat",e[e.Settings=3]="Settings",e[e.Transcript=4]="Transcript",e}({});const qf=bn.createContext({sidePanel:Hf.None,setSidePanel:()=>{}}),Wf=e=>bn.createElement(qf.Provider,{value:{...e.value}},e.children),Zf=Zu(qf);function Kf(){return((e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t})()}var Yf=function(e){return e.Create="Create_Chat_Message",e.Update="Update_Chat_Message",e.Delete="Delete_Chat_Message",e}(Yf||{});const Qf=bn.createContext({messageStore:[],privateMessageStore:{},sendChatMessage:()=>{},editChatMessage:()=>{},deleteChatMessage:()=>{},openPrivateChat:()=>{}}),Jf=e=>{const{dispatch:t}=tm(),{renderList:n}=nm(),r=Uh(),{setSidePanel:i}=Zf(),{groupActive:o,selectedChatUserId:a,setGroupActive:s,setPrivateActive:c,setSelectedChatUserId:l}=Vf(),{setUnreadGroupMessageCount:u,setUnreadIndividualMessageCount:d,unreadPrivateMessageCount:h,unreadIndividualMessageCount:p,setUnreadPrivateMessageCount:f}=Gf(),[m,v]=(0,bn.useState)([]),[g,y]=(0,bn.useState)({}),b=(0,bn.useRef)({renderList:n}),E=(0,bn.useRef)(),_=(0,bn.useRef)();(0,bn.useEffect)((()=>{b.current.renderList=n}),[n]),(0,bn.useEffect)((()=>{E.current=o}),[o]),(0,bn.useEffect)((()=>{_.current=a}),[a]);const S=e=>{s(!1),l(e),c(!0),i(Hf.Chat)};bn.useEffect((()=>{const e=(e,t,n=!1)=>{var r,o;if(!n&&E.current)return;const a=parseInt(t);var u;n&&a===_.current||Bu.show({primaryBtn:null,secondaryBtn:null,leadingIcon:null,type:"info",text1:n?"Youâve received a private message":null!==(r=b.current.renderList[a])&&void 0!==r&&r.name?(u=Gr(null===(o=b.current.renderList[a])||void 0===o?void 0:o.name),`${u} commented in the public chat`):"",text2:n?"":e.length>30?e.slice(0,30)+"...":e,visibilityTime:3e3,onPress:()=>{n?S(a):(c(!1),l(0),s(!0),i(Hf.Chat))}})},n=Fp.on(Ep,(t=>{const n=JSON.parse(t.payload),r=n.action,i=n.value;switch(r){case Yf.Create:e(i.msg,`${t.sender}`),A(t.sender,{msg:i.msg,createdTimestamp:i.createdTimestamp,isDeleted:i.isDeleted,msgId:i.msgId}),E.current||u((e=>e+1));break;case Yf.Update:v((e=>e.map((e=>e.msgId===i.msgId&&e.uid===t.sender?{...e,msg:i.msg,updatedTimestamp:i.updatedTimestamp}:e))));break;case Yf.Delete:v((e=>e.map((e=>e.msgId===i.msgId&&e.uid===t.sender?{...e,isDeleted:!0,updatedTimestamp:i.updatedTimestamp}:e))))}})),r=Fp.on(_p,(n=>{const r=JSON.parse(n.payload),i=r.action,o=r.value;switch(i){case Yf.Create:try{((e,n)=>{t({type:"UpdateRenderList",value:[e,n]})})(n.sender,{lastMessageTimeStamp:(new Date).getTime()})}catch(e){console.log("ERROR : couldn't update the last message timestamp")}e(o.msg,`${n.sender}`,!0),w(n.sender,{msg:o.msg,createdTimestamp:o.createdTimestamp,msgId:o.msgId,isDeleted:o.isDeleted},!1),_.current!==n.sender&&d((e=>{const t=e&&e[n.sender]?e[n.sender]:0;return{...e,[n.sender]:t+1}}));break;case Yf.Update:y((e=>{const t=e[n.sender].map((e=>e.msgId===o.msgId&&e.uid===n.sender?{...e,msg:o.msg,updatedTimestamp:o.updatedTimestamp}:e));return{...e,[n.sender]:t}}));break;case Yf.Delete:y((e=>{const t=e[n.sender].map((e=>e.msgId===o.msgId&&e.uid===n.sender?{...e,isDeleted:!0,updatedTimestamp:o.updatedTimestamp}:e));return{...e,[n.sender]:t}}))}}));return()=>{n(),r()}}),[]);const A=(e,t)=>{v((n=>[...n,{createdTimestamp:t.createdTimestamp,uid:e,msg:t.msg,msgId:t.msgId,isDeleted:t.isDeleted}]))},w=(e,t,n)=>{y((i=>{let o={...i};return void 0!==o[e]?o[e]=[...o[e],{createdTimestamp:t.createdTimestamp,uid:n?r:e,msg:t.msg,msgId:t.msgId,isDeleted:t.isDeleted}]:o={...o,[e]:[{createdTimestamp:t.createdTimestamp,uid:n?r:e,msg:t.msg,msgId:t.msgId,isDeleted:t.isDeleted}]},{...o}}))};return bn.createElement(Qf.Provider,{value:{messageStore:m,privateMessageStore:g,sendChatMessage:(e,t)=>{if("string"!=typeof e||""!==e.trim())if(t){const n={msg:e,createdTimestamp:Pp(),msgId:Kf(),isDeleted:!1};Fp.send(_p,JSON.stringify({value:n,action:Yf.Create}),Op.LEVEL1,t),w(t,n,!0)}else{const t={msg:e,msgId:Kf(),isDeleted:!1,createdTimestamp:Pp()};Fp.send(Ep,JSON.stringify({value:t,action:Yf.Create}),Op.LEVEL1),A(r,t)}},editChatMessage:(e,t,n)=>{if("string"!=typeof t||""!==t.trim())if(n){const i=g[n].filter((t=>t.msgId===e&&t.uid===r));if(i&&i.length){const r={msg:t,updatedTimestamp:Pp()};Fp.send(_p,JSON.stringify({value:{msgId:e,...r},action:Yf.Update}),Op.LEVEL1,n),y((t=>{const i=t[n].map((t=>t.msgId===e?{...t,...r}:t));return{...t,[n]:i}}))}else console.log("You don't have permission to edit")}else{const n=m.filter((t=>t.msgId===e&&t.uid===r));if(n&&n.length){const n={msg:t,updatedTimestamp:Pp()};Fp.send(Ep,JSON.stringify({value:{msgId:e,...n},action:Yf.Update}),Op.LEVEL1),v((t=>t.map((t=>t.msgId===e?{...t,...n}:t))))}else console.log("You don't have permission to edit")}},deleteChatMessage:(e,t)=>{if(t){const n=g[t].filter((t=>t.msgId===e&&t.uid===r));if(n&&n.length){const n={updatedTimestamp:Pp()};Fp.send(_p,JSON.stringify({value:{msgId:e,...n},action:Yf.Delete}),Op.LEVEL1,t),y((r=>{const i=r[t].map((t=>t.msgId===e?{...t,isDeleted:!0,...n}:t));return{...r,[t]:i}}))}else console.log("You don't have permission to delete")}else{const t=m.filter((t=>t.msgId===e&&t.uid===r));if(t&&t.length){const t={updatedTimestamp:Pp()};Fp.send(Ep,JSON.stringify({value:{msgId:e,...t},action:Yf.Delete}),Op.LEVEL1),v((n=>n.map((n=>n.msgId===e?{...n,isDeleted:!0,...t}:n))))}else console.log("You don't have permission to delete")}},openPrivateChat:S}},e.children)},Xf=Zu(Qf),$f=function(){const{setDisplayName:e}=Gp();return e};function em(){const e=$f();return[Hp(),e]}const tm=Zu(oh),nm=Zu(gh),rm=(new Mp(Ip.fpe),{"100%":"FF","99%":"FC","98%":"FA","97%":"F7","96%":"F5","95%":"F2","94%":"F0","93%":"ED","92%":"EB","91%":"E8","90%":"E6","89%":"E3","88%":"E0","87%":"DE","86%":"DB","85%":"D9","84%":"D6","83%":"D4","82%":"D1","81%":"CF","80%":"CC","79%":"C9","78%":"C7","77%":"C4","76%":"C2","75%":"BF","74%":"BD","73%":"BA","72%":"B8","71%":"B5","70%":"B3","69%":"B0","68%":"AD","67%":"AB","66%":"A8","65%":"A6","64%":"A3","63%":"A1","62%":"9E","61%":"9C","60%":"99","59%":"96","58%":"94","57%":"91","56%":"8F","55%":"8C","54%":"8A","53%":"87","52%":"85","51%":"82","50%":"80","49%":"7D","48%":"7A","47%":"78","46%":"75","45%":"73","44%":"70","43%":"6E","42%":"6B","41%":"69","40%":"66","39%":"63","38%":"61","37%":"5E","36%":"5C","35%":"59","34%":"57","33%":"54","32%":"52","31%":"4F","30%":"4D","29%":"4A","28%":"47","27%":"45","26%":"42","25%":"40","24%":"3D","23%":"3B","22%":"38","21%":"36","20%":"33","19%":"30","18%":"2E","17%":"2B","16%":"29","15%":"26","14%":"24","13%":"21","12%":"1F","11%":"1C","10%":"1A","9%":"17","8%":"14","7%":"12","6%":"0F","5%":"0D","4%":"0A","3%":"08","2%":"05","1%":"03","0%":"00"});du.Z.create({ruler:{borderBottomColor:"#099DFD"+rm["80%"],borderBottomWidth:1,margin:"2%",width:"100%",maxWidth:200}});const im={high:1,medium:.85,disabled:.4},om={high:"",medium:rm["85%"],disabled:rm["40%"]},am={extraLarge:32,large:20,medium:18,normal:16,small:14,tiny:12},sm={sansPro:"Source Sans Pro"},cm={small:4,medium:8,large:12,extraLarge:20},lm=JSON.parse('{"x0":{"topPinned":false},"ud":{"width":"100%","backgroundColor":"#00AEFC","borderRadius":100,"maxWidth":450,"minWidth":200,"minHeight":45},"ZG":{"width":"100%","height":45,"lineHeight":45,"fontSize":16,"textAlign":"center","textAlignVertical":"center","color":"#fff"},"SK":{"width":"100%","borderColor":"#00AEFC","borderWidth":1,"borderRadius":100,"maxWidth":450,"minWidth":200,"minHeight":45},"A8":{"width":"100%","height":45,"lineHeight":45,"fontSize":16,"textAlign":"center","fontWeight":"500","textAlignVertical":"center","color":"#000"},"Y2":{"width":"100%","paddingLeft":8,"paddingRight":8,"borderColor":"#00AEFC","borderRadius":100,"borderWidth":1,"textAlign":"center","color":"#333333","fontSize":16,"maxWidth":450,"minHeight":45},"t_":{"flex":12,"backgroundColor":"#fff","flexDirection":"row"}}');var um=__webpack_require__(335);const dm=JSON.parse('{"IcoMoonType":"selection","icons":[{"icon":{"paths":["M226.462 832c-21.552 0-39.795-7.467-54.729-22.4s-22.4-33.178-22.4-54.729v-485.743c0-21.552 7.467-39.795 22.4-54.729s33.176-22.4 54.729-22.4h571.076c21.551 0 39.795 7.467 54.729 22.4s22.4 33.176 22.4 54.729v485.743c0 21.551-7.467 39.795-22.4 54.729s-33.178 22.4-54.729 22.4h-571.076zM315.077 633.434h111.589c12.361 0 22.836-4.292 31.425-12.881s12.885-19.063 12.885-31.424v-13.129c0-5.308-1.724-9.681-5.171-13.129s-7.821-5.171-13.129-5.171h-14.276c-5.308 0-9.681 1.724-13.129 5.171-3.446 3.447-5.169 7.821-5.169 13.129 0 1.638-0.684 3.145-2.051 4.514-1.367 1.365-2.872 2.048-4.513 2.048h-85.333c-1.641 0-3.145-0.683-4.513-2.048-1.367-1.37-2.051-2.876-2.051-4.514v-128c0-1.643 0.684-3.145 2.051-4.514 1.367-1.365 2.871-2.052 4.513-2.052h85.333c1.641 0 3.146 0.687 4.513 2.052 1.367 1.37 2.051 2.871 2.051 4.514 0 5.303 1.723 9.681 5.169 13.129 3.447 3.443 7.821 5.167 13.129 5.167h14.276c5.308 0 9.681-1.724 13.129-5.167 3.447-3.447 5.171-7.825 5.171-13.129v-13.129c0-12.363-4.297-22.838-12.885-31.426s-19.063-12.882-31.425-12.882h-111.589c-12.363 0-22.838 4.294-31.426 12.882s-12.882 19.063-12.882 31.426v154.257c0 12.361 4.294 22.835 12.882 31.424s19.063 12.881 31.426 12.881zM708.919 390.563h-111.586c-12.365 0-22.839 4.294-31.428 12.882s-12.881 19.063-12.881 31.426v154.257c0 12.361 4.292 22.835 12.881 31.424s19.063 12.881 31.428 12.881h111.586c12.365 0 22.839-4.292 31.428-12.881s12.881-19.063 12.881-31.424v-13.129c0-5.308-1.724-9.681-5.167-13.129-3.447-3.447-7.825-5.171-13.129-5.171h-14.276c-5.308 0-9.685 1.724-13.129 5.171-3.447 3.447-5.171 7.821-5.171 13.129 0 1.638-0.683 3.145-2.052 4.514-1.365 1.365-2.871 2.048-4.51 2.048h-85.333c-1.643 0-3.149-0.683-4.514-2.048-1.37-1.37-2.052-2.876-2.052-4.514v-128c0-1.643 0.683-3.145 2.052-4.514 1.365-1.365 2.871-2.052 4.514-2.052h85.333c1.638 0 3.145 0.687 4.51 2.052 1.37 1.37 2.052 2.871 2.052 4.514 0 5.303 1.724 9.681 5.171 13.129 3.443 3.443 7.821 5.167 13.129 5.167h14.276c5.303 0 9.681-1.724 13.129-5.167 3.443-3.447 5.167-7.825 5.167-13.129v-13.129c0-12.363-4.292-22.838-12.881-31.426s-19.063-12.882-31.428-12.882z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"grid":0,"tags":["captions"]},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":531,"id":85,"name":"captions","prevSize":32,"code":59713},"setIdx":0,"setId":6,"iconIdx":0},{"icon":{"paths":["M917.824 963.443l-145.724-145.719h-514.953c-21.552 0-39.795-7.467-54.729-22.4s-22.4-33.178-22.4-54.729v-485.742c0-4.431 0.615-8.479 1.846-12.145s2.941-7.030 5.129-10.093l-101.661-101.661 45.618-45.621 832.492 832.491-45.619 45.619zM905.353 738.953l-133.909-133.909c4.156-3.554 7.275-8.013 9.353-13.372 2.078-5.363 3.119-10.97 3.119-16.819v-29.538h-50.871v18.048h-3.281l-95.181-95.177v-34.462c0-1.643 0.683-3.145 2.052-4.514 1.365-1.37 2.871-2.052 4.51-2.052h85.333c1.643 0 3.149 0.683 4.514 2.052 1.37 1.37 2.052 2.871 2.052 4.514v17.229h50.871v-30.357c0-12.363-4.292-22.838-12.881-31.426s-19.063-12.882-31.428-12.882h-111.586c-11.268 0-20.992 3.679-29.171 11.036-8.175 7.357-12.949 16.533-14.315 27.529v3.282l-240.411-240.41h484.102c21.551 0 39.795 7.467 54.729 22.4s22.4 33.176 22.4 54.729v484.1zM345.763 619.157h111.59c12.361 0 22.835-4.292 31.424-12.881s12.885-19.063 12.885-31.424v-7.881l-21.662-21.658h-29.214v16.41c0 1.638-0.683 3.145-2.048 4.51-1.37 1.37-2.871 2.052-4.514 2.052h-85.333c-1.641 0-3.145-0.683-4.513-2.052-1.368-1.365-2.051-2.871-2.051-4.51v-132.595c0-1.643 0.684-3.146 2.051-4.514s2.871-2.051 4.513-2.051h18.052l-41.025-41.025h-6.564c-7.987 2.188-14.633 6.92-19.939 14.195s-7.959 15.563-7.959 24.862v154.257c0 12.361 4.294 22.835 12.882 31.424s19.063 12.881 31.426 12.881z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"grid":0,"tags":["captions-off"]},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":530,"id":84,"name":"captions-off","prevSize":32,"code":59736},"setIdx":0,"setId":6,"iconIdx":1},{"icon":{"paths":["M511.986 899.594c-5.106 0-10.23-1.178-15.371-3.528-5.142-2.355-9.71-5.53-13.703-9.523l-231.385-231.383c-6.619-6.548-9.928-14.561-9.928-24.028 0-9.472 3.299-17.377 9.898-23.726 6.424-6.344 14.229-9.513 23.416-9.513s16.954 3.169 23.3 9.513l179.694 178.632v-647.304c0-9.067 3.423-17.022 10.27-23.867s14.806-10.267 23.878-10.267c9.068 0 17.024 3.422 23.859 10.267 6.84 6.844 10.255 14.8 10.255 23.867v647.304l179.287-178.632c6.62-6.615 14.52-9.923 23.711-9.923 9.185 0 16.988 3.308 23.414 9.923 6.6 6.62 9.897 14.602 9.897 23.946s-3.308 17.28-9.928 23.808l-231.383 231.383c-3.994 3.994-8.581 7.168-13.757 9.523-5.176 2.35-10.322 3.528-15.425 3.528z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"grid":0,"tags":["view-last"]},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":532,"id":83,"name":"view-last","prevSize":32,"code":59740},"setIdx":0,"setId":6,"iconIdx":2},{"icon":{"paths":["M512 650.172c-5.141 0-9.929-0.819-14.357-2.458-4.433-1.643-8.644-4.459-12.638-8.452l-132.675-132.676c-5.907-5.909-8.929-13.333-9.065-22.276s2.884-16.503 9.065-22.686c6.181-6.182 13.784-9.382 22.81-9.6s16.629 2.761 22.811 8.943l82.050 82.052v-326.403c0-9.080 3.063-16.684 9.19-22.81s13.73-9.189 22.81-9.189c9.079 0 16.683 3.063 22.81 9.189s9.19 13.729 9.19 22.81v326.403l82.052-82.052c5.905-5.909 13.44-8.819 22.605-8.738 9.161 0.081 16.832 3.213 23.014 9.395 6.178 6.182 9.271 13.675 9.271 22.481s-3.093 16.299-9.271 22.481l-132.676 132.676c-3.994 3.994-8.205 6.81-12.638 8.452-4.429 1.638-9.216 2.458-14.357 2.458zM269.13 832c-21.552 0-39.795-7.467-54.729-22.4s-22.4-33.178-22.4-54.729v-82.871c0-9.079 3.063-16.683 9.19-22.81s13.729-9.19 22.81-9.19c9.080 0 16.684 3.063 22.81 9.19s9.19 13.73 9.19 22.81v82.871c0 3.281 1.367 6.289 4.102 9.028 2.735 2.735 5.745 4.1 9.027 4.1h485.742c3.281 0 6.289-1.365 9.028-4.1 2.735-2.739 4.1-5.747 4.1-9.028v-82.871c0-9.079 3.063-16.683 9.19-22.81s13.73-9.19 22.81-9.19c9.079 0 16.683 3.063 22.81 9.19s9.19 13.73 9.19 22.81v82.871c0 21.551-7.467 39.795-22.4 54.729s-33.178 22.4-54.729 22.4h-485.742z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["download"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":442,"id":2,"name":"download","prevSize":32,"code":59737},"setIdx":0,"setId":6,"iconIdx":5},{"icon":{"paths":["M390.564 672h242.869c10.927 0 20.087-3.699 27.477-11.089 7.394-7.39 11.089-16.55 11.089-27.477v-242.87c0-10.927-3.695-20.085-11.089-27.476-7.39-7.391-16.55-11.087-27.477-11.087h-242.869c-10.927 0-20.085 3.696-27.476 11.087s-11.087 16.55-11.087 27.476v242.87c0 10.927 3.696 20.087 11.087 27.477s16.55 11.089 27.476 11.089zM512.073 917.333c-56.064 0-108.757-10.641-158.086-31.915-49.329-21.278-92.238-50.155-128.727-86.626s-65.378-79.364-86.663-128.67c-21.286-49.306-31.929-101.99-31.929-158.050 0-56.064 10.639-108.758 31.915-158.086s50.151-92.238 86.624-128.727c36.474-36.49 79.364-65.378 128.671-86.663s101.99-31.929 158.050-31.929c56.064 0 108.757 10.638 158.084 31.915 49.331 21.277 92.241 50.151 128.73 86.624s65.378 79.364 86.66 128.671c21.286 49.306 31.932 101.991 31.932 158.051s-10.641 108.757-31.915 158.084c-21.278 49.331-50.15 92.237-86.626 128.73-36.471 36.489-79.364 65.374-128.67 86.66s-101.99 31.932-158.050 31.932z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["transcript-stop"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":443,"id":3,"name":"transcript-stop","prevSize":32,"code":59738},"setIdx":0,"setId":6,"iconIdx":6},{"icon":{"paths":["M287.922 413.537c20.512 0 38.097-7.156 52.756-21.467s21.989-32.044 21.989-53.199v-178.872c0-21.156-7.312-38.889-21.937-53.2-14.626-14.31-32.207-21.466-52.744-21.466-21.159 0-38.891 7.155-53.195 21.466s-21.457 32.044-21.457 53.2v178.872c0 21.155 7.148 38.889 21.444 53.199s32.009 21.467 53.142 21.467zM776.205 906.667c21.21 0 39.369-7.556 54.473-22.66s22.656-33.259 22.656-54.468v-656.41c0-21.21-7.552-39.367-22.656-54.471s-33.263-22.657-54.473-22.657h-285.538c-9.067 0-16.666 3.068-22.797 9.204-6.135 6.136-9.199 13.739-9.199 22.81s3.063 16.669 9.199 22.796c6.131 6.126 13.73 9.19 22.797 9.19h285.538c3.827 0 6.976 1.231 9.438 3.693s3.691 5.607 3.691 9.437v656.41c0 3.827-1.229 6.972-3.691 9.434s-5.611 3.695-9.438 3.695h-443.074c-3.829 0-6.975-1.233-9.437-3.695s-3.693-5.606-3.693-9.434v-45.952c0-9.067-3.068-16.666-9.204-22.797-6.135-6.135-13.739-9.199-22.81-9.199s-16.669 3.063-22.795 9.199c-6.127 6.131-9.19 13.73-9.19 22.797v45.952c0 21.21 7.552 39.364 22.657 54.468s33.261 22.66 54.471 22.66h443.074zM450.462 751.59h208.41c9.766 0 17.95-3.302 24.555-9.907 6.605-6.609 9.907-14.793 9.907-24.555 0-9.766-3.302-17.95-9.907-24.555s-14.788-9.907-24.555-9.907h-208.41c-9.762 0-17.946 3.302-24.553 9.907-6.605 6.605-9.907 14.788-9.907 24.555 0 9.762 3.302 17.946 9.907 24.555 6.607 6.605 14.79 9.907 24.553 9.907zM533.333 623.59h128c9.067 0 16.666-3.072 22.801-9.207 6.131-6.135 9.199-13.739 9.199-22.81s-3.068-16.666-9.199-22.793c-6.135-6.127-13.734-9.19-22.801-9.19h-128c-9.067 0-16.666 3.068-22.797 9.203-6.135 6.135-9.199 13.739-9.199 22.81s3.063 16.67 9.199 22.797c6.131 6.127 13.73 9.19 22.797 9.19zM288.151 490.667c-38.222 0-71.665-10.94-100.331-32.819-28.666-21.884-47.156-50.026-55.471-84.433-2.462-9.354-6.884-17.449-13.267-24.287s-14.095-10.256-23.137-10.256c-9.042 0-16.627 3.637-22.753 10.912s-8.178 15.59-6.154 24.943c8.041 46.933 29.497 86.564 64.369 118.893s76.403 51.802 124.594 58.419v77.295c0 9.067 3.068 16.666 9.204 22.797 6.136 6.135 13.74 9.203 22.81 9.203s16.67-3.068 22.796-9.203c6.126-6.131 9.189-13.73 9.189-22.797v-77.295c47.48-6.618 88.766-26.091 123.856-58.419 35.093-32.329 56.794-71.686 65.109-118.071 2.022-9.627 0.038-18.147-5.952-25.558-5.986-7.412-13.589-11.118-22.81-11.118-9.216 0-16.994 3.419-23.343 10.256-6.345 6.837-10.748 14.933-13.21 24.287-8.311 34.407-26.952 62.549-55.917 84.433-28.964 21.879-62.159 32.819-99.584 32.819z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["transcript"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":444,"id":4,"name":"transcript","prevSize":32,"code":59739},"setIdx":0,"setId":6,"iconIdx":7},{"icon":{"paths":["M826.701 870.349l-254.935-254.93c-21.33 15.642-44.723 27.909-70.177 36.797-25.452 8.888-52.536 13.332-81.251 13.332-71.136 0-131.593-24.888-181.37-74.665s-74.667-110.223-74.667-181.334c0-71.111 24.889-131.555 74.667-181.333s110.222-74.667 181.333-74.667c71.111 0 131.554 24.889 181.336 74.667 49.777 49.778 74.665 110.235 74.665 181.37 0 28.716-4.444 55.799-13.332 81.251s-21.156 48.845-36.803 70.18l254.935 254.93-54.4 54.4zM420.3 588.749c49.778 0 92.089-17.423 126.936-52.265 34.842-34.845 52.265-77.156 52.265-126.934s-17.423-92.089-52.265-126.933c-34.847-34.845-77.158-52.267-126.936-52.267s-92.089 17.422-126.933 52.267c-34.845 34.844-52.267 77.155-52.267 126.933s17.422 92.089 52.267 126.934c34.844 34.842 77.155 52.265 126.933 52.265z"],"width":1075,"attrs":[{"fill":"rgb(128, 128, 128)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["search"],"grid":0},"attrs":[{"fill":"rgb(128, 128, 128)"}],"properties":{"order":445,"id":5,"name":"search","prevSize":32,"code":59717},"setIdx":0,"setId":6,"iconIdx":8},{"icon":{"paths":["M564.029 905.856c-15.754 0-27.080-5.125-33.971-15.375s-7.629-22.769-2.217-37.555l145.316-383.48c3.994-10.57 11.566-19.424 22.728-26.562 11.162-7.139 22.446-10.708 33.864-10.708 10.778 0 21.514 3.589 32.21 10.766 10.691 7.177 18.012 16.032 21.965 26.566l146.191 383.967c5.484 14.792 4.618 27.218-2.596 37.284-7.219 10.066-18.749 15.099-34.596 15.099-6.968 0-13.665-2.355-20.081-7.055-6.42-4.705-11.008-10.337-13.763-16.891l-33.659-97.408h-192.061l-33.060 96.937c-2.519 6.595-7.276 12.314-14.259 17.157-6.989 4.838-14.326 7.26-22.011 7.26zM658.386 715.581h140.227l-68.925-193.725h-2.381l-68.92 193.725zM320.665 372.935c10.536 19.097 21.731 36.712 33.584 52.846 11.853 16.133 25.766 33.252 41.738 51.359 29.812-31.671 54.013-64.027 72.602-97.066s34.128-68.184 46.616-105.435h-396.265c-11.146 0-20.489-3.774-28.030-11.323-7.54-7.549-11.31-16.903-11.31-28.062s3.774-20.512 11.322-28.061c7.549-7.549 16.903-11.323 28.062-11.323h236.306v-39.385c0-11.159 3.774-20.512 11.323-28.061 7.549-7.549 16.903-11.324 28.062-11.324s20.512 3.774 28.061 11.324c7.549 7.548 11.324 16.902 11.324 28.061v39.385h236.307c11.156 0 20.511 3.774 28.058 11.323 7.552 7.549 11.325 16.902 11.325 28.061s-3.773 20.513-11.325 28.062c-7.547 7.548-16.901 11.323-28.058 11.323h-76.349c-13.153 46.386-31.406 91.549-54.753 135.491-23.347 43.941-52.207 85.259-86.579 123.953l93.128 96.328-29.537 80.901-120.534-120.53-169.107 169.103c-7.548 7.552-16.82 11.325-27.815 11.325s-20.266-4.132-27.814-12.39c-8.261-7.547-12.39-16.819-12.39-27.817 0-10.993 4.13-20.618 12.39-28.882l170.172-170.665c-17.832-20.063-34.174-40.37-49.025-60.922s-28.13-42.142-39.836-64.766c-7.275-13.793-7.385-25.968-0.328-36.525s18.789-15.836 35.2-15.836c6.171 0 12.506 1.933 19.003 5.797s11.322 8.442 14.473 13.73z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["lang-select"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":446,"id":6,"name":"lang-select","prevSize":32,"code":59714},"setIdx":0,"setId":6,"iconIdx":9},{"icon":{"paths":["M511.982 917.315c-55.576 0-108.020-10.655-157.332-31.959-49.313-21.304-92.321-50.309-129.026-87.014s-65.709-79.713-87.014-129.024c-21.306-49.316-31.96-101.76-31.96-157.335 0-56.013 10.653-108.567 31.96-157.661 21.305-49.094 50.31-91.993 87.014-128.697s79.713-65.709 129.026-87.014c49.312-21.306 101.756-31.96 157.332-31.96 56.015 0 108.567 10.653 157.663 31.96 49.091 21.305 91.991 50.31 128.696 87.014s65.71 79.604 87.014 128.697c21.304 49.094 31.959 101.647 31.959 157.661 0 55.575-10.655 108.019-31.959 157.335-21.304 49.311-50.309 92.319-87.014 129.024s-79.606 65.71-128.696 87.014c-49.096 21.304-101.647 31.959-157.663 31.959zM511.982 852.413c21.773-28.882 40.097-58.010 54.976-87.388 14.879-29.373 26.993-61.481 36.347-96.328h-182.646c9.901 35.942 22.154 68.598 36.76 97.971 14.605 29.373 32.793 57.958 54.564 85.745zM429.358 840.678c-16.355-23.465-31.043-50.145-44.062-80.041s-23.139-60.539-30.36-91.94h-144.74c22.537 44.308 52.76 81.536 90.668 111.677 37.908 30.136 80.74 50.243 128.494 60.303zM594.606 840.678c47.754-10.061 90.583-30.167 128.497-60.303 37.903-30.141 68.127-67.369 90.665-111.677h-144.742c-8.586 31.672-19.389 62.459-32.41 92.349-13.020 29.896-27.023 56.438-42.010 79.631zM183.367 604.703h158.606c-2.68-15.867-4.622-31.411-5.825-46.648-1.203-15.232-1.805-30.592-1.805-46.072s0.602-30.837 1.805-46.072c1.203-15.234 3.145-30.783 5.825-46.646h-158.606c-4.102 14.496-7.247 29.566-9.436 45.211s-3.282 31.48-3.282 47.508c0 16.028 1.094 31.864 3.282 47.511 2.188 15.642 5.334 30.71 9.436 45.21zM405.971 604.703h212.023c2.678-15.867 4.623-31.278 5.827-46.239s1.802-30.454 1.802-46.482c0-16.028-0.599-31.522-1.802-46.482-1.203-14.961-3.149-30.373-5.827-46.237h-212.023c-2.68 15.863-4.622 31.276-5.826 46.237-1.203 14.96-1.805 30.454-1.805 46.482s0.602 31.521 1.805 46.482c1.204 14.961 3.146 30.372 5.826 46.239zM681.994 604.703h158.602c4.106-14.5 7.25-29.568 9.436-45.21 2.191-15.647 3.282-31.483 3.282-47.511s-1.091-31.864-3.282-47.508c-2.186-15.645-5.33-30.715-9.436-45.211h-158.602c2.678 15.863 4.618 31.412 5.821 46.646 1.203 15.235 1.807 30.593 1.807 46.072s-0.604 30.84-1.807 46.072c-1.203 15.237-3.144 30.781-5.821 46.648zM669.025 355.266h144.742c-22.81-44.855-52.828-82.080-90.051-111.674-37.228-29.593-80.261-49.832-129.111-60.718 16.353 24.834 30.904 51.993 43.653 81.477 12.744 29.484 22.999 59.789 30.766 90.914zM420.659 355.266h182.646c-9.902-35.665-22.359-68.527-37.376-98.586-15.012-30.058-32.998-58.434-53.947-85.129-20.951 26.695-38.934 55.071-53.948 85.129-15.016 30.058-27.474 62.921-37.375 98.586zM210.196 355.266h144.74c7.768-31.126 18.024-61.43 30.77-90.914s27.296-56.643 43.651-81.477c-49.121 10.886-92.226 31.194-129.314 60.923s-67.037 66.886-89.848 111.468z"],"attrs":[{"fill":"rgb(128, 128, 128)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["globe"],"grid":0},"attrs":[{"fill":"rgb(128, 128, 128)"}],"properties":{"order":447,"id":7,"name":"globe","prevSize":32,"code":59716},"setIdx":0,"setId":6,"iconIdx":10},{"icon":{"paths":["M484.27 661.171v-428.639c0-7.858 2.637-14.445 7.912-19.76s11.811-7.972 19.61-7.972c7.796 0 14.406 2.657 19.818 7.972 5.417 5.316 8.125 11.902 8.125 19.76v429.048l103.388-103.798c5.837-6.18 12.483-9.272 19.937-9.272s14.019 3.062 19.692 9.185c5.903 5.729 8.858 12.237 8.858 19.517 0 7.286-2.954 13.88-8.858 19.789l-146.954 146.954c-6.743 7.004-14.612 10.501-23.603 10.501-8.989 0-16.986-3.497-23.987-10.501l-147.105-147.103c-5.716-5.74-8.351-12.278-7.904-19.615 0.447-7.337 3.488-13.819 9.122-19.456 5.907-6.18 12.512-9.201 19.814-9.068 7.303 0.138 13.907 3.159 19.814 9.068l102.32 103.388z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["down-arrow"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":448,"id":8,"name":"down-arrow","prevSize":32,"code":59711},"setIdx":0,"setId":6,"iconIdx":11},{"icon":{"paths":["M192 853.315c-17.066 0-32-6.4-44.8-19.2s-19.2-27.73-19.2-44.8v-554.664c0-17.067 6.4-32 19.2-44.8s27.734-19.2 44.8-19.2h640c17.065 0 32 6.4 44.8 19.2s19.2 27.733 19.2 44.8v554.664c0 17.070-6.4 32-19.2 44.8s-27.735 19.2-44.8 19.2h-640zM192 789.315h640v-554.664h-640v554.664zM288 638.915h151.466c9.067 0 16.667-3.067 22.8-9.196 6.133-6.134 9.2-13.737 9.2-22.804v-44.8h-53.333v23.47h-108.8v-147.202h108.8v23.467h53.333v-44.8c0-9.067-3.066-16.667-9.2-22.8s-13.733-9.2-22.8-9.2h-151.466c-9.066 0-16.667 3.066-22.8 9.2s-9.2 13.733-9.2 22.8v189.864c0 9.068 3.067 16.671 9.2 22.804 6.133 6.129 13.733 9.196 22.8 9.196zM585.6 638.915h151.465c8.535 0 16-3.2 22.4-9.6s9.6-13.865 9.6-22.4v-44.8h-53.33v23.47h-108.8v-147.202h108.8v23.467h53.33v-44.8c0-8.534-3.2-16-9.6-22.4s-13.865-9.6-22.4-9.6h-151.465c-8.535 0-16 3.2-22.4 9.6s-9.6 13.866-9.6 22.4v189.864c0 8.535 3.2 16 9.6 22.4s13.865 9.6 22.4 9.6z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["caption-mode"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":450,"id":9,"name":"caption-mode","prevSize":32,"code":59708},"setIdx":0,"setId":6,"iconIdx":12},{"icon":{"paths":["M714.634 424.534c-20.623 0-38.216-7.282-52.782-21.846-14.592-14.592-21.888-32.199-21.888-52.822v-179.2c0-21.333 7.296-39.111 21.888-53.333 14.566-14.222 32.159-21.334 52.782-21.334 21.33 0 39.112 7.111 53.33 21.334 14.223 14.222 21.335 32 21.335 53.333v179.2c0 20.622-7.112 38.23-21.335 52.822-14.218 14.563-32 21.846-53.33 21.846zM226.1 917.335c-21.334 0-39.467-7.47-54.4-22.4-14.934-14.935-22.4-33.070-22.4-54.4v-657.069c0-21.333 7.466-39.466 22.4-54.4s33.066-22.4 54.4-22.4h317.864v64h-317.864c-3.556 0-6.571 1.238-9.046 3.712-2.503 2.503-3.754 5.533-3.754 9.088v657.069c0 3.553 1.251 6.584 3.754 9.088 2.474 2.473 5.49 3.712 9.046 3.712h443.734c3.553 0 6.584-1.239 9.088-3.712 2.473-2.504 3.712-5.535 3.712-9.088v-77.87h64v77.87c0 21.33-7.47 39.465-22.4 54.4-14.935 14.93-33.070 22.4-54.4 22.4h-443.734zM309.3 762.665v-69.33h277.334v69.33h-277.334zM309.3 634.665v-64h192v64h-192zM746.634 672h-64v-108.8c-53.335-7.823-98.673-31.647-136.023-71.466-37.318-39.822-55.978-87.111-55.978-141.867h64.001c0 42.667 15.826 78.578 47.488 107.734 31.631 29.155 69.135 43.734 112.512 43.734 44.088 0 81.777-14.578 113.065-43.734s46.935-65.066 46.935-107.734h64c0 54.756-18.488 102.045-55.47 141.867-36.977 39.82-82.488 63.643-136.53 71.466v108.8z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["stt"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":451,"id":10,"name":"stt","prevSize":32,"code":59709},"setIdx":0,"setId":6,"iconIdx":13},{"icon":{"paths":["M309.35 714.629h277.33v-63.995h-277.33v63.995zM309.35 543.964h405.33v-63.997h-405.33v63.997zM309.35 373.298h405.33v-63.997h-405.33v63.997zM226.479 874.629c-21.553 0-39.795-7.465-54.729-22.4-14.933-14.93-22.4-33.172-22.4-54.728v-571.073c0-21.552 7.467-39.795 22.4-54.728s33.176-22.4 54.729-22.4h571.074c21.55 0 39.798 7.466 54.728 22.4 14.935 14.933 22.4 33.176 22.4 54.728v571.073c0 21.555-7.465 39.798-22.4 54.728-14.93 14.935-33.178 22.4-54.728 22.4h-571.074zM226.479 810.634h571.074c3.282 0 6.292-1.367 9.027-4.106 2.734-2.734 4.101-5.745 4.101-9.027v-571.073c0-3.282-1.367-6.291-4.101-9.027s-5.745-4.103-9.027-4.103h-571.074c-3.282 0-6.291 1.368-9.027 4.103s-4.103 5.745-4.103 9.027v571.073c0 3.282 1.368 6.292 4.103 9.027 2.736 2.739 5.745 4.106 9.027 4.106z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["transcript-mode"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":452,"id":11,"name":"transcript-mode","prevSize":32,"code":59710},"setIdx":0,"setId":6,"iconIdx":14},{"icon":{"paths":["M916.178 808.381l-724.878-724.881-36.204 36.204 724.878 724.881 36.204-36.204zM520.996 342.147l-181.969-181.97c13.932-4.385 28.922-6.577 44.973-6.577 40.558 0 74.35 13.999 101.378 41.995 27.062 27.997 40.589 63.001 40.589 105.013 0 14.702-1.659 28.549-4.972 41.539zM624.307 445.457l159.237 159.235c17.167-16.927 25.748-37.212 25.748-60.861v-201.139c0-24.131-8.934-44.612-26.808-61.444-17.869-16.832-39.613-25.248-65.234-25.248s-47.508 8.416-65.664 25.248c-18.186 16.832-27.279 37.314-27.279 61.444v102.765zM242.032 300.609c0-3.318 0.084-6.593 0.253-9.823l156.257 156.257c-4.746 0.417-9.594 0.625-14.542 0.625-40.558 0-74.35-13.999-101.378-41.995-27.060-28.030-40.59-63.052-40.59-105.063zM551.286 599.788c9.718 26.045 26.312 48.922 49.777 68.628 14.618 12.252 30.423 21.775 47.416 28.564l97.377 97.377v49.096c0 7.301-2.826 13.614-8.489 18.949-5.663 5.33-12.37 7.997-20.116 7.997s-14.454-2.668-20.116-7.997c-5.663-5.335-8.489-11.648-8.489-18.949v-80.794c-53.617-5.601-99.036-26.081-136.264-61.445-37.228-35.333-59.118-77.696-65.666-127.089-1.201-8.402 1.029-15.549 6.691-21.448 1.809-1.889 3.816-3.471 6.019-4.751l51.86 51.86zM840.335 661.484l40.73 40.73 1.055-0.998c37.228-35.333 58.819-77.696 64.763-127.089 1.203-8.402-1.029-15.549-6.687-21.448-5.663-5.898-13.256-8.847-22.779-8.847-7.148 0-13.107 2.115-17.884 6.339-4.772 4.204-7.762 9.953-8.965 17.254-5.453 36.541-22.2 67.896-50.232 94.060zM142.698 768c-18.949 0-34.669-6.472-47.16-19.41-12.492-12.974-18.738-28.902-18.738-47.79v-29.394c0-21.007 5.564-40.095 16.694-57.272 11.161-17.142 25.875-30.264 44.143-39.373 39.195-18.888 79.753-33.423 121.673-43.607 41.888-10.153 83.451-15.227 124.69-15.227 3.533 0 7.071 0.036 10.612 0.113 24.093 0.507 40.588 23.060 40.588 47.16 0 83.743 40.209 158.095 102.374 204.8h-394.876z"],"attrs":[{"fill":"rgb(250, 250, 250)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["demote-filled"],"grid":0},"attrs":[{"fill":"rgb(250, 250, 250)"}],"properties":{"order":453,"id":12,"name":"demote-filled","prevSize":32,"code":59666},"setIdx":0,"setId":6,"iconIdx":15},{"icon":{"paths":["M242.255 290.755c-0.17 3.241-0.255 6.525-0.255 9.854 0 42.012 13.53 77.033 40.59 105.063 27.027 27.997 60.82 41.995 101.378 41.995 4.958 0 9.815-0.209 14.571-0.628l-156.284-156.285z","M783.544 604.692l-159.237-159.235v-102.765c0-24.131 9.093-44.612 27.279-61.444 18.156-16.832 40.044-25.248 65.664-25.248s47.365 8.416 65.234 25.248c17.874 16.832 26.808 37.314 26.808 61.444v201.139c0 23.649-8.581 43.935-25.748 60.861z","M551.286 599.788c9.718 26.045 26.312 48.922 49.777 68.628 14.618 12.252 30.423 21.775 47.416 28.564l97.377 97.377v49.096c0 7.301-2.826 13.614-8.489 18.949-5.663 5.33-12.37 7.997-20.116 7.997s-14.454-2.668-20.116-7.997c-5.663-5.335-8.489-11.648-8.489-18.949v-80.794c-53.617-5.601-99.036-26.081-136.264-61.445-37.228-35.333-59.118-77.696-65.666-127.089-1.201-8.402 1.029-15.549 6.691-21.448 1.809-1.889 3.816-3.471 6.019-4.751l51.86 51.86z","M881.065 702.213l-40.73-40.73c28.032-26.163 44.78-57.518 50.232-94.060 1.203-7.301 4.193-13.051 8.965-17.254 4.777-4.224 10.737-6.339 17.884-6.339 9.523 0 17.116 2.949 22.779 8.847 5.658 5.898 7.89 13.046 6.687 21.448-5.944 49.393-27.535 91.756-64.763 127.089-0.348 0.338-0.701 0.666-1.055 0.998z","M520.97 342.121l-181.951-181.952c13.925-4.38 28.908-6.569 44.949-6.569 40.558 0 74.35 13.999 101.378 41.995 27.059 27.997 40.591 63.001 40.591 105.013 0 14.692-1.654 28.53-4.966 41.513z","M472.767 721.577c12.172 15.985 26.406 30.285 42.299 42.496h-370.662c-18.74 0-34.701-6.641-47.882-19.917-13.148-13.307-19.722-29.071-19.722-47.288v-29.389c0-21.007 5.709-40.1 17.126-57.272 11.45-17.142 26.196-30.264 44.237-39.373 40.909-18.888 82.867-33.423 125.873-43.607 42.973-10.153 85.613-15.227 127.92-15.227 2.838 0 5.677 0.020 8.519 0.067 18.754 0.302 31.166 18.514 28.382 37.064-2.504 16.676-16.772 30.259-33.638 30.136l-3.262-0.015c-37.447 0-75.41 4.89-113.889 14.674-38.513 9.81-75.094 22.415-109.745 37.811-7.623 3.492-13.698 8.233-18.225 14.213-4.493 5.949-6.74 13.128-6.74 21.53v29.389h283.354c18.351 0 34.94 10.112 46.058 24.709z","M191.3 83.5l724.877 724.877-36.204 36.204-724.877-724.877 36.204-36.204z"],"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["demote-outlined"],"grid":0},"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"properties":{"order":454,"id":13,"name":"demote-outlined","prevSize":32,"code":59682},"setIdx":0,"setId":6,"iconIdx":16},{"icon":{"paths":["M524.8 204.8c35.346 0 64 28.654 64 64v486.4c0 35.346-28.654 64-64 64s-64-28.654-64-64v-486.4c0-35.346 28.654-64 64-64z","M780.8 358.4c35.346 0 64 28.654 64 64v179.2c0 35.346-28.654 64-64 64s-64-28.654-64-64v-179.2c0-35.346 28.654-64 64-64z","M268.8 358.4c35.346 0 64 28.654 64 64v179.2c0 35.346-28.654 64-64 64s-64-28.654-64-64v-179.2c0-35.346 28.654-64 64-64z"],"attrs":[{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["active-speaker"],"grid":0},"attrs":[{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"}],"properties":{"order":455,"id":14,"name":"active-speaker","prevSize":32,"code":59651},"setIdx":0,"setId":6,"iconIdx":17},{"icon":{"paths":["M491.52 705.536c9.556 0 17.408-3.072 23.552-9.216s9.216-13.996 9.216-23.552c0-9.556-3.072-17.408-9.216-23.552s-13.996-9.216-23.552-9.216c-9.556 0-17.408 3.072-23.552 9.216s-9.216 13.996-9.216 23.552c0 9.556 3.072 17.408 9.216 23.552s13.996 9.216 23.552 9.216zM460.8 556.032h61.44v-245.76h-61.44v245.76zM491.52 901.12c-53.932 0-104.612-10.24-152.044-30.72-47.459-20.48-88.596-48.128-123.412-82.944s-62.464-75.952-82.944-123.412c-20.48-47.432-30.72-98.111-30.72-152.044s10.24-104.625 30.72-152.084c20.48-47.432 48.128-88.556 82.944-123.372s75.953-62.464 123.412-82.944c47.432-20.48 98.111-30.72 152.044-30.72s104.624 10.24 152.084 30.72c47.432 20.48 88.556 48.128 123.372 82.944s62.464 75.94 82.944 123.372c20.48 47.459 30.72 98.152 30.72 152.084s-10.24 104.612-30.72 152.044c-20.48 47.46-48.128 88.596-82.944 123.412s-75.94 62.464-123.372 82.944c-47.46 20.48-98.152 30.72-152.084 30.72z"],"width":983,"attrs":[{"fill":"rgb(255, 65, 77)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["alert"],"grid":0},"attrs":[{"fill":"rgb(255, 65, 77)"}],"properties":{"order":456,"id":15,"name":"alert","prevSize":32,"code":59684},"setIdx":0,"setId":6,"iconIdx":18},{"icon":{"paths":["M512 625.050q-7.475 0-14.95-2.662t-13.824-10.138l-188.826-187.699q-9.626-10.701-9.062-25.088 0.512-14.387 10.138-24.013 11.725-10.65 24.525-10.138 12.8 0.563 23.45 10.138l168.55 169.626 169.574-168.55q9.626-10.65 22.426-10.65t24.525 10.65q10.701 10.65 10.701 24.525t-10.701 23.501l-187.75 187.699q-6.349 7.475-13.824 10.138t-14.95 2.662z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["arrow-down"],"grid":0},"attrs":[{}],"properties":{"order":457,"id":16,"name":"arrow-down","prevSize":32,"code":59648},"setIdx":0,"setId":6,"iconIdx":19},{"icon":{"paths":["M295.475 616.55q-10.701-9.626-10.701-23.501t10.701-24.525l187.75-186.675q6.349-7.475 13.824-10.65t14.95-3.174 14.95 3.174 13.824 10.65l188.826 187.75q9.626 10.65 10.138 23.45t-10.138 23.501q-10.65 10.65-24.013 10.65-13.312 0-24.013-10.65l-169.574-167.475-169.574 168.499q-9.626 10.701-22.938 10.701-13.363 0-24.013-11.725z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["arrow-up"],"grid":0},"attrs":[{}],"properties":{"order":458,"id":17,"name":"arrow-up","prevSize":32,"code":59649},"setIdx":0,"setId":6,"iconIdx":20},{"icon":{"paths":["M512 837.333l-325.333-325.333 325.333-325.333 45.867 45.867-248.533 247.467h528v64h-528l248.533 247.467-45.867 45.867z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["back-btn"],"defaultCode":59650,"grid":0},"attrs":[{}],"properties":{"order":459,"id":18,"name":"back-btn","prevSize":32,"code":59650},"setIdx":0,"setId":6,"iconIdx":21},{"icon":{"paths":["M106.6 187.751c0-22.767 7.834-41.967 23.501-57.6 15.633-15.667 34.833-23.501 57.6-23.501h648.498c22.769 0 41.969 7.834 57.6 23.501 15.667 15.633 23.501 34.833 23.501 57.6v477.849c0 22.769-7.834 41.969-23.501 57.6-15.631 15.631-34.831 23.45-57.6 23.45h-578.098l-82.125 81.101c-12.834 12.8-27.597 15.821-44.288 9.062-16.726-6.758-25.088-19.031-25.088-36.813v-612.249zM266.6 386.151h490.699v-68.301h-490.699v68.301zM266.6 535.45h322.149v-68.249h-322.149v68.249z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["chat-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":460,"id":19,"name":"chat-filled","prevSize":32,"code":59652},"setIdx":0,"setId":6,"iconIdx":22},{"icon":{"paths":["M298.667 586.667h257.067q12.8 0 21.888-9.088 9.045-9.045 9.045-22.912t-9.045-22.955q-9.088-9.045-22.955-9.045h-257.067q-12.8 0-21.845 9.045-9.088 9.088-9.088 22.955t9.088 22.912q9.045 9.088 22.912 9.088zM298.667 458.667h427.733q12.8 0 21.888-9.088 9.045-9.045 9.045-22.912t-9.045-22.955q-9.088-9.045-22.955-9.045h-427.733q-12.8 0-21.845 9.045-9.088 9.088-9.088 22.955t9.088 22.912q9.045 9.088 22.912 9.088zM298.667 330.667h427.733q12.8 0 21.888-9.088 9.045-9.045 9.045-22.912t-9.045-22.912q-9.088-9.088-22.955-9.088h-427.733q-12.8 0-21.845 9.088-9.088 9.045-9.088 22.912t9.088 22.912q9.045 9.088 22.912 9.088zM106.667 804.267v-620.8q0-32 22.4-54.4t54.4-22.4h657.067q32 0 54.4 22.4t22.4 54.4v486.4q0 32-22.4 54.4t-54.4 22.4h-582.4l-86.4 85.333q-18.133 18.133-41.6 8.021-23.467-10.155-23.467-35.755z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["chat-nav"],"grid":0},"attrs":[{}],"properties":{"order":461,"id":20,"name":"chat-nav","prevSize":32,"code":59655},"setIdx":0,"setId":6,"iconIdx":23},{"icon":{"paths":["M106.6 800v-612.249c0-22.767 7.834-41.967 23.501-57.6 15.633-15.667 34.833-23.501 57.6-23.501h648.498c22.769 0 41.969 7.834 57.6 23.501 15.667 15.633 23.501 34.833 23.501 57.6v477.849c0 22.769-7.834 41.969-23.501 57.6-15.631 15.631-34.831 23.45-57.6 23.45h-578.098l-82.125 81.101c-12.834 12.8-27.597 15.821-44.288 9.062-16.726-6.758-25.088-19.031-25.088-36.813zM174.901 732.774l54.374-54.374h606.923c3.584 0 6.605-1.244 9.062-3.738 2.493-2.493 3.738-5.514 3.738-9.062v-477.849c0-3.584-1.244-6.605-3.738-9.062-2.458-2.492-5.478-3.738-9.062-3.738h-648.498c-3.584 0-6.605 1.246-9.062 3.738-2.492 2.458-3.738 5.478-3.738 9.062v545.023zM174.901 187.751v-12.8 12.8z","M588.749 535.45h-322.149v-68.249h322.149v68.249z","M757.299 386.151h-490.699v-68.301h490.699v68.301z"],"attrs":[{"fill":"rgb(197, 197, 197)"},{"fill":"rgb(197, 197, 197)"},{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["chat-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"},{"fill":"rgb(197, 197, 197)"},{"fill":"rgb(197, 197, 197)"}],"properties":{"order":462,"id":21,"name":"chat-outlined","prevSize":32,"code":59664},"setIdx":0,"setId":6,"iconIdx":24},{"icon":{"paths":["M456.6 650.65l239.976-238.9-39.475-39.475-200.501 199.476-90.675-89.601-39.475 39.476 130.15 129.024zM512.051 900.25c-53.318 0-103.63-10.122-150.939-30.362-47.274-20.275-88.525-48.010-123.75-83.2-35.191-35.226-62.925-76.477-83.2-123.75-20.241-47.309-30.362-97.623-30.362-150.938 0-54.033 10.121-104.516 30.362-151.45 20.275-46.933 48.009-88.013 83.2-123.238 35.226-35.191 76.476-62.925 123.75-83.2 47.309-20.241 97.622-30.362 150.939-30.362 54.031 0 104.515 10.121 151.45 30.362 46.93 20.275 88.013 48.009 123.238 83.2 35.19 35.226 62.925 76.305 83.2 123.238 20.239 46.934 30.362 97.417 30.362 151.45 0 53.315-10.122 103.629-30.362 150.938-20.275 47.273-48.010 88.525-83.2 123.75-35.226 35.19-76.308 62.925-123.238 83.2-46.935 20.239-97.418 30.362-151.45 30.362z"],"attrs":[{"fill":"rgb(41, 193, 87)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["check"],"defaultCode":59653,"grid":0},"attrs":[{"fill":"rgb(41, 193, 87)"}],"properties":{"order":463,"id":22,"name":"check","prevSize":32,"code":59653},"setIdx":0,"setId":6,"iconIdx":25},{"icon":{"paths":["M213.333 938.667c-23.467 0-43.563-8.35-60.288-25.045-16.697-16.725-25.045-36.821-25.045-60.288v-597.333h85.333v597.333h469.333v85.333h-469.333zM384 768c-23.467 0-43.549-8.35-60.245-25.045-16.725-16.725-25.088-36.821-25.088-60.288v-512c0-23.467 8.363-43.563 25.088-60.288 16.697-16.697 36.779-25.045 60.245-25.045h384c23.467 0 43.563 8.349 60.288 25.045 16.695 16.725 25.045 36.821 25.045 60.288v512c0 23.467-8.35 43.563-25.045 60.288-16.725 16.695-36.821 25.045-60.288 25.045h-384z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["clipboard"],"defaultCode":59654,"grid":0},"attrs":[{}],"properties":{"order":464,"id":23,"name":"clipboard","prevSize":32,"code":59654},"setIdx":0,"setId":6,"iconIdx":26},{"icon":{"paths":["M512 556.8l-216.533 216.533q-8.533 8.533-21.845 9.045-13.355 0.555-22.955-9.045t-9.6-22.4 9.6-22.4l216.533-216.533-216.533-216.533q-8.533-8.533-9.045-21.888-0.555-13.312 9.045-22.912t22.4-9.6 22.4 9.6l216.533 216.533 216.533-216.533q8.533-8.533 21.888-9.088 13.312-0.512 22.912 9.088t9.6 22.4-9.6 22.4l-216.533 216.533 216.533 216.533q8.533 8.533 9.045 21.845 0.555 13.355-9.045 22.955t-22.4 9.6-22.4-9.6z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["close"],"grid":0},"attrs":[{}],"properties":{"order":465,"id":24,"name":"close","prevSize":32,"code":59656},"setIdx":0,"setId":6,"iconIdx":27},{"icon":{"paths":["M42.667 560.213v-53.76h362.246l-130.885-126.72 39.662-38.4 198.31 192-198.31 192-39.662-38.4 130.885-126.72h-362.246zM512 533.333l198.31-192 39.663 38.4-130.884 126.72h362.244v53.76h-362.244l130.884 126.72-39.663 38.4-198.31-192z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["collapse"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":466,"id":25,"name":"collapse","prevSize":32,"code":59667},"setIdx":0,"setId":6,"iconIdx":28},{"icon":{"paths":["M323.091 562.97c27.378-20.864 56.734-37.257 88.067-49.182 31.334-11.921 64.947-17.882 100.843-17.882s69.508 5.961 100.843 17.882c31.334 11.925 60.689 28.318 88.068 49.182l168.832-165.428c-52.932-40.538-109.060-72.431-168.375-95.681-59.319-23.249-122.445-34.874-189.367-34.874s-130.046 11.625-189.365 34.874c-59.319 23.249-115.444 55.143-168.375 95.681l168.832 165.428zM512 810.667c-3.652 0-6.997-0.597-10.039-1.788-3.042-1.195-6.084-3.281-9.126-6.259l-399.72-391.665c-5.475-5.365-8.061-11.625-7.757-18.778s3.194-13.115 8.67-17.885c57.798-50.076 122.137-89.421 193.016-118.036s145.866-42.922 224.957-42.922c79.091 0 154.078 14.307 224.956 42.922 70.882 28.615 135.219 67.96 193.015 118.036 5.478 4.769 8.367 10.731 8.67 17.885 0.307 7.153-2.278 13.413-7.757 18.778l-399.718 391.665c-3.042 2.978-6.084 5.065-9.126 6.259-3.042 1.19-6.387 1.788-10.039 1.788z"],"attrs":[{"fill":"rgb(255, 171, 0)","opacity":0.6}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-bad"],"defaultCode":59657,"grid":0},"attrs":[{"fill":"rgb(255, 171, 0)","opacity":0.6}],"properties":{"order":467,"id":26,"name":"connection-bad","prevSize":32,"code":59657},"setIdx":0,"setId":6,"iconIdx":29},{"icon":{"paths":["M512 810.667c-4.561 0-8.951-0.649-13.175-1.941-4.25-1.293-8-3.878-11.26-7.757l-392.905-388.847c-6.516-7.111-9.617-15.192-9.305-24.242 0.339-9.050 3.766-16.808 10.282-23.273 58.643-49.131 123.475-86.626 194.498-112.485s144.98-38.788 221.865-38.788c76.885 0 150.844 12.929 221.867 38.788s135.855 63.354 194.496 112.485c6.515 6.465 9.946 14.223 10.283 23.273 0.311 9.050-2.79 17.131-9.306 24.242l-392.905 388.847c-3.26 3.878-6.997 6.464-11.221 7.757-4.25 1.293-8.653 1.941-13.214 1.941z"],"attrs":[{"fill":"rgb(41, 193, 87)","opacity":0.6}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-good"],"defaultCode":59658,"grid":0},"attrs":[{"fill":"rgb(41, 193, 87)","opacity":0.6}],"properties":{"order":468,"id":27,"name":"connection-good","prevSize":32,"code":59658},"setIdx":0,"setId":6,"iconIdx":30},{"icon":{"paths":["M490.667 298.667c58.91 0 106.667-47.756 106.667-106.667s-47.757-106.667-106.667-106.667c-58.91 0-106.667 47.756-106.667 106.667s47.757 106.667 106.667 106.667zM341.333 277.333c0 58.91-47.756 106.667-106.667 106.667s-106.667-47.756-106.667-106.667c0-58.91 47.756-106.667 106.667-106.667s106.667 47.756 106.667 106.667zM725.333 341.333c23.565 0 42.667-19.103 42.667-42.667s-19.102-42.667-42.667-42.667c-23.565 0-42.667 19.103-42.667 42.667s19.102 42.667 42.667 42.667zM832 597.333c35.345 0 64-28.655 64-64s-28.655-64-64-64c-35.345 0-64 28.655-64 64s28.655 64 64 64zM810.667 789.333c0 35.345-28.655 64-64 64s-64-28.655-64-64c0-35.345 28.655-64 64-64s64 28.655 64 64zM490.667 938.667c35.345 0 64-28.655 64-64s-28.655-64-64-64c-35.345 0-64 28.655-64 64s28.655 64 64 64zM341.333 768c0 47.13-38.205 85.333-85.333 85.333s-85.333-38.204-85.333-85.333c0-47.13 38.205-85.333 85.333-85.333s85.333 38.204 85.333 85.333zM170.667 640c47.128 0 85.333-38.204 85.333-85.333s-38.205-85.333-85.333-85.333c-47.128 0-85.333 38.204-85.333 85.333s38.205 85.333 85.333 85.333z"],"attrs":[{"fill":"rgb(179, 179, 179)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-loading"],"defaultCode":59659,"grid":0},"attrs":[{"fill":"rgb(179, 179, 179)"}],"properties":{"order":469,"id":28,"name":"connection-loading","prevSize":32,"code":59659},"setIdx":0,"setId":6,"iconIdx":31},{"icon":{"paths":["M511.735 810.667c-4.565 0-8.96-0.649-13.184-1.941-4.254-1.293-8.009-3.878-11.268-7.757l-392.17-387.878c-6.52-7.111-9.78-15.515-9.78-25.212s3.26-17.455 9.78-23.273c58.027-49.777 122.731-87.441 194.11-112.989 71.406-25.522 145.576-38.284 222.512-38.284 76.932 0 151.104 12.929 222.511 38.788 71.377 25.859 136.081 63.354 194.108 112.485 6.519 6.465 9.95 14.223 10.287 23.273 0.316 9.050-2.462 16.808-8.329 23.273l-6.848 5.818c-16.951-18.101-37.645-32.646-62.084-43.636-24.461-10.99-49.732-16.485-75.81-16.485-52.16 0-96.495 18.101-133.005 54.303-36.514 36.2-54.767 80.164-54.767 131.88 0 28.442 5.709 54.455 17.131 78.042 11.396 23.607 26.223 43.17 44.48 58.684l-123.226 121.212c-3.26 3.878-7.002 6.464-11.226 7.757-4.254 1.293-8.661 1.941-13.222 1.941zM785.57 690.423c-7.172 0-13.039-2.415-17.604-7.253-4.565-4.86-6.195-10.202-4.89-16.017 1.301-16.162 5.385-29.739 12.245-40.73 6.831-10.991 18.722-25.212 35.674-42.667 13.692-13.577 22.822-24.243 27.383-32 4.565-7.757 6.848-16.482 6.848-26.18 0-12.928-4.723-24.41-14.161-34.445-9.468-10.005-23.33-15.010-41.583-15.010-11.085 0-21.359 2.419-30.827 7.253-9.442 4.86-17.421 11.494-23.94 19.9-4.565 5.815-9.783 9.694-15.65 11.635-5.867 1.937-11.409 1.617-16.627-0.969-6.519-2.59-10.756-6.788-12.71-12.608-1.958-5.82-1.63-11.315 0.977-16.486 10.432-15.514 24.124-28.288 41.075-38.319 16.951-10.010 36.186-15.014 57.702-15.014 29.99 0 54.438 8.883 73.348 26.65 18.906 17.792 28.361 40.585 28.361 68.382 0 14.869-3.26 27.955-9.779 39.253-6.519 11.328-18.91 26.364-37.163 45.111-11.738 10.991-19.887 20.365-24.452 28.122-4.561 7.757-7.497 17.131-8.802 28.122-1.301 6.464-4.237 11.959-8.802 16.482-4.561 4.527-10.103 6.788-16.623 6.788zM784.593 797.090c-9.131 0-16.785-3.23-22.963-9.698-6.208-6.464-9.314-14.221-9.314-23.27s3.106-16.806 9.314-23.275c6.178-6.464 13.833-9.694 22.963-9.694 9.126 0 16.951 3.23 23.471 9.694 6.519 6.468 9.779 14.225 9.779 23.275s-3.26 16.806-9.779 23.27c-6.519 6.468-14.345 9.698-23.471 9.698z"],"attrs":[{"fill":"rgb(179, 179, 179)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-unpublished"],"defaultCode":59660,"grid":0},"attrs":[{"fill":"rgb(179, 179, 179)"}],"properties":{"order":470,"id":29,"name":"connection-unpublished","prevSize":32,"code":59660},"setIdx":0,"setId":6,"iconIdx":32},{"icon":{"paths":["M512 801.126c-4.561 0-8.951-0.64-13.175-1.911-4.25-1.271-8-3.814-11.26-7.633l-392.905-382.636c-6.516-6.997-9.617-15.102-9.305-24.313 0.339-9.236 3.766-16.718 10.282-22.443 57.991-48.346 122.329-85.242 193.012-110.688 70.71-25.446 145.16-38.168 223.351-38.168s152.627 12.723 223.313 38.168c70.707 25.446 135.057 62.342 193.050 110.688 6.515 5.725 9.946 13.206 10.283 22.443 0.311 9.211-2.79 17.316-9.306 24.313l-92.851 90.651h-254.118c-19.546 0-36.16 6.677-49.843 20.036s-20.527 29.581-20.527 48.666v232.828zM616.58 802.078c-5.214-5.090-7.821-11.601-7.821-19.541 0-7.966 2.607-14.81 7.821-20.535l61.572-60.113-61.572-60.117c-5.214-5.086-7.821-11.601-7.821-19.541 0-7.966 2.607-14.81 7.821-20.535 5.862-5.086 12.873-7.633 21.030-7.633 8.132 0 14.805 2.547 20.019 7.633l61.572 60.117 61.577-60.117c5.867-5.086 12.877-7.633 21.035-7.633 8.132 0 14.801 2.547 20.015 7.633 5.867 5.726 8.798 12.57 8.798 20.535 0 7.94-2.931 14.455-8.798 19.541l-61.572 60.117 61.572 60.113c5.867 5.726 8.798 12.57 8.798 20.535 0 7.94-2.931 14.451-8.798 19.541-5.214 5.726-11.883 8.589-20.015 8.589-8.158 0-15.168-2.863-21.035-8.589l-61.577-60.113-61.572 60.113c-5.214 5.726-11.887 8.589-20.019 8.589-8.158 0-15.168-2.863-21.030-8.589z"],"attrs":[{"fill":"rgb(179, 179, 179)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-unsupported"],"defaultCode":59661,"grid":0},"attrs":[{"fill":"rgb(179, 179, 179)"}],"properties":{"order":471,"id":30,"name":"connection-unsupported","prevSize":32,"code":59661},"setIdx":0,"setId":6,"iconIdx":33},{"icon":{"paths":["M387.886 626.458c17.644-13.709 36.96-24.439 57.951-32.192 20.988-7.748 43.042-11.622 66.163-11.622s45.175 3.874 66.163 11.622c20.992 7.753 40.307 18.483 57.95 32.192l233.63-228.917c-52.932-40.538-109.060-72.431-168.375-95.68-59.319-23.249-122.445-34.874-189.367-34.874s-130.046 11.625-189.365 34.874c-59.319 23.249-115.444 55.143-168.375 95.68l233.626 228.917zM512 810.667c-3.652 0-6.997-0.597-10.039-1.788-3.042-1.195-6.084-3.281-9.126-6.259l-399.72-391.665c-5.475-5.365-8.061-11.625-7.757-18.778s3.194-13.115 8.67-17.885c57.798-50.076 122.137-89.421 193.016-118.036s145.866-42.922 224.957-42.922c79.091 0 154.078 14.307 224.956 42.922 70.882 28.615 135.219 67.96 193.015 118.036 5.478 4.769 8.367 10.731 8.67 17.885 0.307 7.153-2.278 13.413-7.757 18.778l-399.718 391.665c-3.042 2.978-6.084 5.065-9.126 6.259-3.042 1.19-6.387 1.788-10.039 1.788z"],"attrs":[{"fill":"rgb(255, 65, 77)","opacity":0.6}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-very-bad"],"defaultCode":59662,"grid":0},"attrs":[{"fill":"rgb(255, 65, 77)","opacity":0.6}],"properties":{"order":472,"id":31,"name":"connection-very-bad","prevSize":32,"code":59662},"setIdx":0,"setId":6,"iconIdx":34},{"icon":{"paths":["M814.249 946.069c-70.816 102.289-222.025 102.289-292.846 0l-461.498-666.614c-81.771-118.113 2.766-279.455 146.422-279.455l922.998 0c143.658 0 228.196 161.343 146.423 279.456l-461.499 666.613z"],"width":1336,"attrs":[{"fill":"rgb(85, 85, 85)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["downside-triangle"],"defaultCode":59702,"grid":0},"attrs":[{"fill":"rgb(85, 85, 85)"}],"properties":{"order":473,"id":32,"name":"downside-triangle","prevSize":32,"code":59702},"setIdx":0,"setId":6,"iconIdx":35},{"icon":{"paths":["M533.325 341.333c83.913 0 166.571 16.896 247.979 50.688 81.438 33.763 153.801 84.425 217.088 151.979 8.533 8.533 12.8 18.487 12.8 29.867s-4.267 21.333-12.8 29.867l-98.133 96c-7.821 7.821-16.883 12.087-27.179 12.8-10.325 0.713-19.755-2.133-28.288-8.533l-123.733-93.867c-5.687-4.267-9.954-9.246-12.8-14.933s-4.267-12.087-4.267-19.2v-121.6c-27.021-8.533-54.754-15.287-83.2-20.267s-57.6-7.467-87.467-7.467c-29.867 0-59.021 2.487-87.467 7.467-28.444 4.979-56.177 11.733-83.2 20.267v121.6c0 7.113-1.422 13.513-4.267 19.2s-7.111 10.667-12.8 14.933l-123.733 93.867c-8.533 6.4-17.948 9.246-28.245 8.533-10.325-0.713-19.399-4.979-27.221-12.8l-98.133-96c-8.533-8.533-12.8-18.487-12.8-29.867s4.267-21.333 12.8-29.867c62.578-67.554 134.756-118.215 216.533-151.979 81.778-33.792 164.621-50.688 248.533-50.688z"],"width":1067,"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["end-call"],"defaultCode":59663,"grid":0},"attrs":[{}],"properties":{"order":474,"id":33,"name":"end-call","prevSize":32,"code":59663},"setIdx":0,"setId":6,"iconIdx":36},{"icon":{"paths":["M42.667 499.823l201.155-201.156 40.231 40.231-132.762 132.761h721.474l-132.762-132.761 40.23-40.231 201.156 201.156-201.156 201.152-40.23-40.23 132.762-132.762h-721.474l132.762 132.762-40.231 40.23-201.155-201.152z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["expand"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":475,"id":34,"name":"expand","prevSize":32,"code":59683},"setIdx":0,"setId":6,"iconIdx":37},{"icon":{"paths":["M170.667 85.333c-47.128 0-85.333 38.205-85.333 85.333v213.333c0 47.13 38.205 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.128-38.204-85.333-85.333-85.333h-213.333z","M170.667 554.667c-47.128 0-85.333 38.204-85.333 85.333v213.333c0 47.13 38.205 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.13-38.204-85.333-85.333-85.333h-213.333z","M554.667 170.667c0-47.128 38.204-85.333 85.333-85.333h213.333c47.13 0 85.333 38.205 85.333 85.333v213.333c0 47.13-38.204 85.333-85.333 85.333h-213.333c-47.13 0-85.333-38.204-85.333-85.333v-213.333z","M640 554.667c-47.13 0-85.333 38.204-85.333 85.333v213.333c0 47.13 38.204 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.13-38.204-85.333-85.333-85.333h-213.333z"],"attrs":[{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["grid"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":476,"id":35,"name":"grid","prevSize":32,"code":59719},"setIdx":0,"setId":6,"iconIdx":38},{"icon":{"paths":["M484.299 706.15h55.502v-245.351h-55.502v245.351zM512.051 396.799c8.53 0 15.647-3.021 21.35-9.062 5.663-6.042 8.499-13.329 8.499-21.862 0-7.816-2.836-14.746-8.499-20.787-5.704-6.075-12.82-9.114-21.35-9.114-8.535 0-15.652 2.85-21.352 8.55-5.666 5.701-8.499 12.817-8.499 21.35s2.833 15.821 8.499 21.862c5.7 6.042 12.817 9.062 21.352 9.062zM512.051 900.25c-53.318 0-103.63-10.122-150.939-30.362-47.274-20.275-88.525-48.010-123.75-83.2-35.191-35.226-62.925-76.477-83.2-123.75-20.241-47.309-30.362-97.623-30.362-150.938 0-54.033 10.121-104.516 30.362-151.45 20.275-46.933 48.009-88.013 83.2-123.238 35.226-35.191 76.476-62.925 123.75-83.2 47.309-20.241 97.622-30.362 150.939-30.362 54.031 0 104.515 10.121 151.45 30.362 46.93 20.275 88.013 48.009 123.238 83.2 35.19 35.226 62.925 76.476 83.2 123.75 20.239 47.309 30.362 97.622 30.362 150.938 0 53.315-10.122 103.629-30.362 150.938-20.275 47.273-48.010 88.525-83.2 123.75-35.226 35.19-76.477 62.925-123.75 83.2-47.309 20.239-97.623 30.362-150.938 30.362zM512.051 844.8c92.431 0 171.008-32.358 235.725-97.075s97.075-143.293 97.075-235.725c0-92.433-32.358-171.008-97.075-235.725s-143.293-97.075-235.725-97.075c-92.434 0-171.010 32.358-235.726 97.075s-97.075 143.292-97.075 235.725c0 92.432 32.358 171.009 97.075 235.725s143.292 97.075 235.726 97.075z"],"attrs":[{"opacity":0.5}],"isMulticolor":false,"isMulticolor2":false,"tags":["info"],"defaultCode":59665,"grid":0},"attrs":[{"opacity":0.5}],"properties":{"order":477,"id":36,"name":"info","prevSize":32,"code":59665},"setIdx":0,"setId":6,"iconIdx":39},{"icon":{"paths":["M739.554 512c-15.642 0-28.442 12.8-28.442 28.446v170.667h-398.224v-398.224h170.665c15.646 0 28.446-12.8 28.446-28.444s-12.8-28.445-28.446-28.445h-170.665c-31.289 0-56.889 25.6-56.889 56.889v398.224c0 31.287 25.6 56.887 56.889 56.887h398.224c31.287 0 56.887-25.6 56.887-56.887v-170.667c0-15.646-12.8-28.446-28.446-28.446z","M753.792 256h-150.473c-12.8 0-19.055 15.36-9.954 24.178l55.181 55.182-221.867 221.867c-2.632 2.633-4.721 5.76-6.146 9.199-1.425 3.443-2.159 7.13-2.159 10.854s0.734 7.411 2.159 10.854c1.425 3.439 3.514 6.566 6.146 9.199 2.637 2.633 5.76 4.723 9.203 6.148 3.439 1.425 7.13 2.159 10.85 2.159 3.725 0 7.415-0.734 10.854-2.159s6.566-3.516 9.199-6.148l221.585-221.582 55.181 55.182c9.101 8.819 24.461 2.56 24.461-10.24v-150.471c0-7.964-6.255-14.222-14.221-14.222z"],"attrs":[{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["link-share"],"defaultCode":59707,"grid":0},"attrs":[{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"}],"properties":{"order":478,"id":37,"name":"link-share","prevSize":32,"code":59707},"setIdx":0,"setId":6,"iconIdx":40},{"icon":{"paths":["M256 85.495c23.564 0 42.667 19.103 42.667 42.667v128c0 23.564-19.103 42.667-42.667 42.667h-128c-23.564 0-42.667-19.102-42.667-42.667v-128c0-23.564 19.103-42.667 42.667-42.667h128zM640 128.161c0-23.564-19.102-42.667-42.667-42.667h-170.667c-23.564 0-42.667 19.103-42.667 42.667v128c0 23.564 19.103 42.667 42.667 42.667h170.667c23.565 0 42.667-19.102 42.667-42.667v-128zM938.667 128.161c0-23.564-19.102-42.667-42.667-42.667h-128c-23.565 0-42.667 19.103-42.667 42.667v128c0 23.564 19.102 42.667 42.667 42.667h128c23.565 0 42.667-19.102 42.667-42.667v-128zM128 384.161c-23.564 0-42.667 19.103-42.667 42.668v469.333c0 23.565 19.103 42.667 42.667 42.667h768c23.565 0 42.667-19.102 42.667-42.667v-469.333c0-23.565-19.102-42.668-42.667-42.668h-768z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["list-view"],"defaultCode":59668,"grid":0},"attrs":[{}],"properties":{"order":479,"id":38,"name":"list-view","prevSize":32,"code":59668},"setIdx":0,"setId":6,"iconIdx":41},{"icon":{"paths":["M800.676 751.514c12.416-33.055 18.621-69.868 18.621-110.423v-381.694c0-14.127-4.413-25.524-13.245-34.191-8.858-8.698-20.485-13.047-34.872-13.047-14.392 0-26.015 4.349-34.877 13.047-8.827 8.667-13.24 20.064-13.24 34.191v212.083c0 4.472-1.48 8.158-4.434 11.058-2.918 2.899-6.676 4.349-11.264 4.349s-8.182-1.45-10.793-4.349c-2.637-2.899-3.958-6.585-3.958-11.058v-324.833c0-13.51-4.572-24.752-13.711-33.728-9.175-9.006-20.628-13.51-34.36-13.51-14.418 0-26.045 4.504-34.872 13.51-8.832 8.976-13.245 20.218-13.245 33.728v324.833c0 4.472-1.475 8.158-4.429 11.058s-6.723 4.349-11.31 4.349c-4.557 0-8.31-1.45-11.264-4.349s-4.434-6.585-4.434-11.058v-374.013c0-14.127-4.255-25.369-12.769-33.728s-19.968-12.538-34.355-12.538c-14.392 0-26.017 4.179-34.878 12.538-8.828 8.359-13.243 19.601-13.243 33.728v329.177l330.934 324.871zM439.296 396.755l-95.247-93.503v-123.849c0-14.127 4.257-25.523 12.772-34.19 8.515-8.698 19.967-13.047 34.357-13.047 14.422 0 26.047 4.349 34.875 13.047 8.829 8.667 13.243 20.064 13.243 34.19v217.353zM533.555 921.6c-64.128 0-121.076-17.193-170.844-51.584-49.737-34.36-86.717-84.316-110.942-149.857l-93.268-239.056c-5.876-14.126-6.363-26.664-1.461-37.614 4.901-10.918 13.573-16.378 26.015-16.378 18.977 0 36.321 6.585 52.030 19.756s26.188 26.834 31.435 40.991l44.16 107.937c1.32 2.591 7.211 6.124 17.673 10.598h15.694v-105.644l-292.849-292.848 54.306-54.306 814.635 814.639-54.303 54.303-154.163-154.158c-48.251 35.482-107.628 53.222-178.12 53.222z"],"attrs":[{"fill":"rgb(9, 157, 253)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["lower-hand"],"grid":0},"attrs":[{"fill":"rgb(9, 157, 253)"}],"properties":{"order":480,"id":39,"name":"lower-hand","prevSize":32,"code":59669},"setIdx":0,"setId":6,"iconIdx":42},{"icon":{"paths":["M735.991 604.804l-48-48c7.113-12.087 12.629-25.6 16.555-40.533 3.895-14.933 5.845-30.579 5.845-46.933h64c0 26.313-3.371 50.658-10.112 73.045-6.771 22.413-16.201 43.221-28.288 62.421zM598.391 466.138l-58.667-58.667v-194.133c0-12.089-4.083-22.229-12.245-30.421-8.192-8.164-18.334-12.245-30.421-12.245s-22.217 4.081-30.379 12.245c-8.192 8.192-12.288 18.332-12.288 30.421v107.733l-64-64v-43.733c0-29.867 10.311-55.111 30.933-75.733 20.621-20.623 45.867-30.933 75.733-30.933s55.113 10.311 75.733 30.933c20.621 20.622 30.933 45.867 30.933 75.733v228.267c0 4.979-0.525 9.417-1.579 13.312-1.079 3.925-2.334 7.667-3.755 11.221zM465.058 885.338v-140.8c-70.4-7.821-128.881-37.858-175.445-90.112-46.592-52.279-69.888-113.975-69.888-185.088h64c0 59.021 20.622 109.325 61.866 150.912 41.245 41.613 91.733 62.421 151.467 62.421 27.021 0 52.621-4.979 76.8-14.933s45.513-23.467 64-40.533l45.867 45.867c-20.621 19.2-44.087 35.2-70.4 48s-54.4 20.621-84.267 23.467v140.8h-64zM847.991 926.938l-776.533-776.533 44.8-44.8 776.533 775.467-44.8 45.867z","M857.617 935.467l-787.2-786.135 45.867-44.8 786.134 786.135-44.8 44.8z"],"attrs":[{},{}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-off"],"defaultCode":59670,"grid":0},"attrs":[{},{}],"properties":{"order":481,"id":40,"name":"mic-off","prevSize":32,"code":59670},"setIdx":0,"setId":6,"iconIdx":43},{"icon":{"paths":["M741.325 609.075l-52.275-51.2c4.982-7.818 9.078-16.538 12.288-26.163 3.21-9.59 5.514-19.712 6.912-30.361 1.434-9.25 5.002-16.538 10.701-21.862 5.668-5.359 12.764-8.038 21.299-8.038 10.685 0 19.574 3.738 26.675 11.213 7.132 7.475 9.984 16.538 8.55 27.187-2.867 18.498-6.963 36.111-12.288 52.838-5.325 16.691-12.611 32.154-21.862 46.387zM605.85 474.676l-215.45-216.525v-40.55c0-30.584 10.838-56.713 32.512-78.387 21.709-21.709 47.855-32.563 78.438-32.563 30.582 0 56.525 10.854 77.824 32.563 21.366 21.674 32.051 47.803 32.051 78.387v225.075c0 5.666-0.358 11.537-1.075 17.613-0.717 6.042-2.15 10.837-4.301 14.387zM817.050 907.725l-717.824-716.799c-6.417-6.383-9.626-14.2-9.626-23.45s3.209-17.425 9.626-24.525c7.1-7.134 15.274-10.701 24.525-10.701s17.066 3.567 23.45 10.701l717.875 716.799c6.385 7.101 9.574 15.089 9.574 23.962 0 8.909-3.19 16.911-9.574 24.013-7.101 6.415-15.273 9.626-24.525 9.626s-17.085-3.21-23.501-9.626zM467.2 851.2v-102.4c-64-7.101-118.221-33.060-162.662-77.875-44.442-44.785-70.57-98.473-78.387-161.075-1.434-10.65 1.399-19.712 8.499-27.187 7.134-7.475 16.026-11.213 26.675-11.213 7.817 0 14.575 2.679 20.275 8.038 5.7 5.325 9.609 12.612 11.725 21.862 7.134 51.199 30.242 94.039 69.325 128.511 39.117 34.473 85.35 51.712 138.701 51.712 25.6 0 49.766-4.608 72.499-13.824 22.769-9.252 43.044-21.709 60.826-37.376l50.125 50.176c-19.901 18.468-42.481 33.572-67.738 45.312s-52.465 19.389-81.613 22.938v102.4c0 9.252-3.379 17.254-10.138 24.013s-14.746 10.138-23.962 10.138c-9.25 0-17.254-3.379-24.013-10.138s-10.138-14.761-10.138-24.013z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-off-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":482,"id":41,"name":"mic-off-filled","prevSize":32,"code":59720},"setIdx":0,"setId":6,"iconIdx":44},{"icon":{"paths":["M741.325 609.075l-52.275-51.2c4.265-7.818 8.192-16.538 11.776-26.163 3.548-9.59 6.026-19.712 7.424-30.361 1.434-9.25 5.002-16.538 10.701-21.862 5.668-5.359 12.764-8.038 21.299-8.038 10.685 0 19.574 3.738 26.675 11.213 7.132 7.475 9.984 16.538 8.55 27.187-2.867 18.498-6.963 36.111-12.288 52.838-5.325 16.691-12.611 32.154-21.862 46.387zM605.85 474.676l-62.925-62.925v-194.15c0-12.083-4.081-22.221-12.237-30.413-8.192-8.158-17.971-12.237-29.338-12.237-12.083 0-22.221 4.079-30.413 12.237-8.192 8.192-12.288 18.33-12.288 30.413v108.8l-68.25-68.25v-40.55c0-30.584 10.838-56.713 32.512-78.387 21.709-21.709 47.855-32.563 78.438-32.563 30.582 0 56.525 10.854 77.824 32.563 21.366 21.674 32.051 47.803 32.051 78.387v225.075c0 5.666-0.358 11.537-1.075 17.613-0.717 6.042-2.15 10.837-4.301 14.387zM817.050 907.725l-717.824-716.799c-6.417-6.383-9.626-14.2-9.626-23.45s3.209-17.425 9.626-24.525c7.1-7.134 15.274-10.701 24.525-10.701s17.066 3.567 23.45 10.701l717.875 716.799c6.385 7.101 9.574 15.089 9.574 23.962 0 8.909-3.19 16.911-9.574 24.013-7.101 6.415-15.273 9.626-24.525 9.626s-17.085-3.21-23.501-9.626zM467.2 851.2v-103.475c-64-7.101-118.221-32.87-162.662-77.312s-70.57-97.961-78.387-160.563c-1.434-10.65 1.229-19.712 7.987-27.187s15.821-11.213 27.187-11.213c7.817 0 14.575 2.679 20.275 8.038 5.7 5.325 9.609 12.612 11.725 21.862 6.417 50.483 29.354 93.148 68.813 127.999 39.458 34.816 85.862 52.224 139.213 52.224 25.6 0 49.956-4.439 73.062-13.312s43.197-21.504 60.262-37.888l50.125 50.176c-19.901 18.468-42.481 33.572-67.738 45.312s-52.465 19.031-81.613 21.862v103.475c0 9.252-3.379 17.254-10.138 24.013s-14.746 10.138-23.962 10.138c-9.25 0-17.254-3.379-24.013-10.138s-10.138-14.761-10.138-24.013z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-off-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":483,"id":42,"name":"mic-off-outlined","prevSize":32,"code":59721},"setIdx":0,"setId":6,"iconIdx":45},{"icon":{"paths":["M512 599.671c-32.367 0-59.725-11.298-82.074-33.899-22.351-22.601-33.526-50.266-33.526-82.995v-280.549c0-32.731 11.175-60.396 33.526-82.996 22.349-22.6 49.707-33.9 82.074-33.9s59.725 11.3 82.074 33.9c22.353 22.6 33.527 50.265 33.527 82.996v280.549c0 32.73-11.174 60.395-33.527 82.995-22.349 22.601-49.707 33.899-82.074 33.899zM512 938.667c-10.018 0-18.295-3.302-24.832-9.911-6.566-6.639-9.847-15.027-9.847-25.156v-119.232c-70.131-7.795-129.657-36.442-178.578-85.943-48.952-49.468-77.282-108.881-84.989-178.24-1.541-10.133 1.156-18.893 8.092-26.278 6.936-7.42 15.799-11.127 26.588-11.127 8.477 0 15.983 3.115 22.519 9.348 6.566 6.238 10.62 14.029 12.161 23.381 7.706 56.887 33.138 104.614 76.295 143.172 43.157 38.592 94.023 57.886 152.591 57.886s109.436-19.294 152.593-57.886c43.153-38.558 68.587-86.285 76.292-143.172 1.545-9.353 5.581-17.143 12.117-23.381 6.566-6.234 14.089-9.348 22.562-9.348 10.79 0 19.652 3.708 26.59 11.127 6.938 7.386 9.634 16.145 8.090 26.278-7.706 69.359-36.019 128.772-84.941 178.24-48.951 49.502-108.493 78.148-178.624 85.943v119.232c0 10.129-3.268 18.517-9.801 25.156-6.566 6.609-14.861 9.911-24.879 9.911z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-on"],"defaultCode":59671,"grid":0},"attrs":[{}],"properties":{"order":484,"id":43,"name":"mic-on","prevSize":32,"code":59671},"setIdx":0,"setId":6,"iconIdx":46},{"icon":{"paths":["M513.075 582.4c-30.582 0-56.712-10.839-78.386-32.512-21.709-21.709-32.563-47.855-32.563-78.438v-254.925c0-30.584 10.854-56.542 32.563-77.875 21.674-21.334 47.804-32 78.386-32 30.587 0 56.545 10.666 77.875 32 21.335 21.333 32 47.291 32 77.875v254.925c0 30.583-10.665 56.729-32 78.438-21.33 21.673-47.288 32.512-77.875 32.512zM513.075 885.35c-9.249 0-17.253-3.379-24.012-10.138s-10.138-14.761-10.138-24.013v-102.4c-64-7.101-118.221-33.060-162.662-77.875-44.442-44.785-70.57-98.473-78.387-161.075-1.434-10.65 1.229-19.712 7.987-27.187s15.821-11.213 27.187-11.213c7.817 0 14.763 2.679 20.838 8.038 6.042 5.325 9.762 12.612 11.162 21.862 7.134 50.483 30.242 93.148 69.325 127.999 39.117 34.816 85.35 52.224 138.7 52.224 52.603 0 98.458-17.408 137.574-52.224 39.117-34.852 62.228-77.517 69.325-127.999 1.434-9.25 5.002-16.538 10.701-21.862 5.704-5.359 12.82-8.038 21.35-8.038 11.366 0 20.429 3.738 27.187 11.213s9.421 16.538 7.987 27.187c-7.096 62.602-32.87 116.29-77.312 161.075-44.472 44.815-98.693 70.774-162.662 77.875v102.4c0 9.252-3.379 17.254-10.138 24.013s-14.761 10.138-24.013 10.138z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-on-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":485,"id":44,"name":"mic-on-filled","prevSize":32,"code":59722},"setIdx":0,"setId":6,"iconIdx":47},{"icon":{"paths":["M513.075 582.4c-30.582 0-56.712-10.839-78.386-32.512-21.709-21.709-32.563-47.855-32.563-78.438v-254.925c0-30.584 10.854-56.542 32.563-77.875 21.674-21.334 47.804-32 78.386-32 30.587 0 56.545 10.666 77.875 32 21.335 21.333 32 47.291 32 77.875v254.925c0 30.583-10.665 56.729-32 78.438-21.33 21.673-47.288 32.512-77.875 32.512zM513.075 885.35c-9.249 0-17.253-3.379-24.012-10.138s-10.138-14.761-10.138-24.013v-103.475c-64-7.101-118.221-32.87-162.662-77.312s-70.57-97.961-78.387-160.563c-1.434-10.65 1.229-19.712 7.987-27.187s15.821-11.213 27.187-11.213c7.817 0 14.763 2.679 20.838 8.038 6.042 5.325 9.762 12.612 11.162 21.862 7.134 50.483 30.242 93.148 69.325 127.999 39.117 34.816 85.35 52.224 138.7 52.224 52.603 0 98.458-17.408 137.574-52.224 39.117-34.852 62.228-77.517 69.325-127.999 1.434-9.25 5.002-16.538 10.701-21.862 5.704-5.359 12.82-8.038 21.35-8.038 11.366 0 20.429 3.738 27.187 11.213s9.421 16.538 7.987 27.187c-7.096 62.602-32.87 116.121-77.312 160.563-44.472 44.442-98.693 70.211-162.662 77.312v103.475c0 9.252-3.379 17.254-10.138 24.013s-14.761 10.138-24.013 10.138zM513.075 514.15c12.083 0 22.036-4.095 29.85-12.287 7.818-8.192 11.725-18.33 11.725-30.413v-254.925c0-12.083-3.907-22.033-11.725-29.85-7.813-7.817-17.766-11.725-29.85-11.725-12.082 0-22.22 3.908-30.412 11.725-8.158 7.816-12.237 17.766-12.237 29.85v254.925c0 12.083 4.079 22.221 12.237 30.413 8.192 8.192 18.33 12.287 30.412 12.287z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-on-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":486,"id":45,"name":"mic-on-outlined","prevSize":32,"code":59723},"setIdx":0,"setId":6,"iconIdx":48},{"icon":{"paths":["M441.617 226.089c0-19.549 6.852-36.159 20.553-49.828 13.67-13.7 30.276-20.55 49.826-20.55s36.16 6.85 49.83 20.55c13.7 13.669 20.548 30.278 20.548 49.828s-6.848 36.175-20.548 49.874c-13.67 13.669-30.281 20.503-49.83 20.503s-36.156-6.834-49.826-20.503c-13.7-13.7-20.553-30.325-20.553-49.874zM441.617 497.045c0-19.55 6.852-36.16 20.553-49.83 13.67-13.7 30.276-20.549 49.826-20.549s36.16 6.848 49.83 20.549c13.7 13.67 20.548 30.281 20.548 49.83s-6.848 36.156-20.548 49.826c-13.67 13.7-30.281 20.553-49.83 20.553s-36.156-6.852-49.826-20.553c-13.7-13.67-20.553-30.276-20.553-49.826zM441.617 768c0-19.55 6.852-36.16 20.553-49.826 13.67-13.7 30.276-20.553 49.826-20.553s36.16 6.852 49.83 20.553c13.7 13.666 20.548 30.276 20.548 49.826s-6.848 36.173-20.548 49.873c-13.67 13.67-30.281 20.506-49.83 20.506s-36.156-6.835-49.826-20.506c-13.7-13.7-20.553-30.323-20.553-49.873z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["more-menu"],"defaultCode":59672,"grid":0},"attrs":[{}],"properties":{"order":487,"id":46,"name":"more-menu","prevSize":32,"code":59672},"setIdx":0,"setId":6,"iconIdx":49},{"icon":{"paths":["M857.604 928.495l-763.508-786.65c-5.842-6.028-8.763-13.563-8.763-22.605s3.286-16.954 9.859-23.735c6.572-6.781 14.43-10.172 23.573-10.172 9.114 0 16.957 3.391 23.529 10.172l762.413 786.649c5.841 6.029 8.764 13.564 8.764 22.605s-3.285 16.951-9.86 23.735c-6.571 6.78-14.238 10.172-23.002 10.172s-16.431-3.392-23.006-10.172zM784.213 628.979l-461.173-474.701h381.207c22.639 0 41.626 7.912 56.96 23.735 15.339 15.823 23.006 35.037 23.006 57.642v206.836l119.398-123.198c6.575-6.781 14.067-8.484 22.481-5.108 8.384 3.406 12.574 10.006 12.574 19.802v318.728c0 9.796-4.19 16.38-12.574 19.759-8.414 3.405-15.906 1.715-22.481-5.065l-119.398-123.196v84.766zM200.352 155.408l582.764 601.289c-0.73 20.343-9.126 38.050-25.195 53.12s-34.325 22.605-54.771 22.605h-498.417c-21.908 0-40.531-7.91-55.866-23.735-15.336-15.821-23.004-35.034-23.004-57.643v-515.389c0-20.344 7.303-38.805 21.908-55.382s32.133-24.866 52.58-24.866z","M298.667 1024c-40.818 0-79.395-7.842-115.733-23.522s-68.071-37.082-95.2-64.213c-27.129-27.127-48.533-58.859-64.213-95.198s-23.52-75.166-23.52-116.48c0-40.819 7.84-79.394 23.52-115.733s37.085-67.947 64.213-94.827c27.129-26.88 58.862-48.162 95.2-63.842s75.165-23.518 116.48-23.518c40.818 0 79.395 7.838 115.733 23.518 36.339 15.68 67.947 36.962 94.827 63.842s48.158 58.487 63.838 94.827c15.68 36.339 23.522 75.166 23.522 116.48 0 40.819-7.842 79.394-23.522 115.733s-36.958 68.070-63.838 95.198c-26.88 27.132-58.487 48.533-94.827 64.213-36.338 15.68-75.165 23.522-116.48 23.522z","M256 533.333v256h85.333v-256h-85.333z","M298.667 938.667c23.564 0 42.667-19.102 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.102-42.667 42.667s19.103 42.667 42.667 42.667z"],"attrs":[{"fill":"rgb(143, 143, 143)"},{"fill":"rgb(255, 171, 0)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":true,"isMulticolor2":false,"tags":["no-cam"],"grid":0},"attrs":[{"fill":"rgb(143, 143, 143)"},{"fill":"rgb(255, 171, 0)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":488,"id":47,"name":"no-cam","prevSize":32,"code":59673,"codes":[59673,59674,59675,59676]},"setIdx":0,"setId":6,"iconIdx":50},{"icon":{"paths":["M742.306 612.459l-51.61-50.795c5.35-8.277 9.937-17.681 13.764-28.22 3.823-10.534 6.498-21.444 8.026-32.734 1.532-9.028 5.551-16.555 12.066-22.575 6.485-6.016 13.931-9.028 22.345-9.028 10.705 0 19.499 3.584 26.381 10.748 6.878 7.134 9.557 15.59 8.026 25.374-3.059 20.318-7.829 39.309-14.315 56.977-6.511 17.698-14.741 34.449-24.683 50.253zM594.351 465.719l-223.656-221.233v-46.279c0-31.605 11.087-58.319 33.262-80.141s49.321-32.734 81.432-32.734c32.115 0 59.26 10.911 81.434 32.734 22.178 21.822 33.263 48.536 33.263 80.141v241.553c0 5.265-0.563 9.963-1.698 14.084-1.161 4.156-2.509 8.115-4.036 11.874zM838.652 929.638l-786.81-774.323c-6.117-6.020-9.175-13.74-9.175-23.162 0-9.391 3.058-17.473 9.175-24.245 6.882-6.772 15.11-10.159 24.683-10.159 9.542 0 17.373 3.386 23.49 10.159l786.808 773.193c6.118 6.771 9.178 14.869 9.178 24.29 0 9.391-3.059 17.472-9.178 24.247-6.878 6.020-15.091 9.028-24.636 9.028-9.57 0-17.417-3.008-23.535-9.028zM450.982 875.456v-115.132c-69.582-7.526-128.658-35.187-177.228-82.987-48.539-47.765-76.632-105.139-84.278-172.109-1.529-9.783 1.147-18.24 8.029-25.374 6.882-7.164 15.675-10.748 26.38-10.748 8.411 0 15.675 3.012 21.792 9.028 6.117 6.020 10.323 13.547 12.617 22.575 7.646 54.933 32.879 101.018 75.699 138.253 42.819 37.261 93.284 55.893 151.396 55.893 29.056 0 56.585-5.265 82.581-15.804 25.997-10.534 48.939-24.832 68.817-42.889l49.318 48.533c-22.174 20.318-47.407 37.052-75.695 50.206-28.292 13.184-58.496 21.658-90.611 25.421v115.132c0 9.783-3.243 17.882-9.728 24.29-6.515 6.383-14.741 9.574-24.683 9.574-9.937 0-18.15-3.191-24.636-9.574-6.515-6.409-9.771-14.507-9.771-24.29z","M298.667 1024c-40.818 0-79.395-7.842-115.733-23.522s-68.071-37.082-95.2-64.213c-27.129-27.127-48.533-58.859-64.213-95.198s-23.52-75.166-23.52-116.48c0-40.819 7.84-79.394 23.52-115.733s37.085-67.947 64.213-94.827c27.129-26.88 58.862-48.162 95.2-63.842s75.165-23.518 116.48-23.518c40.818 0 79.395 7.838 115.733 23.518 36.339 15.68 67.947 36.962 94.827 63.842s48.158 58.487 63.838 94.827c15.68 36.339 23.522 75.166 23.522 116.48 0 40.819-7.842 79.394-23.522 115.733s-36.958 68.070-63.838 95.198c-26.88 27.132-58.487 48.533-94.827 64.213-36.338 15.68-75.165 23.522-116.48 23.522z","M256 533.333v256h85.333v-256h-85.333z","M298.667 938.667c23.564 0 42.667-19.102 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.102-42.667 42.667s19.103 42.667 42.667 42.667z"],"attrs":[{"fill":"rgb(143, 143, 143)"},{"fill":"rgb(255, 171, 0)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":true,"isMulticolor2":false,"tags":["no-mic"],"defaultCode":59677,"grid":0},"attrs":[{"fill":"rgb(143, 143, 143)"},{"fill":"rgb(255, 171, 0)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":489,"id":48,"name":"no-mic","prevSize":32,"codes":[59677,59678,59679,59680],"code":59677},"setIdx":0,"setId":6,"iconIdx":51},{"icon":{"paths":["M-4.25 772.271v-71.467c0-32.713 16.185-58.85 48.555-78.421 32.341-19.541 74.467-29.312 126.379-29.312 7.822 0 15.118 0.354 21.888 1.067l20.779 2.133c-10.667 14.933-18.489 31.117-23.467 48.555-4.978 17.408-7.467 35.712-7.467 54.912v72.533h-186.667zM251.75 772.271v-72.533c0-47.646 24.007-86.217 72.021-115.712 47.986-29.525 110.733-44.288 188.246-44.288 78.221 0 141.154 14.763 188.8 44.288 47.646 29.495 71.467 68.066 71.467 115.712v72.533h-520.534zM841.617 772.271v-72.533c0-19.2-2.658-37.504-7.979-54.912-5.346-17.438-13.001-33.621-22.955-48.555l20.821-2.133c6.741-0.713 14.025-1.067 21.845-1.067 51.913 0 94.050 9.771 126.421 29.312 32.341 19.571 48.512 45.709 48.512 78.421v71.467h-186.667zM170.683 551.471c-24.178 0-44.8-8.533-61.867-25.6s-25.6-37.687-25.6-61.867c0-24.179 8.533-44.985 25.6-62.421 17.067-17.408 37.689-26.112 61.867-26.112s44.8 8.704 61.867 26.112c17.067 17.436 25.6 38.242 25.6 62.421s-8.533 44.8-25.6 61.867c-17.067 17.067-37.689 25.6-61.867 25.6zM853.35 551.471c-24.179 0-44.8-8.533-61.867-25.6s-25.6-37.687-25.6-61.867c0-24.179 8.533-44.985 25.6-62.421 17.067-17.408 37.687-26.112 61.867-26.112s44.8 8.704 61.867 26.112c17.067 17.436 25.6 38.242 25.6 62.421s-8.533 44.8-25.6 61.867c-17.067 17.067-37.687 25.6-61.867 25.6zM512.017 507.738c-36.979 0-68.267-12.8-93.867-38.4s-38.4-56.533-38.4-92.8c0-36.978 12.8-68.267 38.4-93.867s56.888-38.4 93.867-38.4c36.979 0 68.267 12.8 93.867 38.4s38.4 56.889 38.4 93.867c0 36.267-12.8 67.2-38.4 92.8s-56.887 38.4-93.867 38.4z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["participants"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":490,"id":49,"name":"participants","prevSize":32,"code":59686},"setIdx":0,"setId":6,"iconIdx":52},{"icon":{"paths":["M809.574 374.374l-153.6-154.624 49.101-48.026q20.275-20.275 48.538-20.275t48.538 20.275l56.525 56.525q19.2 20.275 19.2 49.613t-20.275 48.538zM196.25 874.65q-15.974 0-28.262-12.237-12.237-12.288-12.237-28.262v-97.075q0-7.475 2.662-14.387 2.662-6.963 9.062-13.363l441.6-441.6 153.6 153.6-441.6 441.6q-6.4 6.4-13.363 9.062-6.912 2.662-14.387 2.662z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["pencil-filled"],"grid":0},"attrs":[{}],"properties":{"order":491,"id":50,"name":"pencil-filled","prevSize":32,"code":59712},"setIdx":0,"setId":6,"iconIdx":53},{"icon":{"paths":["M224 806.4h56.525l385.075-385.075-55.45-56.525-386.15 386.15zM809.574 374.374l-153.6-154.624 49.101-48.026q20.275-20.275 48.538-20.275t48.538 20.275l56.525 56.525q19.2 20.275 19.2 49.613t-20.275 48.538zM196.25 874.65q-15.974 0-28.262-12.237-12.237-12.288-12.237-28.262v-97.075q0-7.475 2.662-14.387 2.662-6.963 9.062-13.363l441.6-441.6 153.6 153.6-441.6 441.6q-6.4 6.4-13.363 9.062-6.912 2.662-14.387 2.662zM637.85 393.626l-27.699-28.826 55.45 56.525z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["pencil-outlined"],"grid":0},"attrs":[{}],"properties":{"order":492,"id":51,"name":"pencil-outlined","prevSize":32,"code":59735},"setIdx":0,"setId":6,"iconIdx":54},{"icon":{"paths":["M136.6 789.35v-73.626c0-16.348 3.908-30.566 11.725-42.65s18.842-22.39 33.075-30.925c34.816-19.932 71.441-35.942 109.875-48.026 38.366-12.083 82.090-18.125 131.174-18.125s92.807 6.042 131.176 18.125c38.431 12.083 75.059 28.093 109.875 48.026 14.234 8.535 25.257 18.842 33.075 30.925 7.813 12.083 11.725 26.301 11.725 42.65v73.626h-571.701zM785.101 789.35v-70.4c0-26.317-5.156-50.499-15.462-72.55-10.312-22.052-23.639-40.192-39.987-54.426 19.896 5.699 39.629 12.646 59.187 20.838 19.558 8.156 38.943 17.935 58.163 29.338 12.083 7.101 21.862 17.577 29.338 31.437 7.439 13.86 11.162 28.979 11.162 45.363v70.4h-102.4zM422.45 499.201c-36.966 0-68.25-12.971-93.85-38.912-25.6-25.976-38.4-57.088-38.4-93.338 0-37.001 12.8-68.301 38.4-93.901s56.883-38.4 93.85-38.4c36.966 0 68.25 12.8 93.851 38.4 25.6 25.6 38.4 56.9 38.4 93.901 0 36.25-12.8 67.362-38.4 93.338-25.602 25.941-56.885 38.912-93.851 38.912zM722.176 366.951c0 36.25-12.8 67.362-38.4 93.338-25.6 25.941-56.883 38.912-93.85 38.912-2.15 0-3.4 0.17-3.738 0.512-0.343 0.375-1.946 0.205-4.813-0.512 15.631-18.501 27.904-38.776 36.813-60.826 8.873-22.016 13.312-45.824 13.312-71.424 0-26.317-4.628-50.33-13.875-72.038-9.216-21.675-21.299-41.762-36.25-60.262h8.55c36.966 0 68.25 12.8 93.85 38.4s38.4 56.9 38.4 93.901z"],"attrs":[{"fill":"rgb(119, 119, 119)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["people"],"grid":0},"attrs":[{"fill":"rgb(119, 119, 119)"}],"properties":{"order":493,"id":52,"name":"people","prevSize":32,"code":59718},"setIdx":0,"setId":6,"iconIdx":55},{"icon":{"paths":["M487.619 499.756c-39.281 0-72.804-14.061-100.571-42.181-27.767-28.092-41.651-61.44-41.651-100.043 0-39.28 13.884-72.804 41.651-100.571s61.291-41.65 100.571-41.65c39.283 0 72.806 13.883 100.571 41.65s41.652 61.291 41.652 100.571c0 38.603-13.887 71.951-41.652 100.043-27.765 28.12-61.289 42.181-100.571 42.181zM182.857 808.58v-90.414c0-19.641 5.418-37.927 16.254-54.857s25.397-30.135 43.683-39.619c39.957-19.641 80.43-34.377 121.417-44.208 40.96-9.811 82.096-14.711 123.408-14.711s82.461 4.901 123.451 14.711c40.96 9.83 81.418 24.566 121.373 44.208 18.286 9.484 32.846 22.689 43.686 39.619 10.835 16.93 16.252 35.216 16.252 54.857v90.414h-609.524z"],"width":975,"attrs":[{"fill":"rgb(128, 128, 128)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["person"],"grid":0},"attrs":[{"fill":"rgb(128, 128, 128)"}],"properties":{"order":494,"id":53,"name":"person","prevSize":32,"code":59681},"setIdx":0,"setId":6,"iconIdx":56},{"icon":{"paths":["M572.252 651.402l0.036 132.762-39.209 39.209-140.291-140.293-156.908 156.908-39.209-0.036-0.036-39.209 156.908-156.908-140.29-140.289 39.208-39.208 132.76 0.036 205.166-205.167-36.204-36.204 39.209-39.208 259.441 259.437-39.209 39.209-36.204-36.204-205.169 205.167z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["pin-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":495,"id":54,"name":"pin-filled","prevSize":32,"code":59724},"setIdx":0,"setId":6,"iconIdx":57},{"icon":{"paths":["M572.252 651.402l0.036 132.762-39.209 39.209-140.291-140.293-156.908 156.908-39.209-0.036-0.036-39.209 156.908-156.908-140.29-140.289 39.208-39.208 132.76 0.036 205.166-205.167-36.204-36.204 39.209-39.208 259.441 259.437-39.209 39.209-36.204-36.204-205.169 205.167zM308.289 520.166l208.171 208.169v-99.558l221.752-221.75-108.616-108.612-221.747 221.751h-99.56z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["pin-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":496,"id":55,"name":"pin-outlined","prevSize":32,"code":59725},"setIdx":0,"setId":6,"iconIdx":58},{"icon":{"paths":["M170.667 85.333c-47.128 0-85.333 38.205-85.333 85.333v213.333c0 47.13 38.205 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.128-38.204-85.333-85.333-85.333h-213.333z","M170.667 554.667c-47.128 0-85.333 38.204-85.333 85.333v213.333c0 47.13 38.205 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.13-38.204-85.333-85.333-85.333h-213.333z","M554.667 170.667c0-47.128 38.204-85.333 85.333-85.333h213.333c47.13 0 85.333 38.205 85.333 85.333v682.667c0 47.13-38.204 85.333-85.333 85.333h-213.333c-47.13 0-85.333-38.204-85.333-85.333v-682.667z"],"attrs":[{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["pinned"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":497,"id":56,"name":"pinned","prevSize":32,"code":59726},"setIdx":0,"setId":6,"iconIdx":59},{"icon":{"paths":["M1024 512c0 282.77-229.23 512-512 512s-512-229.23-512-512c0-282.77 229.23-512 512-512s512 229.23 512 512z","M1024 512c0 282.77-229.23 512-512 512s-512-229.23-512-512c0-282.77 229.23-512 512-512s512 229.23 512 512z","M237.52 772.135v-37.445c0-68.645 55.647-124.293 124.292-124.293h290.016c68.645 0 124.292 55.648 124.292 124.293v26.929c-68.901 72.72-166.393 118.078-274.479 118.078-102.777 0-195.974-41.012-264.121-107.563z","M672.547 392.888c0 91.526-74.197 165.723-165.723 165.723s-165.723-74.197-165.723-165.723c0-91.526 74.197-165.723 165.723-165.723s165.723 74.197 165.723 165.723z"],"attrs":[{"fill":"rgb(0, 0, 0)"},{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":true,"isMulticolor2":false,"tags":["profile"],"defaultCode":59703,"grid":0},"attrs":[{"fill":"rgb(0, 0, 0)"},{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":498,"id":57,"name":"profile","prevSize":32,"codes":[59703,59704,59705,59706],"code":59703},"setIdx":0,"setId":6,"iconIdx":60},{"icon":{"paths":["M282.622 405.672c27.028 27.997 60.82 41.995 101.378 41.995s74.35-13.999 101.378-41.995c27.062-28.030 40.589-63.052 40.589-105.063s-13.527-77.017-40.589-105.013c-27.028-27.997-60.82-41.995-101.378-41.995s-74.35 13.999-101.378 41.995c-27.060 27.997-40.59 63.001-40.59 105.013s13.53 77.033 40.59 105.063z","M95.538 748.59c12.492 12.938 28.212 19.41 47.16 19.41h394.876c-62.165-46.705-102.374-121.057-102.374-204.8 0-24.1-16.496-46.653-40.588-47.16-3.541-0.077-7.078-0.113-10.612-0.113-41.239 0-82.803 5.074-124.69 15.227-41.921 10.184-82.478 24.719-121.673 43.607-18.267 9.108-32.982 22.231-44.143 39.373-11.129 17.178-16.694 36.265-16.694 57.272v29.394c0 18.888 6.246 34.816 18.738 47.79z","M717.251 631.368c-25.62 0-47.508-8.55-65.664-25.651-18.186-17.126-27.279-37.755-27.279-61.885v-201.139c0-24.131 9.093-44.612 27.279-61.444 18.156-16.832 40.044-25.248 65.664-25.248s47.365 8.416 65.234 25.248c17.874 16.832 26.808 37.314 26.808 61.444v201.139c0 24.131-8.934 44.759-26.808 61.885-17.869 17.101-39.613 25.651-65.234 25.651zM717.251 870.4c-7.747 0-14.454-2.668-20.116-7.997-5.663-5.335-8.494-11.648-8.494-18.949v-80.794c-53.612-5.601-99.031-26.081-136.259-61.445-37.228-35.333-59.118-77.696-65.666-127.089-1.201-8.402 1.029-15.549 6.691-21.448s13.253-8.847 22.777-8.847c6.543 0 12.365 2.115 17.454 6.339 5.059 4.204 8.177 9.953 9.349 17.254 5.975 39.828 25.334 73.492 58.076 100.992 32.768 27.469 71.496 41.206 116.188 41.206 44.063 0 82.478-13.737 115.246-41.206 32.768-27.5 52.127-61.164 58.071-100.992 1.203-7.301 4.193-13.051 8.965-17.254 4.777-4.224 10.737-6.339 17.884-6.339 9.523 0 17.116 2.949 22.779 8.847 5.658 5.898 7.89 13.046 6.687 21.448-5.944 49.393-27.535 91.756-64.763 127.089-37.258 35.364-82.678 55.844-136.264 61.445v80.794c0 7.301-2.826 13.614-8.489 18.949-5.663 5.33-12.37 7.997-20.116 7.997z"],"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["promote-filled"],"grid":0},"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"properties":{"order":499,"id":58,"name":"promote-filled","prevSize":32,"code":59727},"setIdx":0,"setId":6,"iconIdx":61},{"icon":{"paths":["M287.952 405.117c27.727 28.366 62.395 42.55 104.003 42.55s76.276-14.183 104.003-42.55c27.761-28.333 41.641-63.17 41.641-104.509 0-42.012-13.88-77.017-41.641-105.013-27.727-27.997-62.395-41.995-104.003-41.995s-76.276 13.999-104.003 41.995c-27.761 27.997-41.641 63.001-41.641 105.013 0 41.339 13.88 76.176 41.641 104.509zM448.626 357.879c-14.879 15.057-33.769 22.585-56.67 22.585s-41.791-7.528-56.67-22.585c-14.912-15.057-22.368-34.147-22.368-57.271 0-23.090 7.456-42.163 22.368-57.221 14.879-15.057 33.769-22.585 56.67-22.585s41.791 7.528 56.67 22.585c14.912 15.057 22.368 34.13 22.368 57.221 0 23.123-7.456 42.213-22.368 57.271z","M515.067 768c-15.893-12.211-30.127-26.511-42.299-42.496-11.118-14.597-27.707-24.704-46.058-24.704h-283.354v-29.394c0-8.402 2.247-15.58 6.74-21.524 4.527-5.985 10.602-10.726 18.225-14.218 34.651-15.396 71.233-27.996 109.745-37.811 38.479-9.779 76.442-14.669 113.889-14.669 1.087 0 2.174 0 3.262 0.010 16.866 0.123 31.134-13.455 33.638-30.136 2.784-18.55-9.628-36.762-28.382-37.059-2.842-0.046-5.682-0.072-8.519-0.072-42.307 0-84.947 5.074-127.92 15.227-43.006 10.184-84.963 24.719-125.873 43.607-18.041 9.108-32.787 22.231-44.237 39.373-11.417 17.178-17.126 36.265-17.126 57.272v29.394c0 18.212 6.574 33.976 19.722 47.288 13.181 13.276 29.142 19.912 47.882 19.912h370.662z","M717.251 631.368c-25.62 0-47.508-8.55-65.664-25.651-18.186-17.126-27.279-37.755-27.279-61.885v-201.139c0-24.131 9.093-44.612 27.279-61.444 18.156-16.832 40.044-25.248 65.664-25.248s47.365 8.416 65.234 25.248c17.874 16.832 26.808 37.314 26.808 61.444v201.139c0 24.131-8.934 44.759-26.808 61.885-17.869 17.101-39.613 25.651-65.234 25.651zM717.251 870.4c-7.747 0-14.454-2.668-20.116-7.997-5.663-5.335-8.494-11.648-8.494-18.949v-81.638c-53.612-5.606-99.031-25.938-136.259-61-37.228-35.067-59.118-77.297-65.666-126.689-1.201-8.402 1.029-15.549 6.691-21.448s13.253-8.847 22.777-8.847c6.543 0 12.365 2.115 17.454 6.339 5.059 4.204 8.177 9.953 9.349 17.254 5.975 39.828 25.334 73.492 58.076 100.992 32.768 27.469 71.496 41.206 116.188 41.206 44.063 0 82.478-13.737 115.246-41.206 32.768-27.5 52.127-61.164 58.071-100.992 1.203-7.301 4.193-13.051 8.965-17.254 4.777-4.224 10.737-6.339 17.884-6.339 9.523 0 17.116 2.949 22.779 8.847 5.658 5.898 7.89 13.046 6.687 21.448-5.944 49.393-27.535 91.622-64.763 126.689-37.258 35.062-82.678 55.393-136.264 61v81.638c0 7.301-2.826 13.614-8.489 18.949-5.663 5.33-12.37 7.997-20.116 7.997zM717.251 577.521c10.122 0 18.458-3.231 25.006-9.697 6.548-6.461 9.82-14.459 9.82-23.992v-201.139c0-9.534-3.272-17.384-9.82-23.551s-14.884-9.251-25.006-9.251c-10.122 0-18.616 3.084-25.477 9.251-6.835 6.167-10.25 14.018-10.25 23.551v201.139c0 9.533 3.415 17.531 10.25 23.992 6.861 6.467 15.355 9.697 25.477 9.697z","M716.8 307.2c28.277 0 51.2 22.923 51.2 51.2v204.8c0 28.277-22.923 51.2-51.2 51.2s-51.2-22.923-51.2-51.2v-204.8c0-28.277 22.923-51.2 51.2-51.2z"],"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["promote-outlined"],"grid":0},"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"properties":{"order":500,"id":59,"name":"promote-outlined","prevSize":32,"code":59728},"setIdx":0,"setId":6,"iconIdx":62},{"icon":{"paths":["M512.491 938.667c43.157 0 82.889-7.561 119.194-22.682 36.275-15.117 67.665-35.443 94.161-60.971 26.466-25.502 47.223-55.262 62.263-89.284 15.040-34.018 22.558-69.926 22.558-107.729v-219.238c0-12.6-4.407-23.159-13.222-31.676-8.841-8.492-19.797-12.739-32.879-12.739-13.077 0-24.034 4.246-32.875 12.739-8.815 8.518-13.222 19.076-13.222 31.676v170.099h-11.772c-39.232 4.412-70.293 18.436-93.18 42.074-22.886 23.612-35.635 51.166-38.251 82.667h-35.311c3.268-39.061 17.655-72.448 43.157-100.169s59.174-45.675 101.026-53.867v-370.439c0-12.6-4.407-23.159-13.222-31.676-8.841-8.492-19.802-12.739-32.879-12.739s-23.868 4.246-32.367 12.739c-8.499 8.518-12.749 19.076-12.749 31.676v274.993h-35.311v-355.318c0-12.6-4.42-22.995-13.261-31.185-8.815-8.19-19.435-12.285-31.859-12.285-13.077 0-24.026 4.095-32.841 12.285-8.841 8.19-13.261 18.585-13.261 31.185v355.318h-34.33v-307.124c0-11.97-4.407-22.365-13.22-31.185-8.841-8.82-19.8-13.23-32.878-13.23s-24.024 4.41-32.839 13.23c-8.841 8.82-13.261 19.215-13.261 31.185v330.748h-35.311v-220.183c0-12.6-4.407-23.146-13.222-31.639-8.841-8.518-19.473-12.777-31.897-12.777-13.078 0-24.024 4.259-32.839 12.777-8.841 8.492-13.261 19.039-13.261 31.639v370.438c0 37.803 7.52 73.711 22.56 107.729 15.040 34.022 35.964 63.782 62.774 89.284 26.81 25.527 58.367 45.854 94.671 60.971 36.277 15.121 75.996 22.682 119.153 22.682z"],"attrs":[{"fill":"rgb(9, 157, 253)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["raise-hand"],"defaultCode":59687,"grid":0},"attrs":[{"fill":"rgb(9, 157, 253)"}],"properties":{"order":501,"id":60,"name":"raise-hand","prevSize":32,"code":59687},"setIdx":0,"setId":6,"iconIdx":63},{"icon":{"paths":["M917.333 512c0-212.077-171.921-384-384-384-212.077 0-384 171.923-384 384 0 212.079 171.923 384 384 384 212.079 0 384-171.921 384-384zM960 512c0 235.639-191.027 426.667-426.667 426.667-235.642 0-426.667-191.027-426.667-426.667 0-235.642 191.025-426.667 426.667-426.667 235.639 0 426.667 191.025 426.667 426.667zM533.333 768c-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256s-114.615 256-256 256z"],"width":1067,"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["recording"],"defaultCode":59688,"grid":0},"attrs":[{}],"properties":{"order":502,"id":61,"name":"recording","prevSize":32,"code":59688},"setIdx":0,"setId":6,"iconIdx":64},{"icon":{"paths":["M361.624 701.85l150.427-150.374 150.426 150.374 39.424-39.424-150.374-150.426 150.374-150.426-39.424-39.424-150.426 150.374-150.427-150.374-39.424 39.424 150.374 150.426-150.374 150.426 39.424 39.424zM512.051 900.25c-53.318 0-103.63-10.122-150.939-30.362-47.274-20.275-88.525-48.010-123.75-83.2-35.191-35.226-62.925-76.477-83.2-123.75-20.241-47.309-30.362-97.623-30.362-150.938 0-54.033 10.121-104.516 30.362-151.45 20.275-46.933 48.009-88.013 83.2-123.238 35.226-35.191 76.476-62.925 123.75-83.2 47.309-20.241 97.622-30.362 150.939-30.362 54.031 0 104.515 10.121 151.45 30.362 46.93 20.275 88.013 48.009 123.238 83.2 35.19 35.226 62.925 76.305 83.2 123.238 20.239 46.934 30.362 97.417 30.362 151.45 0 53.315-10.122 103.629-30.362 150.938-20.275 47.273-48.010 88.525-83.2 123.75-35.226 35.19-76.308 62.925-123.238 83.2-46.935 20.239-97.418 30.362-151.45 30.362z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["remove"],"defaultCode":59689,"grid":0},"attrs":[{}],"properties":{"order":503,"id":62,"name":"remove","prevSize":32,"code":59689},"setIdx":0,"setId":6,"iconIdx":65},{"icon":{"paths":["M512.051 900.25c-53.318 0-103.63-10.122-150.939-30.362-47.274-20.275-88.525-48.010-123.75-83.2-35.191-35.226-62.925-76.477-83.2-123.75-20.241-47.309-30.362-97.623-30.362-150.938 0-54.033 10.121-104.516 30.362-151.45 20.275-46.933 48.009-88.013 83.2-123.238 35.226-35.191 76.476-62.925 123.75-83.2 47.309-20.241 97.622-30.362 150.939-30.362 54.031 0 104.515 10.121 151.45 30.362 46.93 20.275 88.013 48.009 123.238 83.2 35.19 35.226 62.925 76.305 83.2 123.238 20.239 46.934 30.362 97.417 30.362 151.45 0 53.315-10.122 103.629-30.362 150.938-20.275 47.273-48.010 88.525-83.2 123.75-35.226 35.19-76.308 62.925-123.238 83.2-46.935 20.239-97.418 30.362-151.45 30.362zM512.051 844.8c92.431 0 171.008-32.358 235.725-97.075s97.075-143.293 97.075-235.725c0-40.55-6.932-79.121-20.787-115.712-13.86-36.625-33.249-69.53-58.163-98.714l-468.277 468.276c29.184 24.919 62.089 44.303 98.714 58.163 36.591 13.86 75.162 20.787 115.714 20.787zM258.2 726.426l468.277-468.276c-29.184-24.917-62.090-44.305-98.714-58.163-36.593-13.858-75.162-20.787-115.712-20.787-92.434 0-171.010 32.358-235.726 97.075s-97.075 143.292-97.075 235.725c0 40.551 6.929 79.12 20.787 115.713 13.858 36.623 33.246 69.53 58.163 98.714z"],"attrs":[{"fill":"rgb(231, 65, 76)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["remove-meeting"],"grid":0},"attrs":[{"fill":"rgb(231, 65, 76)"}],"properties":{"order":504,"id":63,"name":"remove-meeting","prevSize":32,"code":59715},"setIdx":0,"setId":6,"iconIdx":66},{"icon":{"paths":["M490.667 682.667h85.333v-177.067l68.267 67.2 60.8-60.8-171.733-170.667-170.667 170.667 60.8 59.733 67.2-67.2v178.133zM192 853.333c-23.467 0-43.549-8.35-60.245-25.045-16.725-16.725-25.088-36.821-25.088-60.288v-512c0-23.467 8.363-43.549 25.088-60.245 16.697-16.725 36.779-25.088 60.245-25.088h682.667c23.467 0 43.563 8.363 60.288 25.088 16.695 16.697 25.045 36.779 25.045 60.245v512c0 23.467-8.35 43.563-25.045 60.288-16.725 16.695-36.821 25.045-60.288 25.045h-682.667z"],"width":1067,"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["screen-share"],"defaultCode":59690,"grid":0},"attrs":[{}],"properties":{"order":505,"id":64,"name":"screen-share","prevSize":32,"code":59690},"setIdx":0,"setId":6,"iconIdx":67},{"icon":{"paths":["M190.073 849.715c-14.605 5.858-28.594 4.604-41.966-3.767-13.405-8.367-20.107-20.924-20.107-37.662v-177.020c0-10.044 3.051-19.247 9.153-27.618 6.069-8.371 14.378-13.811 24.926-16.32l303.060-75.328-303.060-75.328c-10.548-2.509-18.857-7.731-24.926-15.667-6.102-7.968-9.153-17.392-9.153-28.273v-177.018c0-16.739 6.702-29.294 20.107-37.663 13.372-8.37 27.361-9.625 41.966-3.767l679.15 295.031c17.852 8.367 26.778 22.596 26.778 42.684s-8.926 34.317-26.778 42.684l-679.15 295.031z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["send"],"defaultCode":59691,"grid":0},"attrs":[{}],"properties":{"order":506,"id":65,"name":"send","prevSize":32,"code":59691},"setIdx":0,"setId":6,"iconIdx":68},{"icon":{"paths":["M599.983 938.667h-134.409c-9.626 0-18.142-3.366-25.549-10.103s-11.849-15.347-13.329-25.826l-13.33-101.052c-11.849-3.742-23.875-9.357-36.079-16.845-12.234-7.484-23.535-15.343-33.902-23.578l-92.197 40.422c-9.627 3.742-19.061 4.117-28.303 1.122-9.271-2.995-16.87-8.981-22.794-17.967l-66.648-117.892c-5.184-8.981-6.665-18.534-4.443-28.655 2.222-10.091 7.035-18.129 14.441-24.119l81.089-61.751c-1.481-6.737-2.399-13.474-2.755-20.211-0.385-6.737-0.577-13.474-0.577-20.211 0-5.99 0.192-12.352 0.577-19.089 0.356-6.737 1.274-13.845 2.755-21.333l-81.089-61.753c-7.405-5.988-12.219-14.028-14.441-24.118-2.222-10.12-0.741-19.671 4.443-28.654l66.648-116.772c5.184-8.983 12.589-14.971 22.216-17.965s18.884-2.62 27.77 1.123l93.308 39.298c10.368-8.234 21.668-15.899 33.902-22.995 12.204-7.126 24.23-12.935 36.079-17.426l13.33-101.053c1.481-10.48 5.922-19.088 13.329-25.825s15.923-10.105 25.549-10.105h134.409c10.368 0 19.251 3.369 26.658 10.105s11.849 15.345 13.329 25.825l13.329 101.053c13.329 5.239 25.357 11.033 36.079 17.381 10.752 6.378 21.683 14.058 32.794 23.040l94.417-39.298c8.887-3.743 17.967-4.117 27.238-1.123 9.242 2.994 16.823 8.982 22.75 17.965l66.645 116.772c5.184 8.983 6.665 18.534 4.446 28.654-2.223 10.090-7.036 18.129-14.443 24.118l-82.197 62.875c1.481 7.488 2.219 14.225 2.219 20.211v19.089c0 5.99-0.192 12.156-0.576 18.505-0.354 6.379-1.276 13.683-2.756 21.918l81.092 61.751c8.145 5.99 13.329 14.029 15.548 24.119 2.223 10.121 0.371 19.674-5.551 28.655l-66.65 116.77c-5.184 8.981-12.591 14.972-22.217 17.967-9.626 2.991-19.255 2.62-28.881-1.122l-91.085-39.3c-11.11 8.981-22.396 16.841-33.86 23.578-11.49 6.737-23.164 12.352-35.012 16.845l-13.329 101.052c-1.481 10.479-5.922 19.089-13.329 25.826s-16.29 10.103-26.658 10.103zM533.333 646.737c37.026 0 68.501-13.099 94.417-39.3 25.92-26.197 38.878-58.010 38.878-95.437s-12.958-69.239-38.878-95.439c-25.916-26.199-57.391-39.298-94.417-39.298s-68.501 13.099-94.417 39.298c-25.92 26.199-38.88 58.011-38.88 95.439s12.959 69.239 38.88 95.437c25.916 26.202 57.391 39.3 94.417 39.3z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["settings"],"defaultCode":59692,"grid":0},"attrs":[{}],"properties":{"order":507,"id":66,"name":"settings","prevSize":32,"code":59692},"setIdx":0,"setId":6,"iconIdx":69},{"icon":{"paths":["M775.313 938.667c-33.643 0-62.17-11.669-85.577-35.008s-35.106-51.785-35.106-85.333c0-5.107 0.363-10.765 1.097-16.981 0.73-6.182 2.193-11.465 4.386-15.838l-324.753-190.362c-11.703 11.669-24.869 20.787-39.497 27.349-14.629 6.566-30.354 9.847-47.177 9.847-33.646 0-62.171-11.669-85.577-35.008s-35.109-51.785-35.109-85.333c0-33.549 11.703-61.995 35.109-85.333s51.931-35.008 85.577-35.008c16.823 0 32.549 3.282 47.177 9.846s27.794 15.681 39.497 27.351l324.753-190.36c-2.193-4.376-3.657-9.671-4.386-15.885-0.734-6.185-1.097-11.83-1.097-16.936 0-33.55 11.699-61.994 35.106-85.333s51.934-35.008 85.577-35.008c33.647 0 62.174 11.669 85.577 35.008 23.407 23.339 35.11 51.784 35.11 85.333s-11.703 61.994-35.11 85.333c-23.403 23.339-51.93 35.009-85.577 35.009-16.823 0-32.546-3.282-47.177-9.846-14.626-6.564-27.793-15.681-39.497-27.351l-324.754 190.36c2.194 4.373 3.657 9.481 4.389 15.313 0.731 5.837 1.097 11.669 1.097 17.506 0 5.107-0.366 10.752-1.097 16.934-0.731 6.217-2.194 11.511-4.389 15.885l324.754 190.362c11.703-11.669 24.87-20.787 39.497-27.354 14.63-6.562 30.353-9.843 47.177-9.843 33.647 0 62.174 11.669 85.577 35.008 23.407 23.339 35.11 51.785 35.11 85.333s-11.703 61.995-35.11 85.333c-23.403 23.339-51.93 35.008-85.577 35.008z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["share"],"defaultCode":59693,"grid":0},"attrs":[{}],"properties":{"order":508,"id":67,"name":"share","prevSize":32,"code":59693},"setIdx":0,"setId":6,"iconIdx":70},{"icon":{"paths":["M599.532 857.62v-66.135c61.158-19.2 110.582-54.584 148.27-106.153 37.688-51.543 56.53-109.665 56.53-174.378 0-64.711-18.842-122.851-56.53-174.421-37.688-51.542-87.112-86.912-148.27-106.112v-66.134c78.935 21.334 143.462 64 193.582 128 50.145 64 75.218 136.889 75.218 218.666s-25.073 154.666-75.218 218.666c-50.12 64-114.647 106.665-193.582 128zM155.8 618.685v-213.331h158.934l182.4-183.466v580.268l-182.4-183.47h-158.934zM599.532 667.756v-313.602c28.447 15.645 50.488 37.689 66.135 66.134s23.465 59.022 23.465 91.733c0 32.712-7.818 62.935-23.465 90.665-15.647 27.735-37.688 49.423-66.135 65.070z"],"attrs":[{"fill":"rgb(128, 128, 128)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["speaker"],"grid":0},"attrs":[{"fill":"rgb(128, 128, 128)"}],"properties":{"order":509,"id":68,"name":"speaker","prevSize":32,"code":59685},"setIdx":0,"setId":6,"iconIdx":71},{"icon":{"paths":["M937.685 502.549c0 90.628-28.373 174.511-76.565 242.931l-29.623-29.628c41.126-60.582 65.216-134.076 65.216-213.303 0-207.401-165.090-375.532-368.742-375.532-80.205 0-154.432 26.079-214.947 70.365l-29.627-29.627c68.26-51.802 152.9-82.464 244.574-82.464 226.278 0 409.715 186.813 409.715 417.258z","M754.79 850.086c-64.947 44.049-142.938 69.717-226.82 69.717-226.279 0-409.715-186.812-409.715-417.254 0-82.7 23.624-159.78 64.374-224.623l-115.962-115.963 45.255-45.255 784.416 784.416-45.252 45.257-96.294-96.294zM724.838 820.139l-91.345-91.349c-31.945 15.462-67.686 24.115-105.408 24.115-135.769 0-245.83-112.085-245.83-250.351 0-36.796 7.795-71.74 21.794-103.208l-91.47-91.47c-33.857 56.768-53.353 123.404-53.353 194.674 0 207.398 165.092 375.531 368.744 375.531 72.388 0 139.908-21.244 196.868-57.941z","M773.914 502.554c0 44.983-11.648 87.194-32.043 123.678l-339.105-339.106c36.697-22.188 79.547-34.927 125.32-34.927 135.765 0 245.828 112.087 245.828 250.356z"],"attrs":[{"fill":"rgb(255, 65, 77)"},{"fill":"rgb(255, 65, 77)"},{"fill":"rgb(255, 65, 77)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["stop-recording"],"grid":0},"attrs":[{"fill":"rgb(255, 65, 77)"},{"fill":"rgb(255, 65, 77)"},{"fill":"rgb(255, 65, 77)"}],"properties":{"order":510,"id":69,"name":"stop-recording","prevSize":32,"code":59694},"setIdx":0,"setId":6,"iconIdx":72},{"icon":{"paths":["M359.467 664.533c6.4 6.4 13.867 9.6 22.4 9.6s16-3.2 22.4-9.6l107.733-107.733 108.8 108.8c5.687 5.687 12.8 8.533 21.333 8.533s16-3.2 22.4-9.6c6.4-6.4 9.6-13.867 9.6-22.4s-3.2-16-9.6-22.4l-107.733-107.733 108.8-108.8c5.687-5.689 8.533-12.8 8.533-21.333s-3.2-16-9.6-22.4c-6.4-6.4-13.867-9.6-22.4-9.6s-16 3.2-22.4 9.6l-107.733 107.733-108.8-108.8c-5.689-5.689-12.8-8.533-21.333-8.533s-16 3.2-22.4 9.6c-6.4 6.4-9.6 13.867-9.6 22.4s3.2 16 9.6 22.4l107.733 107.733-108.8 108.8c-5.689 5.687-8.533 12.8-8.533 21.333s3.2 16 9.6 22.4zM149.333 853.333c-17.067 0-32-6.4-44.8-19.2s-19.2-27.733-19.2-44.8v-554.667c0-17.067 6.4-32 19.2-44.8s27.733-19.2 44.8-19.2h725.333c17.779 0 32.887 6.4 45.333 19.2s18.667 27.733 18.667 44.8v554.667c0 17.067-6.221 32-18.667 44.8s-27.554 19.2-45.333 19.2h-725.333z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["stop-screen-share"],"defaultCode":59695,"grid":0},"attrs":[{}],"properties":{"order":511,"id":70,"name":"stop-screen-share","prevSize":32,"code":59695},"setIdx":0,"setId":6,"iconIdx":73},{"icon":{"paths":["M257.123 586.543l112.28 112.939c5.989 6.775 13.669 10.167 23.040 10.167 9.341 0 17.381-3.392 24.118-10.167s10.105-14.878 10.105-24.303c0-9.399-3.369-17.109-10.105-23.13l-58.386-58.731h307.651l-58.389 58.731c-6.737 6.020-10.103 13.73-10.103 23.13 0 9.425 3.366 17.527 10.103 24.303s14.793 10.167 24.166 10.167c9.34 0 17.007-3.392 22.993-10.167l112.282-112.939c7.484-7.531 11.226-16.943 11.226-28.237s-3.742-21.082-11.226-29.363l-112.282-111.814c-5.986-6.776-13.653-10.164-22.993-10.164-9.374 0-17.429 3.388-24.166 10.164s-10.103 14.683-10.103 23.72c0 9.033 2.995 16.939 8.981 23.714l60.634 60.988h-309.896l60.631-60.988c5.988-6.775 8.983-14.682 8.983-23.714 0-9.037-3.369-16.943-10.105-23.72s-14.776-10.164-24.118-10.164c-9.372 0-17.052 3.388-23.040 10.164l-112.28 111.814c-7.485 8.282-11.228 18.069-11.228 29.363s3.743 20.706 11.228 28.237zM166.176 896c-22.456 0-41.544-7.906-57.263-23.718s-23.579-35.012-23.579-57.6v-515.011c0-22.588 7.86-41.788 23.579-57.6s34.807-23.718 57.263-23.718h136.982l59.509-64.377c7.485-8.282 16.468-14.682 26.947-19.2s21.333-6.776 32.561-6.776h179.651c11.226 0 22.080 2.259 32.559 6.776s19.465 10.918 26.948 19.2l59.507 64.377h136.986c22.455 0 41.54 7.906 57.263 23.718 15.718 15.812 23.578 35.012 23.578 57.6v515.011c0 22.588-7.859 41.788-23.578 57.6-15.723 15.812-34.807 23.718-57.263 23.718h-691.651z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["switch-camera"],"defaultCode":59696,"grid":0},"attrs":[{}],"properties":{"order":512,"id":71,"name":"switch-camera","prevSize":32,"code":59696},"setIdx":0,"setId":6,"iconIdx":74},{"icon":{"paths":["M1341.235 162.025c35.499-40.678 31.289-102.43-9.387-137.925s-102.434-31.294-137.921 9.384l-620.733 711.364-414.268-332.33c-42.111-33.782-103.637-27.030-137.419 15.082-33.783 42.111-27.030 103.637 15.082 137.419l487.421 391.014c19.833 15.91 43.969 22.83 67.487 21.299 25.074-1.621 49.522-12.851 67.347-33.279l682.391-782.029z"],"width":1365,"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["tick"],"defaultCode":59698,"grid":0},"attrs":[{}],"properties":{"order":513,"id":72,"name":"tick","prevSize":32,"code":59698},"setIdx":0,"setId":6,"iconIdx":75},{"icon":{"paths":["M433.152 686.080l275.456-275.456-43.008-43.008-232.448 232.448-116.736-116.736-43.008 43.008 159.744 159.744zM491.52 901.12c-53.932 0-104.612-10.24-152.044-30.72-47.459-20.48-88.596-48.128-123.412-82.944s-62.464-75.952-82.944-123.412c-20.48-47.432-30.72-98.111-30.72-152.044s10.24-104.625 30.72-152.084c20.48-47.432 48.128-88.556 82.944-123.372s75.953-62.464 123.412-82.944c47.432-20.48 98.111-30.72 152.044-30.72s104.624 10.24 152.084 30.72c47.432 20.48 88.556 48.128 123.372 82.944s62.464 75.94 82.944 123.372c20.48 47.459 30.72 98.152 30.72 152.084s-10.24 104.612-30.72 152.044c-20.48 47.46-48.128 88.596-82.944 123.412s-75.94 62.464-123.372 82.944c-47.46 20.48-98.152 30.72-152.084 30.72z"],"width":983,"attrs":[{"fill":"rgb(54, 179, 126)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["tick-fill"],"defaultCode":59697,"grid":0},"attrs":[{"fill":"rgb(54, 179, 126)"}],"properties":{"order":514,"id":73,"name":"tick-fill","prevSize":32,"code":59697},"setIdx":0,"setId":6,"iconIdx":76},{"icon":{"paths":["M259.713 446.842l105.819 105.821-141.124 141.164c-9.997 9.999-9.998 26.209 0 36.209 9.997 9.994 26.206 9.994 36.204 0l470.652-470.652c9.994-9.998 9.994-26.207 0-36.204-9.999-9.997-26.209-9.997-36.204 0l-142.5 142.453-105.819-105.819 36.204-36.204-39.208-39.209-259.437 259.437 39.209 39.209 36.204-36.204z","M823.834 504.059l-39.209-39.209-127.473 0.035-192.317 192.318-0.035 127.473 39.253 39.301 140.289-140.288 156.908 156.908 39.209-0.036 0.036-39.209-156.882-156.933 140.221-140.36z"],"attrs":[{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["unpin-filled"],"grid":0},"attrs":[{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"}],"properties":{"order":515,"id":74,"name":"unpin-filled","prevSize":32,"code":59729},"setIdx":0,"setId":6,"iconIdx":77},{"icon":{"paths":["M259.713 446.842l105.819 105.821 39.208-39.209-105.819-105.821 108.612-108.612 105.819 105.819 39.209-39.209-105.819-105.819 36.204-36.204-39.208-39.209-259.437 259.437 39.209 39.209 36.204-36.204z","M632.023 520.771l55.798-55.8 96.85-0.027 39.209 39.209-140.293 140.292 156.908 156.908-0.036 39.209-39.209 0.036-156.908-156.908-140.289 140.288-39.209-39.209 0.027-96.845 55.798-55.798v96.819l208.174-208.174h-96.819z","M224.408 693.827c-9.998 9.999-9.998 26.209 0 36.209 9.997 9.994 26.206 9.994 36.204 0l470.652-470.652c9.994-9.998 9.994-26.207 0-36.204-9.999-9.997-26.209-9.997-36.204 0l-470.652 470.648z"],"attrs":[{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["unpin-outlined"],"grid":0},"attrs":[{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"}],"properties":{"order":516,"id":75,"name":"unpin-outlined","prevSize":32,"code":59730},"setIdx":0,"setId":6,"iconIdx":78},{"icon":{"paths":["M908.817 709.333l-150.4-149.333v80l-64-64v-307.198c0-3.555-1.237-6.571-3.712-9.045-2.505-2.503-5.888-3.755-10.155-3.755h-307.2l-64-64h371.2c22.046 0 40.533 7.467 55.467 22.4s22.4 33.067 22.4 54.4v195.198l150.4-149.331v394.665zM852.284 945.067l-787.2-786.131 45.867-44.8 786.134 786.131-44.8 44.8zM189.883 193.069l62.933 62.933h-57.6c-3.555 0-6.571 1.251-9.045 3.755-2.503 2.475-3.755 5.49-3.755 9.045v486.398c0 3.558 1.251 6.588 3.755 9.088 2.475 2.475 5.49 3.712 9.045 3.712h485.334c4.267 0 7.65-1.237 10.155-3.712 2.475-2.5 3.712-5.53 3.712-9.088v-57.6l62.933 62.933c-1.421 19.913-9.417 36.796-23.979 50.645-14.592 13.884-32.201 20.821-52.821 20.821h-485.334c-21.333 0-39.467-7.467-54.4-22.4s-22.4-33.067-22.4-54.4v-486.398c0-19.911 6.941-37.163 20.821-51.755 13.853-14.563 30.734-22.557 50.645-23.979z","M851.2 943.996l-787.2-786.133 45.867-44.8 786.133 786.133-44.8 44.8z"],"attrs":[{},{}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-off"],"defaultCode":59699,"grid":0},"attrs":[{},{}],"properties":{"order":517,"id":76,"name":"video-off","prevSize":32,"code":59699},"setIdx":0,"setId":6,"iconIdx":79},{"icon":{"paths":["M823.475 919.424l-736.001-733.849c-6.383-6.383-9.574-14.2-9.574-23.45s3.55-17.425 10.65-24.525c7.134-7.134 15.138-10.701 24.013-10.701s17.238 3.567 25.088 10.701l733.851 734.924c6.385 6.385 9.574 14.198 9.574 23.45s-3.19 17.065-9.574 23.45c-7.818 7.849-15.99 11.776-24.525 11.776s-16.369-3.927-23.501-11.776zM758.4 631.424l-440.526-439.449h358.401c23.485 0 43.044 7.816 58.675 23.45 15.631 15.667 23.45 34.867 23.45 57.6v185.6l112.026-111.974c7.818-7.817 16.179-9.592 25.088-5.325 8.873 4.266 13.312 11.008 13.312 20.224v300.85c0 9.216-4.439 15.959-13.312 20.224-8.909 4.265-17.27 2.493-25.088-5.325l-112.026-111.974v66.099zM193.1 193.051l564.276 565.298c0 19.215-8.535 36.285-25.6 51.2-17.065 14.95-35.569 22.426-55.501 22.426h-476.775c-22.767 0-41.967-7.818-57.6-23.45-15.667-15.667-23.501-34.867-23.501-57.6v-477.9c0-19.183 7.305-37.308 21.914-54.374 14.575-17.067 32.171-25.6 52.787-25.6z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-off-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":518,"id":77,"name":"video-off-filled","prevSize":32,"code":59731},"setIdx":0,"setId":6,"iconIdx":80},{"icon":{"paths":["M870.426 677.325l-112.026-111.974v66.099l-68.25-68.25v-290.15c0-3.55-1.244-6.57-3.738-9.062s-5.873-3.738-10.138-3.738h-290.1l-68.301-68.25h358.401c22.769 0 42.153 7.817 58.163 23.45 15.974 15.667 23.962 34.867 23.962 57.6v185.6l112.026-111.974c7.101-7.134 15.273-8.909 24.525-5.325 9.252 3.55 13.875 10.291 13.875 20.224v300.851c0 9.933-4.623 16.676-13.875 20.224-9.252 3.584-17.423 1.807-24.525-5.325zM823.475 919.45l-736.001-733.85c-6.383-6.383-9.574-14.029-9.574-22.938 0-8.874 3.909-16.879 11.725-24.013 6.417-7.1 14.234-10.65 23.45-10.65 9.25 0 17.442 3.55 24.576 10.65l733.851 733.901c6.385 6.385 9.764 14.029 10.138 22.938 0.343 8.873-3.036 16.86-10.138 23.962-7.132 7.132-15.309 10.701-24.525 10.701-9.252 0-17.085-3.569-23.501-10.701zM192.025 193.075l67.174 67.174h-60.774c-3.55 0-6.57 1.246-9.062 3.738s-3.738 5.513-3.738 9.062l1.075 477.901c0 3.548 1.246 6.569 3.738 9.062s5.513 3.738 9.062 3.738h476.775c4.265 0 7.644-1.244 10.138-3.738s3.738-5.514 3.738-9.062v-59.75l67.226 67.174c-2.15 20.649-10.87 38.077-26.163 52.275-15.293 14.234-33.603 21.35-54.938 21.35h-476.775c-22.767 0-41.967-7.818-57.6-23.45-15.667-15.667-23.501-34.867-23.501-57.6v-477.901c0-21.334 7.117-39.646 21.35-54.938s31.659-23.638 52.275-25.037z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-off-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":519,"id":78,"name":"video-off-outlined","prevSize":32,"code":59732},"setIdx":0,"setId":6,"iconIdx":81},{"icon":{"paths":["M194.133 832c-21.333 0-39.467-7.467-54.4-22.4s-22.4-33.067-22.4-54.4v-486.4c0-21.333 7.467-39.467 22.4-54.4s33.067-22.4 54.4-22.4h485.333c22.046 0 40.533 7.467 55.467 22.4s22.4 33.067 22.4 54.4v195.2l149.333-149.333v394.667l-149.333-149.333v195.2c0 21.333-7.467 39.467-22.4 54.4s-33.421 22.4-55.467 22.4h-485.333z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-on"],"defaultCode":59700,"grid":0},"attrs":[{}],"properties":{"order":520,"id":79,"name":"video-on","prevSize":32,"code":59700},"setIdx":0,"setId":6,"iconIdx":82},{"icon":{"paths":["M198.45 833.101c-22.767 0-41.967-7.834-57.6-23.501-15.633-15.631-23.45-34.816-23.45-57.549v-477.902c0-22.733 7.817-41.933 23.45-57.6 15.633-15.633 34.833-23.45 57.6-23.45h476.827c23.45 0 42.988 7.817 58.624 23.45 15.667 15.667 23.501 34.867 23.501 57.6v184.525l111.974-111.974c7.813-7.816 15.99-9.591 24.525-5.325 8.53 4.267 12.8 11.008 12.8 20.224v300.852c0 9.216-4.27 15.959-12.8 20.224-8.535 4.265-16.712 2.493-24.525-5.325l-111.974-111.974v186.675c0 22.733-7.834 41.917-23.501 57.549-15.636 15.667-35.174 23.501-58.624 23.501h-476.827z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-on-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":521,"id":80,"name":"video-on-filled","prevSize":32,"code":59733},"setIdx":0,"setId":6,"iconIdx":83},{"icon":{"paths":["M198.45 832c-22.767 0-41.967-7.818-57.6-23.45-15.633-15.667-23.45-34.867-23.45-57.6v-477.901c0-22.733 7.817-41.933 23.45-57.6 15.633-15.633 34.833-23.45 57.6-23.45h476.827c22.733 0 42.102 7.817 58.112 23.45 16.005 15.667 24.013 34.867 24.013 57.6v185.6l111.974-111.974c7.132-7.134 15.135-8.909 24.013-5.325 8.873 3.55 13.312 10.291 13.312 20.224v300.851c0 9.933-4.439 16.676-13.312 20.224-8.878 3.584-16.881 1.807-24.013-5.325l-111.974-111.974v185.6c0 22.733-8.008 41.933-24.013 57.6-16.010 15.631-35.379 23.45-58.112 23.45h-476.827zM198.45 763.75h476.827c4.229 0 7.593-1.244 10.086-3.738 2.488-2.493 3.738-5.514 3.738-9.062v-477.901c0-3.55-1.249-6.57-3.738-9.062-2.493-2.492-5.857-3.738-10.086-3.738h-476.827c-3.55 0-6.57 1.246-9.062 3.738s-3.738 5.513-3.738 9.062v477.901c0 3.548 1.246 6.569 3.738 9.062s5.513 3.738 9.062 3.738zM185.65 763.75v0z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-on-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":522,"id":81,"name":"video-on-outlined","prevSize":32,"code":59734},"setIdx":0,"setId":6,"iconIdx":84},{"icon":{"paths":["M384 682.667h85.333v-128h128v-85.333h-128v-128h-85.333v128h-128v85.333h128v128zM170.667 853.333c-23.467 0-43.549-8.35-60.245-25.045-16.725-16.725-25.088-36.821-25.088-60.288v-512c0-23.467 8.363-43.549 25.088-60.245 16.697-16.725 36.779-25.088 60.245-25.088h512c23.467 0 43.563 8.363 60.288 25.088 16.695 16.697 25.045 36.779 25.045 60.245v192l170.667-170.667v469.333l-170.667-170.667v192c0 23.467-8.35 43.563-25.045 60.288-16.725 16.695-36.821 25.045-60.288 25.045h-512z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-plus"],"defaultCode":59701,"grid":0},"attrs":[{}],"properties":{"order":523,"id":82,"name":"video-plus","prevSize":32,"code":59701},"setIdx":0,"setId":6,"iconIdx":85}],"height":1024,"metadata":{"name":"icomoon"},"preferences":{"showGlyphs":true,"showQuickUse":true,"showQuickUse2":true,"showSVGs":true,"fontPref":{"prefix":"icon-","metadata":{"fontFamily":"icomoon"},"metrics":{"emSize":1024,"baseline":6.25,"whitespace":50},"embed":false},"imagePref":{"prefix":"icon-","png":true,"useClassSelector":true,"color":0,"bgColor":16777215,"classSelector":".icon","name":"icomoon"},"historySize":50,"showCodes":true,"gridSize":16}}'),hm=(0,um.DF)(dm),pm=e=>{const{name:t,iconSize:n=26,tintColor:r,base64:i=!1,base64TintColor:o="",iconType:a="round"}=e;return bn.createElement(Sn.Z,{style:[fm.iconContainerStyle,"round"===a?null!=e&&e.iconBackgroundColor?{backgroundColor:e.iconBackgroundColor}:{}:{backgroundColor:"transparent",borderRadius:0}]},bn.createElement(Sn.Z,{style:[{alignItems:"center"},"round"===a?{padding:13,borderRadius:50}:{padding:0,borderRadius:0},"round"===a&&null!=e&&e.isHovered?{backgroundColor:"#808080"+rm["20%"]}:{},null==e?void 0:e.iconContainerStyle]},null!=e&&e.showWarningIcon?bn.createElement(Sn.Z,{style:{position:"absolute",top:-2.5,right:-2}},bn.createElement(hm,{name:"alert",color:"#FFAB00",size:24})):bn.createElement(bn.Fragment,null),i?bn.createElement(Kh,{tintColor:o,name:t,style:{width:n,height:n}}):bn.createElement(hm,{name:t,color:r,size:n})))},fm=du.Z.create({iconContainerStyle:{borderRadius:50,backgroundColor:"#242529"}});function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mm.apply(this,arguments)}function vm(e){const{children:t,iconName:n,textStyle:r,containerStyle:i,iconSize:o,iconColor:a="#FFFFFF",...s}=e;return bn.createElement(cu.Z,mm({style:[gm.container,null!=e&&e.disabled?{backgroundColor:"#808080"}:{backgroundColor:"#099DFD"},i||{}]},s),n?bn.createElement(Sn.Z,{style:{marginRight:4}},bn.createElement(pm,{iconType:"plain",name:n,tintColor:a,iconSize:o})):bn.createElement(bn.Fragment,null),e.text&&bn.createElement(lu.Z,{style:[gm.text,r||{}]},e.text))}const gm=du.Z.create({primaryButton:lm.ud,primaryButtonText:lm.ZG,container:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingHorizontal:52,paddingVertical:18,borderRadius:cm.large,minWidth:250},text:{color:"#FFFFFF",fontSize:am.medium,fontWeight:"700",fontFamily:sm.sansPro,textTransform:"uppercase"}});du.Z.create({secondaryBtn:lm.SK,secondaryButtonText:lm.A8});var ym=__webpack_require__(2747);function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bm.apply(this,arguments)}const Em=e=>{const{style:t,setRef:n,...r}=e;return bn.createElement(ym.Z,bm({ref:t=>(null==e?void 0:e.setRef)&&e.setRef(t),style:[_m.textInput,_m.textWrapFix,_m.noOutline,t],placeholderTextColor:"#FFFFFF"+rm["70%"],autoCorrect:!1},r))},_m=du.Z.create({textInput:lm.Y2,noOutline:qr()?{outlineStyle:"none"}:{},textWrapFix:En.Z.select({ios:{paddingVertical:5}})});var Sm=__webpack_require__(1950);function Am(e){const{title:t,count:n=0}=e;return bn.createElement(cu.Z,{style:wm.container,onPress:()=>(null==e?void 0:e.onPress)&&(null==e?void 0:e.onPress())},bn.createElement(lu.Z,{style:wm.subheading},t," ",n>0?"("+n+")":""),bn.createElement(Sn.Z,{style:wm.iconView},bn.createElement(pm,{iconType:"plain",name:null!=e&&e.isOpen?"arrow-up":"arrow-down",iconSize:20,tintColor:"#FFFFFF"})))}const wm=du.Z.create({container:{flex:1,flexDirection:"row",justifyContent:"space-between",backgroundColor:"#262626",paddingHorizontal:20},subheading:{fontSize:12,fontFamily:"Source Sans Pro",fontWeight:"700",color:"#FFFFFF"+om.medium,paddingVertical:12,alignSelf:"center"},iconView:{paddingVertical:8,alignSelf:"center"}}),Tm=({children:e})=>Wr()?bn.createElement("div",{style:{userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",alignSelf:"center"}},e):bn.createElement(bn.Fragment,null,e),Cm=({name:e,containerStyle:t,textStyle:n})=>bn.createElement(Sn.Z,{style:[t,{alignSelf:"center",alignContent:"center",justifyContent:"center"}]},bn.createElement(Tm,null,bn.createElement(lu.Z,{style:[n,{fontFamily:sm.sansPro,alignSelf:"center",textAlign:"center"}]},function(e){return e&&null!=e&&e.length?e[0].toUpperCase():"U"}(e))));du.Z.create({});var Rm=__webpack_require__(3910),Im="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Om=new Uint8Array(16);function km(){if(!Im)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Im(Om)}for(var Nm=[],xm=0;xm<256;++xm)Nm[xm]=(xm+256).toString(16).substr(1);const Pm=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||km)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||function(e,t){var n=t||0,r=Nm;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}(i)};function Dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dm(Object(n),!0).forEach((function(t){Fm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Um.apply(this,arguments)}function jm(e){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jm(e)}function Vm(e,t){return Vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vm(e,t)}function Bm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jm(e);if(t){var i=jm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function zm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},Hm=function(e){return e&&e.Math==Math&&e},qm=Hm("object"==typeof globalThis&&globalThis)||Hm("object"==typeof window&&window)||Hm("object"==typeof self&&self)||Hm("object"==typeof Gm&&Gm)||function(){return this}()||Function("return this")(),Wm={},Zm=function(e){try{return!!e()}catch(e){return!0}},Km=!Zm((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ym=!Zm((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Qm=Ym,Jm=Function.prototype.call,Xm=Qm?Jm.bind(Jm):function(){return Jm.apply(Jm,arguments)},$m={},ev={}.propertyIsEnumerable,tv=Object.getOwnPropertyDescriptor,nv=tv&&!ev.call({1:2},1);$m.f=nv?function(e){var t=tv(this,e);return!!t&&t.enumerable}:ev;var rv,iv,ov=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},av=Ym,sv=Function.prototype,cv=sv.call,lv=av&&sv.bind.bind(cv,cv),uv=function(e){return av?lv(e):function(){return cv.apply(e,arguments)}},dv=uv,hv=dv({}.toString),pv=dv("".slice),fv=function(e){return pv(hv(e),8,-1)},mv=fv,vv=uv,gv=function(e){if("Function"===mv(e))return vv(e)},yv=Zm,bv=fv,Ev=Object,_v=gv("".split),Sv=yv((function(){return!Ev("z").propertyIsEnumerable(0)}))?function(e){return"String"==bv(e)?_v(e,""):Ev(e)}:Ev,Av=function(e){return null==e},wv=Av,Tv=TypeError,Cv=function(e){if(wv(e))throw Tv("Can't call method on "+e);return e},Rv=Sv,Iv=Cv,Ov=function(e){return Rv(Iv(e))},kv="object"==typeof document&&document.all,Nv={all:kv,IS_HTMLDDA:void 0===kv&&void 0!==kv},xv=Nv.all,Pv=Nv.IS_HTMLDDA?function(e){return"function"==typeof e||e===xv}:function(e){return"function"==typeof e},Dv=Pv,Lv=Nv.all,Mv=Nv.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:Dv(e)||e===Lv}:function(e){return"object"==typeof e?null!==e:Dv(e)},Fv=qm,Uv=Pv,jv=function(e,t){return arguments.length<2?(n=Fv[e],Uv(n)?n:void 0):Fv[e]&&Fv[e][t];var n},Vv=gv({}.isPrototypeOf),Bv=qm,zv=jv("navigator","userAgent")||"",Gv=Bv.process,Hv=Bv.Deno,qv=Gv&&Gv.versions||Hv&&Hv.version,Wv=qv&&qv.v8;Wv&&(iv=(rv=Wv.split("."))[0]>0&&rv[0]<4?1:+(rv[0]+rv[1])),!iv&&zv&&(!(rv=zv.match(/Edge\/(\d+)/))||rv[1]>=74)&&(rv=zv.match(/Chrome\/(\d+)/))&&(iv=+rv[1]);var Zv=iv,Kv=Zm,Yv=!!Object.getOwnPropertySymbols&&!Kv((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Zv&&Zv<41})),Qv=Yv&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Jv=jv,Xv=Pv,$v=Vv,eg=Object,tg=Qv?function(e){return"symbol"==typeof e}:function(e){var t=Jv("Symbol");return Xv(t)&&$v(t.prototype,eg(e))},ng=String,rg=Pv,ig=TypeError,og=function(e){if(rg(e))return e;throw ig(function(e){try{return ng(e)}catch(e){return"Object"}}(e)+" is not a function")},ag=og,sg=Av,cg=Xm,lg=Pv,ug=Mv,dg=TypeError,hg={exports:{}},pg=qm,fg=Object.defineProperty,mg=function(e,t){try{fg(pg,e,{value:t,configurable:!0,writable:!0})}catch(n){pg[e]=t}return t},vg=mg,gg="__core-js_shared__",yg=qm[gg]||vg(gg,{}),bg=yg;(hg.exports=function(e,t){return bg[e]||(bg[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Eg=Cv,_g=Object,Sg=function(e){return _g(Eg(e))},Ag=Sg,wg=gv({}.hasOwnProperty),Tg=Object.hasOwn||function(e,t){return wg(Ag(e),t)},Cg=gv,Rg=0,Ig=Math.random(),Og=Cg(1..toString),kg=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Og(++Rg+Ig,36)},Ng=qm,xg=hg.exports,Pg=Tg,Dg=kg,Lg=Yv,Mg=Qv,Fg=xg("wks"),Ug=Ng.Symbol,jg=Ug&&Ug.for,Vg=Mg?Ug:Ug&&Ug.withoutSetter||Dg,Bg=function(e){if(!Pg(Fg,e)||!Lg&&"string"!=typeof Fg[e]){var t="Symbol."+e;Lg&&Pg(Ug,e)?Fg[e]=Ug[e]:Fg[e]=Mg&&jg?jg(t):Vg(t)}return Fg[e]},zg=Xm,Gg=Mv,Hg=tg,qg=TypeError,Wg=Bg("toPrimitive"),Zg=function(e,t){if(!Gg(e)||Hg(e))return e;var n,r=function(e,t){var n=e[t];return sg(n)?void 0:ag(n)}(e,Wg);if(r){if(void 0===t&&(t="default"),n=zg(r,e,t),!Gg(n)||Hg(n))return n;throw qg("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&lg(n=e.toString)&&!ug(r=cg(n,e)))return r;if(lg(n=e.valueOf)&&!ug(r=cg(n,e)))return r;if("string"!==t&&lg(n=e.toString)&&!ug(r=cg(n,e)))return r;throw dg("Can't convert object to primitive value")}(e,t)},Kg=tg,Yg=function(e){var t=Zg(e,"string");return Kg(t)?t:t+""},Qg=Mv,Jg=qm.document,Xg=Qg(Jg)&&Qg(Jg.createElement),$g=function(e){return Xg?Jg.createElement(e):{}},ey=$g,ty=!Km&&!Zm((function(){return 7!=Object.defineProperty(ey("div"),"a",{get:function(){return 7}}).a})),ny=Km,ry=Xm,iy=$m,oy=ov,ay=Ov,sy=Yg,cy=Tg,ly=ty,uy=Object.getOwnPropertyDescriptor;Wm.f=ny?uy:function(e,t){if(e=ay(e),t=sy(t),ly)try{return uy(e,t)}catch(e){}if(cy(e,t))return oy(!ry(iy.f,e,t),e[t])};var dy={},hy=Km&&Zm((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),py=Mv,fy=String,my=TypeError,vy=function(e){if(py(e))return e;throw my(fy(e)+" is not an object")},gy=Km,yy=ty,by=hy,Ey=vy,_y=Yg,Sy=TypeError,Ay=Object.defineProperty,wy=Object.getOwnPropertyDescriptor,Ty="enumerable",Cy="configurable",Ry="writable";dy.f=gy?by?function(e,t,n){if(Ey(e),t=_y(t),Ey(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Ry in n&&!n[Ry]){var r=wy(e,t);r&&r[Ry]&&(e[t]=n.value,n={configurable:Cy in n?n[Cy]:r[Cy],enumerable:Ty in n?n[Ty]:r[Ty],writable:!1})}return Ay(e,t,n)}:Ay:function(e,t,n){if(Ey(e),t=_y(t),Ey(n),yy)try{return Ay(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Sy("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Iy=dy,Oy=ov,ky=Km?function(e,t,n){return Iy.f(e,t,Oy(1,n))}:function(e,t,n){return e[t]=n,e},Ny={exports:{}},xy=Km,Py=Tg,Dy=Function.prototype,Ly=xy&&Object.getOwnPropertyDescriptor,My=Py(Dy,"name"),Fy={EXISTS:My,PROPER:My&&"something"===function(){}.name,CONFIGURABLE:My&&(!xy||xy&&Ly(Dy,"name").configurable)},Uy=Pv,jy=yg,Vy=gv(Function.toString);Uy(jy.inspectSource)||(jy.inspectSource=function(e){return Vy(e)});var By,zy,Gy,Hy=jy.inspectSource,qy=Pv,Wy=qm.WeakMap,Zy=qy(Wy)&&/native code/.test(String(Wy)),Ky=hg.exports,Yy=kg,Qy=Ky("keys"),Jy=function(e){return Qy[e]||(Qy[e]=Yy(e))},Xy={},$y=Zy,eb=qm,tb=Mv,nb=ky,rb=Tg,ib=yg,ob=Jy,ab=Xy,sb="Object already initialized",cb=eb.TypeError,lb=eb.WeakMap;if($y||ib.state){var ub=ib.state||(ib.state=new lb);ub.get=ub.get,ub.has=ub.has,ub.set=ub.set,By=function(e,t){if(ub.has(e))throw cb(sb);return t.facade=e,ub.set(e,t),t},zy=function(e){return ub.get(e)||{}},Gy=function(e){return ub.has(e)}}else{var db=ob("state");ab[db]=!0,By=function(e,t){if(rb(e,db))throw cb(sb);return t.facade=e,nb(e,db,t),t},zy=function(e){return rb(e,db)?e[db]:{}},Gy=function(e){return rb(e,db)}}var hb={set:By,get:zy,has:Gy,enforce:function(e){return Gy(e)?zy(e):By(e,{})},getterFor:function(e){return function(t){var n;if(!tb(t)||(n=zy(t)).type!==e)throw cb("Incompatible receiver, "+e+" required");return n}}},pb=Zm,fb=Pv,mb=Tg,vb=Km,gb=Fy.CONFIGURABLE,yb=Hy,bb=hb.enforce,Eb=hb.get,_b=Object.defineProperty,Sb=vb&&!pb((function(){return 8!==_b((function(){}),"length",{value:8}).length})),Ab=String(String).split("String"),wb=Ny.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!mb(e,"name")||gb&&e.name!==t)&&(vb?_b(e,"name",{value:t,configurable:!0}):e.name=t),Sb&&n&&mb(n,"arity")&&e.length!==n.arity&&_b(e,"length",{value:n.arity});try{n&&mb(n,"constructor")&&n.constructor?vb&&_b(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=bb(e);return mb(r,"source")||(r.source=Ab.join("string"==typeof t?t:"")),e};Function.prototype.toString=wb((function(){return fb(this)&&Eb(this).source||yb(this)}),"toString");var Tb=Pv,Cb=dy,Rb=Ny.exports,Ib=mg,Ob={},kb=Math.ceil,Nb=Math.floor,xb=Math.trunc||function(e){var t=+e;return(t>0?Nb:kb)(t)},Pb=xb,Db=function(e){var t=+e;return t!=t||0===t?0:Pb(t)},Lb=Db,Mb=Math.max,Fb=Math.min,Ub=Db,jb=Math.min,Vb=function(e){return(t=e.length)>0?jb(Ub(t),9007199254740991):0;var t},Bb=Ov,zb=Vb,Gb=function(e){return function(t,n,r){var i,o=Bb(t),a=zb(o),s=function(e,t){var n=Lb(e);return n<0?Mb(n+t,0):Fb(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Hb={includes:Gb(!0),indexOf:Gb(!1)},qb=Tg,Wb=Ov,Zb=Hb.indexOf,Kb=Xy,Yb=gv([].push),Qb=function(e,t){var n,r=Wb(e),i=0,o=[];for(n in r)!qb(Kb,n)&&qb(r,n)&&Yb(o,n);for(;t.length>i;)qb(r,n=t[i++])&&(~Zb(o,n)||Yb(o,n));return o},Jb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Xb=Qb,$b=Jb.concat("length","prototype");Ob.f=Object.getOwnPropertyNames||function(e){return Xb(e,$b)};var eE={};eE.f=Object.getOwnPropertySymbols;var tE=jv,nE=Ob,rE=eE,iE=vy,oE=gv([].concat),aE=tE("Reflect","ownKeys")||function(e){var t=nE.f(iE(e)),n=rE.f;return n?oE(t,n(e)):t},sE=Tg,cE=aE,lE=Wm,uE=dy,dE=Zm,hE=Pv,pE=/#|\.prototype\./,fE=function(e,t){var n=vE[mE(e)];return n==yE||n!=gE&&(hE(t)?dE(t):!!t)},mE=fE.normalize=function(e){return String(e).replace(pE,".").toLowerCase()},vE=fE.data={},gE=fE.NATIVE="N",yE=fE.POLYFILL="P",bE=fE,EE=qm,_E=Wm.f,SE=ky,AE=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(Tb(n)&&Rb(n,o,r),r.global)i?e[t]=n:Ib(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=n:Cb.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},wE=mg,TE=function(e,t,n){for(var r=cE(t),i=uE.f,o=lE.f,a=0;a<r.length;a++){var s=r[a];sE(e,s)||n&&sE(n,s)||i(e,s,o(t,s))}},CE=bE,RE=og,IE=Ym,OE=gv(gv.bind),kE=fv,NE=Array.isArray||function(e){return"Array"==kE(e)},xE={};xE[Bg("toStringTag")]="z";var PE="[object z]"===String(xE),DE=Pv,LE=fv,ME=Bg("toStringTag"),FE=Object,UE="Arguments"==LE(function(){return arguments}()),jE=PE?LE:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=FE(e),ME))?n:UE?LE(t):"Object"==(r=LE(t))&&DE(t.callee)?"Arguments":r},VE=gv,BE=Zm,zE=Pv,GE=jE,HE=Hy,qE=function(){},WE=[],ZE=jv("Reflect","construct"),KE=/^\s*(?:class|function)\b/,YE=VE(KE.exec),QE=!KE.exec(qE),JE=function(e){if(!zE(e))return!1;try{return ZE(qE,WE,e),!0}catch(e){return!1}},XE=function(e){if(!zE(e))return!1;switch(GE(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return QE||!!YE(KE,HE(e))}catch(e){return!0}};XE.sham=!0;var $E=!ZE||BE((function(){var e;return JE(JE.call)||!JE(Object)||!JE((function(){e=!0}))||e}))?XE:JE,e_=NE,t_=$E,n_=Mv,r_=Bg("species"),i_=Array,o_=Sv,a_=Sg,s_=Vb,c_=function(e,t){return new(function(e){var t;return e_(e)&&(t=e.constructor,(t_(t)&&(t===i_||e_(t.prototype))||n_(t)&&null===(t=t[r_]))&&(t=void 0)),void 0===t?i_:t}(e))(0===t?0:t)},l_=gv([].push),u_=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,l,u,d){for(var h,p,f=a_(c),m=o_(f),v=function(e,t){return RE(e),void 0===t?e:IE?OE(e,t):function(){return e.apply(t,arguments)}}(l,u),g=s_(m),y=0,b=d||c_,E=t?b(c,g):n||a?b(c,0):void 0;g>y;y++)if((s||y in m)&&(p=v(h=m[y],y,f),e))if(t)E[y]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:l_(E,h)}else switch(e){case 4:return!1;case 7:l_(E,h)}return o?-1:r||i?i:E}},d_={forEach:u_(0),map:u_(1),filter:u_(2),some:u_(3),every:u_(4),find:u_(5),findIndex:u_(6),filterReject:u_(7)},h_={},p_=Qb,f_=Jb,m_=Object.keys||function(e){return p_(e,f_)},v_=Km,g_=hy,y_=dy,b_=vy,E_=Ov,__=m_;h_.f=v_&&!g_?Object.defineProperties:function(e,t){b_(e);for(var n,r=E_(t),i=__(t),o=i.length,a=0;o>a;)y_.f(e,n=i[a++],r[n]);return e};var S_,A_=jv("document","documentElement"),w_=vy,T_=h_,C_=Jb,R_=Xy,I_=A_,O_=$g,k_="prototype",N_="script",x_=Jy("IE_PROTO"),P_=function(){},D_=function(e){return"<"+N_+">"+e+"</"+N_+">"},L_=function(e){e.write(D_("")),e.close();var t=e.parentWindow.Object;return e=null,t},M_=function(){try{S_=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;M_="undefined"!=typeof document?document.domain&&S_?L_(S_):(t=O_("iframe"),n="java"+N_+":",t.style.display="none",I_.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(D_("document.F=Object")),e.close(),e.F):L_(S_);for(var r=C_.length;r--;)delete M_[k_][C_[r]];return M_()};R_[x_]=!0;var F_=Object.create||function(e,t){var n;return null!==e?(P_[k_]=w_(e),n=new P_,P_[k_]=null,n[x_]=e):n=M_(),void 0===t?n:T_.f(n,t)},U_=Bg,j_=F_,V_=dy.f,B_=U_("unscopables"),z_=Array.prototype;null==z_[B_]&&V_(z_,B_,{configurable:!0,value:j_(null)});var G_,H_=d_.find,q_="find",W_=!0;q_ in[]&&Array(1)[q_]((function(){W_=!1})),function(e,t){var n,r,i,o,a,s=e.target,c=e.global,l=e.stat;if(n=c?EE:l?EE[s]||wE(s,{}):(EE[s]||{}).prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=_E(n,r))&&a.value:n[r],!CE(c?r:s+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;TE(o,i)}(e.sham||i&&i.sham)&&SE(o,"sham",!0),AE(n,r,o,e)}}({target:"Array",proto:!0,forced:W_},{find:function(e){return H_(this,e,arguments.length>1?arguments[1]:void 0)}}),G_=q_,z_[B_][G_]=!0;var Z_="__react_tooltip_hide_event",K_="__react_tooltip_rebuild_event",Y_="__react_tooltip_show_event",Q_=function(e,t){var n;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("Event")).initEvent(e,!1,!0,t),window.dispatchEvent(n)},J_=function(e,t){var n=this.state.show,r=this.props.id,i=this.isCapture(t.currentTarget),o=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),n&&"true"===o?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),X_(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},X_=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},$_={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:Fm({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}},eS=function(e,t,n){for(var r,i,o=t.respectEffect,a=void 0!==o&&o,s=t.customEvent,c=void 0!==s&&s,l=this.props.id,u=null,d=n.target;null===u&&null!==d;)i=d,u=d.getAttribute("data-tip")||null,r=d.getAttribute("data-for")||null,d=d.parentElement;if(d=i||n.target,!this.isCustomEvent(d)||c){var h=null==l&&null==r||r===l;if(null!=u&&(!a||"float"===this.getEffect(d))&&h){var p=function(e){var t={};for(var n in e)"function"==typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);p.currentTarget=d,e(p)}}},tS=function(e,t){var n={};return e.forEach((function(e){var r=e.getAttribute(t);r&&r.split(" ").forEach((function(e){return n[e]=!0}))})),n},nS=function(){return document.getElementsByTagName("body")[0]};function rS(e,t,n,r,i,o,a){var s,c=iS(n),l=c.width,u=c.height,d=iS(t),h=d.width,p=d.height,f=oS(e,t,o),m=f.mouseX,v=f.mouseY,g=aS(o,h,p,l,u),y=sS(a),b=y.extraOffsetX,E=y.extraOffsetY,_=window.innerWidth,S=window.innerHeight,A=cS(n),w=A.parentTop,T=A.parentLeft,C=function(e){var t=g[e].l;return m+t+b},R=function(e){var t=g[e].t;return v+t+E},I=function(e){return function(e){return C(e)<0}(e)||function(e){return function(e){var t=g[e].r;return m+t+b}(e)>_}(e)||function(e){return R(e)<0}(e)||function(e){return function(e){var t=g[e].b;return v+t+E}(e)>S}(e)},O=function(e){return!I(e)},k={top:O("top"),bottom:O("bottom"),left:O("left"),right:O("right")},N=function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return zm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zm(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(i.split(",").concat(r,["top","bottom","left","right"]));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(k[n])return n}}catch(e){t.e(e)}finally{t.f()}return r}(),x=!1;return N&&N!==r&&(x=!0,s=N),x?{isNewState:!0,newState:{place:s}}:{isNewState:!1,position:{left:parseInt(C(r)-T,10),top:parseInt(R(r)-w,10)}}}var iS=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},oS=function(e,t,n){var r=t.getBoundingClientRect(),i=r.top,o=r.left,a=iS(t),s=a.width,c=a.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:o+s/2,mouseY:i+c/2}},aS=function(e,t,n,r,i){var o,a,s,c;return"float"===e?(o={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},c={l:-(r+3+2),r:-3,t:-i/2,b:i/2},a={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===e&&(o={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},c={l:-(r+t/2+2),r:-t/2,t:-i/2,b:i/2},a={l:t/2,r:r+t/2+2,t:-i/2,b:i/2}),{top:o,bottom:s,left:c,right:a}},sS=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffsetX:t,extraOffsetY:n}},cS=function(e){for(var t=e;t;){var n=window.getComputedStyle(t);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;t=t.parentElement}return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function lS(e,t,n,r){if(t)return t;if(null!=n)return n;if(null===n)return null;var i=/<br\s*\/?>/;return r&&"false"!==r&&i.test(e)?e.split(i).map((function(e,t){return bn.createElement("span",{key:t,className:"multi-line"},e)})):e}function uS(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function dS(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}var hS,pS,fS={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}},mS={tooltip:3,arrow:0};var vS,gS=function(e){e.hide=function(e){Q_(Z_,{target:e})},e.rebuild=function(){Q_(K_)},e.show=function(e){Q_(Y_,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.showTooltip({currentTarget:t&&e.detail.target},!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(hS=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(Z_,this.globalHide),window.addEventListener(Z_,this.globalHide,!1),window.removeEventListener(K_,this.globalRebuild),window.addEventListener(K_,this.globalRebuild,!1),window.removeEventListener(Y_,this.globalShow),window.addEventListener(Y_,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(Z_,this.globalHide),window.removeEventListener(K_,this.globalRebuild),window.removeEventListener(Y_,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(hS=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=e.getAttribute("data-event")||r,a=e.getAttribute("data-event-off")||i;o.split(" ").forEach((function(n){e.removeEventListener(n,$_.get(e,n));var r=J_.bind(t,a);$_.set(e,n,r),e.addEventListener(n,r,!1)})),a&&a.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),o=r||e.getAttribute("data-event-off");e.removeEventListener(i,$_.get(e,n)),o&&e.removeEventListener(o,this.hideTooltip)}}(hS=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(hS=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(hS=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=nS(),c=tS(e,"data-event"),l=tS(e,"data-event-off");null!=r&&(c[r]=!0),null!=i&&(l[i]=!0),o.split(" ").forEach((function(e){return c[e]=!0})),a.split(" ").forEach((function(e){return l[e]=!0})),this.unbindBodyListener(s);var u=this.bodyModeListeners={};for(var d in null==r&&(u.mouseover=eS.bind(this,this.showTooltip,{}),u.mousemove=eS.bind(this,this.updateTooltip,{respectEffect:!0}),u.mouseout=eS.bind(this,this.hideTooltip,{})),c)u[d]=eS.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||i;J_.call(t,n,e)}),{customEvent:!0});for(var h in l)u[h]=eS.bind(this,this.hideTooltip,{customEvent:!0});for(var p in u)s.addEventListener(p,u[p])},e.prototype.unbindBodyListener=function(e){e=e||nS();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((pS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vm(e,t)}(o,e);var t,n,r,i=Bm(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={uuid:e.uuid||"t"+Pm(),place:e.place||"top",desiredPlace:e.place||"top",type:e.type||"dark",effect:e.effect||"float",show:!1,border:!1,borderClass:"border",customColors:{},customRadius:{},offset:{},padding:e.padding,extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:uS(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},t.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),t.mount=!0,t.delayShowLoop=null,t.delayHideLoop=null,t.delayReshow=null,t.intervalUpdateContent=null,t}return t=o,n=[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props;e.insecure;var t=e.resizeHide,n=e.disableInternalStyle;this.mount=!0,this.bindListener(),this.bindWindowEvents(t),n||this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var e=this.tooltipRef;if(e){for(var t,n=e.parentNode;n.parentNode;)n=n.parentNode;switch(n.constructor.name){case"Document":case"HTMLDocument":case void 0:t=n.head;break;default:t=n}if(!t.querySelector("style[data-react-tooltip]")){var r=document.createElement("style");r.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  bottom: 0;\n  left: 50%;\n  margin-left: -11px;\n}\n.__react_component_tooltip.place-bottom::before {\n  top: 0;\n  left: 50%;\n  margin-left: -11px;\n}\n.__react_component_tooltip.place-left::before {\n  right: 0;\n  top: 50%;\n  margin-top: -9px;\n}\n.__react_component_tooltip.place-right::before {\n  left: 0;\n  top: 50%;\n  margin-top: -9px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',r.setAttribute("data-react-tooltip","true"),t.appendChild(r)}}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var r=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(r,'"]')}else t="[data-tip]:not([data-for])";return dS(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(dS(e.shadowRoot.querySelectorAll(t)))})),n.concat(dS(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,i=t.isCapture,o=this.getTargetArray(n);o.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),t.addEventListener("focus",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n),t.addEventListener("blur",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,r=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),lS(this.state.originTooltip,r,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"==typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(this.tooltipRef){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,o=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,c=!0;e.currentTarget.getAttribute("data-scroll-hide")?c="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(c=this.props.scrollHide),e&&e.currentTarget&&e.currentTarget.setAttribute&&e.currentTarget.setAttribute("aria-describedby",this.props.id||this.state.uuid);var l=e.currentTarget.getAttribute("data-place")||this.props.place||"top",u=s?"solid":this.getEffect(e.currentTarget),d=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},h=rS(e,e.currentTarget,this.tooltipRef,l.split(",")[0],l,u,d);h.position&&this.props.overridePosition&&(h.position=this.props.overridePosition(h.position,e,e.currentTarget,this.tooltipRef,l,l,u,d));var p=h.isNewState?h.newState.place:l.split(",")[0];this.clearTimer();var f=e.currentTarget,m=this.state.show?f.getAttribute("data-delay-update")||this.props.delayUpdate:0,v=this,g=function(){v.setState({originTooltip:o,isMultiline:a,desiredPlace:l,place:p,type:f.getAttribute("data-type")||v.props.type||"dark",customColors:{text:f.getAttribute("data-text-color")||v.props.textColor||null,background:f.getAttribute("data-background-color")||v.props.backgroundColor||null,border:f.getAttribute("data-border-color")||v.props.borderColor||null,arrow:f.getAttribute("data-arrow-color")||v.props.arrowColor||null},customRadius:{tooltip:f.getAttribute("data-tooltip-radius")||v.props.tooltipRadius||"3",arrow:f.getAttribute("data-arrow-radius")||v.props.arrowRadius||"0"},effect:u,offset:d,padding:f.getAttribute("data-padding")||v.props.padding,html:(f.getAttribute("data-html")?"true"===f.getAttribute("data-html"):v.props.html)||!1,delayShow:f.getAttribute("data-delay-show")||v.props.delayShow||0,delayHide:f.getAttribute("data-delay-hide")||v.props.delayHide||0,delayUpdate:f.getAttribute("data-delay-update")||v.props.delayUpdate||0,border:(f.getAttribute("data-border")?"true"===f.getAttribute("data-border"):v.props.border)||!1,borderClass:f.getAttribute("data-border-class")||v.props.borderClass||"border",extraClass:f.getAttribute("data-class")||v.props.class||v.props.className||"",disable:(f.getAttribute("data-tip-disable")?"true"===f.getAttribute("data-tip-disable"):v.props.disable)||!1,currentTarget:f},(function(){c&&v.addScrollListener(v.state.currentTarget),v.updateTooltip(e),i&&Array.isArray(i)&&(v.intervalUpdateContent=setInterval((function(){if(v.mount){var e=v.props.getContent,t=lS(o,"",e[0](),a),n=v.isEmptyTip(t);v.setState({isEmptyTip:n}),v.updatePosition()}}),i[1]))}))};m?this.delayReshow=setTimeout(g,m):g()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,i=n.disable,o=this.props,a=o.afterShow,s=o.disable,c=this.getTooltipContent(),l=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!(this.isEmptyTip(c)||i||s)){var u=this.state.show?0:parseInt(r,10),d=function(){if(Array.isArray(c)&&c.length>0||c){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:l,show:!0},(function(){t.updatePosition((function(){n&&a&&a(e)}))}))}};this.delayShowLoop&&clearTimeout(this.delayShowLoop),u?this.delayShowLoop=setTimeout(d,u):(this.delayShowLoop=null,d())}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,o=r.isScroll?0:this.state.delayHide,a=this.props,s=a.afterHide,c=a.disable,l=this.getTooltipContent();if(this.mount&&!(this.isEmptyTip(l)||i||c)){if(t&&(!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget}))||!this.state.show))return;e&&e.currentTarget&&e.currentTarget.removeAttribute&&e.currentTarget.removeAttribute("aria-describedby");var u=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),t&&s&&s(e)})))};this.clearTimer(),o?this.delayHideLoop=setTimeout(u,parseInt(o,10)):u()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(e){var t=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"updatePosition",value:function(e){var t=this,n=this.state,r=n.currentEvent,i=n.currentTarget,o=n.place,a=n.desiredPlace,s=n.effect,c=n.offset,l=this.tooltipRef,u=rS(r,i,l,o,a,s,c);if(u.position&&this.props.overridePosition&&(u.position=this.props.overridePosition(u.position,r,i,l,o,a,s,c)),u.isNewState)return this.setState(u.newState,(function(){t.updatePosition(e)}));e&&"function"==typeof e&&e(),l.style.left=u.position.left+"px",l.style.top=u.position.top+"px"}},{key:"clearTimer",value:function(){this.delayShowLoop&&(clearTimeout(this.delayShowLoop),this.delayShowLoop=null),this.delayHideLoop&&(clearTimeout(this.delayHideLoop),this.delayHideLoop=null),this.delayReshow&&(clearTimeout(this.delayReshow),this.delayReshow=null),this.intervalUpdateContent&&(clearInterval(this.intervalUpdateContent),this.intervalUpdateContent=null)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find((function(t){return"border"!==t&&e.state.customColors[t]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var e=this,t=this.state,n=t.extraClass,r=t.html,i=t.ariaProps,a=t.disable,s=t.uuid,c=this.getTooltipContent(),l=this.isEmptyTip(c),u=this.props.disableInternalStyle?"":function(e,t,n,r,i,o){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"8px 21px",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mS,i=t.text,o=t.background,a=t.border,s=t.arrow,c=r.arrow,l=r.tooltip;return"\n  \t.".concat(e," {\n\t    color: ").concat(i,";\n\t    background: ").concat(o,";\n\t    border: 1px solid ").concat(a,";\n\t    border-radius: ").concat(l,"px;\n\t    padding: ").concat(n,";\n  \t}\n\n  \t.").concat(e,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(e,'.place-top::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: 2;\n        width: 20px;\n        height: 12px;\n    }\n    .').concat(e,'.place-top::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(c,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -6px;\n        transform: rotate(135deg);\n    }\n\n    .").concat(e,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(e,'.place-bottom::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: -1;\n        width: 18px;\n        height: 10px;\n    }\n    .').concat(e,'.place-bottom::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(c,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        top: -6px;\n        left: 50%;\n        margin-left: -6px;\n        transform: rotate(45deg);\n    }\n\n    .").concat(e,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(e,'.place-left::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: -1;\n        width: 10px;\n        height: 18px;\n    }\n    .').concat(e,'.place-left::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(c,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        right: -6px;\n        top: 50%;\n        margin-top: -6px;\n        transform: rotate(45deg);\n    }\n\n    .").concat(e,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(e,'.place-right::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: -1;\n        width: 10px;\n        height: 18px;\n    }\n    .').concat(e,'.place-right::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(c,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        left: -6px;\n        top: 50%;\n        margin-top: -6px;\n        transform: rotate(-135deg);\n    }\n  ")}(e,function(e,t,n){var r=e.text,i=e.background,o=e.border,a=e.arrow?e.arrow:e.background,s=function(e){return fS[e]?Lm({},fS[e]):void 0}(t);return r&&(s.text=r),i&&(s.background=i),n&&(s.border=o||("light"===t?"black":"white")),a&&(s.arrow=a),s}(t,n,r),i,o)}(this.state.uuid,this.state.customColors,this.state.type,this.state.border,this.state.padding,this.state.customRadius),d="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||a||l?"":" show")+(this.state.border?" "+this.state.borderClass:"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),h=this.props.wrapper;o.supportedWrappers.indexOf(h)<0&&(h=o.defaultProps.wrapper);var p=[d,n].filter(Boolean).join(" ");if(r){var f="".concat(c).concat(u?'\n<style aria-hidden="true">'.concat(u,"</style>"):"");return bn.createElement(h,Um({className:"".concat(p),id:this.props.id||s,ref:function(t){return e.tooltipRef=t}},i,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:f}}))}return bn.createElement(h,Um({className:"".concat(p),id:this.props.id||s},i,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),u&&bn.createElement("style",{dangerouslySetInnerHTML:{__html:u},"aria-hidden":"true"}),c)}}],r=[{key:"propTypes",get:function(){return{uuid:Mn().string,children:Mn().any,place:Mn().string,type:Mn().string,effect:Mn().string,offset:Mn().object,padding:Mn().string,multiline:Mn().bool,border:Mn().bool,borderClass:Mn().string,textColor:Mn().string,backgroundColor:Mn().string,borderColor:Mn().string,arrowColor:Mn().string,arrowRadius:Mn().string,tooltipRadius:Mn().string,insecure:Mn().bool,class:Mn().string,className:Mn().string,id:Mn().string,html:Mn().bool,delayHide:Mn().number,delayUpdate:Mn().number,delayShow:Mn().number,event:Mn().string,eventOff:Mn().string,isCapture:Mn().bool,globalEventOff:Mn().string,getContent:Mn().any,afterShow:Mn().func,afterHide:Mn().func,overridePosition:Mn().func,disable:Mn().bool,scrollHide:Mn().bool,resizeHide:Mn().bool,wrapper:Mn().string,bodyMode:Mn().bool,possibleCustomEvents:Mn().string,possibleCustomEventsOff:Mn().string,clickable:Mn().bool,disableInternalStyle:Mn().bool}}},{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=uS(e);return Object.keys(r).some((function(e){return r[e]!==n[e]}))?Lm(Lm({},t),{},{ariaProps:r}):null}}],n&&Mm(t.prototype,n),r&&Mm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(bn.Component),Fm(pS,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),Fm(pS,"supportedWrappers",["div","span"]),Fm(pS,"displayName","ReactTooltip"),(vS=hS=pS).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},hS=void(vS.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||hS))||hS)||hS)||hS)||hS)||hS)||hS;const yS=e=>{const[t,n]=(0,bn.useState)(!1),{isClickable:r=!1,placement:i="top"}=e,o=((e=5,t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")=>{for(var n="",r=e;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n})();return bn.createElement(bn.Fragment,null,bn.createElement("div",{style:{cursor:r?"pointer":"auto"},"data-tip":!0,"data-event":r?"click focus":"mouseenter","data-event-off":r?"":"mouseleave","data-for":o,onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1)}},bn.createElement(Sn.Z,{style:t?null==e?void 0:e.activeBgStyle:null==e?void 0:e.defaultBgStyle},e.renderContent(t,n))),bn.createElement(gS,{afterShow:()=>{r&&(null==e?void 0:e.onPress)&&e.onPress()},globalEventOff:"click",id:o,backgroundColor:"#2D2D2D",className:"custom-tool-tip",place:"top",type:"dark",effect:"solid"},bn.createElement("style",{type:"text/css"},'\n  .custom-tool-tip{\n    padding:12px;\n    border-radius: 8px;\n  }\n  .custom-tool-tip div{\n    font-family: "Source Sans Pro";\n    font-weight: 400;\n    font-size: 16px;\n  }\n  .__react_component_tooltip.show{\n    opacity:1;\n  }\n  .custom-tool-tip::after {\n    width: 20px !important;\n    height: 20px !important;\n    border-top-right-radius: 5px !important;\n    bottom: -10px !important;\n    margin-left: -10px !important;\n  }'),bn.createElement(Sn.Z,{style:{flex:1,flexDirection:"row"}},null!=e&&e.toolTipIcon?e.toolTipIcon:null,bn.createElement(lu.Z,{style:{color:"#FFFFFF"}},e.toolTipMessage))))};function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bS.apply(this,arguments)}const ES=e=>{var t,n;return bn.createElement(_S,e,bn.createElement(pm,bS({},e.iconProps,{isHovered:null==e?void 0:e.isToolTipVisible})),null!=e&&null!==(t=e.btnTextProps)&&void 0!==t&&t.text?bn.createElement(lu.Z,{numberOfLines:1,ellipsizeMode:"tail",style:[wS.btnTextStyle,null!=e&&null!==(n=e.btnTextProps)&&void 0!==n&&n.textColor?{color:e.btnTextProps.textColor}:{},null==e?void 0:e.btnTextProps.textStyle]},e.btnTextProps.text):bn.createElement(bn.Fragment,null))},_S=({children:e,...t})=>Zr()?bn.createElement(cu.Z,{ref:e=>(null==t?void 0:t.setRef)&&t.setRef(e),style:!t.isOnActionSheet&&[wS.containerStyle,null==t?void 0:t.containerStyle,null!=t&&t.hoverEffect&&null!=t&&t.isToolTipVisible?null==t?void 0:t.hoverEffectStyle:{}],onPress:t.onPress,disabled:t.disabled},e):bn.createElement(Rm.Z,{ref:e=>(null==t?void 0:t.setRef)&&t.setRef(e),style:!t.isOnActionSheet&&[wS.containerStyle,null==t?void 0:t.containerStyle,null!=t&&t.hoverEffect&&null!=t&&t.isToolTipVisible?null==t?void 0:t.hoverEffectStyle:{}],onPress:t.onPress,disabled:t.disabled},e),SS=({children:e,...t})=>qr()?bn.createElement("div",{onMouseEnter:()=>{null==t||t.setIsHovered(!0)},onMouseLeave:()=>{null==t||t.setIsHovered(!1)}},e):e,AS=e=>{const[t,n]=bn.useState(!1),{placement:r="top",isClickable:i=!1}=e;return null!=e&&e.toolTipMessage?bn.createElement(yS,{isClickable:i,toolTipMessage:e.toolTipMessage,placement:r,renderContent:(t,n)=>bn.createElement(ES,bS({},e,{isToolTipVisible:t,setToolTipVisible:n}))}):bn.createElement(SS,{isHovered:t,setIsHovered:n},bn.createElement(ES,bS({},e,{isToolTipVisible:t,setToolTipVisible:n})))},wS=du.Z.create({containerStyle:{flex:1,flexDirection:"column",alignItems:"center"},btnTextStyle:{fontFamily:sm.sansPro,fontSize:am.tiny,fontWeight:"400",textAlign:"center",marginTop:4}}),TS=(0,bn.createContext)({isScreenshareActive:!1,startUserScreenshare:()=>{},stopUserScreenShare:()=>{},ScreenshareStoppedCallback:()=>{}}),CS=Zu(TS),RS=du.Z.create({iconContainer:{marginVertical:12,marginLeft:16,marginRight:12,backgroundColor:"#FFFFFF",alignSelf:"center",width:20,height:20},btnContainer:{alignSelf:"center",backgroundColor:"#FF414D",borderRadius:8,height:40,maxWidth:129,flexDirection:"row"},btnTextContainer:{marginVertical:12,marginRight:16},btnText:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:12,lineHeight:16,textAlign:"center",color:"#FFFFFF"},screenSharingMessageContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",justifyContent:"center",zIndex:2,backgroundColor:"#000000"+rm["80%"],borderRadius:4},screensharingMessageMin:{alignSelf:"center",textAlign:"center",fontFamily:sm.sansPro,fontWeight:"600",fontSize:20,color:"#FFFFFF"},screensharingMessage:{alignSelf:"center",textAlign:"center",fontFamily:sm.sansPro,fontWeight:"600",fontSize:32,lineHeight:40,color:"#FFFFFF",paddingBottom:24}}),IS=function({uid:e,isMax:t}){const{currentLayout:n}=Cf(),{stopUserScreenShare:r}=CS(),{rtcProps:i}=(0,bn.useContext)(fh);return e===(null==i?void 0:i.screenShareUid)?bn.createElement(Sn.Z,{style:RS.screenSharingMessageContainer},bn.createElement(lu.Z,{style:t||n!==iw()?RS.screensharingMessage:RS.screensharingMessageMin},"You are sharing your screen"),t||n!==iw()?bn.createElement(cu.Z,{style:RS.btnContainer,onPress:()=>r()},bn.createElement(Sn.Z,{style:RS.iconContainer},bn.createElement(pm,{iconType:"plain",iconSize:20,name:"close",tintColor:"#FF414D"})),bn.createElement(Sn.Z,{style:RS.btnTextContainer},bn.createElement(lu.Z,{style:RS.btnText},"Stop Sharing"))):bn.createElement(bn.Fragment,null)):null},OS=du.Z.create({container:{flex:1,backgroundColor:"#222222",justifyContent:"center"},avatarBg:{width:100,height:100,borderRadius:50},avatarBgSmall:{width:60,height:60},avatarBgMobileUA:{width:45,height:45},textStyle:{fontSize:32,lineHeight:32,fontWeight:"600",color:"#1D1D1D"}}),kS={0:{icon:"connection-unsupported",tint:"#808080",text:"unknown"},1:{icon:"connection-good",tint:"#36B37E",text:"excellent"},2:{icon:"connection-good",tint:"#36B37E",text:"good"},3:{icon:"connection-bad",tint:"#FFAB00",text:"bad"},4:{icon:"connection-bad",tint:"#FFAB00",text:"bad"},5:{icon:"connection-very-bad",tint:"#FF414D",text:"veryBad"},6:{icon:"connection-very-bad",tint:"#FF414D",text:"veryBad"},7:{icon:"connection-unpublished",tint:"#808080",text:"unpublished"},8:{icon:"connection-loading",tint:"#808080",text:"loading"}},NS={},xS=(0,bn.createContext)(NS),PS=xS,DS=(xS.Consumer,e=>{const t=Uh(),[n,r]=(0,bn.useState)({[t]:0}),{RtcEngine:i}=tm();return Vr((()=>{i.addListener("NetworkQuality",(function(e,n,i){r((r=>{const o={...r};if(0===e){const e=n*i!=0?n<i?i:n:0;o[t]=e}else o[e]=n;return o}))}))})),bn.createElement(xS.Provider,{value:n},e.children)}),LS=({networkTextVisible:e,setNetworkTextVisible:t,children:n,reduceSpace:r,activeUids:i})=>qr()?bn.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"row",alignItems:"center",padding:r&&i.length>12?2:8},onClick:e=>{e.preventDefault(),t((e=>!e))},onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)}},n):bn.createElement(Rm.Z,{style:{height:"100%",display:"flex",flexDirection:"row",alignItems:"center",padding:r&&i.length>12?2:8},onPress:()=>{t((e=>!e))}},n),MS=du.Z.create({networkPill:{position:"absolute",zIndex:2,borderRadius:50},rootStyle:{top:8,right:8},networkPillContent:{display:"flex",flexDirection:"row",alignItems:"center"},networkPillText:{color:"#FFFFFF",fontSize:am.small,fontFamily:sm.sansPro,fontWeight:"600",marginLeft:8}}),FS=e=>{const{user:t}=e,[n,r]=(0,bn.useState)(!1),i=(0,bn.useContext)(PS),o=i[t.uid]?i[t.uid]:t.audio||t.video?8:7,{activeUids:a}=nm(),{currentLayout:s}=Cf(),c=Zr()&&a.length>4&&s===ow();return bn.createElement(Sn.Z,{testID:"videocall-networkpill",style:[MS.networkPill,MS.rootStyle,{backgroundColor:n?kS[o].tint+rm["50%"]:"#808080"+rm["10%"]},c?{top:2,right:2}:{}]},bn.createElement(LS,{networkTextVisible:n,setNetworkTextVisible:r,reduceSpace:c,activeUids:a},bn.createElement(Sn.Z,null,bn.createElement(pm,{iconType:"plain",tintColor:n?"#FFFFFF":kS[o].tint+rm["30%"],name:kS[o].icon,iconSize:16})),n&&bn.createElement(lu.Z,{textBreakStrategy:"simple",style:MS.networkPillText},(e=>{switch(e){case"unknown":return"Network Unsupported";case"excellent":return"Excellent Network";case"good":return"Good Network";case"bad":return"Bad Network";case"veryBad":return"Very Bad Network";case"unpublished":return"Network Unpublished";case"loading":return"Network Loading";default:return"Loading"}})(kS[o].text))))},US=({children:e})=>Wr()?bn.createElement("div",{style:{userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",alignSelf:"center",overflow:"hidden",textOverflow:"ellipsis",color:"#FFFFFF"}},e):bn.createElement(bn.Fragment,null,e),jS=du.Z.create({container:{backgroundColor:"#000004",position:"absolute",alignItems:"center",padding:8,left:8,bottom:8,borderRadius:4,flexDirection:"row",zIndex:5},name:{color:"#FFFFFF",fontSize:am.small,fontWeight:"600",fontFamily:sm.sansPro,flexShrink:1,marginLeft:4,marginRight:2}}),VS=e=>{const{activeUids:t}=nm(),{currentLayout:n}=Cf(),r=Zr()&&t.length>4&&n===ow(),{user:i}=e,{height:o,width:a}=(0,Br.Z)(),s=ei();return bn.createElement(Sn.Z,{style:[jS.container,{maxWidth:.6*e.videoTileWidth>180?180:.6*e.videoTileWidth},r?{left:2,bottom:2}:{},r&&t.length>12?{padding:2}:{}]},bn.createElement(pm,{iconType:"plain",name:(i.audio,i.audio?"mic-on":"mic-off"),tintColor:i.audio?"#099DFD":"#FF414D",iconSize:20}),(Zr()||!Zr()&&s())&&n===ow()&&t.length>6?bn.createElement(bn.Fragment,null):bn.createElement(US,null,bn.createElement(lu.Z,{numberOfLines:1,textBreakStrategy:"simple",ellipsizeMode:"tail",style:jS.name},i.name||"User")))},BS=__webpack_require__(7196).Z,zS=(e,t,n,r)=>t?r?{host:`${e}/${n.host}`,attendee:`${e}/${n.attendee}`}:{host:`${e}/${n.host}`}:{attendee:`${e}/${n.attendee}`},GS=(e,t,n)=>e?n?{host:`${t.host}`,attendee:`${t.attendee}`}:{host:`${t.host}`}:{attendee:`${t.attendee}`};let HS=function(e){return e[e.ATTENDEE=1]="ATTENDEE",e[e.HOST=2]="HOST",e[e.PSTN=3]="PSTN",e[e.MEETING_INVITE=4]="MEETING_INVITE",e}({});const qS=bn.createContext({copyShareLinkToClipboard:()=>{},getShareLink:()=>""}),WS=e=>{const{data:{meetingTitle:t,roomId:n,pstn:r,isSeparateHostLink:i,isHost:o}}=rf(),a=()=>{let e=s(),a=(({meetingName:e,id:t,url:n,pstn:r,isHost:i,isSeparateHostLink:o})=>{let a="";return a+=n?i?o?`Meeting: ${e}\n\nAttendee Link:\n${null==n?void 0:n.attendee}\n\nHost Link:\n${null==n?void 0:n.host}`:`Meeting: ${e}\n\nMeeting Link:\n${null==n?void 0:n.host}`:`Meeting: ${e}\n\nAttendee Link:\n${null==n?void 0:n.attendee}`:i?o?`Meeting: ${e}\n\nAttendee Meeting ID:\n${null==t?void 0:t.attendee}\n\nHost Meeting ID:\n${null==t?void 0:t.host}`:`Meeting: ${e}\n\nMeeting ID:\n${null==t?void 0:t.host}`:`Meeting: ${e}\n\nAttendee Meeting ID:\n${null==t?void 0:t.attendee}`,null!=r&&r.number&&null!=r&&r.pin&&(a+=`\n\nPSTN Number:\n${r.number}\n\nPSTN Pin:\n${r.pin}`),a})({meetingName:t,url:e?zS(e,o,n,i):void 0,id:e?void 0:GS(o,n,i),pstn:r?{number:r.number,pin:r.pin}:void 0,isHost:o,isSeparateHostLink:i});return a},s=()=>"260afe43c2e20eb1e6e2-mehbublxr.vercel.app",c=()=>{let e="",t=s();return null!=n&&n.attendee&&(e+=t?`${t}/${n.attendee}`:`${n.attendee}`),e},l=()=>{let e="";if(null!=n&&n.host){let t=s();e+=t?`${t}/${n.host}`:`${n.host}`}return e},u=()=>{let e="";return r&&null!=r&&r.number&&r.pin&&(e+=`PSTN Number: ${r.number} PSTN Pin: ${r.pin}`),e};return bn.createElement(qS.Provider,{value:{copyShareLinkToClipboard:(e,t)=>{let n="";switch(e){case HS.MEETING_INVITE:n=a();break;case HS.ATTENDEE:n=c();break;case HS.HOST:n=l();break;case HS.PSTN:n=u()}BS.setString(n),t&&t()},getShareLink:e=>{let t="";switch(e){case HS.MEETING_INVITE:t=a();break;case HS.ATTENDEE:t=c();break;case HS.HOST:t=l();break;case HS.PSTN:t=u()}return t}}},e.children)},ZS=Zu(qS);var KS=__webpack_require__(9176),YS=__webpack_require__(7901);const QS=({size:e,horizontal:t=!1})=>bn.createElement(Sn.Z,{style:{width:t?e:"auto",height:t?"auto":e}});function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JS.apply(this,arguments)}du.Z.create({});const XS=e=>{const{title:t,subtitle:n="",modalVisible:r,setModalVisible:i,children:o,showCloseIcon:a,cancelable:s=!0,...c}=e,l=$r()("popup");return bn.createElement(KS.Z,JS({animationType:"none",transparent:!0,visible:r,onRequestClose:()=>{i(!1)}},c),bn.createElement(Sn.Z,{style:[$S.centeredView,l&&{alignItems:"center"},null==e?void 0:e.containerStyle]},bn.createElement(YS.Z,{onPress:()=>{s&&i(!1)}},bn.createElement(Sn.Z,{style:$S.backDrop})),bn.createElement(Sn.Z,{style:[$S.modalView,null==e?void 0:e.contentContainerStyle]},t||a?bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:$S.header},bn.createElement(lu.Z,{style:$S.title},t),a?bn.createElement(Sn.Z,null,bn.createElement(AS,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},iconProps:{iconType:"plain",iconContainerStyle:{padding:Zr()?0:5},name:"close",tintColor:"#FFFFFF"},onPress:()=>{i(!1)}})):bn.createElement(bn.Fragment,null)),n?bn.createElement(lu.Z,{style:$S.subtitle},n):bn.createElement(bn.Fragment,null),bn.createElement(QS,{size:32})):bn.createElement(bn.Fragment,null),o)))},$S=du.Z.create({centeredView:{flex:1,position:"relative",justifyContent:"center",alignItems:"center",paddingHorizontal:20},modalView:{backgroundColor:"#1D1D1D",borderWidth:1,borderColor:"#2D2D2D",borderRadius:cm.large,padding:32,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:5,maxWidth:650},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"#000000"+rm["60%"]},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"},title:{color:"#FFFFFF",fontFamily:sm.sansPro,fontSize:24,lineHeight:24,fontWeight:"600"},subtitle:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,lineHeight:20,color:"#FFFFFF"+rm["70%"],marginTop:8}});function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eA.apply(this,arguments)}const tA=({children:e,setIsHovered:t})=>qr()?bn.createElement("div",{onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)}},e):e,nA=e=>{const{text:t,...n}=e,[r,i]=(0,bn.useState)();return bn.createElement(tA,{setIsHovered:i},bn.createElement(cu.Z,eA({ref:t=>(null==e?void 0:e.setRef)&&e.setRef(t),style:[rA.container,r?{backgroundColor:"#808080"+rm["15%"]}:{},null==e?void 0:e.containerStyle]},n),bn.createElement(lu.Z,{style:[rA.text,null==e?void 0:e.textStyle]},t)))},rA=du.Z.create({container:{paddingHorizontal:12,paddingVertical:11,borderWidth:1,borderColor:"#FFFFFF",borderRadius:cm.small,justifyContent:"center",alignItems:"center"},text:{color:"#FFFFFF",fontFamily:sm.sansPro,fontSize:am.small,fontWeight:"600"}});function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iA.apply(this,arguments)}const oA=e=>{const{style:t,children:n,...r}=e,i=aA();return bn.createElement(Sn.Z,iA({style:[i.root,Zr()?i.mobile:i.desktop,t]},r),n)},aA=()=>{const e=ti();return du.Z.create({root:{flex:1,backgroundColor:"#1D1D1D",elevation:5,maxWidth:676,width:"100%",overflow:"hidden"},mobile:{paddingHorizontal:16,paddingTop:20,paddingBottom:40,justifyContent:"space-between"},desktop:{justifyContent:"center",alignSelf:"center",borderWidth:1,paddingHorizontal:e(60),paddingVertical:e(60),borderRadius:cm.extraLarge,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:20,margin:e(40)}})},sA=({onPress:e,text:t})=>bn.createElement(cu.Z,{onPress:e},bn.createElement(lu.Z,{style:cA.text}," ",t," ")),cA=du.Z.create({text:{color:"#099DFD",fontWeight:"600",fontFamily:sm.sansPro,fontSize:am.normal,lineHeight:am.normal}});var lA=__webpack_require__(2286);const uA=e=>`https://managedservices-prod.rteappbuilder.com/v1/idp/login?project_id=260afe43c2e20eb1e6e2&redirect_url=${(Wr()?`${window.location.origin}/authorize`:"260afe43c2e20eb1e6e2-mehbublxr.vercel.app/authorize")+e}&origin_url=${Wr()?`${window.location.origin}`:"260afe43c2e20eb1e6e2-mehbublxr.vercel.app"}&platform_id=${oi()}`,dA=async e=>{lA.Z.openURL(uA(e))};function hA(e){this.message=e}hA.prototype=new Error,hA.prototype.name="InvalidCharacterError";var pA="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new hA("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,a="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?a+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function fA(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(pA(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return pA(t)}}function mA(e){this.message=e}mA.prototype=new Error,mA.prototype.name="InvalidTokenError";const vA=function(e,t){if("string"!=typeof e)throw new mA("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(fA(e.split(".")[n]))}catch(e){throw new mA("Invalid token specified: "+e.message)}},gA=()=>{const e=(0,bn.useRef)(null),{setStore:t,store:n}=(0,bn.useContext)(li),[r,i]=bn.useState(0),o=(0,bn.useRef)(null),a=e=>{t&&t((t=>({...t,token:e})))};return(0,bn.useEffect)((()=>{if(r)return o.current=setInterval((()=>{const e=Math.floor(Math.abs(r-Date.now())/1e3);if(e<59)try{(async()=>{null!=n&&n.token?await fetch("https://managedservices-prod.rteappbuilder.com/v1/token/refresh",{method:"POST",headers:{"Content-Type":"application/json",authorization:null!=n&&n.token?`Bearer ${n.token}`:"","X-Platform-ID":oi()}}).then((e=>e.json())).then((e=>{null!=e&&e.token&&a(e.token)})):console.log("debugging no token to refresh")})(),clearInterval(o.current)}catch(e){clearInterval(o.current)}e<0&&clearInterval(o.current)}),1e3),()=>{clearInterval(o.current)}}),[r]),(0,bn.useEffect)((()=>{e.current=n.token,(async()=>{if(null!=n&&n.token){const e=vA(n.token),t=1e3*(null==e?void 0:e.exp);Date.now()>=t?console.log("token expired"):i(t)}else try{o.current&&clearInterval(o.current)}catch(e){console.log("debugging error on clearing interval")}})()}),[null==n?void 0:n.token]),{enableTokenAuth:async e=>new Promise((async(t,r)=>{let i="",o=!1;try{if(e?(i=e,o=!0):i=null==n?void 0:n.token,i)try{(e=>{if(!e||""===e.trim())throw"Token is missing in the options";{const t=vA(e),n=1e3*(null==t?void 0:t.exp);if(Date.now()>=n)throw"Token expired. Pass a new token"}return!0})(i)&&(o&&a(i),setTimeout((()=>{t(!0)})))}catch(e){r("Token expired")}else r("Token not found")}catch(e){r(e)}})),tokenLogout:async(t=!1)=>new Promise(((n,r)=>{try{fetch("https://managedservices-prod.rteappbuilder.com/v1/logout",t?{credentials:"include"}:{headers:{authorization:e.current?`Bearer ${e.current}`:""}}).then((e=>e.text())).then((e=>{n(!0),a(null)})).catch((e=>{r(!1)}))}catch(e){r(!1)}}))}},yA=()=>{const e=hr(),{store:t,setStore:n}=(0,bn.useContext)(li),{tokenLogout:r}=gA();return{enableIDPAuth:dA,idpLogout:n=>new Promise(((n,i)=>{try{fetch("https://managedservices-prod.rteappbuilder.com/v1/idp/logout",{credentials:"include",headers:{authorization:null!=t&&t.token?`Bearer ${null==t?void 0:t.token}`:""}}).then((e=>e.json())).then((t=>{if(t&&null!=t&&t.url){const o=(null==t?void 0:t.url)+`&returnTo=${encodeURIComponent(uA(e.pathname))}`;console.log("debugging non native IDPAuthLogoutURL",o),r(!1).then((()=>{lA.Z.openURL(o),n(!0)})).catch((()=>{i(!1)}))}else i(!1)})).catch((e=>{i(!1)}))}catch(e){i(!1)}}))}};var bA=__webpack_require__(9672);const EA=du.Z.create({overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",justifyContent:"center",zIndex:2,borderRadius:15},loadingText:{alignSelf:"center",fontSize:16,lineHeight:22,fontWeight:"600",fontFamily:sm.sansPro,marginTop:8}}),_A=e=>{const{text:t,background:n="rgba(0,0,0,0.9)",indicatorColor:r="#099DFD",textColor:i="#FFFFFF"}=e;return bn.createElement(Sn.Z,{style:[EA.overlay,{backgroundColor:n}]},bn.createElement(bA.Z,{size:"large",color:r}),bn.createElement(lu.Z,{style:[EA.loadingText,{color:i}]},t))},SA=e=>{const t=$r()("popup");return bn.createElement(XS,{cancelable:!1,modalVisible:e.modalVisible,setModalVisible:e.setModalVisible,showCloseIcon:!1,contentContainerStyle:AA.contentContainer},bn.createElement(lu.Z,{style:AA.heading},"Login Required"),bn.createElement(QS,{size:8}),bn.createElement(lu.Z,{style:AA.subHeading},"Log-in to your organization to contiue"),bn.createElement(QS,{size:32}),bn.createElement(Sn.Z,{style:t?AA.btnContainer:AA.btnContainerMobile},bn.createElement(Sn.Z,{style:t&&{flex:1}},bn.createElement(nA,{containerStyle:{minWidth:"auto",width:t?90:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:cm.medium},textStyle:AA.btnText,text:"CLOSE APP",onPress:e.exitApp})),bn.createElement(QS,{size:t?10:20,horizontal:!!t}),bn.createElement(Sn.Z,{style:t&&{flex:2}},bn.createElement(vm,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:cm.medium,height:48,backgroundColor:"#FF414D",paddingVertical:12,paddingHorizontal:12},textStyle:AA.btnText,text:"LOGIN",onPress:e.login}))))},AA=du.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},contentContainer:{padding:24,maxWidth:342,minWidth:342},heading:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,color:"#FFFFFF"}}),wA=Gd`
  query getUser {
    getUser {
      name
      email
    }
  }
`,TA=(0,bn.createContext)(null),CA=e=>{(0,bn.useRef)(!0);const[t,n]=((0,bn.useRef)(null),(0,bn.useState)(!1)),{setStore:r,store:i}=(0,bn.useContext)(li),[o,a]=(0,bn.useState)(!1),[s,c]=(0,bn.useState)(null),[l,u]=(0,bn.useState)(!0),[d,h]=(0,bn.useState)(""),{enableIDPAuth:p,idpLogout:f}=yA(),{enableTokenAuth:m,tokenLogout:v}=gA(),g=dr(),y=hr(),b=Yd();["dev","staging","preprod","test"].reduce(((e,t,n)=>("https://managedservices-prod.rteappbuilder.com"===t&&e.push(n),e)),[]),(0,bn.useEffect)((()=>{!o&&i.token&&a(!0)}),[null==i?void 0:i.token]),(0,bn.useEffect)((()=>{}),[g]),(0,bn.useEffect)((()=>{}),[]),(0,bn.useEffect)((()=>{!o&&s&&Bu.show({type:"error",text1:s,visibilityTime:3e3})}),[o,s]),(0,bn.useEffect)((()=>{var e,t,n;-1===(null==y||null===(e=y.pathname)||void 0===e?void 0:e.indexOf("authorize"))&&-1===(null==y||null===(t=y.search)||void 0===t?void 0:t.indexOf("msg"))?async function(){try{await b.query({query:wA,fetchPolicy:"network-only"})}catch(e){throw new Error(e)}finally{u(!1)}}().then((e=>{Wr(),a(!0)})).catch((()=>{a(!1),E()})):-1!==(null==y||null===(n=y.search)||void 0===n?void 0:n.indexOf("msg"))?(Bu.show({type:"error",text1:"Your session has timed out, Retrying...",visibilityTime:3e3}),setTimeout((()=>{E()}),3e3)):u(!1)}),[]);const E=()=>{fetch(`https://managedservices-prod.rteappbuilder.com/v1/login?project_id=260afe43c2e20eb1e6e2&platform_id=${oi()}`,{credentials:"include"}).then((e=>e.json())).then((e=>{if(!e.token)throw new Error("Token not received");m(e.token).then((()=>{console.log("debugging token auth enabled")})).catch((e=>{e instanceof Error?c(e.message):c(e),a(!1)}))})).catch((e=>{e instanceof Error?c(e.message):c(e),a(!1)}))};return bn.createElement(TA.Provider,{value:{setIsAuthenticated:a,authenticated:o,authLogin:E,authLogout:()=>{g.push("/create")},returnTo:d}},t?bn.createElement(SA,{login:()=>{n(!1),E()},exitApp:()=>{n(!1)},modalVisible:t,setModalVisible:n}):bn.createElement(bn.Fragment,null),o?e.children:bn.createElement(_A,{text:"Loading..."}))},RA=()=>bn.useContext(TA),IA=(du.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},contentContainer:{padding:24,maxWidth:342,minWidth:342},heading:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,color:"#FFFFFF"}}),e=>{const{authenticated:t,authLogout:n}=RA(),[r,i]=(0,bn.useState)(!1);return bn.createElement(bn.Fragment,null)}),OA=e=>{const{copyShareLinkToClipboard:t,getShareLink:n}=ZS(),{data:{roomId:r,isHost:i,pstn:o,isSeparateHostLink:a,meetingTitle:s}}=rf(),{showSubLabel:c=!0}=e,l=(dr(),"260afe43c2e20eb1e6e2-mehbublxr.vercel.app"),u=e=>bn.createElement(Sn.Z,{style:NA.iconContainer},bn.createElement(yS,{isClickable:!0,onPress:()=>{t(e)},toolTipIcon:bn.createElement(bn.Fragment,null,bn.createElement(pm,{iconType:"plain",name:"tick-fill",tintColor:"#36B37E"}),bn.createElement(QS,{size:8,horizontal:!0})),toolTipMessage:"Copied to clipboard",renderContent:(n,r)=>bn.createElement(cu.Z,{onPress:()=>{t(e,(()=>{r(!0)}))}},bn.createElement(pm,{iconType:"plain",name:"clipboard",tintColor:"#099DFD"}))}));return bn.createElement(bn.Fragment,null,a?bn.createElement(bn.Fragment,null,bn.createElement(lu.Z,{style:NA.urlTitle},l?"Attendee Link":"Attendee ID"),bn.createElement(QS,{size:11}),bn.createElement(Sn.Z,{style:NA.container},bn.createElement(Sn.Z,{style:NA.urlContainer},bn.createElement(lu.Z,{numberOfLines:1,ellipsizeMode:"tail",style:[NA.url,NA.urlPadding,l?kA:{opacity:1}]},n(HS.ATTENDEE))),u(HS.ATTENDEE)),c&&bn.createElement(bn.Fragment,null,bn.createElement(QS,{size:14}),bn.createElement(lu.Z,{style:NA.helpText},"Share this with attendees you want to invite.")),bn.createElement(QS,{size:25})):bn.createElement(bn.Fragment,null),i?bn.createElement(bn.Fragment,null,bn.createElement(lu.Z,{style:NA.urlTitle},a?l?"Host Link":"Host ID":l?"Meeting Link":"Meeting ID"),bn.createElement(QS,{size:11}),bn.createElement(Sn.Z,{style:NA.container},bn.createElement(Sn.Z,{style:NA.urlContainer},bn.createElement(lu.Z,{numberOfLines:1,ellipsizeMode:"tail",style:[NA.url,NA.urlPadding,l?kA:{opacity:1}]},n(HS.HOST))),u(HS.HOST)),c&&bn.createElement(bn.Fragment,null,bn.createElement(QS,{size:14}),bn.createElement(lu.Z,{style:NA.helpText},"Share this with other co-hosts you want to invite.")),bn.createElement(QS,{size:25})):bn.createElement(bn.Fragment,null),bn.createElement(bn.Fragment,null))},kA={wordBreak:"break-all"},NA=du.Z.create({root:{flex:1},scrollMain:{flexGrow:1,flexDirection:"row",justifyContent:"center"},heading:{fontSize:am.extraLarge,fontWeight:"700",lineHeight:am.extraLarge,color:"#FFFFFF",fontFamily:sm.sansPro,paddingVertical:2},container:{flexDirection:"row"},urlTitle:{color:"#FFFFFF",fontSize:am.medium,fontWeight:"600",fontFamily:sm.sansPro,paddingLeft:8},urlContainer:{flex:.9,backgroundColor:"#181818",borderColor:"#262626",borderWidth:1,borderTopLeftRadius:cm.medium,borderBottomLeftRadius:cm.medium,borderTopRightRadius:0,borderBottomRightRadius:0},iconContainer:{flex:.1,minWidth:25,backgroundColor:"#181818",justifyContent:"center",alignItems:"center",borderColor:"#262626",borderLeftWidth:0,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,borderTopRightRadius:cm.medium,borderBottomLeftRadius:0,borderBottomRightRadius:cm.medium,borderTopLeftRadius:0},url:{color:"#FFFFFF"+om.medium,fontSize:am.small,fontWeight:"600",fontFamily:sm.sansPro},urlPadding:{paddingHorizontal:20,paddingVertical:21},clipboardIcon:{width:17,height:20},btnContainer:{width:"100%",alignItems:"center"},helpText:{color:"#FFFFFF"+om.disabled,fontSize:am.small,lineHeight:am.small,fontWeight:"400",fontFamily:sm.sansPro,paddingLeft:8}}),xA=()=>{const{FpeShareComponent:e}=hL((e=>({}))),{copyShareLinkToClipboard:t}=ZS(),{data:{roomId:n,meetingTitle:r}}=rf(),i=dr();return e?bn.createElement(e,null):bn.createElement(Sn.Z,{style:NA.root},Zr()?bn.createElement(bn.Fragment,null):bn.createElement(IA,{containerStyle:{marginBottom:-100}}),bn.createElement(Sm.Z,{contentContainerStyle:NA.scrollMain},bn.createElement(oA,null,bn.createElement(Sn.Z,null,bn.createElement(Sn.Z,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},bn.createElement(Wu,null),Zr()?bn.createElement(IA,{containerStyle:{marginTop:0,marginRight:0}}):bn.createElement(bn.Fragment,null)),bn.createElement(QS,{size:20}),bn.createElement(lu.Z,{style:NA.heading,numberOfLines:1},Gr(r)),bn.createElement(QS,{size:40}),bn.createElement(OA,null),bn.createElement(QS,{size:60})),bn.createElement(Sn.Z,{style:NA.btnContainer},bn.createElement(vm,{iconName:"video-on",onPress:()=>{null!=n&&n.host&&i.push(n.host)},containerStyle:Zr()&&{width:"100%"},text:"Start Stream (as host)".toUpperCase()}),bn.createElement(QS,{size:16}),bn.createElement(sA,{text:"Copy invite to clipboard",onPress:()=>t(HS.MEETING_INVITE)})))))},PA=Gd`
  query share($passphrase: String!) {
    share(passphrase: $passphrase) {
      passphrase {
        host
        view
      }
      channel
      title
      pstn {
        number
        dtmf
      }
    }
  }
`,DA=()=>{const{setShowInvitePopup:e,showInvitePopup:t}=qA(),n=$r(),{copyShareLinkToClipboard:r}=ZS(),{phrase:i}=pr(),{setGlobalErrorMessage:o}=(0,bn.useContext)(zu),a=function(){const{setMeetingInfo:e}=$d(),{client:t}=(0,bn.useContext)(Gl);return async n=>{const r=await t.query({query:PA,variables:{passphrase:n}});if(r.error)throw r.error;try{if(r&&r.data){var i,o,a,s,c;let t=r.data,n={roomId:{attendee:""}};null!=t&&null!==(i=t.share)&&void 0!==i&&null!==(o=i.passphrase)&&void 0!==o&&o.view&&(n.roomId.attendee=t.share.passphrase.view),null!=t&&null!==(a=t.share)&&void 0!==a&&null!==(s=a.passphrase)&&void 0!==s&&s.host&&(n.roomId.host=t.share.passphrase.host),null!=t&&null!==(c=t.share)&&void 0!==c&&c.pstn&&(n.pstn={number:t.share.pstn.number,pin:t.share.pstn.dtmf}),e((e=>({...e,data:{...e.data,roomId:n.roomId,pstn:null==n?void 0:n.pstn}})))}}catch(e){throw new Error("An error occurred in parsing the channel data.")}}}();return(0,bn.useEffect)((()=>{a(i).catch((e=>{o(e)}))}),[i]),bn.createElement(XS,{modalVisible:t,setModalVisible:e,title:"Invite others to join this meeting",showCloseIcon:!0,containerStyle:{alignItems:n("popup")?"center":"stretch"},contentContainerStyle:LA.contentContainer},bn.createElement(OA,{showSubLabel:!1}),bn.createElement(Sn.Z,{style:n("popup")?LA.btnContainer:LA.btnContainerMobile},n("popup")?bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(nA,{text:"CANCEL",textStyle:LA.btnText,containerStyle:{width:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:cm.medium},onPress:()=>{e(!1)}})):null,n("popup")?bn.createElement(QS,{size:10,horizontal:!0}):bn.createElement(bn.Fragment,null),bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(vm,{textStyle:LA.btnText,containerStyle:{minWidth:"auto",width:"100%",borderRadius:cm.medium,height:48,paddingVertical:12,paddingHorizontal:12},onPress:()=>{r(HS.MEETING_INVITE)},text:"COPY INVITATION"}))))},LA=du.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:48},btnContainerMobile:{flexDirection:"row",justifyContent:"center",marginTop:30},btnText:{fontWeight:"600",fontSize:16},contentContainer:{padding:Zr()?24:40,minWidth:342}}),MA=()=>{const{showStopRecordingPopup:e,setShowStopRecordingPopup:t}=qA(),{stopRecording:n,isRecordingActive:r}=Ff(),i=$r()("popup");return bn.createElement(XS,{modalVisible:e,setModalVisible:t,showCloseIcon:!1,contentContainerStyle:FA.contentContainer},bn.createElement(lu.Z,{style:FA.heading},"Stop Recording?"),bn.createElement(QS,{size:8}),bn.createElement(lu.Z,{style:FA.subHeading},"Are you sure you want to stop recording? You canât undo this action."),bn.createElement(QS,{size:32}),bn.createElement(Sn.Z,{style:i?FA.btnContainer:FA.btnContainerMobile},bn.createElement(Sn.Z,{style:i&&{flex:1}},bn.createElement(nA,{containerStyle:{minWidth:"auto",width:i?90:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:cm.medium},textStyle:FA.btnText,text:"CANCEL",onPress:()=>t(!1)})),bn.createElement(QS,{size:i?10:20,horizontal:!!i}),bn.createElement(Sn.Z,{style:i&&{flex:2}},bn.createElement(vm,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:cm.medium,height:48,backgroundColor:"#FF414D",paddingVertical:12,paddingHorizontal:12},textStyle:FA.btnText,text:"END RECORDING",onPress:()=>{r&&(n&&n(),t(!1))}}))))},FA=du.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},contentContainer:{padding:24,maxWidth:342},heading:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,color:"#FFFFFF"}}),UA=()=>bn.createElement(bn.Fragment,null),jA=()=>bn.createElement(bn.Fragment,null);__webpack_require__(8233);function VA(e,t){return Object.fromEntries(Object.entries(e).filter(t))}function BA(e){if(null===e||0===e)return"0";const t=Math.abs(e),n=Math.sign(e);let r=t;if(t>=1e3){for(var i,o=Math.floor((""+t).length/3),a=2;a>=1&&!(((i=parseFloat((0!=o?t/Math.pow(1e3,o):t).toPrecision(a)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2);a--);i%1!=0&&(i=i.toFixed(1)),r=i+["","k","m","b","t","t+"][o]}return r=-1===n?`-${r}`:`${r}`,r}const zA=()=>{Uh();const e=(()=>{const[e,t]=(0,bn.useState)(!1),{audio:n}=Af(),r=((0,bn.useRef)(null),(0,bn.useRef)(n));return(0,bn.useRef)(null),(0,bn.useEffect)((()=>{r.current=n,n||t(!1)}),[n]),(0,bn.useEffect)((()=>()=>{}),[]),e})(),{hasUserJoinedRTM:t}=(0,bn.useContext)(jp),{RtcEngine:n}=tm(),{renderList:r}=nm(),{uid:i}=Af(),o=(0,bn.useRef)(r),[a,s]=((0,bn.useRef)(0),(0,bn.useRef)(100),(0,bn.useRef)({}),(0,bn.useState)(0));return(0,bn.useEffect)((()=>{o.current=r}),[r]),(0,bn.useEffect)((()=>{}),[e,t]),(0,bn.useEffect)((()=>()=>{}),[]),a},GA=bn.createContext({showInvitePopup:!1,setShowInvitePopup:()=>{},showStopRecordingPopup:!1,setShowStopRecordingPopup:()=>{},showLayoutOption:!1,setShowLayoutOption:()=>{},activeSpeaker:0,showStartScreenSharePopup:!1,setShowStartScreenSharePopup:()=>{},showStopScreenSharePopup:!1,setShowStopScreenSharePopup:()=>{}}),HA=e=>{const[t,n]=(0,bn.useState)(!1),[r,i]=(0,bn.useState)(!1),[o,a]=(0,bn.useState)(!1),[s,c]=(0,bn.useState)(!1),[l,u]=(0,bn.useState)(!1),{join:d,enterRoom:h}=(0,bn.useContext)(sf),p=rf(),{deviceList:f}=(0,bn.useContext)(Kp),m=$f();return zA(),(0,bn.useEffect)((()=>{d.initialized&&d.phrase&&(d.userName&&d.skipPrecall&&m(d.userName),d.promise.res(p.data)),h.promise&&h.promise.res(p.data),th.emit("join",p.data.meetingTitle,f,p.data.isHost)}),[]),bn.createElement(GA.Provider,{value:{showInvitePopup:r,setShowInvitePopup:i,showStopRecordingPopup:o,setShowStopRecordingPopup:a,showLayoutOption:t,setShowLayoutOption:n,activeSpeaker:0,showStartScreenSharePopup:s,setShowStartScreenSharePopup:c,showStopScreenSharePopup:l,setShowStopScreenSharePopup:u}},bn.createElement(UA,null),bn.createElement(jA,null),bn.createElement(MA,null),bn.createElement(DA,null),e.children)},qA=Zu(GA),WA=e=>bn.createElement(bn.Fragment,null,e.children),ZA=({setActionMenuVisible:e,videoMoreMenuRef:t})=>{const{activeUids:n}=nm(),{currentLayout:r}=Cf(),i=Zr()&&n.length>4&&r===ow();return bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{ref:t,collapsable:!1,style:{position:"absolute",right:i?2:8,bottom:i?2:8,zIndex:999}},bn.createElement(AS,{onPress:()=>{e(!0)},iconProps:{iconContainerStyle:{padding:i&&n.length>12?2:8,backgroundColor:"#000004"},name:"more-menu",iconSize:20,tintColor:"#FFFFFF"}})))},KA=({children:e,setIsHovered:t,isHovered:n})=>qr()&&!Zr()?bn.createElement("div",{style:{width:"100%",height:"100%"},onMouseOver:()=>{!n&&t(!0)},onMouseLeave:()=>{t(!1)}},e):bn.createElement(bn.Fragment,null,e),YA=du.Z.create({replacePinContainer:{zIndex:999,paddingHorizontal:12,paddingVertical:10,backgroundColor:"#000004",borderRadius:8,flexDirection:"row",position:"absolute",left:0,right:0,top:0,bottom:0,margin:"auto",maxWidth:120,maxHeight:32},container:{width:"100%",height:"100%",position:"relative",overflow:"hidden",borderRadius:cm.small,borderWidth:2},activeContainerStyle:{borderColor:"#099DFD"},nonActiveContainerStyle:{borderColor:"transparent"},noVideoStyle:{borderColor:"transparent"}}),QA=({user:e,isMax:t=!1})=>{var n;const{activeSpeaker:r}=qA(),{dispatch:i,RtcEngine:o}=tm(),{height:a,width:s}=(0,Br.Z)(),{pinnedUid:c,activeUids:l}=nm(),u=e.uid==r,[d,h]=(0,bn.useState)(!1),{rtcProps:p}=(0,bn.useContext)(fh),{currentLayout:f}=Cf(),m=c&&!t&&d&&f===iw(),v=!c&&!t&&d&&f===iw(),[g,y]=(0,bn.useState)(0),[b,E]=(0,bn.useState)(100),_=(0,bn.useRef)(null),[S,A]=bn.useState(!1),[w,T]=(0,bn.useState)(!1),C=(0,bn.useRef)({landscapeMode:w}),{screenShareData:R,setScreenShareData:I,isScreenShareOnFullView:O,setScreenShareOnFullView:k}=xf(),{isScreenshareActive:N}=CS();return(0,bn.useEffect)((()=>{C.current.landscapeMode=w}),[w]),(0,bn.useEffect)((()=>{if(O&&R&&null!=R&&R[e.uid]&&Zr()){const t=o.getRemoteVideoStats(e.uid);t&&null!=t&&t.receiveResolutionHeight&&null!=t&&t.receiveResolutionWidth&&(null==t?void 0:t.receiveResolutionHeight)>t.receiveResolutionWidth&&T(!1)}}),[R,O]),bn.createElement(bn.Fragment,null,bn.createElement(Lw,{actionMenuVisible:S,setActionMenuVisible:e=>{e||h(!1),A(e)},user:e,btnRef:_,from:"video-tile"}),bn.createElement(KA,{isHovered:d,setIsHovered:h},bn.createElement(Sn.Z,{onLayout:({nativeEvent:{layout:{x:e,y:t,width:n,height:r}}})=>{y(n),E(Math.floor(.35*n))},style:[YA.container,u?YA.activeContainerStyle:e.video?YA.noVideoStyle:YA.nonActiveContainerStyle]},!m&&!v&&bn.createElement(IS,{uid:e.uid,isMax:t}),R&&null!=R&&R[e.uid]&&Zr()?bn.createElement(AS,{containerStyle:O&&w?{position:"absolute",top:8,right:8,transform:[{rotate:"90deg"}],zIndex:999,elevation:999}:{position:"absolute",top:8,left:c&&c==e.uid&&!O?100:8,zIndex:999,elevation:999},onPress:()=>{var t;k(!(null!==(t=R[e.uid])&&void 0!==t&&t.isExpanded)),I((t=>{var n;return{...t,[e.uid]:{...t[e.uid],isExpanded:!(null!==(n=t[e.uid])&&void 0!==n&&n.isExpanded)}}}))},iconProps:{iconContainerStyle:{padding:8,backgroundColor:"#808080"+rm["10%"],transform:[{rotate:"-45deg"}]},name:!0===(null==R||null===(n=R[null==e?void 0:e.uid])||void 0===n?void 0:n.isExpanded)?"collapse":"expand",tintColor:"#FFFFFF",iconSize:20}}):bn.createElement(bn.Fragment,null),!O&&bn.createElement(FS,{user:e}),bn.createElement(WA,{enableZoom:!!(O&&R&&null!=R&&R[e.uid])},bn.createElement(zh,{fallback:()=>function(e,t,n,r,i){const{activeUids:o}=nm(),{currentLayout:a}=Cf(),{width:s}=(0,Br.Z)(),c=Math.min(i,100),l=Math.min(.35*i,32);return bn.createElement(Sn.Z,{style:[OS.container]},n?bn.createElement(bn.Fragment,null):bn.createElement(Cm,{name:e,containerStyle:[{width:c,height:c,borderRadius:c/2},{backgroundColor:t?"#099DFD":"#BDD0DB"}],textStyle:[OS.textStyle,{fontSize:l,lineHeight:l}]}))}(null==e?void 0:e.name,u,!(!m&&!v||Zr()),0,b),user:e,containerStyle:{width:w&&O?a:"100%",height:w&&O?s:"100%"},key:e.uid,landscapeMode:!(!w||!O)})),!O&&bn.createElement(VS,{videoTileWidth:g,user:e,isMax:t}),!O&&e.uid!==(null==p?void 0:p.screenShareUid)&&(d||S||Zr())?bn.createElement(ZA,{videoMoreMenuRef:_,setActionMenuVisible:A}):bn.createElement(bn.Fragment,null),!m&&!v||Zr()?bn.createElement(bn.Fragment,null):bn.createElement(AS,{onPress:()=>{i({type:"UserPin",value:[e.uid]})},containerStyle:YA.replacePinContainer,btnTextProps:{text:m?"Replace Pin":"Pin for me",textColor:"#FFFFFF",textStyle:{marginTop:0,fontWeight:"700",marginLeft:6}},iconProps:{name:"pin-filled",iconSize:20,iconType:"plain",tintColor:"#FFFFFF"}}))))},JA={rtc:QA,screenshare:QA},XA=({uid:e,isMax:t=!1})=>{var n;const{renderList:r}=nm(),i=hL((e=>{var t,n,r,i,o;return"object"==typeof(null==e||null===(t=e.components)||void 0===t?void 0:t.videoCall)&&"object"==typeof(null==e||null===(n=e.components)||void 0===n||null===(r=n.videoCall)||void 0===r?void 0:r.customContent)?null==e||null===(i=e.components)||void 0===i||null===(o=i.videoCall)||void 0===o?void 0:o.customContent:void 0})),o=(a=null===(n=r[e])||void 0===n?void 0:n.type,!!(i&&i[a]&&Hr(i[a]))&&i[a]||(JA[a]?JA[a]:JA.rtc));var a;return bn.createElement(o,{user:r[e],isMax:t})},$A=du.Z.create({full:{flex:1},gridRow:{flex:1,flexDirection:"row",width:"100%",paddingTop:4},gridVideoContainerInner:{flex:1,overflow:"hidden"},infoTextContainer:{flex:1,backgroundColor:"#222222",justifyContent:"center",marginHorizontal:"auto",marginVertical:4},infoTextStyle:{fontFamily:"Source Sans Pro",fontWeight:"600",fontSize:32,color:"#BDD0DB",textAlign:"center",padding:12}}),{topPinned:ew}=lm.x0,tw=du.Z.create({width80:{width:"80%"},width100:{width:"100%"},flex2:{flex:2},flex8:{flex:8},flex1:{flex:1}}),nw=function(){return hL((e=>{var t,n,r;return"object"==typeof(null==e||null===(t=e.components)||void 0===t?void 0:t.videoCall)&&null!=e&&null!==(n=e.components)&&void 0!==n&&null!==(r=n.videoCall)&&void 0!==r&&r.customLayout?e.components.videoCall.customLayout(rw):rw}))},rw=[{name:"grid",label:"Grid",iconName:"grid",component:({renderData:e})=>{const{dispatch:t}=tm(),{rtcProps:n}=(0,bn.useContext)(fh),{activeUids:r}=nm(),i=$r();let{matrix:o,dims:a}=(0,bn.useMemo)((()=>((e,t=!0)=>{const n=Math.round(Math.sqrt(e)),r=Math.ceil(e/n);let[i,o]=t?[n,r]:[r,n];return{matrix:e>0?[...Array(i-1).fill(null).map((()=>Array(o).fill("X"))),Array(e-(i-1)*o).fill("X")]:[],dims:{r:i,c:o}}})(e.length,i())),[e.length,i()]);const s=aw();return(null==n?void 0:n.role)===ah.Audience&&0===r.length?bn.createElement(Sn.Z,{style:$A.infoTextContainer},bn.createElement(lu.Z,{style:$A.infoTextStyle},"Waiting for the host to join...")):bn.createElement(Sn.Z,{style:[$A.full]},o.map(((n,r)=>bn.createElement(Sn.Z,{style:[$A.gridRow,{paddingBottom:r===o.length-1?0:4}],key:r},n.map(((i,o)=>bn.createElement(Rm.Z,{disabled:1===e.length,onPress:()=>{0===r&&0===o||t({type:"SwapVideo",value:[e[r*a.c+o]]}),s()},style:{flex:qr()?1/a.c:1,marginHorizontal:"auto"},key:o},bn.createElement(Sn.Z,{style:[$A.gridVideoContainerInner,(null==n?void 0:n.length)>1?0===o?{marginRight:4}:o===(null==n?void 0:n.length)-1?{marginLeft:4}:{marginHorizontal:4}:r>1?{marginHorizontal:4}:{}]},bn.createElement(XA,{uid:e[r*a.c+o]})))))))))}},{name:"pinned",label:"Pinned",iconName:"pinned",component:({renderData:e})=>{const{pinnedUid:t,activeUids:n,renderList:r}=nm(),[i,o]=(0,bn.useState)(!1),a=Uh(),{width:s,height:c}=(0,Br.Z)(),l=!0!==ew&&s>Xr,{dispatch:u}=tm(),[d,h]=(0,bn.useState)(e),[p,f]=(0,bn.useState)(!1);return(0,bn.useEffect)((()=>{const e=n.filter((e=>e!==t)),i=e.filter((e=>0!==e)),o=i.filter((e=>"screenshare"===r[e].type&&r[e].parentUid!==a)),s=i.filter((e=>"screenshare"===r[e].type&&r[e].parentUid===a));(null!=o&&o.length||null!=s&&s.length)&&f(!0);const c=i.filter((e=>"screenshare"!==r[e].type)),l=[t,...o,0,...s,...c].filter((e=>void 0!==e&&0!==e));h(l)}),[n,r,0,t]),bn.createElement(Sn.Z,{style:{flexDirection:l?"row":"column",flex:1}},!i&&bn.createElement(Sm.Z,{horizontal:!l,showsHorizontalScrollIndicator:!Zr(),decelerationRate:0,style:l?{width:"20%",paddingRight:8}:{flex:1,minHeight:160,marginBottom:8}},null==d?void 0:d.map(((e,t)=>0===t?null:bn.createElement(Rm.Z,{disabled:!0,style:l?{width:"100%",height:.1125*s+2,zIndex:40,paddingBottom:8}:{width:254,height:"100%",zIndex:40,marginRight:8},key:"minVideo"+t,onPress:()=>{u({type:"SwapVideo",value:[e]})}},bn.createElement(XA,{uid:e}))))),d&&(null==d?void 0:d.length)&&bn.createElement(Sn.Z,{style:l?i?tw.width100:tw.width80:tw.flex8},bn.createElement(Sn.Z,{style:tw.flex1,key:"maxVideo"+d[0]},l&&bn.createElement(AS,{containerStyle:{position:"absolute",top:8,left:8,zIndex:999,elevation:999},onPress:()=>o(!i),iconProps:{iconContainerStyle:{padding:8,backgroundColor:"#808080"+rm["10%"]},name:i?"collapse":"expand",tintColor:"#FFFFFF",iconSize:24}}),t?bn.createElement(AS,{containerStyle:{paddingHorizontal:8,paddingVertical:10,backgroundColor:"#000004",borderRadius:8,flexDirection:"row",position:"absolute",top:8,left:8+(l?52:0),zIndex:999,elevation:999},iconProps:{iconType:"plain",iconContainerStyle:{padding:0},name:"unpin-filled",iconSize:20,tintColor:"#FFFFFF"},onPress:()=>{u({type:"UserPin",value:[0]})},btnTextProps:{text:"Unpin",textColor:"#FFFFFF",textStyle:{marginTop:0,marginLeft:6,marginRight:2,fontWeight:"700"}}}):bn.createElement(bn.Fragment,null),bn.createElement(XA,{uid:d[0],isMax:!0}))))}}],iw=()=>rw[1].name,ow=()=>rw[0].name,aw=()=>{const{setLayout:e}=Cf(),t=nw(),n=iw();let r=!1;if(t&&Array.isArray(t)&&t.length){let e=t.filter((e=>e.name===n));e&&e.length&&(r=!0)}return r?()=>{e(n)}:()=>{}},sw=()=>{const{setLayout:e}=Cf(),t=nw();return t?t&&Array.isArray(t)&&(0===t.length||1===t.length)?()=>{}:()=>{e((e=>e===t[1].name?t[0].name:t[1].name))}:()=>{}};let cw=function(e){return e[e.audio=0]="audio",e[e.video=1]="video",e}({});const lw=function(){const{data:{isHost:e}}=rf(),t=yf();return async(n,r)=>{if(e)switch(n){case cw.audio:r?t(r)||Fp.send(Up.requestAudio,"",Op.LEVEL1,r):Fp.send(Up.requestAudio,"",Op.LEVEL1);break;case cw.video:r?t(r)||Fp.send(Up.requestVideo,"",Op.LEVEL1,r):Fp.send(Up.requestVideo,"",Op.LEVEL1)}else console.error("A host can only request audience audio or video.")}},uw=({children:e})=>{const[t,n]=(0,bn.useState)(!1);return qr()?bn.createElement("div",{onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)}},e(t)):bn.createElement(bn.Fragment,null,e(!1))},dw=e=>{const{actionMenuVisible:t,setActionMenuVisible:n,modalPosition:r,items:i,hoverMode:o=!1}=e,a=()=>null==i?void 0:i.map((({icon:t,onHoverIcon:n,isBase64Icon:r=!1,title:o,callback:a,iconColor:s,textColor:c,disabled:l=!1,onHoverCallback:u,onHoverContent:d},h)=>bn.createElement(uw,{key:e.from+"_"+o+h},(e=>bn.createElement(bn.Fragment,null,e&&d||bn.createElement(bn.Fragment,null),bn.createElement(cu.Z,{disabled:l,style:[hw.row,e&&!l?0===h?hw.rowHoveredFirstChild:(null==i?void 0:i.length)-1===h?hw.rowHoveredLastChild:hw.rowHoveredMiddleItems:{},l?{opacity:.4}:{},(null==i?void 0:i.length)-1===h?{borderBottomColor:"transparent"}:{}],onPress:a,key:t+h},bn.createElement(Sn.Z,{style:hw.iconContainer},bn.createElement(pm,{base64:r,base64TintColor:s,iconType:"plain",iconSize:20,name:e&&n&&!l?n:t,tintColor:s})),bn.createElement(lu.Z,{style:[hw.text,c?{color:c}:{}]},o)))))));return bn.createElement(Sn.Z,null,o?t&&bn.createElement(Sn.Z,{style:[hw.modalView,null==e?void 0:e.containerStyle,r]},bn.createElement("div",{onMouseEnter:()=>(null==e?void 0:e.onHover)&&e.onHover(!0),onMouseLeave:()=>(null==e?void 0:e.onHover)&&e.onHover(!1)},a())):bn.createElement(KS.Z,{testID:"action-menu",animationType:"none",transparent:!0,visible:t},bn.createElement(YS.Z,{onPress:()=>{n(!1)}},bn.createElement(Sn.Z,{style:hw.backDrop})),bn.createElement(Sn.Z,{style:[hw.modalView,null==e?void 0:e.containerStyle,r]},a())))},hw=du.Z.create({modalView:{position:"absolute",backgroundColor:"#333333",borderRadius:4,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,zIndex:1,elevation:1},rowHoveredMiddleItems:{backgroundColor:"#808080"+rm["15%"]},rowHoveredFirstChild:{backgroundColor:"#808080"+rm["15%"],borderTopLeftRadius:4,borderTopRightRadius:4},rowHoveredLastChild:{backgroundColor:"#808080"+rm["15%"],borderBottomLeftRadius:4,borderBottomRightRadius:4},row:{borderBottomWidth:1,borderBottomColor:"#2D2D2D",flexDirection:"row"},iconContainer:{justifyContent:"center",alignItems:"center",marginRight:8,marginVertical:12,marginLeft:12},text:{paddingVertical:14,color:"#FFFFFF",fontSize:am.normal,fontWeight:"400",fontFamily:sm.sansPro,marginRight:12},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0}});let pw=function(e){return e.TRUE="TRUE",e.FALSE="FALSE",e}({}),fw=function(e){return e.raiseHandRequest="RAISE_HAND_REQUEST",e.raiseHandRequestAccepted="RAISE_HAND_ACCEPTED",e.raiseHandRequestRejected="RAISE_HAND_REJECTED",e.raiseHandRequestReceived="RAISE_HAND_RECEIVED",e.raiseHandRequestRecall="RAISE_HAND_REQUEST_RECALL",e.raiseHandRequestRecallLocal="RAISE_HAND_REQUEST_RECALL_LOCAL",e.raiseHandApprovedRequestRecall="RAISE_HAND_APPROVED_REQUEST_RECALL",e.notifyAllRequestApproved="NOTIFY_REQUEST_APPROVED",e.notifyAllRequestRejected="NOTIFY_REQUEST_REJECTED",e.notifyHostsInChannel="NOTIFY_HOSTS_IN_CHANNEL",e.promoteAsCoHost="PROMOTE_AS_CO_HOST",e.coHostJoined="CO_HOST_JOINED",e.coHostRemoved="CO_HOST_REMOVED",e}({});const mw={[fw.raiseHandRequest]:{text1:"Youâve raised your hand.",text2:"Waiting for host to approve the request"},[fw.raiseHandRequestReceived]:{text1:"has raised their hand to be a Presenter",text2:"Once approved they will be able to speak, share their video and present during this call."},[fw.raiseHandRequestAccepted]:{text1:"Host has approved your request.",text2:"You are now a Presenter"},[fw.raiseHandRequestRejected]:{text1:"Your request was rejected by the host",text2:null},[fw.raiseHandRequestRecall]:{text1:"has lowered their hand",text2:null},[fw.raiseHandRequestRecallLocal]:{text1:"Youâve lowered your hand.",text2:null},[fw.raiseHandApprovedRequestRecall]:{text1:"Host has revoked streaming permissions.",text2:null},[fw.promoteAsCoHost]:{text1:"Host promoted you as a Presenter",text2:null}},vw=(0,bn.createContext)(null),gw=(vw.Consumer,e=>{const t=CS(),n=(0,bn.useRef)();n.current=t;const{renderList:r}=nm(),i=(0,bn.useRef)();i.current=r;const[o,a]=(0,bn.useState)({}),s=(0,bn.useRef)();s.current=o;const[c,l]=(0,bn.useState)([]),u=(0,bn.useRef)();u.current=c;const{sidePanel:d}=Zf(),h=(0,bn.useRef)();h.current=d,bn.useEffect((()=>{h.current=d}),[d]),bn.useEffect((()=>{i.current=r}),[r]),bn.useEffect((()=>{s.current=o}),[o]),bn.useEffect((()=>{u.current=c}),[c]),bn.useEffect((()=>{let e=o;const t=Object.keys(VA(r,(([e,t])=>"rtc"===(null==t?void 0:t.type)&&!0===t.offline)));let n=!1;t&&t.length&&t.forEach(((r,i)=>{e[r]&&(n=!0,delete e[r]),t.length-1===i&&n&&a(e)}))}),[r]);const p=Uh(),f=(0,bn.useRef)();f.current=p;const{hasUserJoinedRTM:m,rtmInitTimstamp:v}=(0,bn.useContext)(jp),{setRtcProps:g,rtcProps:y,callActive:b}=null==e?void 0:e.value,{data:{isHost:E}}=rf(),[_,S]=(0,bn.useState)(0),[A,w]=(0,bn.useState)(0),[T,C]=(0,bn.useState)(!1),R=(e,t,n,r)=>{let i={};n?(i.toastId=r,i.primaryBtn=bn.createElement(vm,{containerStyle:bw.primaryBtn,textStyle:bw.primaryBtnText,text:"ALLOW TO BE A PRESENTER",onPress:()=>{P(n),Bu.hide()}}),i.secondaryBtn=bn.createElement(nA,{containerStyle:bw.secondaryBtn,text:"DENY",onPress:()=>{D(n),Bu.hide()}})):(i.primaryBtn=null,i.secondaryBtn=null),Bu.show({type:"info",text1:e,text2:t||null,visibilityTime:3e3,...i})},I=e=>{var t,n;return null!==(t=i.current)&&void 0!==t&&null!==(n=t[e])&&void 0!==n&&n.name?i.current[e].name:"user"},O=(e,t)=>{if(e&&!function(e){if(null==e)return!0;if("object"!=typeof e)return!0;for(const t in e)return!1;return!0}(t)){const n=`${e}`;a((e=>{var r;return{...e,[n]:{raised:(null==t?void 0:t.raised)||pw.FALSE,ts:(null==t?void 0:t.ts)||Date.now(),isProcessed:(null==t?void 0:t.isProcessed)||!1,role:(null==t?void 0:t.role)||(null===(r=e[n])||void 0===r?void 0:r.role)||ah.Audience}}}))}},k=e=>{var t;t=e,g((e=>({...e,role:t===ah.Audience?ah.Audience:ah.Broadcaster})))},N=(e,t)=>{switch(e){case ah.Audience:O(f.current,{raised:pw.FALSE,ts:t,role:ah.Audience}),Fp.send(yp,JSON.stringify({action:fw.notifyHostsInChannel,value:pw.FALSE,ts:(new Date).getTime(),isProcessed:!0}),Op.LEVEL2),l((e=>[...e.filter((e=>e!==parseInt(f.current)))])),Fp.send(fw.coHostRemoved,JSON.stringify({uid:f.current}),Op.LEVEL2);break;case ah.Broadcaster:O(f.current,{raised:pw.TRUE,ts:t,role:ah.Broadcaster}),Fp.send(yp,JSON.stringify({action:fw.notifyHostsInChannel,value:pw.TRUE,ts:(new Date).getTime(),isProcessed:!0}),Op.LEVEL2),l((e=>[...e,f.current])),Fp.send(fw.coHostJoined,JSON.stringify({uid:f.current}),Op.LEVEL2)}},x=VA(o,(([e,t])=>(null==t?void 0:t.raised)===pw.TRUE&&(null==t?void 0:t.role)==ah.Audience));bn.useEffect((()=>{const e=Object.values(x).sort(((e,t)=>(null==t?void 0:t.ts)-(null==e?void 0:e.ts)||0))[0];null!=e&&e.ts&&w(e.ts),0===Object.keys(x).length&&C(!1)}),[o]),bn.useEffect((()=>{0!==Object.keys(x).length&&A>=_&&E?C(!0):C(!1)}),[A,_]),bn.useEffect((()=>{const e=Fp.on(bp,(e=>{a((t=>({...t,[e.sender]:{...t[e.sender],role:e.payload in ah?parseInt(e.payload):ah.Audience}})))}));return()=>{e()}}),[]),bn.useEffect((()=>{b&&m&&(Fp.send(bp,JSON.stringify(y.role in ah?y.role:ah.Audience),Op.LEVEL2),a((e=>({...e,[p]:{...e[p],role:y.role in ah?y.role:ah.Audience}}))))}),[b,y.role,m]),bn.useEffect((()=>{const e=Fp.on(yp,(e=>{if(!E)return;const t=JSON.parse(e.payload),n=t.action,r=t.value,i=(null==t?void 0:t.isProcessed)||!1;switch(n){case fw.raiseHandRequest:switch(r){case pw.TRUE:t.ts>v&&h.current!==Hf.Participants&&R(`${Gr(I(e.sender))} ${mw.RAISE_HAND_RECEIVED.text1}`,mw.RAISE_HAND_RECEIVED.text2,e.sender,e.ts),O(e.sender,{ts:e.ts,raised:pw.TRUE,role:ah.Audience,isProcessed:i});break;case pw.FALSE:t.ts>v&&h.current!==Hf.Participants&&R(`${Gr(I(e.sender))} ${mw.RAISE_HAND_REQUEST_RECALL.text1}`,mw.RAISE_HAND_REQUEST_RECALL.text2),O(e.sender,{ts:e.ts,raised:pw.FALSE,role:ah.Audience,isProcessed:i})}break;case fw.notifyHostsInChannel:if(!E)return;switch(r){case pw.TRUE:O(e.sender,{ts:e.ts,raised:pw.TRUE,role:ah.Broadcaster,isProcessed:i});break;case pw.FALSE:O(e.sender,{ts:e.ts,raised:pw.FALSE,role:ah.Audience,isProcessed:i})}}})),t=Fp.on(fw.raiseHandRequestAccepted,(e=>{var t;(null===(t=o[f.current])||void 0===t?void 0:t.raised)!==pw.FALSE&&(R(mw.RAISE_HAND_ACCEPTED.text1,mw.RAISE_HAND_ACCEPTED.text2),k(ah.Broadcaster),N(ah.Broadcaster,e.ts))})),r=Fp.on(fw.raiseHandRequestRejected,(e=>{if(s.current[f.current].role==ah.Audience)R(mw.RAISE_HAND_REJECTED.text1,mw.RAISE_HAND_REJECTED.text2);else if(s.current[f.current].role==ah.Broadcaster){var t;R(mw.RAISE_HAND_APPROVED_REQUEST_RECALL.text1,mw.RAISE_HAND_APPROVED_REQUEST_RECALL.text2),null==n||null===(t=n.current)||void 0===t||t.stopUserScreenShare(),k(ah.Audience)}N(ah.Audience,e.ts)})),i=Fp.on(Up.kickUser,(e=>{N(ah.Audience,e.ts)})),a=Fp.on(fw.promoteAsCoHost,(e=>{R(mw.PROMOTE_AS_CO_HOST.text1,mw.PROMOTE_AS_CO_HOST.text2),k(ah.Broadcaster),N(ah.Broadcaster,e.ts)})),c=Fp.on(fw.coHostJoined,(({payload:e})=>{try{const t=JSON.parse(e);null!=t&&t.uid&&l((e=>[...e,parseInt(t.uid)]))}catch(e){}})),u=Fp.on(fw.coHostRemoved,(({payload:e})=>{try{const t=JSON.parse(e);null!=t&&t.uid&&l((e=>[...e.filter((e=>e!==parseInt(t.uid)))]))}catch(e){}}));return()=>{e(),t(),r(),i(),a(),c(),u()}}),[]);const P=e=>{var t;null!==(t=s.current[e])&&void 0!==t&&t.isProcessed?(Bu.hide(),setTimeout((()=>{R("Request already processed.",null)}))):(O(e,{raised:pw.TRUE,ts:(new Date).getTime(),isProcessed:!0}),Fp.send(fw.raiseHandRequestAccepted,"",Op.LEVEL1,e))},D=e=>{var t;null!==(t=s.current[e])&&void 0!==t&&t.isProcessed?(Bu.hide(),setTimeout((()=>{R("Request already processed.",null)}))):(O(e,{raised:pw.FALSE,ts:(new Date).getTime(),isProcessed:!0}),Fp.send(fw.raiseHandRequestRejected,"",Op.LEVEL1,e))};return bn.createElement(vw.Provider,{value:{coHostUids:c,setLastCheckedRequestTimestamp:S,isPendingRequestToReview:T,raiseHandList:o,hostApprovesRequestOfUID:P,hostRejectsRequestOfUID:D,audienceSendsRequest:async()=>{var e;(null===(e=o[f.current])||void 0===e?void 0:e.raised)!==pw.TRUE&&(R(mw.RAISE_HAND_REQUEST.text1,mw.RAISE_HAND_REQUEST.text2),Fp.send(yp,JSON.stringify({action:fw.raiseHandRequest,value:pw.TRUE,ts:(new Date).getTime(),isProcessed:!1}),Op.LEVEL2),O(f.current,{raised:pw.TRUE,ts:(new Date).getTime()}))},audienceRecallsRequest:async()=>{var e,t,r,i;(null===(e=o[f.current])||void 0===e?void 0:e.raised)!==pw.FALSE&&((null===(t=o[f.current])||void 0===t?void 0:t.role)==ah.Broadcaster&&(null===(r=o[f.current])||void 0===r?void 0:r.raised)===pw.TRUE&&(null==n||null===(i=n.current)||void 0===i||i.stopUserScreenShare(),k(ah.Audience)),Fp.send(yp,JSON.stringify({action:fw.raiseHandRequest,value:pw.FALSE,ts:(new Date).getTime(),isProcessed:!0}),Op.LEVEL2),N(ah.Audience,(new Date).getTime()),R(mw.RAISE_HAND_REQUEST_RECALL_LOCAL.text1,mw.RAISE_HAND_REQUEST_RECALL_LOCAL.text2))},promoteAudienceAsCoHost:async e=>{Fp.send(fw.promoteAsCoHost,"",Op.LEVEL1,e)}}},e.children)}),yw=vw,bw=du.Z.create({secondaryBtn:{marginLeft:16,height:40,paddingVertical:5},primaryBtn:{minWidth:"auto",paddingHorizontal:12,height:40,borderRadius:4,paddingVertical:5},primaryBtnText:{fontWeight:"600",fontSize:16,paddingLeft:0}}),Ew=yw,_w=(0,bn.createContext)({hostUids:[],audienceUids:[],liveStreamData:{}}),Sw=e=>{const{renderList:t}=nm(),{raiseHandList:n}=(0,bn.useContext)(Ew),[r,i]=(0,bn.useState)([]),[o,a]=(0,bn.useState)([]);return bn.useEffect((()=>{if(0!==Object.keys(t).length){const e=VA(t,(([e,t])=>{var r;return!("rtc"!==(null==t?void 0:t.type)&&"live"!==(null==t?void 0:t.type)||n[e]&&(null===(r=n[e])||void 0===r?void 0:r.role)!=ah.Broadcaster||null!=t&&t.offline)})),r=VA(t,(([e,t])=>{var r;return("rtc"===(null==t?void 0:t.type)||"live"===(null==t?void 0:t.type))&&(null===(r=n[e])||void 0===r?void 0:r.role)==ah.Audience&&!t.offline})),o=Object.keys(e).map((e=>parseInt(e))),s=Object.keys(r).map((e=>parseInt(e)));i(o),a(s)}}),[t,n]),bn.createElement(_w.Provider,{value:{liveStreamData:n,hostUids:r,audienceUids:o}},e.children)},Aw=Zu(_w),ww=e=>{const t=$r()("popup"),n="Remove "+e.username+"?",r=`Once removed, ${e.username} will still be able to rejoin the meeting later.`;return bn.createElement(XS,{modalVisible:e.modalVisible,setModalVisible:e.setModalVisible,showCloseIcon:!1,contentContainerStyle:Tw.contentContainer},bn.createElement(lu.Z,{style:Tw.heading},n),bn.createElement(QS,{size:8}),bn.createElement(lu.Z,{style:Tw.subHeading},r),bn.createElement(QS,{size:32}),bn.createElement(Sn.Z,{style:t?Tw.btnContainer:Tw.btnContainerMobile},bn.createElement(Sn.Z,{style:t&&{flex:1}},bn.createElement(nA,{containerStyle:{width:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:cm.medium},textStyle:Tw.btnText,text:"CANCEL",onPress:()=>e.setModalVisible(!1)})),bn.createElement(QS,{size:t?10:20,horizontal:!!t}),bn.createElement(Sn.Z,{style:t&&{flex:1}},bn.createElement(vm,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:cm.medium,height:48,backgroundColor:"#FF414D",paddingVertical:12,paddingHorizontal:12},textStyle:Tw.btnText,text:"REMOVE",onPress:()=>{e.removeUserFromMeeting(),e.setModalVisible(!1)}}))))},Tw=du.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},contentContainer:{padding:24,maxWidth:342},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},heading:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:14,color:"#FFFFFF"}}),Cw=e=>{const t=$r()("popup"),n=`Once removed, ${e.username} will still be able to screen share later.`;return bn.createElement(XS,{modalVisible:e.modalVisible,setModalVisible:e.setModalVisible,showCloseIcon:!1,contentContainerStyle:Rw.contentContainer},bn.createElement(lu.Z,{style:Rw.heading},"Remove Screenshare?"),bn.createElement(QS,{size:8}),bn.createElement(lu.Z,{style:Rw.subHeading},n),bn.createElement(QS,{size:32}),bn.createElement(Sn.Z,{style:t?Rw.btnContainer:Rw.btnContainerMobile},bn.createElement(Sn.Z,{style:t&&{flex:1}},bn.createElement(nA,{containerStyle:{width:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:cm.medium},textStyle:Rw.btnText,text:"CANCEL",onPress:()=>e.setModalVisible(!1)})),bn.createElement(QS,{size:t?10:20,horizontal:!!t}),bn.createElement(Sn.Z,{style:t&&{flex:1}},bn.createElement(vm,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:cm.medium,height:48,backgroundColor:"#FF414D",paddingVertical:12,paddingHorizontal:12},textStyle:Rw.btnText,text:"REMOVE",onPress:()=>{e.removeScreenShareFromMeeting(),e.setModalVisible(!1)}}))))},Rw=du.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},contentContainer:{padding:24,maxWidth:342},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},heading:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:14,color:"#FFFFFF"}}),Iw=()=>{const{data:{isHost:e}}=rf();return t=>{e&&t?Fp.send(Up.kickScreenshare,"",Op.LEVEL1,t):console.error("A host can only remove the screenshare from the call.")}},Ow=bn.createContext({currentFocus:{editName:!1},setFocus:()=>{}}),kw=e=>bn.createElement(Ow.Provider,{value:{...e.value}},e.children),Nw=Zu(Ow),xw=({children:e})=>{const[t,n]=(0,bn.useState)(!1);return qr()?bn.createElement("div",{onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)}},e(t)):bn.createElement(bn.Fragment,null,e(!1))},Pw=e=>{const{height:t}=(0,Br.Z)(),{actionMenuVisible:n,setActionMenuVisible:r,modalPosition:i,action:o="mute"}=e;let a="";return a=e.name?"mute"===o?`Mute ${e.name}'s ${e.type} for everyone on the call? Only ${e.name} can unmute themselves.`:"audio"===(null==e?void 0:e.type)?`Request ${e.name} to turn on their microphone?`:`Request ${e.name} to turn on their camera?`:`Mute everyone's ${e.type} on the call?`,bn.createElement(Sn.Z,null,bn.createElement(KS.Z,{testID:"action-menu",animationType:"none",transparent:!0,visible:n},bn.createElement(YS.Z,{onPress:()=>{r(!1)}},bn.createElement(Sn.Z,{style:[Dw.backDrop,Pu()?{backgroundColor:"#000000"+rm["50%"]}:{}]})),bn.createElement(Sn.Z,{style:Pu()?[Dw.modalViewUA,{marginTop:t/3}]:[Dw.modalView,i]},bn.createElement(Sn.Z,{style:Dw.container},bn.createElement(lu.Z,{style:Dw.messageStyle},a),bn.createElement(Sn.Z,{style:Dw.btnContainer},bn.createElement(xw,null,(t=>bn.createElement(cu.Z,{style:t?Dw.onHoverBtnStyle:{},onPress:()=>e.setActionMenuVisible(!1)},bn.createElement(lu.Z,{style:Dw.btnText},"Cancel")))),bn.createElement(QS,{size:8,horizontal:!0}),bn.createElement(xw,null,(t=>bn.createElement(cu.Z,{style:t?Dw.onHoverBtnStyle:{},onPress:()=>e.onMutePress()},bn.createElement(lu.Z,{style:Dw.btnText},"mute"===o?"Mute":"Request")))))))))},Dw=du.Z.create({onHoverBtnStyle:{backgroundColor:"#2D2D2D",borderRadius:8},container:{paddingHorizontal:12,paddingTop:24,paddingBottom:14},messageStyle:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.normal,color:"#FFFFFF",paddingBottom:18},btnText:{paddingHorizontal:12,paddingVertical:10,fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.normal,color:"#099DFD"},btnContainer:{flexDirection:"row",justifyContent:"flex-end"},modalView:{position:"absolute",width:290,backgroundColor:"#333333",borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,zIndex:1,elevation:1},modalViewUA:{alignSelf:"center",maxWidth:"80%",backgroundColor:"#333333",borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,zIndex:1,elevation:1},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0}});function Lw(e){const[t,n]=(0,bn.useState)(!1),[r,i]=(0,bn.useState)(!1),[o,a]=(0,bn.useState)(!1),{setFocus:s}=Nw(),{stopUserScreenShare:c}=CS(),l=Iw(),[u,d]=(0,bn.useState)(!1),[h,p]=(0,bn.useState)([]),{setSidePanel:f}=Zf(),{user:m,actionMenuVisible:v,setActionMenuVisible:g}=e,{pinnedUid:y,activeUids:b}=nm(),{dispatch:E}=tm(),{setLayout:_}=Cf(),S=Uh(),{openPrivateChat:A}=Xf(),{hostUids:w,audienceUids:T}=Aw(),{data:{isHost:C}}=rf(),R=lw(),I=Sf(),O=(()=>{const{data:{isHost:e}}=rf(),t=yf();return n=>{e&&n?t(n)||Fp.send(Up.kickUser,"",Op.LEVEL1,n):console.error("A host can only remove the audience from the call.")}})(),{promoteAudienceAsCoHost:k,raiseHandList:N}=(0,bn.useContext)(yw),[x,P]=(0,bn.useState)(!1);(0,bn.useEffect)((()=>{const e=[];var t,r;-1===T.indexOf(m.uid)&&e.push({disabled:1===b.length,icon:y?"unpin-outlined":"pin-outlined",onHoverIcon:y?"unpin-outlined":"pin-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:y?m.uid===y?"Unpin":"Replace Pin":"Pin for me",callback:()=>{g(!1),E({type:"UserPin",value:[y&&m.uid===y?0:m.uid]}),_(iw())}}),S!==m.uid&&"rtc"===m.type&&(e.push({icon:"chat-outlined",onHoverIcon:"chat-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Message Privately",callback:()=>{g(!1),A(m.uid)}}),C&&(-1!==w.indexOf(m.uid)&&(e.push({icon:m.audio?"mic-off-outlined":"mic-on-outlined",onHoverIcon:m.audio?"mic-off-filled":"mic-on-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:m.audio?"Mute Audio":"Request Audio",callback:()=>{g(!1),m.audio?n(!0):R(cw.audio,m.uid)}}),e.push({icon:m.video?"video-off-outlined":"video-on-outlined",onHoverIcon:m.video?"video-off-filled":"video-on-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:m.video?"Mute Video":"Request Video",callback:()=>{g(!1),m.video?i(!0):R(cw.video,m.uid)}})),-1===w.indexOf(m.uid)&&e.push({icon:"promote-outlined",onHoverIcon:"promote-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Add as Presenter",callback:()=>{g(!1),k(m.uid)}}),(null===(t=N[m.uid])||void 0===t?void 0:t.raised)===pw.TRUE&&(null===(r=N[m.uid])||void 0===r?void 0:r.role)==ah.Broadcaster&&e.push({isBase64Icon:!0,icon:"demote-outlined",onHoverIcon:"demote-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Remove as Presenter",callback:()=>{g(!1),Fp.send(fw.raiseHandRequestRejected,"",Op.LEVEL1,m.uid)}}),e.push({icon:"remove-meeting",iconColor:"#FF414D",textColor:"#FF414D",title:"Remove From Meeting",callback:()=>{g(!1),P(!0)}}))),S==m.uid&&"rtc"===m.type&&e.push({icon:"pencil-outlined",onHoverIcon:"pencil-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Change Name",callback:()=>{s((e=>({...e,editName:!0}))),g(!1),f(Hf.Settings)}}),!C&&S!==m.parentUid||"screenshare"!==m.type||e.push({icon:"remove-meeting",iconColor:"#FF414D",textColor:"#FF414D",title:S===(null==m?void 0:m.parentUid)?"Stop Screenshare":"Remove Screenshare",callback:()=>{g(!1),S===m.parentUid?c():d(!0)}}),p(e)}),[y,C,N,w,m]);const{width:D,height:L}=(0,Br.Z)(),[M,F]=(0,bn.useState)({});return(0,bn.useEffect)((()=>{var t,n;v&&(null===(t=e.btnRef)||void 0===t||null===(n=t.current)||void 0===n||n.measure(((e,t,n,r,i,o)=>{const s=Yr({px:i,py:o,localWidth:n,localHeight:r,globalHeight:L,globalWidth:D});F(s),a(!0)})))}),[v]),bn.createElement(bn.Fragment,null,C?bn.createElement(Pw,{type:"audio",actionMenuVisible:t,setActionMenuVisible:n,name:null==e?void 0:e.user.name,modalPosition:M,onMutePress:()=>{I(_f.audio,m.uid),n(!1)}}):bn.createElement(bn.Fragment,null),C?bn.createElement(Pw,{type:"video",actionMenuVisible:r,setActionMenuVisible:i,name:null==e?void 0:e.user.name,modalPosition:M,onMutePress:()=>{I(_f.video,m.uid),i(!1)}}):bn.createElement(bn.Fragment,null),C?bn.createElement(Cw,{modalVisible:u,setModalVisible:d,username:m.name,removeScreenShareFromMeeting:()=>{e.user.parentUid?l(e.user.parentUid):console.log("Parent Uid is not available")}}):bn.createElement(bn.Fragment,null),C?bn.createElement(ww,{modalVisible:x,setModalVisible:P,username:m.name,removeUserFromMeeting:()=>{Bu.show({type:"info",text1:`The system will remove ${Gr(m.name)} from this call after 5 secs.`,visibilityTime:5e3,primaryBtn:null,secondaryBtn:null,leadingIcon:null}),O(m.uid)}}):bn.createElement(bn.Fragment,null),bn.createElement(dw,{from:e.from,actionMenuVisible:v&&o,setActionMenuVisible:g,modalPosition:M,items:h}))}const Mw=e=>{const t=(0,bn.useRef)(),[n,r]=(0,bn.useState)(!1),[i,o]=(0,bn.useState)(!1),a=()=>{o((e=>!e))};return bn.createElement(bn.Fragment,null,bn.createElement(Lw,{actionMenuVisible:i,setActionMenuVisible:o,user:e.user,btnRef:t,from:"screenshare-participant"}),bn.createElement(Fw,{showModal:a,setIsHovered:r},bn.createElement(Sn.Z,{style:Uw.container},bn.createElement(Sn.Z,{style:Uw.userInfoContainer},bn.createElement(Sn.Z,{style:Uw.bgContainerStyle},bn.createElement(Cm,{name:e.user.name,containerStyle:Uw.containerStyle,textStyle:Uw.textStyle})),bn.createElement(Sn.Z,{style:{alignSelf:"center"}},bn.createElement(lu.Z,{style:Uw.participantNameText},e.user.name))),bn.createElement(Sn.Z,{style:Uw.iconContainer,ref:t,collapsable:!1},n||i||Zr()?bn.createElement(Sn.Z,{style:{width:24,height:24,alignSelf:"center",justifyContent:"center",alignItems:"center",borderRadius:20}},bn.createElement(AS,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#808080"+rm["20%"],borderRadius:20,padding:5},iconProps:{iconType:"plain",name:"more-menu",iconSize:20,tintColor:"#FFFFFF"},onPress:()=>{a()}})):bn.createElement(bn.Fragment,null)))))},Fw=({children:e,showModal:t,setIsHovered:n})=>qr()?bn.createElement("div",{onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)}},e):bn.createElement(bn.Fragment,null,e),Uw=du.Z.create({bgContainerStyle:{backgroundColor:"#BDD0DB",width:36,height:36,borderRadius:18,marginRight:8},containerStyle:{width:36,height:36,borderRadius:18},textStyle:{fontSize:am.tiny,lineHeight:10,fontWeight:"400",color:"#1D1D1D"},participantNameText:{fontWeight:"400",fontSize:12,lineHeight:15,fontFamily:sm.sansPro,flexDirection:"row",color:"#FFFFFF",textAlign:"left"},container:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:8},userInfoContainer:{flexDirection:"row"},iconContainer:{flexDirection:"row"}}),jw=e=>{var t;const n=(0,bn.useRef)(null),{isHost:r=!1,userContainerRef:i}=e,o=Sf(),a=lw(),[s,c]=(0,bn.useState)(!1),[l,u]=(0,bn.useState)({}),{renderList:d}=nm(),h=yf(),p=Ef(),{width:f,height:m}=(0,Br.Z)();return bn.createElement(bn.Fragment,null,bn.createElement(Pw,{action:null!=e&&e.audio?"mute":"request",type:"audio",actionMenuVisible:s,setActionMenuVisible:c,name:null===(t=d[e.uid])||void 0===t?void 0:t.name,modalPosition:l,onMutePress:()=>{if(h(e.uid))try{p(e.uid)}catch(e){console.error("An error occurred while muting the PSTN user.")}else null!=e&&e.audio?o(_f.audio,e.uid):a(cw.audio,e.uid);c(!1)}}),bn.createElement(AS,{setRef:e=>n.current=e,disabled:!r,onPress:()=>{var e;null==n||null===(e=n.current)||void 0===e||e.measure(((e,t,n,r,i,o)=>{const a=Yr({px:i,py:o,localHeight:r,localWidth:n,globalHeight:m,globalWidth:f});u(a),c(!0)}))},hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},iconProps:{iconContainerStyle:{padding:8},iconSize:20,iconType:"plain",name:e.audio?"mic-on":"mic-off",tintColor:e.audio?"#099DFD":"#808080"}}))},Vw=e=>{var t;const n=(0,bn.useRef)(null),{isHost:r=!1,userContainerRef:i}=e,o=Sf(),a=lw(),[s,c]=(0,bn.useState)(!1),[l,u]=(0,bn.useState)({}),{renderList:d}=nm(),{width:h,height:p}=(0,Br.Z)();return"1"!==String(e.uid)[0]?bn.createElement(bn.Fragment,null,bn.createElement(Pw,{action:null!=e&&e.video?"mute":"request",type:"video",actionMenuVisible:s,setActionMenuVisible:c,name:null===(t=d[e.uid])||void 0===t?void 0:t.name,modalPosition:l,onMutePress:()=>{null!=e&&e.video?o(_f.video,e.uid):a(cw.video,e.uid),c(!1)}}),bn.createElement(AS,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},setRef:e=>n.current=e,disabled:!r,onPress:()=>{var e;null==n||null===(e=n.current)||void 0===e||e.measure(((e,t,n,r,i,o)=>{const a=Yr({px:i,py:o,localHeight:r,localWidth:n,globalHeight:p,globalWidth:h});u(a),c(!0)}))},iconProps:{iconContainerStyle:{padding:8},name:null!=e&&e.video?"video-on":"video-off",iconSize:20,iconType:"plain",tintColor:e.video?"#099DFD":"#808080"}})):bn.createElement(bn.Fragment,null)},Bw=()=>{const{raiseHandList:e}=(0,bn.useContext)(yw);return t=>{var n;return(null===(n=e[t])||void 0===n?void 0:n.raised)===pw.TRUE}},zw=function(e){const{rtcProps:t}=(0,bn.useContext)(fh),{isScreenshareActive:n}=CS(),{setShowStopScreenSharePopup:r}=qA(),{data:{isHost:i}}=rf(),o=Af(),a=Bw(),s=gf(),{showToolTip:c=!1,showLabel:l=!0,disabled:u=!1,isOnActionSheet:d=!1,showWarningIcon:h=!0,isMobileView:p=!1}=e,f=()=>{s(vf.video)},m=o.video===ch.enabled,v=o.permissionStatus===lh.REJECTED||o.permissionStatus===lh.GRANTED_FOR_MIC_ONLY,g=v?"Video":m?"Video On":"Video Off";let y={showWarningIcon:!(!v||!h),name:m?"video-on":"video-off",iconBackgroundColor:m?"#099DFD":"",tintColor:m?"#FFFFFF":u||v?"#808080":"#FF414D",...null!=e&&e.iconProps?e.iconProps(m,v):{}},b={hoverEffect:!v&&!(null==e||!e.plainIconHoverEffect),hoverEffectStyle:null!=e&&e.plainIconHoverEffect?{backgroundColor:"#242529",borderRadius:20}:{},onPress:f,iconProps:y,btnTextProps:{text:l?g:"",textColor:"#FFFFFF"},disabled:!(!v&&!u)};return b.isOnActionSheet=d,p||(b.toolTipMessage=c?v?"Give Permissions":m?"Disable Camera":"Enable Camera":""),t.role,ah.Audience,t.role!=ah.Audience||i||(b.iconProps={...b.iconProps,name:"video-off",tintColor:"#808080"},b.toolTipMessage=c?a(o.uid)?"Waiting for host to appove the request":"Raise Hand in order to turn video on":"",b.disabled=!0),null!=e&&e.render?e.render(f,m):bn.createElement(AS,b)},Gw=function(e){const{rtcProps:t}=(0,bn.useContext)(fh),{data:{isHost:n}}=rf(),r=Af(),i=Bw(),o=gf(),{showToolTip:a=!1,showLabel:s=!0,disabled:c=!1,isOnActionSheet:l=!1,showWarningIcon:u=!0,isMobileView:d=!1}=e,h=()=>{o(vf.audio)},p=r.audio===ch.enabled,f=r.permissionStatus===lh.REJECTED||r.permissionStatus===lh.GRANTED_FOR_CAM_ONLY,m=f?"Mic":p?"Mic On":"Mic Off";let v={showWarningIcon:!(!f||!u),name:p?"mic-on":"mic-off",iconBackgroundColor:p?"#099DFD":"",tintColor:p?"#FFFFFF":c||f?"#808080":"#FF414D",...null!=e&&e.iconProps?e.iconProps(p,f):{}},g={hoverEffect:!f&&!(null==e||!e.plainIconHoverEffect),hoverEffectStyle:null!=e&&e.plainIconHoverEffect?{backgroundColor:"#242529",borderRadius:20}:{},onPress:h,iconProps:v,btnTextProps:{text:s?m:"",textColor:"#FFFFFF"},disabled:!(!f&&!c)};return g.isOnActionSheet=l,d||(g.toolTipMessage=a?f?"Give Permissions":p?"Disable Mic":"Enable Mic":""),t.role,ah.Audience,t.role!=ah.Audience||n||(g.iconProps={...g.iconProps,name:"mic-off",tintColor:"#808080"},g.toolTipMessage=a?i(r.uid)?"Waiting for host to appove the request":"Raise Hand in order to turn mic on":"",g.disabled=!0),null!=e&&e.render?e.render(h,p):bn.createElement(AS,g)},Hw=e=>{const{coHostUids:t}=(0,bn.useContext)(yw),[n,r]=bn.useState(!1),[i,o]=bn.useState(!1),a=(0,bn.useRef)(null),s=(0,bn.useRef)(null),{user:c,name:l,showControls:u,isHostUser:d,isLocal:h,isAudienceUser:p,isMobile:f=!1,handleClose:m,updateActionSheet:v}=e,{data:{isHost:g}}=rf(),y=()=>{o((e=>!e))};return bn.createElement(bn.Fragment,null,bn.createElement(Lw,{actionMenuVisible:i,setActionMenuVisible:o,user:e.user,btnRef:s,from:"partcipant"}),bn.createElement(qw,{showModal:y,setIsHovered:r},bn.createElement(Sn.Z,{style:Ww.container,ref:a},bn.createElement(Sn.Z,{style:Ww.bgContainerStyle},bn.createElement(Cm,{name:l,containerStyle:Ww.containerStyle,textStyle:Ww.textStyle})),bn.createElement(Sn.Z,{style:{flex:1,marginHorizontal:8,alignSelf:"center"}},bn.createElement(lu.Z,{style:Ww.participantNameText,numberOfLines:1},l),h&&bn.createElement(lu.Z,{style:Ww.subText},"Me"),h||-1===t.indexOf(c.uid)?bn.createElement(bn.Fragment,null):bn.createElement(lu.Z,{style:Ww.subText},"Presenter")),bn.createElement(Sn.Z,{style:Ww.iconContainer},n||i||Zr()?bn.createElement(Sn.Z,{ref:s,collapsable:!1,style:{width:24,height:24,alignSelf:"center",justifyContent:"center",alignItems:"center",borderRadius:20}},bn.createElement(AS,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#808080"+rm["20%"],borderRadius:20,padding:5},iconProps:{iconType:"plain",name:"more-menu",iconSize:20,tintColor:"#FFFFFF"},onPress:()=>{y()}})):bn.createElement(QS,{size:24,horizontal:!0}),u?bn.createElement(bn.Fragment,null,bn.createElement(QS,{horizontal:!0,size:8}),h?!p&&bn.createElement(Sn.Z,null,bn.createElement(zw,{plainIconHoverEffect:!0,iconProps:(e,t)=>({iconSize:20,iconType:"plain",iconContainerStyle:{padding:8},showWarningIcon:!1,tintColor:e?"#099DFD":t?"#808080":"#FF414D"}),showLabel:!1,isMobileView:f})):!p&&bn.createElement(Sn.Z,null,bn.createElement(Vw,{uid:c.uid,video:c.video,isHost:g,userContainerRef:a})),h?!p&&bn.createElement(Sn.Z,null,bn.createElement(Gw,{plainIconHoverEffect:!0,iconProps:(e,t)=>({iconSize:20,iconType:"plain",iconContainerStyle:{padding:8},showWarningIcon:!1,tintColor:e?"#099DFD":t?"#808080":"#FF414D"}),showLabel:!1,isMobileView:f})):!p&&bn.createElement(Sn.Z,null,bn.createElement(jw,{uid:c.uid,audio:c.audio,isHost:g,userContainerRef:a}))):bn.createElement(bn.Fragment,null)))))},qw=({children:e,showModal:t,setIsHovered:n})=>qr()?bn.createElement("div",{style:{},onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)}},e):bn.createElement(bn.Fragment,null,e),Ww=du.Z.create({bgContainerStyle:{backgroundColor:"#BDD0DB",width:36,height:36,borderRadius:18},containerStyle:{width:36,height:36,borderRadius:18},textStyle:{fontSize:am.tiny,lineHeight:12,fontWeight:"400",color:"#1D1D1D"},participantNameText:{fontWeight:"400",fontSize:am.tiny,fontFamily:sm.sansPro,flexDirection:"row",color:"#FFFFFF",textAlign:"left"},subText:{fontSize:am.tiny,lineHeight:am.tiny,fontFamily:sm.sansPro,fontWeight:"400",color:"#FFFFFF"+om.disabled,marginTop:4},container:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:8},userInfoContainer:{flexDirection:"row"},iconContainer:{flexDirection:"row"},controlsContainer:{backgroundColor:"red"}}),Zw=(0,bn.createContext)({hostUids:[],attendeeUids:[]}),Kw=e=>{const{data:{isHost:t}}=rf(),{activeUids:n}=nm(),{hasUserJoinedRTM:r}=(0,bn.useContext)(jp),i=Uh(),[o,a]=(0,bn.useState)([]),[s,c]=(0,bn.useState)([]),[,l]=(0,bn.useReducer)((e=>e+1),0),u=(0,bn.useRef)({hostUids:o}),d=(0,bn.useRef)({attendeeUids:s});return(0,bn.useEffect)((()=>{u.current.hostUids=o}),[o]),(0,bn.useEffect)((()=>{d.current.attendeeUids=s}),[s]),(0,bn.useEffect)((()=>(t?a([i]):c([i]),Fp.on(wp,(e=>{var t;const n=JSON.parse(null==e?void 0:e.payload),r=null==n?void 0:n.uid;var i;r&&-1===(null==u||null===(t=u.current)||void 0===t?void 0:t.hostUids.indexOf(r))&&a([...null==u||null===(i=u.current)||void 0===i?void 0:i.hostUids,r])})),Fp.on(Tp,(e=>{var t,n;const r=JSON.parse(null==e?void 0:e.payload),i=null==r?void 0:r.uid;var o;i&&-1===(null==d||null===(t=d.current)||void 0===t||null===(n=t.attendeeUids)||void 0===n?void 0:n.indexOf(i))&&c([...null==d||null===(o=d.current)||void 0===o?void 0:o.attendeeUids,i])})),()=>{Fp.off(wp),Fp.off(Tp)})),[]),(0,bn.useEffect)((()=>{r&&Fp.send(t?wp:Tp,JSON.stringify({uid:i}),Op.LEVEL2)}),[t,r]),(0,bn.useEffect)((()=>{l()}),[n]),bn.createElement(Zw.Provider,{value:{hostUids:o.filter((e=>-1!==n.indexOf(e))),attendeeUids:s.filter((e=>-1!==n.indexOf(e)))}},e.children)},Yw=Zu(Zw);function Qw(e){const t=Uh(),{screenShareData:n}=xf(),{renderList:r}=nm(),i=e=>{var t;return(null===(t=r[e])||void 0===t?void 0:t.name)||"User"},{hostUids:o}=Yw(),{data:{isHost:a}}=rf(),{isMobile:s=!1,handleClose:c,updateActionSheet:l,uids:u,emptyMessage:d}=e,h=e=>{var t;if(null!==(t=n[e.screenUid])&&void 0!==t&&t.isActive)return bn.createElement(Mw,{user:r[e.screenUid],key:e.screenUid});bn.Fragment};return bn.createElement(bn.Fragment,null,0==u.length?d?bn.createElement(lu.Z,{style:{alignSelf:"center",paddingVertical:20,fontFamily:"Source Sans Pro",fontWeight:"400",fontSize:14,color:"#FFFFFF"+rm["40%"]}},d):bn.createElement(bn.Fragment,null):bn.createElement(bn.Fragment,null,bn.createElement(QS,{size:4}),u.filter((e=>e===t)).length>0?bn.createElement(bn.Fragment,null,bn.createElement(Hw,{isLocal:!0,isAudienceUser:!1,name:i(t),user:r[t],showControls:!0,isHostUser:-1!==o.indexOf(t),key:t,isMobile:s,handleClose:c,updateActionSheet:l}),h(r[t])):bn.createElement(bn.Fragment,null),u.filter((e=>e!==t&&"rtc"===r[e].type)).map((e=>{var t;return bn.createElement(bn.Fragment,null,bn.createElement(Hw,{isLocal:!1,isAudienceUser:!1,name:i(e),user:r[e],showControls:"rtc"===(null===(t=r[e])||void 0===t?void 0:t.type)&&a,isHostUser:-1!==o.indexOf(e),key:e,isMobile:s,handleClose:c,updateActionSheet:l}),h(r[e]))}))))}const Jw=e=>{var t,n;const{screenShareData:r}=xf(),{uids:i,isMobile:o=!1,handleClose:a,updateActionSheet:s,emptyMessage:c}=e,{renderList:l}=nm(),{localUid:u}=(0,bn.useContext)(jp),d=e=>{var t;return(null===(t=l[e])||void 0===t?void 0:t.name)||"User"},{data:{isHost:h}}=rf(),{hostUids:p}=Aw(),f=e=>{var t;if(null!==(t=r[e.screenUid])&&void 0!==t&&t.isActive)return bn.createElement(Mw,{user:l[e.screenUid],key:e.screenUid});bn.Fragment};return bn.createElement(bn.Fragment,null,0==i.length?c?bn.createElement(lu.Z,{style:{alignSelf:"center",paddingVertical:20,fontFamily:"Source Sans Pro",fontWeight:"400",fontSize:14,color:"#FFFFFF"+rm["40%"]}},c):bn.createElement(bn.Fragment,null):bn.createElement(bn.Fragment,null,i.filter((e=>e===u)).length?bn.createElement(bn.Fragment,null,bn.createElement(Hw,{isLocal:!0,name:d(u),user:l[u],isAudienceUser:-1===p.indexOf(u),showControls:!!("rtc"===(null===(t=l[u])||void 0===t?void 0:t.type)&&h||"rtc"===(null===(n=l[u])||void 0===n?void 0:n.type)&&-1!==p.indexOf(u)),isHostUser:!1,key:u,isMobile:o,handleClose:a,updateActionSheet:s}),f(l[u])):bn.createElement(bn.Fragment,null),i.filter((e=>e!==u)).map(((e,t)=>{var n;return bn.createElement(bn.Fragment,null,bn.createElement(Hw,{isLocal:!1,name:d(e),user:l[e],showControls:"rtc"===(null===(n=l[e])||void 0===n?void 0:n.type)&&h,isAudienceUser:!0,isHostUser:!1,key:e,isMobile:o,handleClose:a,updateActionSheet:s}),f(l[e]))}))))},Xw=e=>{const{uid:t,toastId:n}=e,{hostApprovesRequestOfUID:r}=(0,bn.useContext)(Ew);return bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(vm,{containerStyle:{minWidth:"auto",borderRadius:cm.small,height:38,paddingHorizontal:8,paddingVertical:8},textStyle:{fontWeight:"600",fontSize:12},disabled:!t,text:"Accept",onPress:()=>{Bu.getToastId()===n&&Bu.hide(),r(t)}}))},$w=e=>{const{uid:t,toastId:n}=e,{hostRejectsRequestOfUID:r}=(0,bn.useContext)(Ew);return bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(nA,{containerStyle:{paddingHorizontal:8,paddingVertical:8,height:38},disabled:!t,onPress:()=>{Bu.getToastId()===n&&Bu.hide(),r(t)},text:"DENY"}))},eT=du.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},container:{flex:1,flexDirection:"row",paddingHorizontal:20,paddingVertical:16,justifyContent:"space-between"},userInfoContainer:{flex:.7,flexDirection:"row"},participantNameText:{fontWeight:"400",fontSize:12,fontFamily:"Source Sans Pro",flexDirection:"row",color:"#FFFFFF",textAlign:"left",marginHorizontal:8}}),tT=e=>{const{renderList:t}=nm(),{raiseHandList:n,setLastCheckedRequestTimestamp:r}=(0,bn.useContext)(Ew),[i,o]=bn.useState({});(0,bn.useEffect)((()=>{o(VA(n,(([e,t])=>(null==t?void 0:t.raised)===pw.TRUE&&(null==t?void 0:t.role)==ah.Audience)))}),[n]),bn.useEffect((()=>()=>{r((new Date).getTime())}),[]);const a={backgroundColor:"#BDD0DB",width:36,height:36,borderRadius:18},s={fontSize:12,fontWeight:"400",color:"#1D1D1D"},[c,l]=(0,bn.useState)(!0);return bn.createElement(bn.Fragment,null,0==Object.keys(n).length||0==Object.keys(i).length?bn.createElement(bn.Fragment,null):bn.createElement(bn.Fragment,null,bn.createElement(Am,{title:"Streaming Request ",count:Object.keys(i).length,isOpen:c,onPress:()=>l(!c)}),c?Object.keys(i).map(((e,r)=>t[e]?bn.createElement(Sn.Z,{style:eT.container},bn.createElement(Sn.Z,{style:eT.userInfoContainer},bn.createElement(Cm,{name:t[e].name,containerStyle:a,textStyle:s}),bn.createElement(Sn.Z,{style:{alignSelf:"center",flex:1}},bn.createElement(lu.Z,{style:eT.participantNameText,numberOfLines:1},t[e].name))),bn.createElement(Sn.Z,{style:eT.btnContainer},bn.createElement($w,{uid:e,toastId:n[e].ts}),bn.createElement(QS,{size:8,horizontal:!0}),bn.createElement(Xw,{uid:e,toastId:n[e].ts}))):bn.createElement(Sn.Z,{style:{alignSelf:"center"},key:r},bn.createElement(lu.Z,null,"User not found")))):bn.createElement(QS,{size:1})))},nT=e=>{const[t,n]=(0,bn.useState)(!1),r=(0,bn.useRef)(null),[i,o]=(0,bn.useState)({}),a=Sf(),{width:s,height:c}=(0,Br.Z)(),l=()=>{var e;null==r||null===(e=r.current)||void 0===e||e.measure(((e,t,r,i,a,l)=>{const u=Yr({px:a,py:l,localHeight:i,localWidth:r,globalHeight:c,globalWidth:s,extra:{bottom:10,left:r/2,right:-r/2},popupWidth:290});o(u),n(!0)}))};return null!=e&&e.render?e.render(l):bn.createElement(bn.Fragment,null,bn.createElement(Pw,{type:"audio",actionMenuVisible:t,setActionMenuVisible:n,name:null,modalPosition:i,onMutePress:()=>{a(_f.audio),n(!1)}}),bn.createElement(nA,{setRef:e=>r.current=e,onPress:l,text:"Mute all"}))},rT=e=>{const[t,n]=(0,bn.useState)(!1),r=(0,bn.useRef)(null),[i,o]=(0,bn.useState)({}),a=Sf(),{width:s,height:c}=(0,Br.Z)(),l=()=>{var e;null==r||null===(e=r.current)||void 0===e||e.measure(((e,t,r,i,a,l)=>{const u=Yr({px:a,py:l,localHeight:i,localWidth:r,globalHeight:c,globalWidth:s,extra:{bottom:10,left:s<720?0:r/2,right:c<720?0:-r/2},popupWidth:290});o(u),n(!0)}))};return null!=e&&e.render?e.render(l):bn.createElement(bn.Fragment,null,bn.createElement(Pw,{type:"video",actionMenuVisible:t,setActionMenuVisible:n,name:null,modalPosition:i,onMutePress:()=>{a(_f.video),n(!1)}}),bn.createElement(nA,{setRef:e=>r.current=e,onPress:l,text:"Turn off all cameras"}))},iT=du.Z.create({container:{flexDirection:"row",justifyContent:"center"},btn:{}}),oT=()=>bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:iT.container},bn.createElement(rT,null),bn.createElement(QS,{horizontal:!0,size:16}),bn.createElement(nT,null))),aT=du.Z.create({sidePanelContainerWeb:{flex:1,maxWidth:"20%",minWidth:338,borderRadius:cm.small,marginLeft:8,backgroundColor:"#1D1D1D",borderColor:"#2D2D2D",borderWidth:1,shadowColor:"#000000",shadowOpacity:.2,shadowOffset:{width:0,height:0},shadowRadius:20,overflow:"hidden"},sidePanelContainerNative:{zIndex:5,width:"100%",height:"100%"},sidePanelContainerWebMinimzed:{position:"absolute",zIndex:5,width:"96%",height:"96%",right:"2%",left:"2%",top:"2%",bottom:"2%",borderRadius:cm.small,backgroundColor:"#1D1D1D",borderColor:"#2D2D2D",borderWidth:1,shadowColor:"#000000",shadowOpacity:.2,shadowOffset:{width:0,height:0},shadowRadius:20,overflow:"hidden"}}),sT=bn.forwardRef(((e,t)=>{const{isChat:n=!1,children:r=bn.createElement(bn.Fragment,null)}=e;return bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:[cT.sidePanelHeader,n?cT.chatPadding:{}]},null!=e&&e.leadingIconName?bn.createElement(Sn.Z,null,bn.createElement(AS,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},iconProps:{iconType:"plain",iconContainerStyle:{padding:5},iconSize:20,name:e.leadingIconName,tintColor:"#FFFFFF"},onPress:()=>{(null==e?void 0:e.leadingIconOnPress)&&e.leadingIconOnPress()}})):n?bn.createElement(Sn.Z,{style:{width:30,height:"auto"}}):null,null!=e&&e.centerComponent?e.centerComponent:null,bn.createElement(Sn.Z,{style:(null==e?void 0:e.trailingIconName2)&&cT.row},null!=e&&e.trailingIconName?bn.createElement(Sn.Z,{ref:t,collapsable:!1},bn.createElement(AS,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},iconProps:{iconType:"plain",iconContainerStyle:{padding:5},iconSize:20,name:null==e?void 0:e.trailingIconName,tintColor:"#FFFFFF"},onPress:()=>{(null==e?void 0:e.trailingIconOnPress)&&e.trailingIconOnPress()}})):null,null!=e&&e.trailingIconName2?bn.createElement(AS,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},iconProps:{iconType:"plain",iconContainerStyle:{padding:5},iconSize:20,name:null==e?void 0:e.trailingIconName2,tintColor:"#FFFFFF"},onPress:()=>{(null==e?void 0:e.trailingIconOnPress2)&&e.trailingIconOnPress2()}}):null)),r)})),cT=du.Z.create({sidePanelHeader:{height:qr()?60:"auto",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:20,paddingVertical:22,borderBottomWidth:1,borderBottomColor:"#2D2D2D"},chatPadding:{paddingHorizontal:20,paddingVertical:12},heading:{fontFamily:sm.sansPro,fontSize:am.normal,lineHeight:1.6*am.normal,fontWeight:"600",color:"#FFFFFF",alignSelf:"center"},alignCenterNoPadding:{padding:0,display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center"},row:{flexDirection:"row",justifyContent:"center",alignItems:"center",flex:.3}}),lT=sT,uT=bn.createContext({isCaptionON:!1,setIsCaptionON:()=>{},isSTTActive:!1,setIsSTTActive:()=>{},language:["en-US"],setLanguage:()=>{},meetingTranscript:[],setMeetingTranscript:()=>{},isLangChangeInProgress:!1,setIsLangChangeInProgress:()=>{},captionObj:{},setCaptionObj:()=>{},isSTTListenerAdded:!1,setIsSTTListenerAdded:()=>{},activeSpeakerRef:{current:""},prevSpeakerRef:{current:""}}),dT=({children:e})=>{const[t,n]=bn.useState(!1),[r,i]=bn.useState(!1),[o,a]=bn.useState([""]),[s,c]=bn.useState(!1),[l,u]=bn.useState([]),[d,h]=bn.useState({}),[p,f]=bn.useState(!1),[m,v]=bn.useState(""),[g,y]=bn.useState(""),b=bn.useRef(""),E=bn.useRef("");return bn.createElement(uT.Provider,{value:{isCaptionON:t,setIsCaptionON:n,isSTTActive:r,setIsSTTActive:i,language:o,setLanguage:a,meetingTranscript:l,setMeetingTranscript:u,isLangChangeInProgress:s,setIsLangChangeInProgress:c,captionObj:d,setCaptionObj:h,isSTTListenerAdded:p,setIsSTTListenerAdded:f,activeSpeakerRef:b,prevSpeakerRef:E}},e)},hT=Zu(uT);var pT=__webpack_require__(1373);function fT(e){const t=new Date(e),n=t.getHours();return`${n%12||12}:${t.getMinutes().toString().padStart(2,"0")} ${n>=12?"PM":"AM"}`}const mT=[{label:"English (US)",value:"en-US"},{label:"English (India)",value:"en-IN"},{label:"Hindi",value:"hi-IN"},{label:"Chinese (Simplified)",value:"zh-CN"},{label:"Chinese (Traditional)",value:"zh-HK"},{label:"Arabic",value:"ar"},{label:"French",value:"fr-FR"},{label:"German",value:"de-DE"},{label:"Japanese",value:"ja-JP"},{label:"Korean",value:"ko-KR"},{label:"Portuguese",value:"pt-PT"},{label:"Spanish",value:"es-ES"},{label:"Italian",value:"it-IT"},{label:"Indonesian",value:"id-ID"}];function vT(e){const t=e.map((e=>mT.find((t=>t.value===e)).label));return t?t.join(", "):void 0}const gT=du.Z.create({container:{flexDirection:"row",alignItems:"center"},checkboxContainer:{width:20,height:20,borderWidth:2,borderColor:"#808080",justifyContent:"center",alignItems:"center"},checkIcon:{position:"absolute"},label:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.normal,color:"#FFFFFF",marginLeft:14},fillSelected:{backgroundColor:"#099DFD"},disabledText:{color:"#808080"}}),yT=({label:e,checked:t,onChange:n,disabled:r=!1,labelStye:i={}})=>{const[o,a]=(0,bn.useState)(t);return bn.useEffect((()=>{a(t)}),[t]),bn.createElement(cu.Z,{onPress:()=>{if(r)return;const e=!o;a(e),n(e)},style:gT.container},bn.createElement(Sn.Z,{style:[gT.checkboxContainer,o&&gT.fillSelected]},o&&bn.createElement(pm,{iconType:"plain",name:"tick",iconSize:8,tintColor:"#FFFFFF"})),bn.createElement(lu.Z,{style:[gT.label,i,!o&&r&&gT.disabledText]},e))},bT=({children:e})=>{const[t,n]=bn.useState(!1);return qr()?bn.createElement("div",{style:{backgroundColor:t?"#808080"+rm["20%"]:"transparent",cursor:t?"pointer":"auto"},onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)}},e):bn.createElement(cu.Z,null,e)},ET=du.Z.create({dropdownOptionContainer:{flexDirection:"row",backgroundColor:"#181818",borderTopWidth:1,borderBottomWidth:1,borderRightWidth:1,borderLeftWidth:1,borderColor:"#262626",borderRadius:cm.medium,paddingHorizontal:16,paddingVertical:12,justifyContent:"space-between"},dropdownOptionTextContainer:{alignSelf:"center",flexDirection:"row"},dropdownOptionText:{textAlign:"left",fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.normal,color:"#FFFFFF",marginLeft:4,flex:1},dropdownIconContainer:{alignSelf:"center"},dropdown:{backgroundColor:"#181818",borderBottomColor:"#262626",borderLeftColor:"#262626",borderRightColor:"#262626",borderTopColor:"#099DFD",borderBottomLeftRadius:cm.medium,borderBottomRightRadius:cm.medium,borderBottomWidth:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:2,shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:4,elevation:5},selectedLang:{paddingVertical:4,paddingRight:16,paddingLeft:8,backgroundColor:"#333333",borderRadius:6,flex:1,justifyContent:"flex-start",alignItems:"center",flexDirection:"row",marginRight:8},overlay:{width:"100%",height:"100%"},itemContainer:{minHeight:40,flex:1,flexDirection:"row"},itemTextContainer:{flex:1,justifyContent:"center",alignSelf:"center",paddingLeft:16},itemText:{paddingVertical:12},itemTextSelected:{color:"#099DFD"},itemTextSelectedContainer:{flex:.2,justifyContent:"center",alignItems:"center"}}),_T=({defaultSelectedValues:e,selectedValues:t,setSelectedValues:n,error:r,setError:i,icon:o,isOpen:a,setIsOpen:s})=>{const c=(0,bn.useRef)();(0,bn.useEffect)((()=>{n(e),s((()=>!1)),qr()&&window.addEventListener("resize",(()=>{s(!1)}))}),[]);const l=t.map((e=>{const r=mT.find((t=>t.value===e));return r?bn.createElement(Sn.Z,{style:ET.selectedLang},bn.createElement(cu.Z,{onPress:()=>{const e=t.filter((e=>e!==r.value));n(e)}},bn.createElement(pm,{iconType:"plain",name:"close",iconSize:20,tintColor:"#808080"})),bn.createElement(lu.Z,{numberOfLines:1,style:ET.dropdownOptionText},r.label)):bn.createElement(bn.Fragment,null)}));return bn.createElement(Sn.Z,null,bn.createElement(cu.Z,{disabled:!mT||!mT.length,ref:c,style:[ET.dropdownOptionContainer,mT&&mT.length?{}:{opacity:im.disabled},a?{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottomWidth:0,borderBottomColor:"transparent"}:{}],onPress:()=>{s(!a)}},bn.createElement(Sn.Z,{style:{flex:1,justifyContent:"flex-start",flexDirection:"row"}},o?bn.createElement(Sn.Z,{style:ET.dropdownIconContainer},bn.createElement(pm,{iconType:"plain",name:o,iconSize:20,tintColor:"#808080"})):bn.createElement(bn.Fragment,null),bn.createElement(Sn.Z,{style:[ET.dropdownOptionTextContainer,2===t.length&&{flex:.9}]},l)),bn.createElement(Sn.Z,{style:ET.dropdownIconContainer},bn.createElement(pm,{iconType:"plain",name:a?"arrow-up":"arrow-down",tintColor:"#FFFFFF"}))),a?bn.createElement(Sn.Z,{style:[ET.dropdown]},bn.createElement(pT.Z,{showsVerticalScrollIndicator:!0,data:mT,renderItem:({item:e})=>{const r=t.includes(e.value),o=t.includes("en-US"),a=t.includes("en-IN"),s=!r&&2===t.length||"en-US"===e.value&&a||"en-IN"===e.value&&o;return i(s||0===t.length),bn.createElement(bT,null,bn.createElement(Sn.Z,{style:ET.itemContainer},bn.createElement(Sn.Z,{style:ET.itemTextContainer},bn.createElement(yT,{disabled:s,checked:r,label:e.label,labelStye:ET.itemText,onChange:()=>(e=>{const r=t.includes(e.value);let i=[...t];r?t.length>0&&(i=t.filter((t=>t!==e.value))):t.length<2&&(i=[...t,e.value]),n(i)})(e)}))))},keyExtractor:(e,t)=>t.toString(),style:{maxHeight:170}})):bn.createElement(bn.Fragment,null))},ST=e=>{const{isFirstTimePopupOpen:t=!1}=e,[n,r]=bn.useState(!1),i=$r()("popup"),o=t?"Set Spoken Language":"Change Spoken Language",{language:a,setLanguage:s,isLangChangeInProgress:c,isSTTActive:l}=hT(),[u,d]=bn.useState(!1),[h,p]=bn.useState(a),f=n&&(0===h.length||2===h.length);return bn.createElement(XS,{modalVisible:e.modalVisible,setModalVisible:e.setModalVisible,showCloseIcon:!0,contentContainerStyle:AT.contentContainer,title:o,subtitle:"What language(s) are being spoken by everyone in this meeting?"},c?bn.createElement(Sn.Z,{style:AT.changeInProgress},bn.createElement(_A,{text:"Language Change is in progress...",background:"transparent",indicatorColor:"#FFFFFF"+rm["70%"],textColor:"#FFFFFF"+rm["70%"]})):bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,null,bn.createElement(_T,{selectedValues:h,setSelectedValues:p,defaultSelectedValues:-1===a.indexOf("")?a:["en-US"],error:u,setError:d,isOpen:n,setIsOpen:r})),bn.createElement(QS,{size:8}),bn.createElement(lu.Z,{style:[AT.subHeading,f&&AT.errorTxt]},0===h.length?"Choose at least one language to proceed":"You can choose a maximum of two languages"),bn.createElement(QS,{size:32}),bn.createElement(Sn.Z,{style:i?AT.btnContainer:AT.btnContainerMobile},bn.createElement(Sn.Z,{style:i&&{flex:1}},bn.createElement(nA,{containerStyle:{width:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:cm.medium},text:"CANCEL",textStyle:AT.btnText,onPress:()=>e.setModalVisible(!1)})),bn.createElement(QS,{size:i?10:20,horizontal:!!i}),bn.createElement(Sn.Z,{style:i&&{flex:1}},bn.createElement(vm,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:cm.medium,height:48,paddingVertical:12,paddingHorizontal:12},disabled:0===h.length,text:"CONFIRM",textStyle:AT.btnText,onPress:()=>{if(console.log(h),console.log(a),0===h.length)return;const t=a.slice().sort().toString()!==h.slice().sort().toString()||!l;e.onConfirm(t,h)}})))))},AT=du.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},contentContainer:{padding:24,maxWidth:446,width:"100%"},heading:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:22,lineHeight:24,color:"#FFFFFF"},subHeading:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,lineHeight:20,color:"#FFFFFF"+rm["70%"]},errorTxt:{color:"#FFAB00",fontWeight:"600"},changeInProgress:{width:"100%",height:162,alignSelf:"center"}}),wT=()=>{const{store:e}=bn.useContext(li),{data:{roomId:t,isHost:n}}=rf(),{language:r,isSTTActive:i,setIsSTTActive:o,setIsLangChangeInProgress:a,setLanguage:s,setMeetingTranscript:c}=hT(),l=bn.useRef([]),u=Hp(),d=Uh();bn.useEffect((()=>{l.current=r}),[r]);const h=async(n,r=[])=>{const i=await fetch(`https://managedservices-prod.rteappbuilder.com/v1/stt/${n}`,{method:"POST",headers:{"Content-Type":"application/json",authorization:e.token?`Bearer ${e.token}`:""},body:JSON.stringify({passphrase:(null==t?void 0:t.host)||"",lang:r.join(","),dataStream_uid:111111})});return await i.json()},p=async e=>{try{a(!0);const t=await h("start",e);if(console.log("response aftet start api call",t),null===t){Fp.send(Cp,JSON.stringify({active:!0}),Op.LEVEL2),o(!0),console.log(`stt lang update from: ${r} to ${e}`),Fp.send(Rp,JSON.stringify({username:ri(u),uid:d,prevLang:r,newLang:e}),Op.LEVEL3),s(e);const t=-1!==r.indexOf("")?`has set the spoken language to  "${vT(e)}" `:`changed the spoken language from "${vT(r)}" to "${vT(e)}" `;ri(u),c((e=>[...e,{name:"langUpdate",time:(new Date).getTime(),uid:`langUpdate-${d}`,text:t}]))}return t}catch(e){throw e}finally{a(!1)}},f=async()=>{try{const e=await h("stop");return console.log("response aftet start api call",e),o(!1),e}catch(e){throw e}};return{start:p,stop:f,restart:async e=>{try{return a(!0),await f(),await(e=>new Promise((t=>{setTimeout((async()=>{const n=await p(e);t(n)}),1e3)})))(e),Promise.resolve()}catch(e){return console.log("error in re-starting STT",e),Promise.reject(e)}finally{a(!1)}},isAuthorizedSTTUser:()=>!1}},TT=()=>{const{meetingTranscript:e}=hT(),{renderList:t}=nm(),{data:{meetingTitle:n}}=rf();return{downloadTranscript:()=>new Promise(((r,i)=>{try{const[i,o]=((e,t,n)=>{const r=e.map((e=>{var t,r;return-1!==e.uid.toString().indexOf("langUpdate")?`${null===(t=n[null==e||null===(r=e.uid)||void 0===r?void 0:r.split("-")[1]])||void 0===t?void 0:t.name} ${e.text}`:`${n[e.uid].name} ${fT(Number(e.time))}:\n${e.text}`})).join("\n\n");var i;const o=`${t} (${i=new Date(e[0].time),`${String(i.getUTCDate()).padStart(2,"0")}/${String(i.getUTCMonth()+1).padStart(2,"0")}/${i.getUTCFullYear()} ${String(i.getUTCHours()).padStart(2,"0")}:${String(i.getUTCMinutes()).padStart(2,"0")} GMT +${Math.floor(5.5)}:${String(30).padStart(2,"0")}`}) - Transcript \n\nParticipants\n${Object.entries(n).filter((e=>"rtc"===e[1].type)).map((e=>e[1].name)).join(",")} \n\nTranscript\nThis editable transcript was computer generated and might contain errors. People can also change\nthe text after it was created. \n\n${r}`,a=new Date;return[o,`MeetingTranscript_${a.toISOString().slice(0,10)}_${a.toTimeString().slice(0,8).replace(/:/g,"")}.txt`]})(e,n,t),a=new Blob([i],{type:"text/plain"}),s=URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download=o,c.click(),URL.revokeObjectURL(s),console.log("Content downloaded successfully."),r(s)}catch(e){console.error("Error downloading content:",e),i(e)}}))}},CT=e=>{const{setSidePanel:t}=Zf();return bn.createElement(lT,{centerComponent:bn.createElement(lu.Z,{style:cT.heading},"Settings"),trailingIconName:"close",trailingIconOnPress:()=>{e.handleClose&&e.handleClose(),t(Hf.None)}})},RT=()=>{const{onlineUsersCount:e}=(0,bn.useContext)(jp),t=`People (${BA(e)})`,{setSidePanel:n}=Zf();return bn.createElement(lT,{centerComponent:bn.createElement(lu.Z,{style:cT.heading},t),trailingIconName:"close",trailingIconOnPress:()=>{n(Hf.None)}})},IT=()=>{const{unreadGroupMessageCount:e,setUnreadGroupMessageCount:t,unreadPrivateMessageCount:n,setUnreadPrivateMessageCount:r,setUnreadIndividualMessageCount:i,unreadIndividualMessageCount:o}=Gf(),{setSidePanel:a}=Zf(),{groupActive:s,setGroupActive:c,privateActive:l,setPrivateActive:u,setSelectedChatUserId:d}=Vf();return bn.createElement(lT,{isChat:!0,leadingIconName:l?"back-btn":null,leadingIconOnPress:l?()=>{d(0),u(!1)}:()=>{},centerComponent:bn.createElement(Sn.Z,{style:NT.buttonHolder},bn.createElement(cu.Z,{onPress:()=>{u(!1),c(!0),d(0)},style:s?NT.activeContainer:NT.nonActiveContainer},0!==e?bn.createElement(Sn.Z,{style:NT.chatNotification}):null,bn.createElement(lu.Z,{style:s?NT.activeText:NT.nonActiveText},"Group")),bn.createElement(cu.Z,{onPress:()=>{c(!1),d(0),u(!1)},style:s?[NT.nonActiveContainer]:[NT.activeContainer]},0!==n?bn.createElement(Sn.Z,{style:NT.chatNotification}):null,bn.createElement(lu.Z,{style:s?NT.nonActiveText:NT.activeText},"Private"))),trailingIconName:"close",trailingIconOnPress:()=>{a(Hf.None)}})},OT=e=>{const{setSidePanel:t}=Zf(),n=bn.useRef(null),[r,i]=bn.useState(!1);return bn.createElement(lT,{centerComponent:bn.createElement(lu.Z,{style:cT.heading},"Meeting Transcript"),trailingIconName:"more-menu",ref:n,trailingIconOnPress:()=>{i(!0)},trailingIconName2:"close",trailingIconOnPress2:()=>{t(Hf.None)}},bn.createElement(kT,{actionMenuVisible:r,setActionMenuVisible:i,btnRef:n}))},kT=e=>{const{actionMenuVisible:t,setActionMenuVisible:n,btnRef:r}=e,{language:i,meetingTranscript:o,isLangChangeInProgress:a,setLanguage:s}=hT(),{downloadTranscript:c}=TT(),[l,u]=bn.useState({}),[d,h]=bn.useState(!1),{width:p,height:f}=(0,Br.Z)(),[m,v]=bn.useState(!1),{restart:g}=wT(),y=(Hp(),[]),{data:{isHost:b}}=rf();return b&&y.push({icon:"lang-select",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Change Spoken Language ",disabled:a,callback:()=>{n(!1),v(!0)}}),y.push({icon:"download",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Download Transcript",disabled:0===o.length,callback:()=>{c(),n(!1)}}),bn.useEffect((()=>{var e;t&&(null==r||null===(e=r.current)||void 0===e||e.measure(((e,t,n,r,i,o)=>{const a=Yr({px:i,py:o,localWidth:n,localHeight:r,globalHeight:f,globalWidth:p});u(a),h(!0)})))}),[t]),bn.createElement(bn.Fragment,null,bn.createElement(dw,{from:"transcript-header",actionMenuVisible:t&&d,setActionMenuVisible:n,modalPosition:l,items:y}),bn.createElement(ST,{modalVisible:m,setModalVisible:v,onConfirm:(e=!1,t)=>{v(!1),e&&g(t).then((()=>{console.log("stt restarted successfully")})).catch((e=>{console.log("Error in restarting",e)}))}}))},NT=du.Z.create({buttonHolder:{backgroundColor:"#000000"+rm["30%"],borderRadius:12,flexDirection:"row"},chatViewNative:{zIndex:5,width:"100%",height:"100%",right:0,bottom:0},chatInputContainer:{width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},activeContainer:{margin:2,backgroundColor:"#099DFD",borderRadius:11,alignSelf:"center"},nonActiveContainer:{alignSelf:"center"},activeText:{paddingHorizontal:24,paddingVertical:10,fontFamily:sm.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF"},nonActiveText:{paddingHorizontal:24,paddingVertical:10,fontFamily:sm.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF"},chatNotification:{width:8,height:8,backgroundColor:"#FF414D",borderRadius:30,position:"absolute",right:8,top:4}}),xT=()=>{const{isCaptionON:e}=hT(),{width:t,height:n}=(0,Br.Z)(),{sidePanel:r}=Zf(),i=e&&r!==Hf.None&&t>1200;return{isCaptionNotFullWidth:i,transcriptHeight:i?"calc(100% + 144px + 4px)":""}},PT=du.Z.create({footer:{width:"100%",padding:12,height:"auto",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#262626"},bodyContainer:{flex:1}}),DT=e=>{const{activeUids:t}=nm(),{liveStreamData:n,audienceUids:r,hostUids:i}=Aw(),{attendeeUids:o,hostUids:a}=Yw(),{onlineUsersCount:s}=(0,bn.useContext)(jp),{sidePanel:c,setSidePanel:l}=Zf(),{rtcProps:u}=(0,bn.useContext)(fh),{showHeader:d=!0}=e,h="Host",{data:{isHost:p}}=(BA(s),rf()),f=ei(),[m,v]=(0,bn.useState)(!0),[g,y]=(0,bn.useState)(!0),[b,E]=(0,bn.useState)(!0),[_,S]=(0,bn.useState)(!0),{currentLayout:A}=Cf(),{transcriptHeight:w}=xT();return bn.createElement(Sn.Z,{testID:"videocall-participants",style:[Zr()?aT.sidePanelContainerNative:f()?aT.sidePanelContainerWebMinimzed:aT.sidePanelContainerWeb,qr()&&!f()&&A===ow()?{marginVertical:4}:{},w&&!Zr()&&{height:w}]},d&&bn.createElement(RT,null),bn.createElement(Sm.Z,{style:[PT.bodyContainer]},bn.createElement(bn.Fragment,null,(null==u?void 0:u.role)==ah.Broadcaster&&(p?bn.createElement(bn.Fragment,null,bn.createElement(tT,{userList:n}),bn.createElement(Am,{title:h,count:i.length,isOpen:m,onPress:()=>v(!m)}),m?bn.createElement(Qw,{emptyMessage:"No Host has joined yet.",uids:i,isMobile:f(),updateActionSheet:e.updateActionSheet,handleClose:e.handleClose}):bn.createElement(QS,{size:1})):bn.createElement(bn.Fragment,null,bn.createElement(Am,{title:h,count:i.length,isOpen:b,onPress:()=>E(!b)}),b?bn.createElement(Jw,{emptyMessage:"No Host has joined yet.",uids:i,isMobile:f(),updateActionSheet:e.updateActionSheet,handleClose:e.handleClose}):bn.createElement(QS,{size:1}))),(null==u?void 0:u.role)==ah.Audience&&bn.createElement(bn.Fragment,null,bn.createElement(Am,{title:h,count:i.length,isOpen:m,onPress:()=>v(!m)}),m?bn.createElement(Qw,{emptyMessage:"No Host has joined yet.",uids:i,isMobile:f(),updateActionSheet:e.updateActionSheet,handleClose:e.handleClose}):bn.createElement(QS,{size:1})),bn.createElement(bn.Fragment,null,bn.createElement(Am,{title:"Audience",count:r.length,isOpen:_,onPress:()=>S(!_)}),_?bn.createElement(Jw,{emptyMessage:"No Audience has joined yet.",uids:r,isMobile:f(),updateActionSheet:e.updateActionSheet,handleClose:e.handleClose}):bn.createElement(bn.Fragment,null)))),p&&bn.createElement(Sn.Z,{style:PT.footer},bn.createElement(oT,null)))};var LT=__webpack_require__(2867);const MT=du.Z.create({remoteUsernameStyle:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:am.small,textAlign:"left",color:"#FFFFFF"+om.medium,alignSelf:"flex-start",marginTop:20,marginBottom:8,marginHorizontal:20},localUsernameStyle:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:am.small,textAlign:"left",color:"#FFFFFF"+om.medium,alignSelf:"flex-end",marginTop:20,marginBottom:8,marginHorizontal:20},timestampStyle:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.tiny,textAlign:"right",color:"#FFFFFF"+om.disabled,marginTop:4,marginBottom:6},chatBubbleRemoteView:{backgroundColor:"#262626",minWidth:"30%",maxWidth:"80%",alignSelf:"flex-start",marginVertical:2,marginHorizontal:20,borderBottomLeftRadius:12,borderBottomRightRadius:12,borderTopLeftRadius:0,borderTopRightRadius:12},chatBubbleRemoteViewLayer2:{backgroundColor:"transparent",paddingVertical:8,paddingHorizontal:12,borderBottomLeftRadius:12,borderBottomRightRadius:12,borderTopLeftRadius:12,borderTopRightRadius:0},chatBubbleLocalViewLayer2:{paddingVertical:8,paddingHorizontal:12,borderBottomLeftRadius:12,borderBottomRightRadius:12,borderTopLeftRadius:12,borderTopRightRadius:0,backgroundColor:"#099DFD"+rm["10%"]},chatBubbleLocalView:{backgroundColor:"#808080"+rm["20%"],minWidth:"30%",maxWidth:"80%",alignSelf:"flex-end",marginVertical:2,marginHorizontal:20,borderBottomLeftRadius:12,borderBottomRightRadius:12,borderTopLeftRadius:12,borderTopRightRadius:0},messageStyle:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,lineHeight:1.4*am.small,color:"#FFFFFF"}}),FT=e=>{const{renderList:t}=nm(),{primaryColor:n}=(0,bn.useContext)(eu),{privateActive:r,selectedChatUserId:i}=Vf();let{isLocal:o,isSameUser:a,message:s,createdTimestamp:c,uid:l,isDeleted:u,msgId:d,updatedTimestamp:h}=e,p=(g=(m=(f=new Date(parseInt(c))).getHours())>=12?"pm":"am",(m=(m%=12)||12)+":"+(v=(v=f.getMinutes())<10?"0"+v:v)+" "+g);var f,m,v,g;return null!=e&&e.render?e.render(o,s,c,l,d,u,h,a):bn.createElement(bn.Fragment,null,a||r&&i?bn.createElement(bn.Fragment,null):bn.createElement(lu.Z,{style:o?MT.localUsernameStyle:MT.remoteUsernameStyle},o?"You":t[l]?t[l].name:"User"),bn.createElement(Sn.Z,{style:o?MT.chatBubbleLocalView:MT.chatBubbleRemoteView},bn.createElement(Sn.Z,{style:o?MT.chatBubbleLocalViewLayer2:MT.chatBubbleRemoteViewLayer2},bn.createElement(LT.Z,{onPress:e=>{qr()?window.open(e,"_blank"):lA.Z.openURL(e)},linkStyle:{color:"#FFFFFF",textDecorationLine:"underline"}},bn.createElement(lu.Z,{style:MT.messageStyle,selectable:!0},s)),bn.createElement(lu.Z,{style:MT.timestampStyle},p))))},UT=du.Z.create({unreadMessageContainer:{backgroundColor:"#262626",padding:8,marginVertical:20},unreadMessageText:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF",textAlign:"center"},defaultMessageContainer:{backgroundColor:"#262626",borderRadius:8,padding:12,marginTop:20,marginHorizontal:20,marginBottom:0},defaultMessageText:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:12,color:"#FFFFFF"+rm["40%"]},bgContainerStyle:{backgroundColor:"#BDD0DB",width:36,height:36,borderRadius:18,marginRight:8,marginLeft:20,marginVertical:8},userAvatarContainer:{backgroundColor:"#099DFD"+rm["10%"],width:36,height:36,borderRadius:18},userAvatarText:{fontSize:am.tiny,lineHeight:12,fontWeight:"400",color:"#1D1D1D"},participantContainer:{flexDirection:"row",overflow:"hidden",justifyContent:"space-between",backgroundColor:"#000000"+rm["10%"]},participantTextContainer:{flex:1,alignSelf:"center",marginRight:8},participantText:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:14,color:"#FFFFFF",textAlign:"left",flexShrink:1},containerView:{flex:8},infoTextView:{marginVertical:2,flexDirection:"row"},infoText:{color:"#FFFFFF"+rm["60%"],fontWeight:"500",fontSize:14,flex:1,textAlign:"center"}}),jT=e=>{var t,n;const[r,i]=(0,bn.useState)(!1),{dispatch:o}=tm(),[a,s]=(0,bn.useState)(0),[c,l]=(0,bn.useState)(0),{renderList:u}=nm(),{messageStore:d,privateMessageStore:h}=Xf(),p=(0,bn.useRef)(d.length),{height:f,width:m}=(0,Br.Z)(),{groupActive:v,privateActive:g,selectedChatUserId:y,setPrivateActive:b,inputActive:E}=Vf(),_=(0,bn.useRef)(null===(t=h[y])||void 0===t?void 0:t.length),{setUnreadGroupMessageCount:S,unreadGroupMessageCount:A,unreadIndividualMessageCount:w,setUnreadIndividualMessageCount:T}=Gf(),C=Uh(),R=(0,bn.useRef)(null);(0,bn.useEffect)((()=>{v&&(s(A),S(0))}),[v]),(0,bn.useEffect)((()=>{y&&(l(w[y]),T((e=>({...e,[y]:0}))),I(y,{lastMessageTimeStamp:0}))}),[y]);const I=(e,t)=>{o({type:"UpdateRenderList",value:[e,t]})},{ChatBubbleComponent:O}=hL((t=>{var n,r;let i={ChatBubbleComponent:FT};var o,a,s,c,l,u,d,h,p,f,m,v,g,y,b,E;return null!=t&&null!==(n=t.components)&&void 0!==n&&n.videoCall&&"object"==typeof(null==t||null===(r=t.components)||void 0===r?void 0:r.videoCall)?null!=t&&null!==(o=t.components)&&void 0!==o&&null!==(a=o.videoCall)&&void 0!==a&&a.chat&&"object"==typeof(null==t||null===(s=t.components)||void 0===s||null===(c=s.videoCall)||void 0===c?void 0:c.chat)&&null!=t&&null!==(l=t.components)&&void 0!==l&&null!==(u=l.videoCall)&&void 0!==u&&null!==(d=u.chat)&&void 0!==d&&d.chatBubble&&"object"!=typeof(null==t||null===(h=t.components)||void 0===h||null===(p=h.videoCall)||void 0===p||null===(f=p.chat)||void 0===f?void 0:f.chatBubble)&&Hr(null==t||null===(m=t.components)||void 0===m||null===(v=m.videoCall)||void 0===v||null===(g=v.chat)||void 0===g?void 0:g.chatBubble)&&(i.ChatBubbleComponent=null==t||null===(y=t.components)||void 0===y||null===(b=y.videoCall)||void 0===b||null===(E=b.chat)||void 0===E?void 0:E.chatBubble):null!=e&&e.chatBubble&&Hr(null==e?void 0:e.chatBubble)&&(i.ChatBubbleComponent=null==e?void 0:e.chatBubble),i}));(0,bn.useEffect)((()=>{g||a?g&&!c&&i(!0):i(!0)}),[g,a,c]);const k=(0,bn.useCallback)((()=>{var e;r&&(null===(e=R.current)||void 0===e||e.scrollToEnd({animated:!1}))}),[r]),N=({nativeEvent:{layout:{y:e}}})=>{var t;e&&(null===(t=R.current)||void 0===t||t.scrollTo({y:e,animated:!1}))};return bn.createElement(Sn.Z,{style:UT.containerView},g&&y?bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:UT.participantContainer},bn.createElement(Sn.Z,{style:UT.bgContainerStyle},bn.createElement(Cm,{name:u[y].name,containerStyle:UT.userAvatarContainer,textStyle:UT.userAvatarText})),bn.createElement(Sn.Z,{style:UT.participantTextContainer},bn.createElement(lu.Z,{style:[UT.participantText],numberOfLines:1},u[y].name))),bn.createElement(QS,{size:10})):bn.createElement(bn.Fragment,null),bn.createElement(Sm.Z,{ref:R,onContentSizeChange:k},g?h[y]?bn.createElement(bn.Fragment,null,h[y].map(((e,t)=>{var n,r,i;return bn.createElement(bn.Fragment,null,_.current===(null===(n=h[y])||void 0===n?void 0:n.length)&&c&&(null===(r=h[y])||void 0===r?void 0:r.length)-c===t?bn.createElement(Sn.Z,{style:UT.unreadMessageContainer,onLayout:N},bn.createElement(lu.Z,{style:UT.unreadMessageText},c," Unread Message")):bn.createElement(bn.Fragment,null),bn.createElement(O,{isLocal:C===e.uid,isSameUser:0!==t&&h[y][t-1].uid===e.uid,message:e.msg,createdTimestamp:e.createdTimestamp,updatedTimestamp:e.updatedTimestamp,uid:e.uid,key:e.ts,msgId:e.msgId,isDeleted:e.isDeleted}),(null===(i=h[y])||void 0===i?void 0:i.length)-1===t?bn.createElement(QS,{size:10}):bn.createElement(bn.Fragment,null))}))):bn.createElement(bn.Fragment,null):bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:UT.defaultMessageContainer},bn.createElement(lu.Z,{style:UT.defaultMessageText},null!=d&&d.length?"All messages are deleted when call ends.":"Welcome to Chat! \nAll messages are deleted when call ends.")),d.map(((e,t)=>bn.createElement(bn.Fragment,null,p.current===d.length&&a&&d.length-a===t?bn.createElement(Sn.Z,{style:UT.unreadMessageContainer,onLayout:N},bn.createElement(lu.Z,{style:UT.unreadMessageText},a," Unread Message")):bn.createElement(bn.Fragment,null),bn.createElement(O,{isLocal:C===e.uid,isSameUser:0!==t&&d[t-1].uid===e.uid,message:e.msg,createdTimestamp:e.createdTimestamp,updatedTimestamp:e.updatedTimestamp,uid:e.uid,key:e.ts,msgId:e.msgId,isDeleted:e.isDeleted}),(null==d?void 0:d.length)-1===t?bn.createElement(QS,{size:10}):bn.createElement(bn.Fragment,null))))),(null===(n=u[y])||void 0===n?void 0:n.offline)&&bn.createElement(Sn.Z,{style:UT.infoTextView},bn.createElement(lu.Z,{style:UT.infoText},"User is offline"))))},VT=e=>{const{selectedChatUserId:t,message:n,setMessage:r,inputActive:i}=Vf(),{sendChatMessage:o}=Xf(),a=()=>{t?(o(n,t),r&&r("")):(o(n),r&&r(""))};return null!=e&&e.render?e.render(a):bn.createElement(cu.Z,{style:[zT.chatInputButton],onPress:a},bn.createElement(pm,{iconType:"plain",tintColor:i?"#099DFD":"#808080",name:"send"}))},BT=e=>{let t=(0,bn.useRef)(null);const{selectedChatUserId:n,message:r,setMessage:i,inputActive:o,privateActive:a}=Vf(),{sendChatMessage:s}=Xf(),{renderList:c}=nm(),[l]=em(),u=a?`Private Message to ${c[n].name}`:`Chat publicly as ${l}...`,d=e=>i(e),h=()=>{n?(s(r,n),i("")):(s(r),i(""))},{setInputActive:p}=Vf();return(0,bn.useEffect)((()=>{setTimeout((()=>{var e;qr()&&(null==t||null===(e=t.current)||void 0===e||e.focus())}))}),[]),null!=e&&e.render?e.render(r,d,h,u):bn.createElement(Em,{setRef:e=>t.current=e,onFocus:()=>p(!0),onBlur:()=>p(!1),value:r,onChangeText:d,style:{minHeight:56,borderRadius:0,borderBottomLeftRadius:12,borderWidth:0,color:"#FFFFFF",textAlign:"left",paddingVertical:21,paddingLeft:20,flex:1,alignSelf:"center",fontFamily:sm.sansPro,fontWeight:"400"},blurOnSubmit:!1,onSubmitEditing:h,placeholder:u,placeholderTextColor:"#FFFFFF"+om.disabled,autoCorrect:!1})},zT=du.Z.create({inputActiveView:{borderTopWidth:1,borderTopColor:"#099DFD"},inputView:{flex:1,flexDirection:"row",backgroundColor:"#262626",borderTopWidth:1,borderTopColor:"transparent"},chatInputButton:{flex:.1,borderBottomRightRadius:12,alignSelf:"center",marginRight:16}}),GT=e=>{const{primaryColor:t}=(0,bn.useContext)(eu),{ChatInputComponent:n,ChatSendButtonComponent:r}=hL((t=>{var n,r;let i={ChatInputComponent:BT,ChatSendButtonComponent:VT};var o,a,s,c;if(null!=t&&null!==(n=t.components)&&void 0!==n&&n.videoCall&&"object"==typeof(null==t||null===(r=t.components)||void 0===r?void 0:r.videoCall)){if(null!=t&&null!==(o=t.components)&&void 0!==o&&null!==(a=o.videoCall)&&void 0!==a&&a.chat&&"object"==typeof(null==t||null===(s=t.components)||void 0===s||null===(c=s.videoCall)||void 0===c?void 0:c.chat)){var l,u,d,h,p,f,m,v,g,y,b,E,_,S,A,w,T,C,R,I,O,k,N,x;null!=t&&null!==(l=t.components)&&void 0!==l&&null!==(u=l.videoCall)&&void 0!==u&&null!==(d=u.chat)&&void 0!==d&&d.chatInput&&"object"!=typeof(null==t||null===(h=t.components)||void 0===h||null===(p=h.videoCall)||void 0===p||null===(f=p.chat)||void 0===f?void 0:f.chatInput)&&Hr(null==t||null===(m=t.components)||void 0===m||null===(v=m.videoCall)||void 0===v||null===(g=v.chat)||void 0===g?void 0:g.chatInput)&&(i.ChatInputComponent=null==t||null===(R=t.components)||void 0===R||null===(I=R.videoCall)||void 0===I||null===(O=I.chat)||void 0===O?void 0:O.chatInput),null!=t&&null!==(y=t.components)&&void 0!==y&&null!==(b=y.videoCall)&&void 0!==b&&null!==(E=b.chat)&&void 0!==E&&E.chatSendButton&&"object"!=typeof(null==t||null===(_=t.components)||void 0===_||null===(S=_.videoCall)||void 0===S||null===(A=S.chat)||void 0===A?void 0:A.chatSendButton)&&Hr(null==t||null===(w=t.components)||void 0===w||null===(T=w.videoCall)||void 0===T||null===(C=T.chat)||void 0===C?void 0:C.chatSendButton)&&(i.ChatSendButtonComponent=null==t||null===(k=t.components)||void 0===k||null===(N=k.videoCall)||void 0===N||null===(x=N.chat)||void 0===x?void 0:x.chatSendButton)}}else null!=e&&e.chatInput&&Hr(e.chatInput)&&(i.ChatInputComponent=e.chatInput),null!=e&&e.chatSendButton&&Hr(e.chatSendButton)&&(i.ChatSendButtonComponent=e.chatSendButton);return i})),{inputActive:i}=Vf();return bn.createElement(Sn.Z,{style:[zT.inputView,i?zT.inputActiveView:{}]},bn.createElement(n,null),bn.createElement(r,null))},HT=()=>bn.createElement(Sn.Z,{style:{alignSelf:"center",marginRight:20}},bn.createElement(pm,{iconType:"plain",name:"chat-nav",tintColor:"#FFFFFF"})),qT=({children:e})=>{const[t,n]=(0,bn.useState)(!1);return qr()&&!Zr()?bn.createElement("div",{style:{backgroundColor:t?"#808080"+rm["10%"]:"transparent",cursor:t?"pointer":"auto"},onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)}},e(t)):bn.createElement(bn.Fragment,null,e(!1))},WT=du.Z.create({defaultMessageContainer:{backgroundColor:"#262626",borderRadius:8,padding:12,marginTop:20,marginHorizontal:20,marginBottom:0},defaultMessageText:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:12,color:"#FFFFFF"+rm["40%"]},bgContainerStyle:{backgroundColor:"#BDD0DB",width:36,height:36,borderRadius:18,marginRight:8,marginLeft:20,marginVertical:8},userAvatarContainer:{width:36,height:36,borderRadius:18},userAvatarText:{fontSize:am.tiny,lineHeight:12,fontWeight:"400",color:"#1D1D1D"},participantContainer:{flexDirection:"row",overflow:"hidden",justifyContent:"space-between",alignItems:"center"},participantTextContainer:{flex:1,alignSelf:"center"},participantText:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:14,lineHeight:14,color:"#FFFFFF",textAlign:"left",flexShrink:1},chatNotificationPrivate:{backgroundColor:"#808080",borderRadius:8,alignSelf:"center"},chatNotificationCountText:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:12,lineHeight:12,textAlign:"center",color:"#FFFFFF",paddingVertical:2,paddingLeft:8,paddingRight:9}}),ZT=e=>{const{selectUser:t}=e,{renderList:n,activeUids:r}=nm(),i=Uh(),{unreadIndividualMessageCount:o}=Gf(),a=Zr();return bn.createElement(Sm.Z,null,r&&1===r.length?bn.createElement(Sn.Z,{style:WT.defaultMessageContainer},bn.createElement(lu.Z,{style:WT.defaultMessageText},"No one else has joined yet.")):bn.createElement(bn.Fragment,null),Object.keys(n).map((e=>parseInt(e))).filter((e=>{try{if(isNaN(e))return!1;{const t=e,r=n[t];return t!==i&&"1"!==t&&"rtc"===(null==r?void 0:r.type)&&!(null!=r&&r.offline)}}catch(e){return!1}})).sort(((e,t)=>{var r,i;return(null===(r=n[t])||void 0===r?void 0:r.lastMessageTimeStamp)-(null===(i=n[e])||void 0===i?void 0:i.lastMessageTimeStamp)})).map((e=>{const r=e,i=n[r]?n[r].name+"":"User";return bn.createElement(qT,{key:"chat-participant"+e},(e=>bn.createElement(Rm.Z,{onPress:()=>{t(r)}},bn.createElement(Sn.Z,{style:WT.participantContainer},bn.createElement(Sn.Z,{style:WT.bgContainerStyle},bn.createElement(Cm,{name:i,containerStyle:WT.userAvatarContainer,textStyle:WT.userAvatarText})),bn.createElement(Sn.Z,{style:WT.participantTextContainer},bn.createElement(lu.Z,{numberOfLines:1,style:[WT.participantText]},i)),o&&o[r]&&!e?bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:WT.chatNotificationPrivate},bn.createElement(lu.Z,{style:WT.chatNotificationCountText},o[r])),bn.createElement(QS,{size:20,horizontal:!0})):a||e?bn.createElement(HT,null):bn.createElement(bn.Fragment,null)))))})))},KT=du.Z.create({buttonHolder:{backgroundColor:"#000000"+rm["30%"],borderRadius:12,flexDirection:"row"},chatViewNative:{zIndex:5,width:"100%",height:"100%",right:0,bottom:0},chatInputContainer:{width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},activeContainer:{margin:2,backgroundColor:"#099DFD",borderRadius:11,alignSelf:"center"},nonActiveContainer:{alignSelf:"center"},activeText:{paddingHorizontal:24,paddingVertical:10,fontFamily:sm.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF"},nonActiveText:{paddingHorizontal:24,paddingVertical:10,fontFamily:sm.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF"},chatNotification:{width:8,height:8,backgroundColor:"#FF414D",borderRadius:30,position:"absolute",right:8,top:4}}),YT=e=>{const t=ei(),{setSidePanel:n}=Zf(),{showHeader:r=!0}=e,{groupActive:i,setGroupActive:o,privateActive:a,setPrivateActive:s,setSelectedChatUserId:c}=Vf(),{unreadGroupMessageCount:l,setUnreadGroupMessageCount:u,unreadPrivateMessageCount:d,setUnreadPrivateMessageCount:h,setUnreadIndividualMessageCount:p,unreadIndividualMessageCount:f}=Gf(),{primaryColor:m}=(0,bn.useContext)(eu),{transcriptHeight:v}=xT(),{ChatAfterView:g,ChatBeforeView:y}=hL((e=>{var t,n;let r={ChatAfterView:bn.Fragment,ChatBeforeView:bn.Fragment};return null!=e&&null!==(t=e.components)&&void 0!==t&&t.videoCall&&(null==e||null===(n=e.components)||void 0===n||n.videoCall),r})),{currentLayout:b}=Cf();return bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:[Zr()?aT.sidePanelContainerNative:t()?aT.sidePanelContainerWebMinimzed:aT.sidePanelContainerWeb,qr()&&!t()&&b===ow()?{marginVertical:4}:{},v&&!Zr()&&{height:v}]},bn.createElement(y,null),r&&bn.createElement(IT,null),i?bn.createElement(bn.Fragment,null,bn.createElement(jT,e),bn.createElement(Sn.Z,{style:KT.chatInputContainer},bn.createElement(GT,e))):bn.createElement(bn.Fragment,null,a?bn.createElement(bn.Fragment,null,bn.createElement(jT,e),bn.createElement(Sn.Z,null,bn.createElement(Sn.Z,{style:KT.chatInputContainer},bn.createElement(GT,e)))):bn.createElement(ZT,{selectUser:e=>{c(e),s(!0)}})),bn.createElement(g,null)))},QT=e=>{const{sidePanel:t,setSidePanel:n}=Zf(),r=t===Hf.Settings,i=()=>{n(r?Hf.None:Hf.Settings)};let o={onPress:i,iconProps:{name:"settings",tintColor:"#FFFFFF",iconBackgroundColor:r?"#099DFD":""},btnTextProps:{text:"Settings",textColor:"#FFFFFF"}};return null!=e&&e.render?e.render(i,r):bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,null,bn.createElement(AS,o)))},JT=e=>bn.createElement(QT,e),XT=(du.Z.create({localButton:{borderRadius:2,borderColor:"#099DFD",width:30,height:30,display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",resizeMode:"contain"}}),e=>{const{showLabel:t=!0,showTeritaryButton:n=!1,isOnActionSheet:r=!1}=e,{setShowInvitePopup:i}=qA(),o=()=>{i(!0)};let a={onPress:o,iconProps:{name:"share",tintColor:"#FFFFFF"},btnTextProps:{textColor:"#FFFFFF",text:t?"Invite":""}};return a.isOnActionSheet=r,null!=e&&e.render?e.render(o):bn.createElement(bn.Fragment,null,n?bn.createElement(nA,{text:"Invite",onPress:o}):bn.createElement(AS,a))});function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$T.apply(this,arguments)}const eC=du.Z.create({dropdownContainer:{width:140,position:"absolute",backgroundColor:"#333333",borderRadius:8,zIndex:999,shadowColor:"#000000",shadowOffset:{width:0,height:-4},shadowOpacity:.1,shadowRadius:8,elevation:1},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0}}),tC=e=>{const{showDropdown:t,setShowDropdown:n,modalPosition:r={top:0,left:0},onHoverPlaceHolder:i="horizontal"}=e,{activeUids:o}=nm(),a=nw(),{setLayout:s,currentLayout:c}=Cf(),l=Zr();return bn.createElement(bn.Fragment,null,(()=>{const u=a.map(((e,t)=>{let r=[];const i=e.name===iw()&&1===(null==o?void 0:o.length);let u={disabled:i,hoverEffect:!i&&c!==e.name,hoverEffectStyle:{backgroundColor:"#808080"+rm["15%"]},containerStyle:{opacity:i?.4:1,flexDirection:"row",marginHorizontal:8,marginTop:8,marginBottom:a.length-1===t?8:0,borderRadius:4,backgroundColor:c===e.name?"#099DFD":"transparent"},onPress:()=>{s(e.name),n(!1)},iconProps:{iconContainerStyle:{padding:10},iconType:"plain",name:"pinned"===e.iconName&&l?"list-view":e.iconName,tintColor:"#FFFFFF"},btnTextProps:{textStyle:{marginTop:0},text:e.label,textColor:"#FFFFFF"}};return r.push(bn.createElement(AS,$T({key:"layout_button"+e.name},u))),r}));let d=bn.createElement(Sn.Z,{style:[eC.dropdownContainer,r]},bn.createElement(Sn.Z,{style:[{width:20,height:20,backgroundColor:"#333333",position:"absolute",borderRadius:2,transform:[{rotate:"45deg"}],zIndex:-1},null==e?void 0:e.caretPosition]}),!Zr()&&bn.createElement(Sn.Z,{style:[{zIndex:-2,position:"absolute"},"vertical"===i?{width:20,height:"100%",bottom:0,right:-20}:{width:"100%",height:20,bottom:-20}]}),bn.createElement(Sn.Z,{style:{flex:1,flexDirection:"column",justifyContent:"space-between"}},u));return Pu()?bn.createElement(KS.Z,{animationType:"none",transparent:!0,visible:t,onRequestClose:()=>{n(!1)}},bn.createElement(YS.Z,{onPress:()=>{n(!1)}},bn.createElement(Sn.Z,{style:eC.backDrop})),d):t?d:bn.createElement(bn.Fragment,null)})())};function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nC.apply(this,arguments)}const rC=({children:e,...t})=>Pu()?e:bn.createElement("div",{onMouseEnter:()=>{null==t||t.setIsHovered(!0)},onMouseLeave:()=>{null==t||t.setIsHovered(!1)}},e),iC=({children:e,...t})=>Pu()?e:bn.createElement("div",{onMouseEnter:()=>{null==t||t.setIsHovered(!0)},onMouseLeave:()=>{null==t||t.setIsHovered(!1)}},e),oC=e=>{const{activeUids:t}=nm(),{height:n}=(0,Br.Z)(),[r,i]=(0,bn.useState)(null),o=(0,bn.useRef)(),[a,s]=(0,bn.useState)(!1),[c,l]=(0,bn.useState)(!1),u=Zr(),{showLabel:d=!0}=e,h=e=>{var t;o&&o.current&&(null==o||null===(t=o.current)||void 0===t||t.measure(((t,r,o,a,c,l)=>{i({bottom:Pu()?n-l+10:n-l-10,left:Pu()?c-10:-10}),s(e)})))},p=nw(),f=sw(),{currentLayout:m,setLayout:v}=Cf(),g=p.findIndex((e=>e.name===m)),y=n=>{var r,i;let s=()=>{},c=[];s=n?()=>{Zr()&&h(!a)}:()=>{f()};let l={onPress:s,btnTextProps:{text:d?"Layout":"",textColor:"#FFFFFF"}};const m="pinned"===(null===(r=p[g])||void 0===r?void 0:r.iconName)&&u?"list-view":null===(i=p[g])||void 0===i?void 0:i.iconName;return c.push(null!=e&&e.render?e.render(s):bn.createElement(rC,{key:"layout-icon-btn",setIsHovered:h},bn.createElement(AS,nC({disabled:!t||0===t.length,containerStyle:{opacity:t&&0!==t.length?1:.6},setRef:e=>{o.current=e},key:"defaultLayoutIconWithName",iconProps:{name:m,tintColor:"#FFFFFF"}},l)))),c};return bn.createElement(bn.Fragment,null,t&&t.length?bn.createElement(iC,{setIsHovered:Pu()?h:e=>{e||Zr()?l(e):setTimeout((()=>{a||l(e)}),100)}},bn.createElement(tC,{caretPosition:{bottom:Pu()?-8:-10,left:(Pu(),26)},modalPosition:r,showDropdown:Pu()?a:a||c,setShowDropdown:Pu()?h:l})):bn.createElement(bn.Fragment,null),p&&Array.isArray(p)&&p.length>1?y(!0):y(!1))},aC=()=>{const{onlineUsersCount:e}=(0,bn.useContext)(jp),{audienceUids:t,hostUids:n}=Aw(),{attendeeUids:r,hostUids:i}=Yw();return bn.createElement(AS,{placement:"right",isClickable:!!Zr(),toolTipMessage:`Host: ${(null==n?void 0:n.length)||0}\nAudience: ${t.length||0}`,containerStyle:sC.participantCountView,disabled:!0,iconProps:{name:"people",iconType:"plain",iconSize:20,tintColor:"#FFFFFF"+rm["50%"]},btnTextProps:{text:BA(e),textColor:"#FFFFFF"+rm["50%"],textStyle:{fontWeight:"600",fontSize:12,lineHeight:12,marginTop:0,marginLeft:4}}})},sC=du.Z.create({participantCountView:{flexDirection:"row",padding:12,paddingVertical:Zr?5:12,backgroundColor:"#242529",borderRadius:25,borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:20}}),cC=({recordingLabel:e=""})=>bn.createElement(Sn.Z,{style:[lC.recordingView]},bn.createElement(Sn.Z,{style:[lC.recordingStatus]}),bn.createElement(lu.Z,{style:lC.recordingText},e)),lC=du.Z.create({recordingView:{padding:12,paddingVertical:Zr()?5:12,flexDirection:"row",alignItems:"center",alignContent:"center",justifyContent:"center",borderRadius:24,backgroundColor:"#242529",marginLeft:8,borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:20},recordingText:{fontSize:12,lineHeight:12,fontWeight:"600",fontFamily:"Source Sans Pro",color:"#FFFFFF"+rm["50%"]},recordingStatus:{width:12,height:12,borderRadius:6,backgroundColor:"#FF414D",marginRight:8}}),uC=e=>{const{liveStreamingRequestAlertIconPosition:t={top:0,right:0,left:void 0,bottom:void 0},isOnActionSheet:n=!1}=e,{sidePanel:r,setSidePanel:i}=Zf(),{isPendingRequestToReview:o,setLastCheckedRequestTimestamp:a}=(0,bn.useContext)(Ew),{onlineUsersCount:s}=(0,bn.useContext)(jp),c=r===Hf.Participants,l=()=>{i(c?Hf.None:Hf.Participants)};let u={onPress:l,iconProps:{name:"participants",tintColor:"#FFFFFF",iconBackgroundColor:c?"#099DFD":""},btnTextProps:{text:n?"":"People",textColor:"#FFFFFF"}};return u.isOnActionSheet=n,null!=e&&e.render?e.render(l,c):bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,null,bn.createElement(AS,u)),o&&bn.createElement(Sn.Z,{style:{position:"absolute",top:t.top,bottom:t.bottom,right:t.right,left:t.left,backgroundColor:"#FF414D",width:12,height:12,borderRadius:10}}))},dC=e=>{const{sidePanel:t,setSidePanel:n}=Zf(),{badgeContainerPosition:r={top:0,right:0,left:void 0,bottom:void 0,zIndex:999},badgeTextStyle:i={color:"#FFFFFF",fontSize:12,textAlign:"center"},isOnActionSheet:o=!1}=e,{setUnreadGroupMessageCount:a,totalUnreadCount:s}=Gf(),{setGroupActive:c,setPrivateActive:l,setSelectedChatUserId:u}=Vf(),d=t===Hf.Chat;(0,bn.useEffect)((()=>{t!==Hf.Chat&&(c(!1),l(!1),u(0))}),[t]);const h=()=>{d?(n(Hf.None),c(!1),l(!1),u(0)):(c(!0),n(Hf.Chat))};let p={onPress:h,iconProps:{name:"chat-nav",tintColor:"#FFFFFF",iconBackgroundColor:d?"#099DFD":""},btnTextProps:{text:o?"":"Chat",textColor:"#FFFFFF"}};return p.isOnActionSheet=o,null!=e&&e.render?e.render(h,d,s):bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,null,bn.createElement(AS,p),0!==s&&bn.createElement(Sn.Z,{style:{position:"absolute",top:null==r?void 0:r.top,bottom:null==r?void 0:r.bottom,left:null==r?void 0:r.left,right:null==r?void 0:r.right,borderRadius:10,width:12,height:12,backgroundColor:"#FF414D"}})))},hC=e=>bn.createElement(JT,e),pC=du.Z.create({participantCountView:{flexDirection:"row",padding:12,backgroundColor:"#242529",borderRadius:25,borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:20},countContainer:{flexDirection:"row"},navHolder:{backgroundColor:"#111111",width:"100%",paddingTop:8,paddingBottom:10,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},navHolderNative:{position:"relative",width:"100%",height:"8%",backgroundColor:"#FFFFFF"+rm["80%"],flexDirection:"row",alignItems:"center",paddingHorizontal:10,justifyContent:"space-between"},btnHolder:{marginHorizontal:Pu()?2:0,width:"100%",height:"100%",resizeMode:"contain"},btnHolderCustom:{width:"100%",height:"100%",resizeMode:"contain"},roomNameContainer:{zIndex:10,flex:1,flexDirection:"row",alignItems:"center"},titleContainer:{flexDirection:"row"},roomNameText:{alignSelf:"center",fontSize:am.normal,color:"#FFFFFF",fontWeight:"600",fontFamily:sm.sansPro},chip:{backgroundColor:"#099DFD",borderRadius:2.5,paddingHorizontal:5,marginLeft:5,marginRight:0,paddingVertical:1,display:"flex",alignItems:"center",justifyContent:"center"},chipText:{fontFamily:"sans-serif",fontSize:12,color:"#FFFFFF"},navControlBar:{width:"50%",flexDirection:"row",justifyContent:"flex-end",zIndex:9},navSmItem:{flexGrow:0,flexShrink:0,flexBasis:"15%"},dropdownIconContainer:{flex:1,paddingHorizontal:5},separaterContainer:{flex:.5,paddingHorizontal:5},dropdownContainer:{position:"absolute",marginTop:5,width:40,height:90,backgroundColor:"white",borderRadius:10,paddingVertical:10}}),fC=()=>{const e=$r(),{audienceUids:t,hostUids:n}=Aw(),{data:{meetingTitle:r}}=rf(),{isRecordingActive:i}=Ff(),{onlineUsersCount:o}=(0,bn.useContext)(jp),{width:a}=(0,Br.Z)();return bn.createElement(Sn.Z,{testID:"videocall-topbar",style:[qr()?pC.navHolder:pC.navHolderNative,{paddingHorizontal:e("toolbar")?32:10,zIndex:999}]},bn.createElement(Sn.Z,{style:pC.titleContainer},bn.createElement(lu.Z,{style:pC.roomNameText,testID:"videocall-meetingName",numberOfLines:1,ellipsizeMode:"tail"},Gr(r)),bn.createElement(QS,{size:8,horizontal:!0}),bn.createElement(Sn.Z,{style:pC.countContainer},bn.createElement(aC,null),i?bn.createElement(cC,{recordingLabel:"Recording"}):bn.createElement(bn.Fragment,null))),a>Qr||Zr()?bn.createElement(Sn.Z,{style:pC.navControlBar,testID:"videocall-navcontrols"},bn.createElement(Sn.Z,{testID:"videocall-participantsicon",style:{marginRight:10}},bn.createElement(uC,null)),bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{testID:"videocall-chaticon",style:{marginHorizontal:10}},bn.createElement(dC,null))),bn.createElement(Sn.Z,{testID:"videocall-settingsicon",style:{marginLeft:10}},bn.createElement(hC,null))):bn.createElement(bn.Fragment,null))},mC=({children:e,onPress:t})=>{const[n,r]=bn.useState(!1);return qr()?bn.createElement("div",{style:{backgroundColor:n?"#808080"+rm["20%"]:"transparent",cursor:n?"pointer":"auto"},onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},onClick:e=>{e.preventDefault(),t&&t()}},e):bn.createElement(cu.Z,{onPress:t},e)},vC=du.Z.create({dropdownOptionContainer:{flex:1,flexDirection:"row",minHeight:60,backgroundColor:"#181818",borderTopWidth:1,borderBottomWidth:1,borderRightWidth:1,borderLeftWidth:1,borderColor:"#262626",borderRadius:cm.medium,paddingLeft:20,paddingRight:20,justifyContent:"space-between"},dropdownOptionTextContainer:{alignSelf:"center",flex:1},dropdownOptionText:{textAlign:"left",fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.normal,color:"#FFFFFF",paddingLeft:8,paddingVertical:20},dropdownIconContainer:{alignSelf:"center"},dropdown:{position:"absolute",backgroundColor:"#181818",borderBottomColor:"#262626",borderLeftColor:"#262626",borderRightColor:"#262626",borderTopColor:"#099DFD",borderBottomLeftRadius:cm.medium,borderBottomRightRadius:cm.medium,borderBottomWidth:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:2,shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:4,elevation:5,overflow:"hidden"},overlay:{width:"100%",height:"100%"},itemContainer:{minHeight:40,flex:1,flexDirection:"row"},itemTextContainer:{flex:.8,justifyContent:"center",alignSelf:"center"},itemText:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.normal,color:"#FFFFFF",paddingVertical:12,paddingHorizontal:15},itemTextSelected:{color:"#099DFD"},itemTextSelectedContainer:{flex:.2,justifyContent:"center",alignItems:"center"}}),gC=({label:e,data:t,onSelect:n,enabled:r,selectedValue:i,icon:o})=>{const a=(0,bn.useRef)(),[s,c]=(0,bn.useState)(!1),[l,u]=(0,bn.useState)({top:0,left:0,width:0}),[d,h]=bn.useState(!1),p=(0,bn.useMemo)((()=>t.find((e=>e.value===i))),[i,t]);(0,bn.useEffect)((()=>{qr()&&window.addEventListener("resize",(()=>{c(!1)}))}),[]);const f=!t||!t.length;return bn.createElement(cu.Z,{disabled:!r||!t||!t.length,ref:a,style:[vC.dropdownOptionContainer,r&&t&&t.length?{}:{opacity:im.disabled},s?{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottomColor:"transparent"}:{}],onPress:()=>{var e;s?c(!1):(null==a||null===(e=a.current)||void 0===e||e.measure(((e,t,n,r,i,o)=>{u({top:o+r,left:i,width:n})})),c(!0))}},r&&!f?bn.createElement(KS.Z,{visible:s,transparent:!0,animationType:"none"},bn.createElement(cu.Z,{style:vC.overlay,onPress:()=>c(!1)},bn.createElement(Sn.Z,{style:[vC.dropdown,{top:l.top,left:l.left,width:l.width}]},bn.createElement(pT.Z,{showsVerticalScrollIndicator:!1,data:t,renderItem:({item:e})=>bn.createElement(mC,{onPress:()=>(e=>{n(e),c(!1)})(e)},bn.createElement(Sn.Z,{style:vC.itemContainer},bn.createElement(Sn.Z,{style:vC.itemTextContainer},bn.createElement(lu.Z,{numberOfLines:1,style:[vC.itemText,p&&(null==e?void 0:e.value)===(null==p?void 0:p.value)?vC.itemTextSelected:{}]},e.label)),p&&(null==e?void 0:e.value)===(null==p?void 0:p.value)?bn.createElement(Sn.Z,{style:vC.itemTextSelectedContainer},bn.createElement(pm,{iconType:"plain",name:"tick",iconSize:12,tintColor:"#099DFD"})):bn.createElement(bn.Fragment,null))),keyExtractor:(e,t)=>t.toString()})))):bn.createElement(bn.Fragment,null),bn.createElement(Sn.Z,{style:{flex:1,justifyContent:"flex-start",flexDirection:"row"}},o?bn.createElement(Sn.Z,{style:vC.dropdownIconContainer},bn.createElement(pm,{iconType:"plain",name:o,iconSize:20,tintColor:"#808080"})):bn.createElement(bn.Fragment,null),bn.createElement(Sn.Z,{style:[vC.dropdownOptionTextContainer]},bn.createElement(lu.Z,{numberOfLines:1,style:vC.dropdownOptionText},p&&p.label||e))),bn.createElement(Sn.Z,{style:vC.dropdownIconContainer},bn.createElement(pm,{iconType:"plain",name:s?"arrow-up":"arrow-down",tintColor:"#FFFFFF"})))},yC=(0,bn.createContext)({callActive:!1,setCallActive:()=>{},isCameraAvailable:!1,isMicAvailable:!1,isSpeakerAvailable:!1,setCameraAvailable:()=>{},setMicAvailable:()=>{},setSpeakerAvailable:()=>{},isPermissionRequested:!1,setIsPermissionRequested:()=>{}}),bC=e=>{const{join:t,enterRoom:n}=(0,bn.useContext)(sf),r=rf(),{deviceList:i}=(0,bn.useContext)(Kp),o=$f();return(0,bn.useEffect)((()=>{var a;t.initialized&&t.phrase&&(t.userName&&o(t.userName),null==t||null===(a=t.promise)||void 0===a||a.res([r.data,t=>new Promise(((r,i)=>{o(t),n.set({res:r,rej:i}),e.value.setCallActive(!0)}))])),th.emit("ready-to-join",r.data.meetingTitle,i)}),[]),bn.createElement(yC.Provider,{value:{...e.value}},e.children)},EC=Zu(yC),_C=async(e,t)=>{const n=setTimeout((()=>{t(!0)}),200);await e(),clearTimeout(n),t(!1)},SC=e=>{const{label:t,deviceId:n}=e;return"default"===n?t.includes("Default")?t:"Default - "+t:t},AC=()=>{const{rtcProps:e}=(0,bn.useContext)(fh),{primaryColor:t}=(0,bn.useContext)(eu),[n,r]=bn.useState(t),[i,o]=bn.useState(!1);return bn.useEffect((()=>{e.role===ah.Audience?(o(!0),r("rgba(16, 16, 16, 0.3)")):(o(!1),r(t))}),[null==e?void 0:e.role]),[i,n]},wC=e=>{const{selectedCam:t,setSelectedCam:n,deviceList:r}=(0,bn.useContext)(Kp),[i,o]=AC(),[a,s]=bn.useState(!1),[c,l]=(0,bn.useState)(i),u=(0,bn.useContext)(qh),d=(0,bn.useMemo)((()=>{var e;return null===(e=r.filter((e=>{if("videoinput"===e.kind)return!0})))||void 0===e?void 0:e.map((e=>{if("videoinput"===e.kind)return{label:e.label,value:e.deviceId}}))}),[r]);(0,bn.useEffect)((()=>{const e=Boolean(d.find((e=>e.value===t)));c?e&&l(!1):!e&&(null==d?void 0:d.length)&&l(!0)}),[t,d]);const h=u.permissionStatus===lh.GRANTED_FOR_CAM_AND_MIC||u.permissionStatus===lh.GRANTED_FOR_CAM_ONLY;return null!=e&&e.render?e.render(t,n,r,i):bn.createElement(bn.Fragment,null,bn.createElement(lu.Z,{style:RC.label},"Camera"),bn.createElement(gC,{icon:c&&h?"connection-loading":null!=e&&e.isIconDropdown?"video-on":void 0,enabled:!i,label:h&&d&&d.length?c?"Updating":"No Camera Selected":"No Camera Detected",data:h?d:[],onSelect:({label:e,value:t})=>{s(!0);try{_C((async()=>await n(t)),l)}catch(e){l(!1)}},selectedValue:t}))},TC=e=>{const{selectedMic:t,setSelectedMic:n,deviceList:r}=(0,bn.useContext)(Kp),[i,o]=AC(),[a,s]=(0,bn.useState)(!1),c=(0,bn.useContext)(qh),[l,u]=(0,bn.useState)(i),d=(0,bn.useMemo)((()=>{var e;return null===(e=r.filter((e=>{if("audioinput"===e.kind)return!0})))||void 0===e?void 0:e.map((e=>{if("audioinput"===e.kind)return{label:SC(e),value:e.deviceId}}))}),[r]);(0,bn.useEffect)((()=>{const e=Boolean(d.find((e=>e.value===t)));l?e&&u(!1):!e&&(null==d?void 0:d.length)&&u(!0)}),[t,d]);const h=c.permissionStatus===lh.GRANTED_FOR_CAM_AND_MIC||c.permissionStatus===lh.GRANTED_FOR_MIC_ONLY;return null!=e&&e.render?e.render(t,n,r,i):bn.createElement(Sn.Z,null,bn.createElement(lu.Z,{style:RC.label},"Microphone"),bn.createElement(gC,{icon:l&&h?"connection-loading":null!=e&&e.isIconDropdown?"mic-on":void 0,enabled:!i&&!l,selectedValue:t,label:h&&d&&d.length?l?"Updating":"No Microphone Selected":"No Microphone Detected",data:h?d:[],onSelect:({label:e,value:t})=>{s(!0);try{_C((async()=>await n(t)),u)}catch(e){u(!1)}}}))},CC=e=>{const{selectedSpeaker:t,setSelectedSpeaker:n,deviceList:r}=(0,bn.useContext)(Kp),i=(0,bn.useContext)(qh),[o,a]=AC(),[s,c]=bn.useState(!1),[l,u]=(0,bn.useState)(o),d=(e=>{let t="";for(let e=0;e<64;e++){const e=Math.floor(10*Math.random());t+=String.fromCharCode(97+e)}return t})().toUpperCase(),h=(0,bn.useMemo)((()=>{var e;return null===(e=r.filter((e=>{if("audiooutput"===e.kind)return!0})))||void 0===e?void 0:e.map((e=>{if("audiooutput"===e.kind)return{label:SC(e),value:e.deviceId}}))}),[r]);return(0,bn.useEffect)((()=>{const e=Boolean(h.find((e=>e.value===t)));l?e&&u(!1):!e&&(null==h?void 0:h.length)&&u(!0)}),[t,h]),null!=e&&e.render?e.render(t,n,r,o):bn.createElement(Sn.Z,null,bn.createElement(lu.Z,{style:RC.label},"Speaker"),i.permissionStatus!==lh.GRANTED_FOR_CAM_AND_MIC&&i.permissionStatus!==lh.GRANTED_FOR_MIC_ONLY||h&&0!==h.length?bn.createElement(gC,{icon:l?"connection-loading":null!=e&&e.isIconDropdown?"speaker":void 0,enabled:h&&h.length&&!l,selectedValue:t,label:h&&h.length?l?"Updating":"":"No Speaker Detected",data:h,onSelect:({label:e,value:t})=>{c(!0),n(t)}}):bn.createElement(gC,{icon:null!=e&&e.isIconDropdown?"speaker":void 0,enabled:!o,selectedValue:d,label:"",data:[{value:d,label:"System Default Speaker Device"}],onSelect:({label:e,value:t})=>{c(!0);try{_C((async()=>await n(t)),u)}catch(e){u(!1)}}}))},RC=du.Z.create({popupPicker:{borderRadius:12,paddingHorizontal:15,paddingVertical:20,fontSize:14,fontFamily:"Source Sans Pro"},pickerItem:{paddingLeft:12,paddingVertical:24,marginHorizontal:8,marginVertical:20,backgroundColor:"#FFFFFF"},infoTxtContainer:{backgroundColor:"#333333",borderRadius:4},infoTxt:{textAlign:"left",fontSize:16,color:"#FFFFFF",fontFamily:"Source Sans Pro",fontWeight:"400",padding:12},label:{fontWeight:"400",fontSize:am.small,color:"#FFFFFF",fontFamily:sm.sansPro,marginBottom:12}}),IC=e=>{const[t]=AC(),{deviceList:n}=(0,bn.useContext)(Kp),{setCameraAvailable:r,setMicAvailable:i,setSpeakerAvailable:o}=EC(),[a,s,c]=(0,bn.useMemo)((()=>n.reduce(((e,t)=>{const[n,r,i]=e;return"audioinput"===t.kind?n.push(t):"videoinput"===t.kind?r.push(t):"audiooutput"===t.kind&&i.push(t),[n,r,i]}),[[],[],[]])),[n]);return(0,bn.useEffect)((()=>{a&&a.length&&i(!0)}),[a]),(0,bn.useEffect)((()=>{s&&s.length&&r(!0)}),[s]),(0,bn.useEffect)((()=>{c&&c.length&&o(!0)}),[c]),bn.createElement(bn.Fragment,null,bn.createElement(bn.Fragment,null,t&&bn.createElement(bn.Fragment,null,bn.createElement(QS,{size:24}),bn.createElement(Sn.Z,{style:RC.infoTxtContainer},bn.createElement(lu.Z,{style:RC.infoTxt},"Attendees need to raise their hand to access the devices."))),bn.createElement(QS,{size:24}),bn.createElement(bn.Fragment,null,bn.createElement(wC,e),bn.createElement(QS,{size:24})),bn.createElement(TC,e),bn.createElement(QS,{size:24}),bn.createElement(CC,e),bn.createElement(QS,{size:24})))};var OC=__webpack_require__(6250);const kC=du.Z.create({heading:{fontSize:20,fontWeight:"700",color:"#FFFFFF",alignSelf:"center"},popupPicker:{height:30,marginBottom:10,borderRadius:50,paddingHorizontal:15,fontSize:15,minHeight:35}}),NC=()=>{const{primaryColor:e}=(0,bn.useContext)(eu),{languageCode:t,setLanguageCode:n}=$h(),r=hL((e=>null==e?void 0:e.i18n));return r&&r.length?1===r.length&&r[0].locale===Qh.locale?bn.createElement(bn.Fragment,null):bn.createElement(bn.Fragment,null,bn.createElement(lu.Z,{style:kC.heading},"Language"),bn.createElement(OC.Z,{selectedValue:t,style:[{borderColor:e},kC.popupPicker],onValueChange:e=>n(e)},r.map((e=>bn.createElement(OC.Z.Item,{label:e.label||e.locale,value:e.locale,key:e.locale}))),r.filter((e=>e.locale===Qh.locale)).length?null:bn.createElement(OC.Z.Item,{label:Qh.label||Qh.locale,value:Qh.locale,key:Qh.locale}))):bn.createElement(bn.Fragment,null)},xC=e=>{const{saveName:t}=Gp(),[n,r]=(0,bn.useState)(!1),i=Hp(),[o,a]=(0,bn.useState)(i),[s,c]=(0,bn.useState)(!0),[l,u]=(0,bn.useState)(!o||0===o.length||""==o.trim()||o===i),d=$f();(0,bn.useEffect)((()=>{u(!o||0===o.length||""==o.trim()||o===i)}),[o]);const h=(0,bn.useRef)(null),p=()=>{{const e=null==o?void 0:o.trim();e?(d(e),a(e)):a(i),r(!0),setTimeout((()=>{r(!1)}),2e3),c(!1),t(e||i)}},{currentFocus:f,setFocus:m}=Nw();return(0,bn.useEffect)((()=>{f.editName&&(c(!0),setTimeout((()=>{h.current.focus(),m((e=>({...e,editName:!1})))}),500))}),[null==f?void 0:f.editName]),bn.createElement(bn.Fragment,null,bn.createElement(lu.Z,{style:PC.yournameText},"Your name"),bn.createElement(QS,{size:12}),bn.createElement(Sn.Z,{style:PC.container},bn.createElement(Sn.Z,{style:PC.nameContainer},bn.createElement(pm,{name:"person",iconSize:20,iconType:"plain",tintColor:"#808080"}),bn.createElement(ym.Z,{maxLength:60,ref:h,style:[PC.inputStyle,{}],onBlur:p,placeholder:i,value:o,editable:!0,onChangeText:e=>a(e),onSubmitEditing:p,placeholderTextColor:"#FFFFFF"+om.disabled}))))},PC=du.Z.create({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderWidth:1,borderColor:"#262626",backgroundColor:"#181818",borderRadius:8,paddingLeft:20,overflow:"hidden"},editBtn:{paddingHorizontal:24,paddingVertical:20,borderLeftWidth:1,borderLeftColor:"#262626"},nameContainer:{flexDirection:"row",flex:1,alignItems:"center"},inputStyle:{color:"#FFFFFF",fontWeight:"600",fontFamily:sm.sansPro,fontSize:am.medium,width:"100%",paddingHorizontal:8,paddingVertical:18,borderWidth:0,...En.Z.select({web:{outlineStyle:"none"}})},editBtnText:{fontFamily:sm.sansPro,fontSize:am.normal,fontWeight:"600",color:"#FFFFFF"},yournameText:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,color:"#FFFFFF"}}),DC=du.Z.create({contentContainer:{padding:20}}),LC=e=>{const{hideName:t=!1,showHeader:n=!0}=e,r=ei(),{setSidePanel:i}=Zf(),{currentLayout:o}=Cf(),{transcriptHeight:a}=xT();return bn.createElement(Sn.Z,{style:[Zr()?aT.sidePanelContainerNative:r()?aT.sidePanelContainerWebMinimzed:aT.sidePanelContainerWeb,qr()&&!r()&&o===ow()?{marginVertical:4}:{},a&&!Zr()&&{height:a}]},n&&bn.createElement(CT,e),bn.createElement(Sm.Z,{style:DC.contentContainer},t?bn.createElement(bn.Fragment,null):bn.createElement(xC,null),qr()&&bn.createElement(IC,{isIconDropdown:!0}),bn.createElement(NC,null)))},MC=function(e){const{callbacks:t}=(0,bn.useContext)(fh),{isScreenshareActive:n}=CS(),{RtcEngine:r}=tm(),i=Af(),{showLabel:o=!0,disabled:a=!1}=e,s=()=>{r.switchCamera(),(null==t?void 0:t.SwitchCamera)&&t.SwitchCamera()},c=i.video===ch.enabled;let l={iconProps:{name:"switch-camera",tintColor:c||!a?"#FFFFFF":"#808080"},disabled:!(c&&!a),onPress:s};return null!=e&&e.render?e.render(s,c):bn.createElement(AS,l)},FC=e=>{const{rtcProps:t}=(0,bn.useContext)(fh),{showLabel:n=!0,isOnActionSheet:r=!1}=e,{data:{isHost:i}}=rf(),o=Af(),a=Bw(),{isScreenshareActive:s,startUserScreenshare:c,stopUserScreenShare:l}=CS(),{setShowStartScreenSharePopup:u}=qA(),d=()=>{s?l():c()};let h={iconProps:{name:s?"stop-screen-share":"screen-share",tintColor:s?"#FF414D":"#FFFFFF"},onPress:d,btnTextProps:{text:n?s?"Stop Share":"Share":"",textColor:"#FFFFFF"}};return h.isOnActionSheet=r,t.role,ah.Audience,t.role!=ah.Audience||i||(h.iconProps={...h.iconProps,tintColor:"#808080"},h.toolTipMessage=a(o.uid)?"Waiting for host to appove the request":"Raise Hand in order to present",h.disabled=!0),null!=e&&e.render?e.render(d,s):bn.createElement(AS,h)},UC=e=>{var t;const{audienceSendsRequest:n,audienceRecallsRequest:r,raiseHandList:i}=(0,bn.useContext)(Ew),{rtcProps:o}=(0,bn.useContext)(fh),{localUid:a}=(0,bn.useContext)(jp),{activeUids:s}=nm(),{showLabel:c=!0}=e,l=(null===(t=i[a])||void 0===t?void 0:t.raised)===pw.TRUE;return bn.createElement(AS,{iconProps:{name:l?"lower-hand":"raise-hand",tintColor:"#FFFFFF",iconBackgroundColor:l?"#099DFD":"",base64:!!Zr()},btnTextProps:{text:c?(u=l,u?"Lower hand":"Raise Hand"):"",textColor:"#FFFFFF"},onPress:()=>{l?r():n()}});var u},jC=e=>{const{showControls:t,isDesktop:n,showLabel:r=!0}=e;return t?bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:{alignSelf:"center",marginHorizontal:10}},bn.createElement(UC,{showLabel:r}))):bn.createElement(bn.Fragment,null)},VC=e=>{const{textStyle:t={},containerStyle:n={},iconName:r="download",text:i="Download Transcript"}=e,{isSTTActive:o}=hT(),{downloadTranscript:a}=TT();return bn.createElement(Sn.Z,{style:BC.btnContainer},bn.createElement(vm,{iconSize:20,iconColor:"#FFFFFF",iconName:r,containerStyle:[BC.btnContainerStyle,n],textStyle:[BC.btnTxtStyle,t],onPress:()=>{a()},text:i}))},BC=du.Z.create({btnContainerStyle:{paddingVertical:0,paddingHorizontal:0,backgroundColor:"transparent",borderRadius:4},btnContainer:{},btnTxtStyle:{fontSize:am.small,lineHeight:am.small,fontWeight:"600",textTransform:"capitalize",color:"#FFFFFF"}}),zC=e=>{const t=$r()("popup"),{isSTTActive:n}=hT();return bn.createElement(XS,{modalVisible:e.modalVisible,setModalVisible:e.setModalVisible,showCloseIcon:!1,contentContainerStyle:GC.contentContainer},bn.createElement(lu.Z,{style:GC.heading},"Leave Meeting?"),bn.createElement(QS,{size:8}),bn.createElement(lu.Z,{style:GC.subHeading},"Are you sure you want to leave this meeting?"),bn.createElement(bn.Fragment,null),bn.createElement(QS,{size:40}),bn.createElement(Sn.Z,{style:t?GC.btnContainer:GC.btnContainerMobile},bn.createElement(Sn.Z,{style:t&&{flex:1}},bn.createElement(nA,{containerStyle:{width:"100%",height:48,paddingVertical:8,paddingHorizontal:40,borderRadius:cm.medium},text:"CANCEL",textStyle:GC.btnText,onPress:()=>e.setModalVisible(!1)})),bn.createElement(QS,{size:t?10:20,horizontal:!!t}),bn.createElement(Sn.Z,{style:t&&{flex:1}},bn.createElement(vm,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:cm.medium,height:48,backgroundColor:"#FF414D",paddingVertical:8,paddingHorizontal:36},text:"LEAVE",textStyle:GC.btnText,onPress:e.endCall}))))},GC=du.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},contentContainer:{padding:24,minWidth:342},heading:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,color:"#FFFFFF",maxWidth:336},downloadBtn:{minWidth:"auto"},btnDownloadContainer:{paddingHorizontal:16,paddingVertical:12,backgroundColor:"#262626",justifyContent:"space-between",alignItems:"center",borderRadius:6,marginTop:20},downloadBtnText:{color:"#099DFD"},label:{color:"#FFFFFF",fontSize:am.tiny,lineHeight:20,fontWeight:"600",fontFamily:sm.sansPro},row:{flexDirection:"row"}}),HC=An.Z.ForegroundService;class qC{static registerForegroundTask(e,n){t.Z.registerHeadlessTask(e,(()=>n))}static async startService(e){return console.log("Start Service Triggered"),await HC.startService(e)}static async updateNotification(e){return console.log(" Update Service Triggered"),await HC.updateNotification(e)}static async cancelNotification(e){return console.log("Cancel Service Triggered"),await HC.cancelNotification({id:e})}static async stopService(){return console.log("Stop Service Triggered"),await HC.stopService()}static async stopServiceAll(){return await HC.stopServiceAll()}static async runTask(e){return await HC.runTask(e)}static async isRunning(){return await HC.isRunning()}}const WC=e=>"x".repeat(e).replace(/[xy]/g,(e=>{let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}));let ZC={};const KC=500;let YC=!1;const QC=e=>{delete ZC[e]},JC=async()=>{try{if(!YC)return;const e=Date.now();let t=[];Object.entries(ZC).forEach((([n,r])=>{e>=r.nextExecutionTime&&(t.push(Promise.resolve(r.task()).then(r.onSuccess,r.onError)),r.onLoop?r.nextExecutionTime=e+r.delay:QC(n))})),await Promise.all(t)}catch(e){console.log("Error in FgService taskRunner:",e)}},XC={register:()=>{if(!YC)return qC.registerForegroundTask("myTaskName",JC)},start:async({id:e,title:t=e,message:n="Foreground Service Running...",vibration:r=!1,visibility:i="public",icon:o="ic_launcher",largeicon:a="ic_launcher",importance:s="max",number:c="1",button:l=!1,buttonText:u="",buttonOnPress:d="buttonOnPress",mainOnPress:h="mainOnPress"})=>{try{YC?console.log("Foreground service is already running."):(await qC.startService({id:e,title:t,message:n,vibration:r,visibility:i,icon:o,largeicon:a,importance:s,number:c,button:l,buttonText:u,buttonOnPress:d,mainOnPress:h}),YC=!0,await qC.runTask({taskName:"myTaskName",delay:KC,loopDelay:KC,onLoop:!0}))}catch(e){throw e}},update:async({id:e,title:t=e,message:n="Foreground Service Running...",vibration:r=!1,visibility:i="public",largeicon:o="ic_launcher",icon:a="ic_launcher",importance:s="max",number:c="0",button:l=!1,buttonText:u="",buttonOnPress:d="buttonOnPress",mainOnPress:h="mainOnPress"})=>{try{await qC.updateNotification({id:e,title:t,message:n,vibration:r,visibility:i,largeicon:o,icon:a,importance:s,number:c,button:l,buttonText:u,buttonOnPress:d,mainOnPress:h}),YC||(YC=!0,await qC.runTask({taskName:"myTaskName",delay:KC,loopDelay:KC,onLoop:!0}))}catch(e){throw e}},stop:()=>(YC=!1,qC.stopService()),is_running:()=>YC,add_task:(e,{delay:t=5e3,onLoop:n=!0,taskId:r=WC(12),onSuccess:i=(()=>{}),onError:o=(()=>{})})=>{const a=typeof e;if("function"!==a)throw`invalid task of type ${a}, expected a function or a Promise`;return ZC[r]||(ZC[r]={task:e,nextExecutionTime:Date.now(),delay:Math.ceil(t/KC)*KC,onLoop:n,taskId:r,onSuccess:i,onError:o}),r},update_task:(e,{delay:t=5e3,onLoop:n=!0,taskId:r=WC(12),onSuccess:i=(()=>{}),onError:o=(()=>{})})=>{const a=typeof e;if("function"!==a)throw`invalid task of type ${a}, expected a function or a Promise`;return ZC[r]={task:e,nextExecutionTime:Date.now(),delay:Math.ceil(t/KC)*KC,onLoop:n,taskId:r,onSuccess:i,onError:o},r},remove_task:e=>QC(e),is_task_running:e=>!!ZC[e],remove_all_tasks:()=>ZC={},get_task:e=>ZC[e],get_all_tasks:()=>ZC},$C=XC,eR=e=>{const{dispatch:t}=tm(),{isScreenshareActive:n,stopUserScreenShare:r}=CS(),{showLabel:i=!0,isOnActionSheet:o=!1}=e,{setStore:a}=(0,bn.useContext)(li),[s,c]=(0,bn.useState)(!1),{stop:l}=wT(),{renderList:u}=nm(),{isSTTActive:d}=hT(),{phrase:h}=pr(),p=()=>{c(!0)},[f,m]=(0,bn.useState)(!1),v=()=>{setTimeout((()=>{t({type:"EndCall",value:[]})})),"android"===En.Z.OS&&($C.stop(),console.log("stopping foreground service")),1===Object.entries(u).filter((e=>"rtc"===e[1].type)).length&&d&&l()};(0,bn.useEffect)((()=>{!n&&f&&(v(),m(!1))}),[n,f]);let g={iconProps:{name:"end-call",tintColor:"#FFFFFF",iconBackgroundColor:"#FF414D",iconContainerStyle:!o&&{width:72,height:52}},onPress:p,btnTextProps:{text:i?"Leave":"",textColor:"#FFFFFF"}};return null!=e&&e.render?e.render(p):bn.createElement(bn.Fragment,null,bn.createElement($n,{when:!0,message:(e,t)=>"POP"!==t||(p(),!1)}),bn.createElement(zC,{endCall:async()=>{v()},setModalVisible:c,modalVisible:s}),bn.createElement(AS,g))},tR=()=>{const{rtcProps:e}=(0,bn.useContext)(fh),[t,n]=bn.useState(!1),[r,i]=(0,bn.useState)(!1),[o,a]=(0,bn.useState)(!1),s=(0,bn.useRef)(null),{width:c,height:l}=(0,Br.Z)(),u=nw(),{currentLayout:d,setLayout:h}=Cf(),p=u.findIndex((e=>e.name===d)),{setSidePanel:f,sidePanel:m}=Zf(),{isCaptionON:v,setIsCaptionON:g,language:y,isSTTActive:b}=hT(),E=m===Hf.Transcript,[_,S]=bn.useState(!1),A=bn.useRef(!1),w=bn.useRef(null),{start:T,restart:C}=wT(),{data:{isHost:R}}=rf(),{showLayoutOption:I,setShowInvitePopup:O,setShowStopRecordingPopup:k,setShowLayoutOption:N}=qA(),{isScreenshareActive:x,startUserScreenshare:P,stopUserScreenShare:D}=CS(),{isRecordingActive:L,startRecording:M,inProgress:F}=Ff(),{setGroupActive:U}=Vf(),j=[];var V;return j.push({icon:v?"captions-off":"captions",iconColor:"#FFFFFF",textColor:"#FFFFFF",disabled:!0,title:v?"Hide Caption":"Show Caption",callback:()=>{n(!1),w.current=v?null:"caption",b?g((e=>!e)):(A.current=!0,S(!0))}}),j.push({icon:"transcript",iconColor:"#FFFFFF",textColor:"#FFFFFF",disabled:!0,title:E?"Hide Transcript":"Show Transcript",callback:()=>{n(!1),w.current=E?null:"transcript",b?f(E?Hf.None:Hf.Transcript):(A.current=!0,S(!0))}}),c<=Qr&&(j.push({icon:"participants",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"People",callback:()=>{n(!1),f(Hf.Participants)}}),j.push({icon:"chat-nav",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Chat",callback:()=>{n(!1),U(!0),f(Hf.Chat)}}),e.role,ah.Audience,j.push({disabled:e.role==ah.Audience&&!R,icon:x?"stop-screen-share":"screen-share",iconColor:x?"#FF414D":"#FFFFFF",textColor:x?"#FF414D":"#FFFFFF",title:x?"Stop Share":"Share",callback:()=>{n(!1),x?D():P()}})),c<=Jr&&(j.push({icon:null===(V=u[p])||void 0===V?void 0:V.iconName,iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Layout",callback:()=>{},onHoverCallback:e=>{N(e)},onHoverContent:bn.createElement(tC,{onHoverPlaceHolder:"vertical",setShowDropdown:()=>{},showDropdown:!0,modalPosition:c<=Qr?{bottom:65,left:-150}:{bottom:20,left:-150},caretPosition:{bottom:45,right:-10}})}),j.push({icon:"share",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Invite",callback:()=>{n(!1),O(!0)}})),c<=Qr&&j.push({icon:"settings",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Settings",callback:()=>{n(!1),f(Hf.Settings)}}),(0,bn.useEffect)((()=>{n(!!r)}),[r]),(0,bn.useEffect)((()=>{n(!1)}),[d]),bn.createElement(bn.Fragment,null,bn.createElement(ST,{modalVisible:_,setModalVisible:S,onConfirm:async(e,t)=>{const n="caption"===w.current,r="transcript"===w.current;S(!1),A.current=!1;const i=n?v:E?"stop":"start";if(r&&f(E?Hf.None:Hf.Transcript),"stop"!==i&&("start"!==i||!0!==b)){n&&g((e=>!e));try{const e=await T(t);null!=e&&e.message.includes("STARTED")&&await C(t)}catch(e){console.log("eror in starting stt",e)}}},isFirstTimePopupOpen:A.current}),bn.createElement(dw,{containerStyle:{width:180},hoverMode:!0,onHover:e=>a(e),from:"control-bar",actionMenuVisible:r||o,setActionMenuVisible:n,modalPosition:{bottom:8,left:0},items:j}),bn.createElement("div",{onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)}},bn.createElement(Sn.Z,{style:{position:"absolute",top:-20,zIndex:-1,height:"50%",width:"100%",backgroundColor:"transparent"}}),bn.createElement(AS,{setRef:e=>{s.current=e},onPress:()=>{},iconProps:{name:"more-menu",tintColor:"#FFFFFF"},btnTextProps:{text:"More",textColor:"#FFFFFF"}})))},nR=du.Z.create({container:{flexDirection:"row",justifyContent:"space-between",paddingTop:10,paddingBottom:16,backgroundColor:"#111111"},leftContent:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},centerContent:{zIndex:2,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},rightContent:{flex:1}}),rR=()=>{const{rtcProps:e}=(0,bn.useContext)(fh),t=$r(),{renderList:n}=nm(),{data:{isHost:r}}=rf(),{width:i}=(0,Br.Z)(),{setIsSTTActive:o,setLanguage:a,setMeetingTranscript:s}=hT(),c=bn.useRef(n);bn.useEffect((()=>{c.current=n}),[n]),bn.useEffect((()=>{Fp.on(Cp,(e=>{const t=JSON.parse(null==e?void 0:e.payload);o(t.active)}))}),[]),bn.useEffect((()=>{qr()&&Fp.on(Rp,(e=>{var t;const{username:n,prevLang:r,newLang:i,uid:o}=JSON.parse(null==e?void 0:e.payload),u=-1!==r.indexOf("")?`has set the spoken language to  "${vT(i)}" `:`changed the spoken language from "${vT(r)}" to "${vT(i)}" `,d=`${(null===(t=c.current[o])||void 0===t?void 0:t.name)||n} ${u} `;Bu.show({type:"info",leadingIcon:bn.createElement(l,{color:"#FFFFFF"}),text1:"Spoken Language "+(-1!==r.indexOf("")?"Set":"Changed"),visibilityTime:3e3,primaryBtn:null,secondaryBtn:null,text2:d}),i&&a(i),s((e=>[...e,{name:"langUpdate",time:(new Date).getTime(),uid:`langUpdate-${o}`,text:u}]))}))}),[]);const l=({color:e})=>bn.createElement(Sn.Z,{style:{marginRight:12,alignSelf:"center",width:24,height:24}},bn.createElement(pm,{iconType:"plain",tintColor:e,name:"lang-select"}));return bn.createElement(Sn.Z,{testID:"videocall-controls",style:[nR.container,{paddingHorizontal:t("toolbar")?32:16}]},i>=Jr&&bn.createElement(Sn.Z,{style:nR.leftContent},bn.createElement(Sn.Z,{testID:"layout-btn",style:{marginRight:10},collapsable:!1},bn.createElement(oC,null)),bn.createElement(Sn.Z,{testID:"invite-btn",style:{marginHorizontal:10}},bn.createElement(XT,null))),bn.createElement(Sn.Z,{style:nR.centerContent},e.role==ah.Audience?bn.createElement(jC,{showControls:!0,isDesktop:t("toolbar")}):bn.createElement(bn.Fragment,null),bn.createElement(bn.Fragment,null,bn.createElement(jC,{isDesktop:t("toolbar"),showControls:(null==e?void 0:e.role)==ah.Broadcaster&&!r}),bn.createElement(Sn.Z,{testID:"localAudio-btn",style:{marginHorizontal:10}},bn.createElement(Gw,{showToolTip:!0})),bn.createElement(Sn.Z,{testID:"localVideo-btn",style:{marginHorizontal:10}},bn.createElement(zw,{showToolTip:!0})),Pu()&&bn.createElement(Sn.Z,{testID:"switchCamera-btn",style:{marginHorizontal:10}},bn.createElement(MC,null)),i>Qr&&!Pu()&&bn.createElement(Sn.Z,{testID:"screenShare-btn",style:{marginHorizontal:10}},bn.createElement(FC,null)),i>Qr&&r&&!1),i<Jr&&bn.createElement(Sn.Z,{testID:"more-btn",style:{marginHorizontal:10}},bn.createElement(tR,null)),bn.createElement(Sn.Z,{testID:"endCall-btn",style:{marginHorizontal:10}},bn.createElement(eR,null))),i>=Jr&&bn.createElement(Sn.Z,{style:nR.rightContent}))},iR=()=>{const{dispatch:e}=tm(),[t,n]=(0,bn.useState)(0),r=nw(),{currentLayout:i,setLayout:o}=Cf(),{activeUids:a,pinnedUid:s}=nm();if((0,bn.useEffect)((()=>{if(a&&1===a.length){s&&e({type:"UserPin",value:[0]});const t=ow();i!==t&&o(t)}}),[a]),(0,bn.useEffect)((()=>{if(Kr(r)){let e=r.findIndex((e=>e.name===i));e>=0&&n(e)}}),[i]),r&&r[t]&&Hr(r[t].component)){const e=r[t].component;return bn.createElement(e,{renderData:a})}return bn.createElement(bn.Fragment,null)};let oR=function(e){return e[e.topBar=0]="topBar",e[e.bottomBar=1]="bottomBar",e[e.actionBar=2]="actionBar",e}({});const aR=bn.createContext({buttonTemplateName:void 0}),sR=e=>bn.createElement(aR.Provider,{value:{...e.value}},e.children);Zu(aR);var cR=__webpack_require__(2473),lR=__webpack_require__.n(cR),uR=dR()?bn.useLayoutEffect:bn.useEffect;function dR(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}lR(),"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math&&self;var hR=__webpack_require__(5943);const pR=function(e){var t,n=e.children,r=e.type,i=void 0===r?"reach-portal":r,o=(0,bn.useRef)(null),a=(0,bn.useRef)(null),s=(t=(0,bn.useState)(Object.create(null))[1],(0,bn.useCallback)((function(){t(Object.create(null))}),[]));return uR((function(){if(o.current){var e=o.current.ownerDocument;return a.current=null==e?void 0:e.createElement(i),e.body.appendChild(a.current),s(),function(){a.current&&a.current.ownerDocument&&a.current.ownerDocument.body.removeChild(a.current)}}}),[i,s]),a.current?(0,hR.createPortal)(n,a.current):(0,bn.createElement)("span",{ref:o})};var fR=function(){return fR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fR.apply(this,arguments)};function mR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function vR(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gR(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function yR(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var bR,ER,_R,SR={},AR="xstate.guard";!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(bR||(bR={})),(_R=ER||(ER={})).Parent="#_parent",_R.Internal="#_internal";var wR,TR=bR.Start,CR=bR.Stop,RR=bR.Raise,IR=bR.Send,OR=bR.Cancel,kR=bR.NullEvent,NR=bR.Assign,xR=(bR.After,bR.DoneState,bR.Log),PR=bR.Init,DR=bR.Invoke,LR=(bR.ErrorExecution,bR.ErrorPlatform),MR=bR.ErrorCustom,FR=bR.Update,UR=bR.Choose,jR=bR.Pure,VR=!0;function BR(e,t,n){void 0===n&&(n=".");var r=HR(e,n),i=HR(t,n);return aI(i)?!!aI(r)&&i===r:aI(r)?r in i:Object.keys(r).every((function(e){return e in i&&BR(r[e],i[e])}))}function zR(e){try{return aI(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function GR(e,t){try{return iI(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function HR(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:iI(e)?qR(e):"string"!=typeof e?e:qR(GR(e,t));var n}function qR(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function WR(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function ZR(e,t,n){var r,i,o={};try{for(var a=vR(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,l=e[c];n(l)&&(o[c]=t(l,c,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var KR=function(e){return function(t){var n,r,i=t;try{for(var o=vR(e),a=o.next();!a.done;a=o.next())i=i[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function YR(e){if(!e)return[[]];if(aI(e))return[[e]];var t=QR(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?YR(e[t]).map((function(e){return[t].concat(e)})):[[t]]})));return t}function QR(e){var t;return(t=[]).concat.apply(t,yR([],gR(e),!1))}function JR(e){return iI(e)?e:[e]}function XR(e){return void 0===e?[]:JR(e)}function $R(e,t,n){var r,i;if(oI(e))return e(t,n.data);var o={};try{for(var a=vR(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,l=e[c];oI(l)?o[c]=l(t,n.data):o[c]=l}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function eI(e){return e instanceof Promise||!(null===e||!oI(e)&&"object"!=typeof e||!oI(e.then))}function tI(e,t){return WR(e.states,(function(e,n){if(e){var r=(aI(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:tI(e,r)}}}))}function nI(e,t,n,r){VR||rI(!!e,"Attempting to update undefined context");var i=e?n.reduce((function(e,n){var i,o,a=n.assignment,s={state:r,action:n,_event:t},c={};if(oI(a))c=a(e,t.data,s);else try{for(var l=vR(Object.keys(a)),u=l.next();!u.done;u=l.next()){var d=u.value,h=a[d];c[d]=oI(h)?h(e,t.data,s):h}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return Object.assign({},e,c)}),e):e;return i}var rI=function(){};function iI(e){return Array.isArray(e)}function oI(e){return"function"==typeof e}function aI(e){return"string"==typeof e}function sI(e,t){if(e)return aI(e)?{type:AR,name:e,predicate:t?t[e]:void 0}:oI(e)?{type:AR,name:e.name,predicate:e}:e}VR||(rI=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var r=["Warning: ".concat(t)];n&&r.push(n),console.warn.apply(console,r)}});var cI=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function lI(e){return!!e&&"__xstatenode"in e}function uI(e,t){return aI(e)||"number"==typeof e?fR({type:e},t):e}function dI(e,t){if(!aI(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=uI(e);return fR({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function hI(e,t){return JR(t).map((function(t){return void 0===t||"string"==typeof t||lI(t)?{target:t,event:e}:fR(fR({},t),{event:e})}))}function pI(e,t,n,r,i){var o=e.options.guards,a={state:i,cond:t,_event:r};if(t.type===AR)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,a);var s=null==o?void 0:o[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function fI(e){return"string"==typeof e?{type:e}:e}function mI(e,t,n){var r=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function vI(e,t){return"".concat(e,":invocation[").concat(t,"]")}function gI(e){return(e.type===RR||e.type===IR&&e.to===ER.Internal)&&"number"!=typeof e.delay}(wR={})[cI]=function(){return this},wR[Symbol.observable]=function(){return this};var yI=function(e){return"atomic"===e.type||"final"===e.type};function bI(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function EI(e){return bI(e).filter((function(e){return"history"!==e.type}))}function _I(e){var t=[e];return yI(e)?t:t.concat(QR(EI(e).map(_I)))}function SI(e,t){var n,r,i,o,a,s,c,l,u=wI(new Set(e)),d=new Set(t);try{for(var h=vR(d),p=h.next();!p.done;p=h.next())for(var f=(A=p.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var m=wI(d);try{for(var v=vR(d),g=v.next();!g.done;g=v.next())if("compound"!==(A=g.value).type||m.get(A)&&m.get(A).length){if("parallel"===A.type)try{for(var y=(a=void 0,vR(EI(A))),b=y.next();!b.done;b=y.next()){var E=b.value;d.has(E)||(d.add(E),u.get(E)?u.get(E).forEach((function(e){return d.add(e)})):E.initialStateNodes.forEach((function(e){return d.add(e)})))}}catch(e){a={error:e}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}}else u.get(A)?u.get(A).forEach((function(e){return d.add(e)})):A.initialStateNodes.forEach((function(e){return d.add(e)}))}catch(e){i={error:e}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var _=vR(d),S=_.next();!S.done;S=_.next()){var A;for(f=(A=S.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}}catch(e){c={error:e}}finally{try{S&&!S.done&&(l=_.return)&&l.call(_)}finally{if(c)throw c.error}}return d}function AI(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(yI(r))return r.key}var i={};return n.forEach((function(e){i[e.key]=AI(e,t)})),i}function wI(e){var t,n,r=new Map;try{for(var i=vR(e),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function TI(e,t){return AI(e,wI(SI([e],t)))}function CI(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function RI(e,t){return"compound"===t.type?EI(t).some((function(t){return"final"===t.type&&CI(e,t)})):"parallel"===t.type&&EI(t).every((function(t){return RI(e,t)}))}function II(e){return new Set(QR(e.map((function(e){return e.tags}))))}var OI=dI({type:PR});function kI(e,t){return t&&t[e]||void 0}function NI(e,t){var n;if(aI(e)||"number"==typeof e)n=oI(r=kI(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(oI(e))n={type:e.name||e.toString(),exec:e};else{var r;if(oI(r=kI(e.type,t)))n=fR(fR({},e),{exec:r});else if(r){var i=r.type||e.type;n=fR(fR(fR({},r),e),{type:i})}else n=e}return n}var xI=function(e,t){return e?(iI(e)?e:[e]).map((function(e){return NI(e,t)})):[]};function PI(e){var t=NI(e);return fR(fR({id:aI(e)?e:t.id},t),{type:t.type})}function DI(e,t){var n="".concat(bR.DoneState,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function LI(e,t){var n="".concat(bR.DoneInvoke,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function MI(e,t){var n="".concat(bR.ErrorPlatform,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function FI(e,t,n,r,i,o,a){void 0===a&&(a=!1);var s=a?[]:function(e){var t,n,r=[];try{for(var i=vR(e),o=i.next();!o.done;o=i.next())for(var a=o.value,s=0;s<a.actions.length;)a.actions[s].type!==NR?s++:(r.push(a.actions[s]),a.actions.splice(s,1))}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(i),c=s.length?nI(n,r,s,t):n,l=a?[n]:void 0,u=[];function d(i,s){var d;switch(s.type){case RR:var h=function(e,t,n,r){var i,o={_event:n},a=dI(oI(e.event)?e.event(t,n.data,o):e.event);if(aI(e.delay)){var s=r&&r[e.delay];i=oI(s)?s(t,n.data,o):s}else i=oI(e.delay)?e.delay(t,n.data,o):e.delay;return fR(fR({},e),{type:RR,_event:a,delay:i})}(s,c,r,e.options.delays);return o&&"number"==typeof h.delay&&o(h,c,r),h;case IR:var p=function(e,t,n,r){var i,o={_event:n},a=dI(oI(e.event)?e.event(t,n.data,o):e.event);if(aI(e.delay)){var s=r&&r[e.delay];i=oI(s)?s(t,n.data,o):s}else i=oI(e.delay)?e.delay(t,n.data,o):e.delay;var c=oI(e.to)?e.to(t,n.data,o):e.to;return fR(fR({},e),{to:c,_event:a,event:a.data,delay:i})}(s,c,r,e.options.delays);if(!VR){var f=s.delay;rI(!aI(f)||"number"==typeof p.delay,"No delay reference for delay expression '".concat(f,"' was found on machine '").concat(e.id,"'"))}return o&&p.to!==ER.Internal&&("entry"===i?u.push(p):o(p,c,r)),p;case xR:var m=function(e,t,n){return fR(fR({},e),{value:aI(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(s,c,r);return null==o||o(m,c,r),m;case UR:if(!(b=null===(d=s.conds.find((function(n){var i=sI(n.cond,e.options.guards);return!i||pI(e,i,c,r,o?void 0:t)})))||void 0===d?void 0:d.actions))return[];var v=gR(FI(e,t,c,r,[{type:i,actions:xI(XR(b),e.options.actions)}],o,a),2),g=v[0],y=v[1];return c=y,null==l||l.push(c),g;case jR:var b;if(!(b=s.get(c,r.data)))return[];var E=gR(FI(e,t,c,r,[{type:i,actions:xI(XR(b),e.options.actions)}],o,a),2),_=E[0],S=E[1];return c=S,null==l||l.push(c),_;case CR:return m=function(e,t,n){var r=oI(e.activity)?e.activity(t,n.data):e.activity,i="string"==typeof r?{id:r}:r;return{type:bR.Stop,activity:i}}(s,c,r),null==o||o(m,n,r),m;case NR:c=nI(c,r,[s],o?void 0:t),null==l||l.push(c);break;default:var A=NI(s,e.options.actions),w=A.exec;if(o)o(A,c,r);else if(w&&l){var T=l.length-1,C=fR(fR({},A),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];w.apply(void 0,yR([l[T]],gR(t),!1))}});A=C}return A}}var h=QR(i.map((function(e){var t,n,i=[];try{for(var a=vR(e.actions),s=a.next();!s.done;s=a.next()){var l=s.value,h=d(e.type,l);h&&(i=i.concat(h))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return u.forEach((function(e){o(e,c,r)})),u.length=0,i})));return[h,c]}function UI(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(aI(e)||aI(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return UI(e[n],t[n])}))}var jI=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=SR,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||SR,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return yR([],gR(new Set(QR(yR([],gR(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:OI,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=OI;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),aI(e))return[e];var r=Object.keys(e);return r.concat.apply(r,yR([],gR(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=mR(e,["configuration","transitions","tags","machine"]);return fR(fR({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return BR(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;VR&&rI(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}();const VI=bn.useLayoutEffect;var BI={deferEvents:!1},zI=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=fR(fR({},BI),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),GI=[],HI=function(e,t){GI.push(e);var n=t(e);return GI.pop(),n};function qI(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[cI]=function(){return this},t}function WI(e,t,n){var r=qI(t);if(r.deferred=!0,lI(e)){var i=r.state=HI(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return i}}return r}var ZI=new Map,KI=0,YI=function(e){ZI.delete(e)};function QI(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void(VR||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}var JI,XI={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(JI||(JI={}));var $I,eO,tO=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=JI.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(iI(e))return r.batch(e),r.state;var n=dI(uI(e,t));if(r.status===JI.Stopped)return VR||rI(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(r.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),r.state;if(r.status!==JI.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var e=r._nextState(n);r.update(e,n)})),r._state},this.sendTo=function(e,t,n){var i,o=r.parent&&(t===ER.Parent||r.parent.id===t),a=o?r.parent:aI(t)?t===ER.Internal?r:r.children.get(t)||function(e){return ZI.get(e)}(t):(i=t)&&"function"==typeof i.send?t:void 0;if(a)if("machine"in a){if(r.status!==JI.Stopped||r.parent!==a||r.state.done){var s=fR(fR({},e),{name:e.name===MR?"".concat(MI(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,s]):a.send(s)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,e.data]):a.send(e.data);else{if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."));VR||rI(!1,"Service '".concat(r.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,n,i){void 0===i&&(i=r.machine.options.actions);var o=e.exec||kI(e.type,i),a=oI(o)?o:o?o.exec:e.exec;if(a)try{return a(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(e){throw r.parent&&r.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case RR:var s=e;r.defer(s);break;case IR:var c=e;if("number"==typeof c.delay)return void r.defer(c);c.to?r.sendTo(c._event,c.to,n===OI):r.send(c._event);break;case OR:r.cancel(e.sendId);break;case TR:if(r.status!==JI.Running)return;var l=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[l.id||l.type])break;if(l.type===bR.Invoke){var u=fI(l.src),d=r.machine.options.services?r.machine.options.services[u.type]:void 0,h=l.id,p=l.data;VR||rI(!("forward"in l),"`forward` property is deprecated (found in invocation of '".concat(l.src,"' in in machine '").concat(r.machine.id,"'). ")+"Please use `autoForward` instead.");var f="autoForward"in l?l.autoForward:!!l.forward;if(!d)return void(VR||rI(!1,"No service found for invocation '".concat(l.src,"' in machine '").concat(r.machine.id,"'.")));var m=p?$R(p,t,n):void 0;if("string"==typeof d)return;var v=oI(d)?d(t,n.data,{data:m,src:u,meta:l.meta}):d;if(!v)return;var g=void 0;lI(v)&&(v=m?v.withContext(m):v,g={autoForward:f}),r.spawn(v,h,g)}else r.spawnActivity(l);break;case CR:r.stopChild(e.activity.id);break;case xR:var y=e,b=y.label,E=y.value;b?r.logger(b,E):r.logger(E);break;default:VR||rI(!1,"No implementation found for action type '".concat(e.type,"'"))}};var i=fR(fR({},e.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,c=i.id,l=void 0!==c?c:t.id;this.id=l,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new zI({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(KI++)}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:HI(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return VR||rI(this.status!==JI.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=vR(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,o,a,s,c,l,u=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==OI||!this.options.execute)for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);else this.execute(this.state);if(this.children.forEach((function(e){u.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var h=vR(this.eventListeners),p=h.next();!p.done;p=h.next())(0,p.value)(e.event)}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var f=vR(this.listeners),m=f.next();!m.done;m=f.next())(0,m.value)(e,e.event)}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}try{for(var v=vR(this.contextListeners),g=v.next();!g.done;g=v.next())(0,g.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(this.state.done){var y=e.configuration.find((function(e){return"final"===e.type&&e.parent===u.machine})),b=y&&y.doneData?$R(y.doneData,e.context,t):void 0;this._doneEvent=LI(this.id,b);try{for(var E=vR(this.doneListeners),_=E.next();!_.done;_=E.next())(0,_.value)(this._doneEvent)}catch(e){c={error:e}}finally{try{_&&!_.done&&(l=E.return)&&l.call(E)}finally{if(c)throw c.error}}this._stop(),this._stopChildren(),YI(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===JI.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,i=mI(e,t,n);this.listeners.add(i.next),this.status!==JI.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===JI.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===JI.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===JI.Running)return this;this.machine._init(),function(e,t){ZI.set(e,t)}(this.sessionId,this),this.initialized=!0,this.status=JI.Running;var n=void 0===e?this.initialState:HI(this,(function(){return"object"==typeof(n=e)&&null!==n&&"value"in n&&"_event"in n?t.machine.resolveState(e):t.machine.resolveState(jI.from(e,t.machine.context));var n}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(n,OI)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){oI(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,i,o,a,s,c,l;try{for(var u=vR(this.listeners),d=u.next();!d.done;d=u.next()){var h=d.value;this.listeners.delete(h)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}try{for(var p=vR(this.stopListeners),f=p.next();!f.done;f=p.next())(h=f.value)(),this.stopListeners.delete(h)}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var m=vR(this.contextListeners),v=m.next();!v.done;v=m.next())h=v.value,this.contextListeners.delete(h)}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}try{for(var g=vR(this.doneListeners),y=g.next();!y.done;y=g.next())h=y.value,this.doneListeners.delete(h)}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=JI.Stopped,this._initialState=void 0;try{for(var b=vR(Object.keys(this.delayedEventsMap)),E=b.next();!E.done;E=b.next()){var _=E.value;this.clock.clearTimeout(this.delayedEventsMap[_])}}catch(e){c={error:e}}finally{try{E&&!E.done&&(l=b.return)&&l.call(b)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new zI({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t=dI({type:"xstate.stop"}),n=HI(e,(function(){var n=QR(yR([],gR(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return xI(t.onExit,e.machine.options.actions)}))),r=gR(FI(e.machine,e.state,e.state.context,t,[{type:"exit",actions:n}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=r[0],o=r[1],a=new jI({value:e.state.value,context:o,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter((function(e){return!gI(e)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return a.changed=!0,a}));e.update(n,t),e._stopChildren(),YI(e.sessionId)})),this},e.prototype.batch=function(e){var t=this;if(this.status===JI.NotStarted&&this.options.deferEvents)VR||rI(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==JI.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var r,i,o=t.state,a=!1,s=[],c=function(e){var r=dI(e);t.forward(r),o=HI(t,(function(){return t.machine.transition(o,r,void 0,n||void 0)})),s.push.apply(s,yR([],gR(t.machine.config.predictableActionArguments?o.actions:o.actions.map((function(e){return function(e,t){var n=e.exec;return fR(fR({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,o)}))),!1)),a=a||!!o.changed};try{for(var l=vR(e),u=l.next();!u.done;u=l.next())c(u.value)}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,t.update(o,dI(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=dI(e);if(0===r.name.indexOf(LR)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(LR)})))throw r.data.data;return HI(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=vR(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout((function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),oI(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==JI.Running)return WI(e,t);if(eI(e))return this.spawnPromise(Promise.resolve(e),t);if(oI(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(i=e)&&"id"in i)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&oI(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(lI(e))return this.spawnMachine(e,fR(fR({},n),{id:t}));if(null!==(r=e)&&"object"==typeof r&&"transition"in r&&"function"==typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,i},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,fR(fR({},this.options),{parent:this,id:n.id||t.id})),o=fR(fR({},XI),n);o.sync&&i.onTransition((function(e){r.send(FR,{state:e,id:i.id})}));var a=i;return this.children.set(i.id,a),o.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){r.removeChild(i.id),r.send(dI(e,{origin:i.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var n=function(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,i=[],o=!1,a=function(e){var t;return fR(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[cI]=function(){return this},t),e)}({id:t.id,send:function(t){i.push(t),function(){if(!o){for(o=!0;i.length>0;){var t=i.shift();n=e.transition(n,t,s),r.forEach((function(e){return e.next(n)}))}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,i){var o=mI(e,t,i);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),s={parent:t.parent,self:a,id:t.id||"anonymous",observers:r};return n=e.start?e.start(s):n,a}(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,i=this,o=!1;e.then((function(e){o||(r=e,i.removeChild(t),i.send(dI(LI(t,e),{origin:t})))}),(function(e){if(!o){i.removeChild(t);var n=MI(t,e);try{i.send(dI(n,{origin:t}))}catch(r){!function(e,t,n){if(!VR){var r=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(e,"'.").concat(r));else{var i=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(e,"'. ").concat(r," Current error is '").concat(t,"'.").concat(i))}}}(e,r,t),i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}}));var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var i=mI(t,n,r),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[cI]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,i,o=this,a=!1,s=new Set,c=new Set;try{i=e((function(e){r=e,c.forEach((function(t){return t(e)})),a||o.send(dI(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(MI(t,e))}if(eI(i))return this.spawnPromise(i,t);var l=((n={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=mI(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){a=!0,oI(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[cI]=function(){return this},n);return this.children.set(t,l),l},e.prototype.spawnObservable=function(e,t){var n,r,i=this,o=e.subscribe((function(e){r=e,i.send(dI(e,{origin:t}))}),(function(e){i.removeChild(t),i.send(dI(MI(t,e),{origin:t}))}),(function(){i.removeChild(t),i.send(dI(LI(t),{origin:t}))})),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[cI]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}else VR||rI(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[cI]=function(){return this},n))},e.prototype.attachDev=function(){var e=QI();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(fR(fR({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:fR({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(QI()){var t=function(){var e=QI();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[cI]=function(){return this},e.prototype.getSnapshot=function(){return this.status===JI.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=nO,e}();function nO(e,t){return new tO(e,t)}function rO(e){var t=bn.useRef();return t.current||(t.current={v:e()}),t.current.v}(eO=$I||($I={}))[eO.Effect=1]="Effect",eO[eO.LayoutEffect=2]="LayoutEffect";var iO=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},oO=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},aO=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},sO=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function cO(e,t){(0,e.exec)(t.context,t._event.data,{action:e,state:t,_event:t._event})()}var lO=function(){return lO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lO.apply(this,arguments)};function uO(e,t){void 0===t&&(t={});var n=(0,bn.useCallback)((function(e){var t=void 0===e.changed&&Object.keys(e.children).length;(e.changed||t)&&a(e)}),[]),r=function(e,t,n){void 0===t&&(t={});var r=rO((function(){return"function"==typeof e?e():e})),i=t.context,o=t.guards,a=t.actions,s=t.activities,c=t.services,l=t.delays,u=t.state,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["context","guards","actions","activities","services","delays","state"]),h=rO((function(){var e={context:i,guards:o,actions:a,activities:s,services:c,delays:l};return nO(r.withConfig(e,(function(){return lO(lO({},r.context),i)})),lO({deferEvents:!0},d))}));return VI((function(){var e;return n&&(e=h.subscribe(function(e,t,n){if("object"==typeof e)return e;var r=function(){};return{next:e,error:r,complete:r}}(n))),function(){null==e||e.unsubscribe()}}),[n]),VI((function(){return h.start(u?jI.create(u):void 0),function(){h.stop()}}),[]),VI((function(){Object.assign(h.machine.options.actions,a),Object.assign(h.machine.options.guards,o),Object.assign(h.machine.options.activities,s),Object.assign(h.machine.options.services,c),Object.assign(h.machine.options.delays,l)}),[a,o,s,c,l]),function(e){var t=(0,bn.useRef)([]),n=(0,bn.useRef)([]);VI((function(){var r=e.subscribe((function(e){var r,i;if(e.actions.length){var o=e.actions.filter((function(e){return"function"==typeof e.exec&&"__effect"in e.exec})),a=aO(function(e,t){var n,r,i=iO([[],[]],2),o=i[0],a=i[1];try{for(var s=oO(e),c=s.next();!c.done;c=s.next()){var l=c.value;l.exec.__effect===$I.Effect?o.push(l):a.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(o),2),s=a[0],c=a[1];(r=t.current).push.apply(r,sO([],aO(s.map((function(t){return[t,e]}))),!1)),(i=n.current).push.apply(i,sO([],aO(c.map((function(t){return[t,e]}))),!1))}}));return function(){r.unsubscribe()}}),[]),VI((function(){for(;n.current.length;){var e=aO(n.current.shift(),2);cO(e[0],e[1])}})),(0,bn.useEffect)((function(){for(;t.current.length;){var e=aO(t.current.shift(),2);cO(e[0],e[1])}}))}(h),h}(e,t,n),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}((0,bn.useState)((function(){var e=r.machine.initialState;return t.state?jI.create(t.state):e})),2),o=i[0],a=i[1];return[o,r.send,r]}const dO={arr:Array.isArray,obj:e=>"[object Object]"===Object.prototype.toString.call(e),fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e,nul:e=>null===e,set:e=>e instanceof Set,map:e=>e instanceof Map,equ(e,t){if(typeof e!=typeof t)return!1;if(dO.str(e)||dO.num(e))return e===t;if(dO.obj(e)&&dO.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;let n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!dO.und(n)||e===t}};function hO(e,t){return dO.und(e)||dO.nul(e)?t:e}function pO(e){return dO.und(e)?[]:dO.arr(e)?e:[e]}function fO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dO.fun(e)?e(...n):e}function mO(e){const t=function(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,(0,Wn.Z)(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(e);if(dO.und(t))return(0,In.Z)({to:t},e);const n=Object.keys(e).reduce(((n,r)=>dO.und(t[r])?(0,In.Z)({},n,{[r]:e[r]}):n),{});return(0,In.Z)({to:t},n)}class vO{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){0===this.children.length&&this.attach(),this.children.push(e)}removeChild(e){const t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}class gO extends vO{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach((e=>e instanceof vO&&e.addChild(this))),this.detach=()=>this.payload.forEach((e=>e instanceof vO&&e.removeChild(this)))}}class yO extends vO{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach((e=>e instanceof vO&&e.addChild(this))),this.detach=()=>Object.values(this.payload).forEach((e=>e instanceof vO&&e.removeChild(this)))}getValue(e){void 0===e&&(e=!1);const t={};for(const n in this.payload){const r=this.payload[n];(!e||r instanceof vO)&&(t[n]=r instanceof vO?r[e?"getAnimatedValue":"getValue"]():r)}return t}getAnimatedValue(){return this.getValue(!0)}}let bO,EO;let _O,SO=e=>"undefined"!=typeof window?window.requestAnimationFrame(e):-1;let AO,wO=()=>Date.now();let TO;class CO extends yO{constructor(e,t){super(),this.update=void 0,this.payload=e.style?(0,In.Z)({},e,{style:TO(e.style)}):e,this.update=t,this.attach()}}let RO=!1;const IO=new Set,OO=()=>{if(!RO)return!1;let e=wO();for(let t of IO){let n=!1;for(let r=0;r<t.configs.length;r++){let i,o,a=t.configs[r];for(let t=0;t<a.animatedValues.length;t++){let r=a.animatedValues[t];if(r.done)continue;let s=a.fromValues[t],c=a.toValues[t],l=r.lastPosition,u=c instanceof vO,d=Array.isArray(a.initialVelocity)?a.initialVelocity[t]:a.initialVelocity;if(u&&(c=c.getValue()),a.immediate)r.setValue(c),r.done=!0;else if("string"!=typeof s&&"string"!=typeof c){if(void 0!==a.duration)l=s+a.easing((e-r.startTime)/a.duration)*(c-s),i=e>=r.startTime+a.duration;else if(a.decay)l=s+d/(1-.998)*(1-Math.exp(-(1-.998)*(e-r.startTime))),i=Math.abs(r.lastPosition-l)<.1,i&&(c=l);else{o=void 0!==r.lastTime?r.lastTime:e,d=void 0!==r.lastVelocity?r.lastVelocity:a.initialVelocity,e>o+64&&(o=e);let t=Math.floor(e-o);for(let e=0;e<t;++e)d+=(-a.tension*(l-c)+-a.friction*d)/a.mass*1/1e3,l+=1*d/1e3;let n=!(!a.clamp||0===a.tension)&&(s<c?l>c:l<c),u=Math.abs(d)<=a.precision,h=0===a.tension||Math.abs(c-l)<=a.precision;i=n||u&&h,r.lastVelocity=d,r.lastTime=e}u&&!a.toValues[t].done&&(i=!1),i?(r.value!==c&&(l=c),r.done=!0):n=!0,r.setValue(l),r.lastPosition=l}else r.setValue(c),r.done=!0}t.props.onFrame&&(t.values[a.name]=a.interpolation.getValue())}t.props.onFrame&&t.props.onFrame(t.values),n||(IO.delete(t),t.stop(!0))}return IO.size?SO(OO):RO=!1,RO};function kO(e,t,n){if("function"==typeof e)return e;if(Array.isArray(e))return kO({range:e,output:t,extrapolate:n});if(_O&&"string"==typeof e.output[0])return _O(e);const r=e,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,a,s,c){let l=c?c(e):e;if(l<t){if("identity"===a)return l;"clamp"===a&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t),l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r,l)}(e,o[t],o[t+1],i[t],i[t+1],c,a,s,r.map)}}class NO extends gO{constructor(e,t,n,r){super(),this.calc=void 0,this.payload=e instanceof gO&&!(e instanceof NO)?e.getPayload():Array.isArray(e)?e:[e],this.calc=kO(t,n,r)}getValue(){return this.calc(...this.payload.map((e=>e.getValue())))}updateConfig(e,t,n){this.calc=kO(e,t,n)}interpolate(e,t,n){return new NO(this,e,t,n)}}const xO=(e,t,n)=>e&&new NO(e,t,n);function PO(e,t){"update"in e?t.add(e):e.getChildren().forEach((e=>PO(e,t)))}class DO extends vO{constructor(e){var t;super(),t=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(e,n){void 0===n&&(n=!0),t.value=e,n&&t.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){0===this.animatedStyles.size&&PO(this,this.animatedStyles),this.animatedStyles.forEach((e=>e.update()))}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,t,n){return new NO(this,e,t,n)}}class LO extends gO{constructor(e){super(),this.payload=e.map((e=>new DO(e)))}setValue(e,t){void 0===t&&(t=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach(((e,n)=>this.payload[n].setValue(e,t))):this.payload.forEach((n=>n.setValue(e,t)))}getValue(){return this.payload.map((e=>e.getValue()))}interpolate(e,t){return new NO(this,e,t)}}let MO=0;class FO{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=MO++}update(e){if(!e)return this;const t=mO(e),n=t.delay,r=void 0===n?0:n,i=t.to,o=(0,Wn.Z)(t,["delay","to"]);if(dO.arr(i)||dO.fun(i))this.queue.push((0,In.Z)({},o,{delay:r,to:i}));else if(i){let e={};Object.entries(i).forEach((t=>{let n=t[0],i=t[1];const a=(0,In.Z)({to:{[n]:i},delay:fO(r,n)},o),s=e[a.delay]&&e[a.delay].to;e[a.delay]=(0,In.Z)({},e[a.delay],a,{to:(0,In.Z)({},s,a.to)})})),this.queue=Object.values(e)}return this.queue=this.queue.sort(((e,t)=>e.delay-t.delay)),this.diff(o),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach((e=>{let t=e.from,n=void 0===t?{}:t,r=e.to,i=void 0===r?{}:r;dO.obj(n)&&(this.merged=(0,In.Z)({},n,this.merged)),dO.obj(i)&&(this.merged=(0,In.Z)({},this.merged,i))}));const t=this.local=++this.guid,n=this.localQueue=this.queue;this.queue=[],n.forEach(((r,i)=>{let o=r.delay,a=(0,Wn.Z)(r,["delay"]);const s=r=>{i===n.length-1&&t===this.guid&&r&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let c=dO.arr(a.to)||dO.fun(a.to);o?setTimeout((()=>{t===this.guid&&(c?this.runAsync(a,s):this.diff(a).start(s))}),o):c?this.runAsync(a,s):this.diff(a).start(s)}))}else dO.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),this,IO.has(this)||IO.add(this),RO||(RO=!0,SO(OO));return this}stop(e){return this.listeners.forEach((t=>t(e))),this.listeners=[],this}pause(e){return this.stop(!0),e&&(this,IO.has(this)&&IO.delete(this)),this}runAsync(e,t){var n=this;e.delay;let r=(0,Wn.Z)(e,["delay"]);const i=this.local;let o=Promise.resolve(void 0);if(dO.arr(r.to))for(let e=0;e<r.to.length;e++){const t=e,n=(0,In.Z)({},r,mO(r.to[t]));dO.arr(n.config)&&(n.config=n.config[t]),o=o.then((()=>{if(i===this.guid)return new Promise((e=>this.diff(n).start(e)))}))}else if(dO.fun(r.to)){let e,t=0;o=o.then((()=>r.to((n=>{const o=(0,In.Z)({},r,mO(n));if(dO.arr(o.config)&&(o.config=o.config[t]),t++,i===this.guid)return e=new Promise((e=>this.diff(o).start(e)))}),(function(e){return void 0===e&&(e=!0),n.stop(e)})).then((()=>e))))}o.then(t)}diff(e){this.props=(0,In.Z)({},this.props,e);let t=this.props,n=t.from,r=void 0===n?{}:n,i=t.to,o=void 0===i?{}:i,a=t.config,s=void 0===a?{}:a,c=t.reverse,l=t.attach,u=t.reset,d=t.immediate;if(c){var h=[o,r];r=h[0],o=h[1]}this.merged=(0,In.Z)({},r,this.merged,o),this.hasChanged=!1;let p=l&&l(this);if(this.animations=Object.entries(this.merged).reduce(((e,t)=>{let n=t[0],i=t[1],o=e[n]||{};const a=dO.num(i),c=dO.str(i)&&!i.startsWith("#")&&!/\d/.test(i)&&!EO[i],l=dO.arr(i),h=!a&&!l&&!c;let f=dO.und(r[n])?i:r[n],m=a||l||c?i:1,v=fO(s,n);p&&(m=p.animations[n].parent);let g,y=o.parent,b=o.interpolation,E=pO(p?m.getPayload():m),_=i;h&&(_=_O({range:[0,1],output:[i,i]})(1));let S=b&&b.getValue();const A=!dO.und(y)&&o.animatedValues.some((e=>!e.done)),w=!dO.equ(_,S),T=!dO.equ(_,o.previous),C=!dO.equ(v,o.config);if(u||T&&w||C){if(a||c)y=b=o.parent||new DO(f);else if(l)y=b=o.parent||new LO(f);else if(h){let e=o.interpolation&&o.interpolation.calc(o.parent.value);e=void 0===e||u?f:e,o.parent?(y=o.parent,y.setValue(0,!1)):y=new DO(0);const t={output:[e,i]};o.interpolation?(b=o.interpolation,o.interpolation.updateConfig(t)):b=y.interpolate(t)}return E=pO(p?m.getPayload():m),g=pO(y.getPayload()),u&&!h&&y.setValue(f,!1),this.hasChanged=!0,g.forEach((e=>{e.startPosition=e.value,e.lastPosition=e.value,e.lastVelocity=A?e.lastVelocity:void 0,e.lastTime=A?e.lastTime:void 0,e.startTime=wO(),e.done=!1,e.animatedStyles.clear()})),fO(d,n)&&y.setValue(h?m:i,!1),(0,In.Z)({},e,{[n]:(0,In.Z)({},o,{name:n,parent:y,interpolation:b,animatedValues:g,toValues:E,previous:_,config:v,fromValues:pO(y.getValue()),immediate:fO(d,n),initialVelocity:hO(v.velocity,0),clamp:hO(v.clamp,!1),precision:hO(v.precision,.01),tension:hO(v.tension,170),friction:hO(v.friction,26),mass:hO(v.mass,1),duration:v.duration,easing:hO(v.easing,(e=>e)),decay:v.decay})})}return w?e:(h&&(y.setValue(1,!1),b.updateConfig({output:[_,_]})),y.done=!0,this.hasChanged=!0,(0,In.Z)({},e,{[n]:(0,In.Z)({},e[n],{previous:_})}))}),this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let e in this.animations)this.interpolations[e]=this.animations[e].interpolation,this.values[e]=this.animations[e].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}class UO extends yO{constructor(e){void 0===e&&(e={}),super(),!e.transform||e.transform instanceof vO||(e=bO.transform(e)),this.payload=e}}const jO={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},VO="[-+]?\\d*\\.?\\d+",BO=VO+"%";function zO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const GO=new RegExp("rgb"+zO(VO,VO,VO)),HO=new RegExp("rgba"+zO(VO,VO,VO,VO)),qO=new RegExp("hsl"+zO(VO,BO,BO)),WO=new RegExp("hsla"+zO(VO,BO,BO,VO)),ZO=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,KO=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,YO=/^#([0-9a-fA-F]{6})$/,QO=/^#([0-9a-fA-F]{8})$/;function JO(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function XO(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=JO(i,r,e+1/3),a=JO(i,r,e),s=JO(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function $O(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ek(e){return(parseFloat(e)%360+360)%360/360}function tk(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function nk(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function rk(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=YO.exec(e))?parseInt(t[1]+"ff",16)>>>0:jO.hasOwnProperty(e)?jO[e]:(t=GO.exec(e))?($O(t[1])<<24|$O(t[2])<<16|$O(t[3])<<8|255)>>>0:(t=HO.exec(e))?($O(t[1])<<24|$O(t[2])<<16|$O(t[3])<<8|tk(t[4]))>>>0:(t=ZO.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=QO.exec(e))?parseInt(t[1],16)>>>0:(t=KO.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=qO.exec(e))?(255|XO(ek(t[1]),nk(t[2]),nk(t[3])))>>>0:(t=WO.exec(e))?(XO(ek(t[1]),nk(t[2]),nk(t[3]))|tk(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const ik=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ok=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ak=new RegExp(`(${Object.keys(jO).join("|")})`,"g");let sk={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const ck=["Webkit","Ms","Moz","O"];function lk(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||sk.hasOwnProperty(e)&&sk[e]?(""+t).trim():t+"px"}sk=Object.keys(sk).reduce(((e,t)=>(ck.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),sk);const uk={};var dk,hk;hk=e=>new UO(e),TO=hk,AO="div",dk=e=>{const t=e.output.map((e=>e.replace(ok,rk))).map((e=>e.replace(ak,rk))),n=t[0].match(ik).map((()=>[]));t.forEach((e=>{e.match(ik).forEach(((e,t)=>n[t].push(+e)))}));const r=t[0].match(ik).map(((t,r)=>kO((0,In.Z)({},e,{output:n[r]}))));return e=>{let n=0;return t[0].replace(ik,(()=>r[n++](e))).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,((e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`))}},_O=dk,EO=jO,function(e,t){bO={fn:e,transform:t}}(((e,t)=>{if(!e.nodeType||void 0===e.setAttribute)return!1;{const i=t.style,o=t.children,a=t.scrollTop,s=t.scrollLeft,c=(0,Wn.Z)(t,["style","children","scrollTop","scrollLeft"]),l="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;void 0!==a&&(e.scrollTop=a),void 0!==s&&(e.scrollLeft=s),void 0!==o&&(e.textContent=o);for(let t in i)if(i.hasOwnProperty(t)){var n=0===t.indexOf("--"),r=lk(t,i[t],n);"float"===t&&(t="cssFloat"),n?e.style.setProperty(t,r):e.style[t]=r}for(let t in c){const n=l?t:uk[t]||(uk[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())));void 0!==e.getAttribute(n)&&e.setAttribute(n,c[t])}}}),(e=>e));const pk=function(e,t){return void 0===t&&(t=!0),n=>(dO.arr(n)?n:Object.keys(n)).reduce(((n,r)=>{const i=t?r[0].toLowerCase()+r.substring(1):r;return n[i]=e(i),n}),e)}((e=>(0,bn.forwardRef)(((t,n)=>{const r=function(){const e=(0,bn.useState)(!1)[1];return(0,bn.useCallback)((()=>e((e=>!e))),[])}(),i=(0,bn.useRef)(!0),o=(0,bn.useRef)(null),a=(0,bn.useRef)(null),s=(0,bn.useCallback)((e=>{const t=o.current;o.current=new CO(e,(()=>{let e=!1;a.current&&(e=bO.fn(a.current,o.current.getAnimatedValue())),a.current&&!1!==e||r()})),t&&t.detach()}),[]);(0,bn.useEffect)((()=>()=>{i.current=!1,o.current&&o.current.detach()}),[]),(0,bn.useImperativeHandle)(n,(()=>(e=>e.current)(a))),s(t);const c=o.current.getValue(),l=(c.scrollTop,c.scrollLeft,(0,Wn.Z)(c,["scrollTop","scrollLeft"])),u=(d=e,!dO.fun(d)||d.prototype instanceof bn.Component?e=>a.current=function(e,t){return t&&(dO.fun(t)?t(e):dO.obj(t)&&(t.current=e)),e}(e,n):void 0);var d;return bn.createElement(e,(0,In.Z)({},l,{ref:u}))}))),!1),fk=pk(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]);function mk(e,t){return e.map((function(e,n){return e+t[n]}))}function vk(e,t){return e.map((function(e,n){return e-t[n]}))}function gk(e){return Math.hypot.apply(Math,e)}function yk(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function bk(e,t,n){return 0===t||Math.abs(t)===1/0?function(e,t){return Math.pow(e,5*t)}(e,n):e*t*n/(t+n*e)}function Ek(e,t,n,r){return void 0===r&&(r=.15),0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-bk(t-e,n-t,r)+t:e>n?+bk(e-n,n-t,r)+n:e}function _k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sk(){return Sk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sk.apply(this,arguments)}function Ak(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function wk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ck(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Tk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tk(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Rk(){}function Ik(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?Rk:1===t.length?t[0]:function(){for(var e,n,r=Ck(t);!(n=r()).done;)e=n.value.apply(this,arguments)||e;return e}}function Ok(e,t){if(void 0===e){if(void 0===t)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function kk(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function Nk(e,t){void 0===e&&(e={});for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],s=o[1];switch(typeof s){case"function":n[a]=s.call(n,e[a],a,e);break;case"object":n[a]=Nk(e[a],s);break;case"boolean":s&&(n[a]=e[a])}}return n}var xk=Sk({},{threshold:function(e){return void 0===e&&(e=0),Ok(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return Ok(.15);case!1:return Ok(0);default:return Ok(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return void 0===e&&(e=0),"function"==typeof e?e:Ok(e)}},{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"==typeof e)return function(t){return xk.bounds(e(t))};var t=e,n=t.left,r=void 0===n?-1/0:n,i=t.right,o=void 0===i?1/0:i,a=t.top,s=void 0===a?-1/0:a,c=t.bottom;return[[r,o],[s,void 0===c?1/0:c]]}}),Pk="undefined"!=typeof window&&window.document&&window.document.createElement,Dk={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return void 0===e&&(e=Pk?window:void 0),e})),eventOptions:function(e){var t=void 0===e?{}:e,n=t.passive,r=void 0===n||n,i=t.capture;return{passive:r,capture:void 0!==i&&i}}},Lk=Sk({},xk,{threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.lockDirection,a=void 0!==o&&o,s=n.axis,c=Ok(e,i?3:a||(void 0===s?void 0:s)?1:0);return this.filterTaps=i||c[0]+c[1]>0,c},swipeVelocity:function(e){return void 0===e&&(e=.5),Ok(e)},swipeDistance:function(e){return void 0===e&&(e=60),Ok(e)},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function Mk(e){var t,n=e.domTarget,r=e.eventOptions,i=e.window,o=e.enabled,a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["domTarget","eventOptions","window","enabled"]),s=(void 0===(t={domTarget:n,eventOptions:r,window:i,enabled:o})&&(t={}),Nk(t,Dk));return s.drag=function(e){return void 0===e&&(e={}),Nk(e,Lk)}(a),s}function Fk(e){return Sk({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Rk,canceled:!1,memo:void 0,args:void 0},e)}function Uk(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},drag:Fk({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),pinch:Fk({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:Fk({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:Fk({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:Fk({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var jk=new Map,Vk=function(){function e(e,t){var n=this;void 0===t&&(t=[]),this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=function(e,t){var r;void 0===t&&(t=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[e,t].concat(o))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!e&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var t=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!t,n.state.last=t&&!r,n.controller.state.shared[n.ingKey]=r}var i=Sk({},n.controller.state.shared,n.state,n.mapStateValues(n.state)),o=n.handler(i);return n.state.memo=void 0!==o?o:n.state.memo,n.state._active||n.clean(),i}}var t,n,r=e.prototype;return r.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},r.updateGestureState=function(e){Object.assign(this.state,e)},r.checkIntentionality=function(e,t){return{_intentional:e,_blocked:!1}},r.getMovement=function(e){var t=this.config,n=t.initial,r=t.bounds,i=t.rubberband,o=t.threshold,a=this.state,s=a._bounds,c=a._initial,l=a._active,u=a._intentional,d=a.lastOffset,h=a.movement,p=this.getInternalMovement(e,this.state),f=!1===u[0]?Bk(p[0],o[0]):u[0],m=!1===u[1]?Bk(p[1],o[1]):u[1],v=this.checkIntentionality([f,m],p);if(v._blocked)return Sk({},v,{_movement:p,delta:[0,0]});var g,y,b,E,_=v._intentional,S=p;!1!==_[0]&&!1===u[0]&&(y=kk(n,this.state),g=kk(r,this.state),c[0]=y[0],s[0]=g[0]),!1!==_[1]&&!1===u[1]&&(y=null!=(b=y)?b:kk(n,this.state),g=null!=(E=g)?E:kk(r,this.state),c[1]=y[1],s[1]=g[1]);var A=[!1!==_[0]?p[0]-_[0]:c[0],!1!==_[1]?p[1]-_[1]:c[1]],w=mk(A,d),T=l?i:[0,0];return A=zk(s,mk(A,c),T),Sk({},v,{intentional:!1!==_[0]||!1!==_[1],_initial:c,_movement:S,movement:A,values:e,offset:zk(s,w,T),delta:vk(A,h)})},r.clean=function(){this.clearTimeout()},t=e,(n=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}])&&_k(t.prototype,n),e}();function Bk(e,t){return Math.abs(e)>=t&&yk(e)*t}function zk(e,t,n){var r=t[0],i=t[1],o=n[0],a=n[1],s=e[0],c=s[0],l=s[1],u=e[1],d=u[0],h=u[1];return[Ek(r,c,l,o),Ek(i,d,h,a)]}function Gk(e,t,n){var r=e.state,i=e.args,o=t.timeStamp,a=t.type,s=r.values;return{_lastEventType:a,event:t,timeStamp:o,elapsedTime:n?0:o-r.startTime,args:i,previous:s}}function Hk(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.call.apply(e,[this,Sk({},t,{event:n})].concat(i))}}var qk=function(e){var t=this;this.classes=e,this.bind=function(){for(var e={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o,a=Ck(t.classes);!(o=a()).done;)new(0,o.value)(t,r).addBindings(e);for(var s=0,c=Object.entries(t.nativeRefs);s<c.length;s++){var l=c[s];Kk(e,l[0],Hk(l[1],Sk({},t.state.shared,{args:r})))}return t.config.domTarget?function(e,t){var n=e.config,r=e.domListeners,i=Zk(n);if(!i)throw new Error("domTarget must be defined");var o=n.eventOptions;Qk(i,Wk(r),o);for(var a=0,s=Object.entries(t);a<s.length;a++){var c=s[a],l=c[0],u=c[1],d=l.slice(2).toLowerCase();r.push([d,Ik.apply(void 0,u)])}Yk(i,r,o)}(t,e):function(e,t){for(var n={},r=e.config.eventOptions.capture?"Capture":"",i=0,o=Object.entries(t);i<o.length;i++){var a=o[i],s=a[0],c=a[1],l=Array.isArray(c)?c:[c];n[s+r]=Ik.apply(void 0,l)}return n}(t,e)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var e=Zk(t.config),n=t.config.eventOptions;e&&Qk(e,Wk(t.domListeners),n),Object.values(t.timeouts).forEach(clearTimeout),function(e){var t=e.config,n=t.window,r=t.eventOptions,i=e.windowListeners;if(n){for(var o in i)Qk(n,i[o],r);e.windowListeners={}}}(t)},this.state=Uk(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function Wk(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function Zk(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function Kk(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function Yk(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=Ck(t);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];e.addEventListener(a,s,n)}}function Qk(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=Ck(t);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];e.removeEventListener(a,s,n)}}function Jk(){}function Xk(e){if("touches"in e){var t=e.targetTouches,n=e.changedTouches;return t.length>0?t:n}return null}function $k(e){var t="buttons"in e?e.buttons:0,n=Xk(e),r=n&&n.length||0;return{touches:r,down:r>0||t>0,buttons:t,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}function eN(e){var t=Xk(e),n=t?t[0]:e;return[n.clientX,n.clientY]}var tN=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="dragging",t.stateKey="drag",t.onDragStart=function(e){var n,r,i,o,a;t.enabled&&!t.state._active&&(n=t.controller,r=t.stateKey,i=[["pointermove",t.onDragChange],["pointerup",t.onDragEnd],["pointercancel",t.onDragEnd]],o=n.config,a=n.windowListeners,void 0===i&&(i=[]),o.window&&(Qk(o.window,a[r],o.eventOptions),Yk(o.window,a[r]=i,o.eventOptions)),t.updateGestureState({_pointerId:e.pointerId}),t.config.delay>0?(t.state._delayedEvent=!0,"persist"in e&&"function"==typeof e.persist&&e.persist(),t.setTimeout(t.startDrag.bind(wk(t)),t.config.delay,e)):t.startDrag(e))},t.onDragChange=function(e){if(!t.state.canceled&&e.pointerId===t.state._pointerId)if(t.state._active){var n=$k(e);if(n.down){t.updateSharedState(n);var r=eN(e),i=t.getKinematics(r,e),o=Gk(wk(t),e),a=t.state._isTap,s=gk(i._movement);a&&s>=3&&(a=!1),t.updateGestureState(Sk({},o,i,{_isTap:a})),t.fireGestureHandler()}else t.onDragEnd(e)}else t.state._delayedEvent&&(t.clearTimeout(),t.startDrag(e))},t.onDragEnd=function(e){if(e.pointerId===t.state._pointerId){t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0});var n=t.state._isTap,r=t.state.velocities,i=r[0],o=r[1],a=t.state.movement,s=a[0],c=a[1],l=t.state._intentional,u=l[0],d=l[1],h=t.config.swipeVelocity,p=h[0],f=h[1],m=t.config.swipeDistance,v=m[0],g=m[1],y=Sk({},Gk(wk(t),e),t.getMovement(t.state.values)),b=[0,0];y.elapsedTime<220&&(!1!==u&&Math.abs(i)>p&&Math.abs(s)>v&&(b[0]=yk(i)),!1!==d&&Math.abs(o)>f&&Math.abs(c)>g&&(b[1]=yk(o))),t.updateGestureState(Sk({},y,{tap:n,swipe:b})),t.fireGestureHandler(!0===n)}},t.clean=function(){var n,r,i,o;e.prototype.clean.call(wk(t)),t.state._delayedEvent=!1,n=t.controller,r=t.stateKey,i=n.config,o=n.windowListeners,i.window&&(Qk(i.window,o[r],i.eventOptions),delete o[r])},t.onCancel=function(){t.state.canceled||(t.updateGestureState({canceled:!0}),t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame((function(){return t.fireGestureHandler()})))},t.onClick=function(e){t.state._isTap||e.stopPropagation()},t}Ak(t,e);var n=t.prototype;return n.startDrag=function(e){var t=eN(e);this.updateSharedState($k(e)),this.updateGestureState(Sk({},function(e,t,n){var r=e.state.offset,i=n.timeStamp;return Sk({},Uk()[e.stateKey],{_active:!0,values:t,initial:t,offset:r,lastOffset:r,startTime:i})}(this,t,e),Gk(this,e,!0),{_pointerId:e.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(t)),this.fireGestureHandler()},n.addBindings=function(e){Kk(e,"onPointerDown",this.onDragStart),this.config.filterTaps&&Kk(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},t}(function(e){function t(){return e.apply(this,arguments)||this}Ak(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){return vk(e,t.initial)},n.checkIntentionality=function(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var n=t.map(Math.abs),r=n[0],i=n[1],o=this.state.axis||(r>i?"x":r<i?"y":void 0);return this.config.axis||this.config.lockDirection?o?this.config.axis&&o!==this.config.axis?{_intentional:e,_blocked:!0,axis:o}:(e["x"===o?1:0]=!1,{_intentional:e,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}:{_intentional:e,_blocked:!1,axis:o}},n.getKinematics=function(e,t){var n=this.getMovement(e);if(!n._blocked){var r=t.timeStamp-this.state.timeStamp;Object.assign(n,function(e,t,n){var r=gk(t),i=0===r?0:1/r,o=0===n?0:1/n,a=o*r,s=t.map((function(e){return o*e})),c=t.map((function(e){return i*e}));return{velocities:s,velocity:a,distance:gk(e),direction:c}}(n.movement,n.delta,r))}return n},n.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(Vk));function nN(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i,o;if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!nN(e[r],t[r]))return!1;return!0}if("function"==typeof Map&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!nN(r.value[1],t.get(r.value[0])))return!1;return!0}if("function"==typeof Set&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if("undefined"!=typeof Element&&e instanceof Element)return!1;for(r=n;0!=r--;)if(!("_owner"===i[r]&&e.$$typeof||nN(e[i[r]],t[i[r]])))return!1;return!0}return e!=e&&t!=t}function rN(e,t){try{return nN(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}var iN=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],oN=iN.join(","),aN="undefined"==typeof Element,sN=aN?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,cN=!aN&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},lN=function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(oN));return t&&sN.call(e,oN)&&r.unshift(e),r.filter(n)},uN=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if("SLOT"===a.tagName){var s=a.assignedElements(),c=e(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,c):i.push({scope:a,candidates:c})}else{sN.call(a,oN)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var l=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),u=!r.shadowRootFilter||r.shadowRootFilter(a);if(l&&u){var d=e(!0===l?a.children:l.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scope:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},dN=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},hN=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},pN=function(e){return"INPUT"===e.tagName},fN=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},mN=function(e,t){return!(t.disabled||function(e){return pN(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=sN.call(e,"details>summary:first-of-type")?e.parentElement:e;if(sN.call(i,"details:not([open]) *"))return!0;var o=cN(e).host,a=(null==o?void 0:o.ownerDocument.contains(o))||e.ownerDocument.contains(e);if(n&&"full"!==n){if("non-zero-area"===n)return fN(e)}else{if("function"==typeof r){for(var s=e;e;){var c=e.parentElement,l=cN(e);if(c&&!c.shadowRoot&&!0===r(c))return fN(e);e=e.assignedSlot?e.assignedSlot:c||l===e.ownerDocument?c:l.host}e=s}if(a)return!e.getClientRects().length}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!sN.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},vN=function(e,t){return!(function(e){return function(e){return pN(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||cN(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)}(t)||dN(t)<0||!mN(e,t))},gN=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},yN=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scope,a=o?t.scope:t,s=dN(a,o),c=o?e(t.candidates):a;0===s?o?n.push.apply(n,c):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:c})})),r.sort(hN).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},bN=function(e,t){var n;return n=(t=t||{}).getShadowRoot?uN([e],t.includeContainer,{filter:vN.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:gN}):lN(e,t.includeContainer,vN.bind(null,t)),yN(n)},EN=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==sN.call(e,oN)&&vN(t,e)},_N=iN.concat("iframe").join(","),SN=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==sN.call(e,_N)&&mN(t,e)};function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(n),!0).forEach((function(t){TN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CN,RN=(CN=[],{activateTrap:function(e){if(CN.length>0){var t=CN[CN.length-1];t!==e&&t.pause()}var n=CN.indexOf(e);-1===n||CN.splice(n,1),CN.push(e)},deactivateTrap:function(e){var t=CN.indexOf(e);-1!==t&&CN.splice(t,1),CN.length>0&&CN[CN.length-1].unpause()}}),IN=function(e){return setTimeout(e,0)},ON=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},kN=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},NN=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},xN=!1;if("undefined"!=typeof window){var PN={get passive(){xN=!0}};window.addEventListener("testPassive",null,PN),window.removeEventListener("testPassive",null,PN)}var DN,LN="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),MN=[],FN=!1,UN=-1,jN=void 0,VN=void 0,BN=function(e){return MN.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},zN=function(e){var t=e||window.event;return!!BN(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},GN=[],HN="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(DN||(DN={}));var qN,WN=function(e){return Object.freeze(e)},ZN=function(e,t){this.inlineSize=e,this.blockSize=t,WN(this)},KN=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,WN(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),YN=function(e){return e instanceof SVGElement&&"getBBox"in e},QN=function(e){if(YN(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},JN=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},XN="undefined"!=typeof window?window:{},$N=new WeakMap,ex=/auto|scroll/,tx=/^tb|vertical/,nx=/msie|trident/i.test(XN.navigator&&XN.navigator.userAgent),rx=function(e){return parseFloat(e||"0")},ix=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new ZN((n?t:e)||0,(n?e:t)||0)},ox=WN({devicePixelContentBoxSize:ix(),borderBoxSize:ix(),contentBoxSize:ix(),contentRect:new KN(0,0,0,0)}),ax=function(e,t){if(void 0===t&&(t=!1),$N.has(e)&&!t)return $N.get(e);if(QN(e))return $N.set(e,ox),ox;var n=getComputedStyle(e),r=YN(e)&&e.ownerSVGElement&&e.getBBox(),i=!nx&&"border-box"===n.boxSizing,o=tx.test(n.writingMode||""),a=!r&&ex.test(n.overflowY||""),s=!r&&ex.test(n.overflowX||""),c=r?0:rx(n.paddingTop),l=r?0:rx(n.paddingRight),u=r?0:rx(n.paddingBottom),d=r?0:rx(n.paddingLeft),h=r?0:rx(n.borderTopWidth),p=r?0:rx(n.borderRightWidth),f=r?0:rx(n.borderBottomWidth),m=d+l,v=c+u,g=(r?0:rx(n.borderLeftWidth))+p,y=h+f,b=s?e.offsetHeight-y-e.clientHeight:0,E=a?e.offsetWidth-g-e.clientWidth:0,_=i?m+g:0,S=i?v+y:0,A=r?r.width:rx(n.width)-_-E,w=r?r.height:rx(n.height)-S-b,T=A+m+E+g,C=w+v+b+y,R=WN({devicePixelContentBoxSize:ix(Math.round(A*devicePixelRatio),Math.round(w*devicePixelRatio),o),borderBoxSize:ix(T,C,o),contentBoxSize:ix(A,w,o),contentRect:new KN(d,c,A,w)});return $N.set(e,R),R},sx=function(e,t,n){var r=ax(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case DN.DEVICE_PIXEL_CONTENT_BOX:return a;case DN.BORDER_BOX:return i;default:return o}},cx=function(e){var t=ax(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=WN([t.borderBoxSize]),this.contentBoxSize=WN([t.contentBoxSize]),this.devicePixelContentBoxSize=WN([t.devicePixelContentBoxSize])},lx=function(e){if(QN(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},ux=function(){var e=1/0,t=[];GN.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new cx(t.target),i=lx(t.target);r.push(n),t.lastReportedSize=sx(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},dx=function(e){GN.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(lx(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},hx=[],px=0,fx={attributes:!0,characterData:!0,childList:!0,subtree:!0},mx=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],vx=function(e){return void 0===e&&(e=0),Date.now()+e},gx=!1,yx=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!gx){gx=!0;var n,r=vx(e);n=function(){var n=!1;try{n=function(){var e=0;for(dx(e);GN.some((function(e){return e.activeTargets.length>0}));)e=ux(),dx(e);return GN.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:HN}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=HN),window.dispatchEvent(e)}(),e>0}()}finally{if(gx=!1,e=r-vx(),!px)return;n?t.run(1e3):e>0?t.run(e):t.start()}},function(e){if(!qN){var t=0,n=document.createTextNode("");new MutationObserver((function(){return hx.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),qN=function(){n.textContent="".concat(t?t--:t++)}}hx.push(e),qN()}((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,fx)};document.body?t():XN.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),mx.forEach((function(t){return XN.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),mx.forEach((function(t){return XN.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),bx=new yx,Ex=function(e){!px&&e>0&&bx.start(),!(px+=e)&&bx.stop()},_x=function(){function e(e,t){this.target=e,this.observedBox=t||DN.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=sx(this.target,this.observedBox,!0);return function(e){return!YN(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),Sx=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Ax=new WeakMap,wx=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Tx=function(){function e(){}return e.connect=function(e,t){var n=new Sx(e,t);Ax.set(e,n)},e.observe=function(e,t,n){var r=Ax.get(e),i=0===r.observationTargets.length;wx(r.observationTargets,t)<0&&(i&&GN.push(r),r.observationTargets.push(new _x(t,n&&n.box)),Ex(1),bx.schedule())},e.unobserve=function(e,t){var n=Ax.get(e),r=wx(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&GN.splice(GN.indexOf(n),1),n.observationTargets.splice(r,1),Ex(-1))},e.disconnect=function(e){var t=this,n=Ax.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Cx=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Tx.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!JN(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Tx.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!JN(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Tx.unobserve(this,e)},e.prototype.disconnect=function(){Tx.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function Rx(e){return fR(fR({type:DR},e),{toJSON:function(){e.onDone,e.onError;var t,n=mR(e,["onDone","onError"]);return fR(fR({},n),{type:DR,src:(t=e.src,"string"==typeof t?{type:t,toString:function(){return t}}:t)})}})}var Ix="",Ox="*",kx={},Nx=function(e){return"#"===e[0]},xx=function(){function e(t,n,r,i){void 0===r&&(r="context"in t?t.context:void 0);var o,a=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||yR([this.machine.key],gR(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,VR||rI(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?WR(this.config.states,(function(t,n){var r,i=new e(t,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,fR(((r={})[i.id]=i,r),i.idMap)),i})):kx;var s=0;!function e(t){var n,r;t.order=s++;try{for(var i=vR(bI(t)),o=i.next();!o.done;o=i.next())e(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===Ix})):Ix in this.config.on),this.strict=!!this.config.strict,this.onEntry=XR(this.config.entry||this.config.onEntry).map((function(e){return NI(e)})),this.onExit=XR(this.config.exit||this.config.onExit).map((function(e){return NI(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=XR(this.config.invoke).map((function(e,t){var n,r;if(lI(e)){var i=vI(a.id,t);return a.machine.options.services=fR(((n={})[i]=e,n),a.machine.options.services),Rx({src:i,id:i})}if(aI(e.src))return i=e.id||vI(a.id,t),Rx(fR(fR({},e),{id:i,src:e.src}));if(lI(e.src)||oI(e.src))return i=e.id||vI(a.id,t),a.machine.options.services=fR(((r={})[i]=e.src,r),a.machine.options.services),Rx(fR(fR({id:i},e),{src:i}));var o=e.src;return Rx(fR(fR({id:vI(a.id,t)},e),{src:o}))})),this.activities=XR(this.config.activities).concat(this.invoke).map((function(e){return PI(e)})),this.transition=this.transition.bind(this),this.tags=XR(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||_I(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,c=r.delays;return new e(this.config,{actions:fR(fR({},i),t.actions),activities:fR(fR({},o),t.activities),guards:fR(fR({},a),t.guards),services:fR(fR({},s),t.services),delays:fR(fR({},c),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return oI(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:WR(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Ix,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||n.eventType===Ox}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=function(e,t){var n=t?"#".concat(t):"";return"".concat(bR.After,"(").concat(e,")").concat(n)}(oI(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push(function(e,t){return{to:t?t.to:void 0,type:IR,event:oI(e)?e:uI(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:oI(e)?e.name:zR(e)}}(r,{delay:t})),e.onExit.push({type:OR,sendId:r}),r},r=iI(t)?t.map((function(e,t){var r=n(e.delay,t);return fR(fR({},e),{event:r})})):QR(Object.keys(t).map((function(e,r){var i=t[e],o=aI(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=n(a,r);return XR(o).map((function(e){return fR(fR({},e),{event:s,delay:a})}))})));return r.map((function(t){var n=t.delay;return fR(fR({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof jI?e.value:HR(e,this.delimiter);if(aI(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object.keys(r),a=[this];return a.push.apply(a,yR([],gR(QR(o.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),a},e.prototype.handles=function(e){var t=zR(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof jI?e:jI.create(e),n=Array.from(SI([],this.getStateNodes(t.value)));return new jI(fR(fR({},t),{value:this.resolve(t.value),configuration:n,done:RI(n,this),tags:II(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var a=vR(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,l=e[c];if(l){var u=this.getStateNode(c)._transition(l,t,n);u&&(o[c]=u)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var d=Object.keys(o).map((function(e){return o[e]})),h=QR(d.map((function(e){return e.transitions})));if(!d.some((function(e){return e.transitions.length>0})))return this.next(t,n);var p=QR(Object.keys(o).map((function(e){return o[e].configuration})));return{transitions:h,exitSet:QR(d.map((function(e){return e.exitSet}))),configuration:p,source:t,actions:QR(Object.keys(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,n){return aI(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,dI(t))},e.prototype.next=function(e,t){var n,r,i,o=this,a=t.name,s=[],c=[];try{for(var l=vR(this.getCandidates(a)),u=l.next();!u.done;u=l.next()){var d=u.value,h=d.cond,p=d.in,f=e.context,m=!p||(aI(p)&&Nx(p)?e.matches(HR(this.getStateNodeById(p).path,this.delimiter)):BR(HR(p,this.delimiter),KR(this.path.slice(0,-2))(e.value))),v=!1;try{v=!h||pI(this.machine,h,f,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(h.name||h.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(v&&m){void 0!==d.target&&(c=d.target),s.push.apply(s,yR([],gR(d.actions),!1)),i=d;break}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(i){if(!c.length)return{transitions:[i],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var g=QR(c.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)})));return{transitions:[i],exitSet:i.internal?[]:QR(c.map((function(e){return o.getPotentiallyReenteringNodes(e)}))),configuration:g,source:e,actions:s}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,r=e;n&&n!==r;)t.push(n),n=n.parent;return n!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,r,i,o,a){var s,c,l,u,d=this,h=o?SI([],this.getStateNodes(o.value)):[],p=new Set;try{for(var f=vR(Array.from(e).sort((function(e,t){return e.order-t.order}))),m=f.next();!m.done;m=f.next())(!CI(h,y=m.value)||CI(n.exitSet,y)||y.parent&&p.has(y.parent))&&p.add(y)}catch(e){s={error:e}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}try{for(var v=vR(h),g=v.next();!g.done;g=v.next()){var y;CI(e,y=g.value)&&!CI(n.exitSet,y.parent)||n.exitSet.push(y)}}catch(e){l={error:e}}finally{try{g&&!g.done&&(u=v.return)&&u.call(v)}finally{if(l)throw l.error}}n.exitSet.sort((function(e,t){return t.order-e.order}));var b=Array.from(p).sort((function(e,t){return e.order-t.order})),E=new Set(n.exitSet),_=QR(b.map((function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(DI(e.id,e.doneData),DI(o.id,e.doneData?$R(e.doneData,r,i):void 0));var a=o.parent;return"parallel"===a.type&&EI(a).every((function(e){return RI(n.configuration,e)}))&&t.push(DI(a.id)),t}))),S=b.map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return function(e){var t=PI(e);return{type:bR.Start,activity:t,exec:void 0}}(e)}));return{type:"entry",actions:xI(a?yR(yR([],gR(t),!1),gR(n),!1):yR(yR([],gR(n),!1),gR(t),!1),d.machine.options.actions)}})).concat({type:"state_done",actions:_.map((function(e){return function(e,t){return{type:RR,event:"function"==typeof e?e:uI(e),delay:t?t.delay:void 0,id:null==t?void 0:t.id}}(e)}))}),A=Array.from(E).map((function(e){return{type:"exit",actions:xI(yR(yR([],gR(e.onExit),!1),gR(e.activities.map((function(e){return function(e){var t=oI(e)?e:PI(e);return{type:bR.Stop,activity:t,exec:void 0}}(e)}))),!1),d.machine.options.actions)}})).concat({type:"transition",actions:xI(n.actions,this.machine.options.actions)}).concat(S);if(t){var w=xI(QR(yR([],gR(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return!gI(e)}));return A.concat({type:"stop",actions:w})}return A},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var i,o,a=dI(t);if(e instanceof jI)i=void 0===n?e:this.resolveState(jI.from(e,n));else{var s=aI(e)?this.resolve(qR(this.getResolvedPath(e))):this.resolve(e),c=null!=n?n:this.machine.context;i=this.resolveState(jI.from(s,c))}if(!VR&&a.name===Ox)throw new Error("An event cannot have the wildcard type ('".concat(Ox,"')"));if(this.strict&&!this.events.includes(a.name)&&(o=a.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var l=this._transition(i.value,i,a)||{transitions:[],configuration:[],exitSet:[],source:i,actions:[]},u=SI([],this.getStateNodes(i.value)),d=l.configuration.length?SI(u,l.configuration):u;return l.configuration=yR([],gR(d),!1),this.resolveTransition(l,i,i.context,r,a)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var i,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,yR([],gR(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,i){var o,a,s,c,l=this;void 0===i&&(i=OI);var u=e.configuration,d=!t||e.transitions.length>0,h=d?e.configuration:t?t.configuration:[],p=RI(h,this),f=d?TI(this.machine,u):void 0,m=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,v=this.getActions(new Set(h),p,e,n,i,t,r),g=t?fR({},t.activities):{};try{for(var y=vR(v),b=y.next();!b.done;b=y.next()){var E=b.value;try{for(var _=(s=void 0,vR(E.actions)),S=_.next();!S.done;S=_.next()){var A=S.value;A.type===TR?g[A.activity.id||A.activity.type]=A:A.type===CR&&(g[A.activity.id||A.activity.type]=!1)}}catch(e){s={error:e}}finally{try{S&&!S.done&&(c=_.return)&&c.call(_)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}var w,T,C=gR(FI(this,t,n,i,v,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),R=C[0],I=C[1],O=gR(function(e,t){var n,r,i=gR([[],[]],2),o=i[0],a=i[1];try{for(var s=vR(e),c=s.next();!c.done;c=s.next()){var l=c.value;t(l)?o.push(l):a.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(R,gI),2),k=O[0],N=O[1],x=R.filter((function(e){var t;return e.type===TR&&(null===(t=e.activity)||void 0===t?void 0:t.type)===DR})),P=x.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,r){var i,o=fI(e.src),a=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[o.type],s=e.data?$R(e.data,n,r):void 0,c=a?WI(a,e.id,s):qI(e.id);return c.meta=e,c}(t.activity,l.machine,I,i),e}),t?fR({},t.children):{}),D=new jI({value:f||t.value,context:I,_event:i,_sessionid:t?t._sessionid:null,historyValue:f?m?(w=m,T=f,{current:T,states:tI(w,T)}):void 0:t?t.historyValue:void 0,history:!f||e.source?t:void 0,actions:f?N:[],activities:f?g:t?t.activities:{},events:[],configuration:h,transitions:e.transitions,children:P,done:p,tags:II(h),machine:this}),L=n!==I;D.changed=i.name===FR||L;var M=D.history;M&&delete M.history;var F=!p&&(this._transient||u.some((function(e){return e._transient})));if(!(d||F&&i.name!==Ix))return D;var U=D;if(!p)for(F&&(U=this.resolveRaisedTransition(U,{type:kR},i,r));k.length;){var j=k.shift();U=this.resolveRaisedTransition(U,j._event,i,r)}var V=U.changed||(M?!!U.actions.length||L||typeof M.value!=typeof U.value||!UI(U.value,M.value):void 0);return U.changed=V,U.history=M,U},e.prototype.getStateNode=function(e){if(Nx(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=Nx(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&Nx(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=GR(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||kx;switch(this.type){case"parallel":return WR(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):kx}));case"compound":if(aI(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?WR(e,(function(e,t){return e?n.getStateNode(t).resolve(e):kx})):this.initialStateValue||{};default:return e||kx}},e.prototype.getResolvedPath=function(e){if(Nx(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return GR(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=ZR(this.states,(function(e){return e.initialStateValue||kx}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=yI(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=aI(t.target)&&Nx(t.target)?qR(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return yI(this)?[this]:"compound"!==this.type||this.initial?QR(YR(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):(VR||rI(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this])},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=gR(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:ZR(this.states,(function(t,n){if(!e)return t.historyValue();var r=aI(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?QR(YR(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var i,o=(i=n.path,"states",function(e){var t,n,r=e;try{for(var o=vR(i),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.states[s]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r})(e).current;return aI(o)?[n.getStateNode(o)]:QR(YR(o).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=QR(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=vR(Object.keys(i)),s=a.next();!s.done;s=a.next()){var c=i[s.value];if(c.states)try{for(var l=(n=void 0,vR(c.events)),u=l.next();!u.done;u=l.next()){var d=u.value;o.add("".concat(d))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!aI(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return XR(e)}(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return aI(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(n),a=fR(fR({},e),{actions:xI(XR(e.actions)),cond:sI(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return fR(fR({},a),{target:a.target?a.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i[Ox],a=void 0===o?[]:o,s=mR(i,["*"]);n=QR(Object.keys(s).map((function(e){VR||e!==Ix||rI(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var t=hI(e,s[e]);return VR||function(e,t,n){var r=n.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(aI(e.target)||lI(e.target))})),i=t===Ix?"the transient event":"event '".concat(t,"'");rI(!r,"One or more transitions for ".concat(i," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(r,e,t),t})).concat(hI(Ox,a)))}else n=[];var c=this.config.always?hI("",this.config.always):[],l=this.config.onDone?hI(String(DI(this.id)),this.config.onDone):[];VR||rI(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var u=QR(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,yR([],gR(hI(String(LI(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,yR([],gR(hI(String(MI(e.id)),e.onError)),!1)),t}))),d=this.after,h=QR(yR(yR(yR(yR([],gR(l),!1),gR(u),!1),gR(n),!1),gR(c),!1).map((function(e){return XR(e).map((function(e){return r.formatTransition(e)}))})));try{for(var p=vR(d),f=p.next();!f.done;f=p.next()){var m=f.value;h.push(m)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return h},e}();function Px(){return Px=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Px.apply(this,arguments)}function Dx(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}var Lx="undefined"!=typeof window?bn.useLayoutEffect:bn.useEffect;function Mx(e,t,n){return t=(t=+t)==t?t:0,n=(n=+n)==n?n:0,(e=+e)==e&&(e=(e=e<=n?e:n)>=t?e:t),e}function Fx(e){var t=Math.round(e);if(Number.isNaN(e))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return t}var Ux={box:"border-box"};function jx(e,t){var n=t.label,r=t.enabled,i=t.resizeSourceRef,o=(0,bn.useState)(0),a=o[0],s=o[1];(0,bn.useDebugValue)(n+": "+a);var c=(0,bn.useCallback)((function(e){s(e[0].borderBoxSize[0].blockSize),i.current="element"}),[i]);return Lx((function(){if(e.current&&r){var t=new Cx(c);return t.observe(e.current,Ux),function(){t.disconnect()}}}),[e,c,r]),r?a:0}function Vx(e){return void 0===e&&(e=1e3),new Promise((function(t){return setTimeout(t,e)}))}var Bx,zx={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},Gx={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},Hx=function(e,t,n){return void 0===n&&(n=e.context),new xx(e,t,n)}({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:Px({},zx,Gx)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:Px({},zx,Gx)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:Px({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[(Bx={y:function(e,t){return t.payload.y},velocity:function(e,t){return t.payload.velocity},snapSource:function(e,t){var n=t.payload.source;return void 0===n?"custom":n}},{type:NR,assignment:Bx})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(e,t){},onSnapCancel:function(e,t){},onResizeCancel:function(e,t){},onCloseCancel:function(e,t){},onOpenEnd:function(e,t){},onSnapEnd:function(e,t){},onRezizeEnd:function(e,t){}},services:{onSnapStart:function(){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},onOpenStart:function(){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},onCloseStart:function(){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},onResizeStart:function(){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},onSnapEnd:function(){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},onOpenEnd:function(){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},onCloseEnd:function(){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},onResizeEnd:function(){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},renderVisuallyHidden:function(e,t){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},activate:function(e,t){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},deactivate:function(e,t){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},openSmoothly:function(e,t){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},openImmediately:function(e,t){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},snapSmoothly:function(e,t){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},resizeSmoothly:function(e,t){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}},closeSmoothly:function(e,t){try{return Promise.resolve(Vx()).then((function(){}))}catch(e){return Promise.reject(e)}}},guards:{initiallyClosed:function(e){return"CLOSED"===e.initialState},initiallyOpen:function(e){return"OPEN"===e.initialState}}}),qx=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],Wx=["velocity"],Zx=["onRest","config"],Kx=170,Yx=26,Qx=bn.forwardRef((function(e,t){var n=e.children,r=e.sibling,i=e.className,o=e.footer,a=e.header,s=e.open,c=e.initialState,l=e.lastSnapRef,u=e.initialFocusRef,d=e.onDismiss,h=e.maxHeight,p=e.defaultSnap,f=void 0===p?Xx:p,m=e.snapPoints,v=void 0===m?$x:m,g=e.blocking,y=void 0===g||g,b=e.scrollLocking,E=void 0===b||b,_=e.style,S=e.onSpringStart,A=e.onSpringCancel,w=e.onSpringEnd,T=e.reserveScrollBarGap,C=void 0===T?y:T,R=e.expandOnContentDrag,I=void 0!==R&&R,O=Dx(e,qx),k=function(){var e=(0,bn.useState)(!1),t=e[0],n=e[1],r=(0,bn.useState)({}),i=r[0],o=r[1],a=(0,bn.useCallback)((function(e){return o((function(t){var n;return Px({},t,((n={})[e]=!1,n))})),function(){o((function(t){var n;return Px({},t,((n={})[e]=!0,n))}))}}),[]);return(0,bn.useEffect)((function(){var e=Object.values(i);0!==e.length&&e.every(Boolean)&&n(!0)}),[i]),{ready:t,registerReady:a}}(),N=k.ready,x=k.registerReady,P=(0,bn.useRef)(!1),D=(0,bn.useRef)(S),L=(0,bn.useRef)(A),M=(0,bn.useRef)(w);(0,bn.useEffect)((function(){D.current=S,L.current=A,M.current=w}),[A,S,w]);var F,U,j=(e=>{const t=dO.fun(e),n=((e,t)=>{const n=(0,bn.useRef)(!1),r=(0,bn.useRef)(),i=dO.fun(t),o=(0,bn.useMemo)((()=>{let n;return r.current&&(r.current.map((e=>e.destroy())),r.current=void 0),[new Array(e).fill().map(((e,r)=>{const o=new FO,a=i?fO(t,r,o):t[r];return 0===r&&(n=a.ref),o.update(a),n||o.start(),o})),n]}),[e]),a=o[0],s=o[1];r.current=a,(0,bn.useImperativeHandle)(s,(()=>({start:()=>Promise.all(r.current.map((e=>new Promise((t=>e.start(t)))))),stop:e=>r.current.forEach((t=>t.stop(e))),get controllers(){return r.current}})));const c=(0,bn.useMemo)((()=>e=>r.current.map(((t,n)=>{t.update(i?fO(e,n,t):e[n]),s||t.start()}))),[e]);(0,bn.useEffect)((()=>{n.current?i||c(t):s||r.current.forEach((e=>e.start()))})),(0,bn.useEffect)((()=>(n.current=!0,()=>r.current.forEach((e=>e.destroy())))),[]);const l=r.current.map((e=>e.getValues()));return i?[l,c,e=>r.current.forEach((t=>t.pause(e)))]:l})(1,t?e:[e]),r=n[0],i=n[1],o=n[2];return t?[r[0],i,o]:r})((function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}})),V=j[0],B=j[1],z=(0,bn.useRef)(null),G=(0,bn.useRef)(null),H=(0,bn.useRef)(null),q=(0,bn.useRef)(null),W=(0,bn.useRef)(null),Z=(0,bn.useRef)(null),K=(0,bn.useRef)(0),Y=(0,bn.useRef)(),Q=(0,bn.useRef)(!1),J=(F=(0,bn.useMemo)((function(){return"undefined"!=typeof window?window.matchMedia("(prefers-reduced-motion: reduce)"):null}),[]),U=(0,bn.useRef)(null==F?void 0:F.matches),(0,bn.useDebugValue)(U.current?"reduce":"no-preference"),(0,bn.useEffect)((function(){var e=function(e){U.current=e.matches};return null==F||F.addListener(e),function(){return null==F?void 0:F.removeListener(e)}}),[F]),U),X=function(e){var t=e.targetRef,n=e.enabled,r=e.reserveScrollBarGap,i=(0,bn.useRef)({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return(0,bn.useDebugValue)(n?"Enabled":"Disabled"),(0,bn.useEffect)((function(){if(!n)return i.current.deactivate(),void(i.current={activate:function(){},deactivate:function(){}});var e=t.current,o=!1;i.current={activate:function(){o||(o=!0,function(e,t){if(e){if(!MN.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};MN=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(MN),[n]),LN?(e.ontouchstart=function(e){1===e.targetTouches.length&&(UN=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-UN;!BN(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?zN(e):e.stopPropagation())}(t,e)},FN||(document.addEventListener("touchmove",zN,xN?{passive:!1}:void 0),FN=!0)):function(e){if(void 0===VN){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;t&&n>0&&(VN=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}void 0===jN&&(jN=document.body.style.overflow,document.body.style.overflow="hidden")}(t)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")}(e,{allowTouchMove:function(e){return e.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:r}))},deactivate:function(){var t;o&&(o=!1,(t=e)?(MN=MN.filter((function(e){return e.targetElement!==t})),LN?(t.ontouchstart=null,t.ontouchmove=null,FN&&0===MN.length&&(document.removeEventListener("touchmove",zN,xN?{passive:!1}:void 0),FN=!1)):MN.length||(void 0!==VN&&(document.body.style.paddingRight=VN,VN=void 0),void 0!==jN&&(document.body.style.overflow=jN,jN=void 0))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."))}}}),[n,t,r]),i}({targetRef:G,enabled:N&&E,reserveScrollBarGap:C}),$=function(e){var t=e.targetRef,n=e.enabled,r=(0,bn.useRef)({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return(0,bn.useDebugValue)(n?"Enabled":"Disabled"),(0,bn.useEffect)((function(){if(!n)return r.current.deactivate(),void(r.current={activate:function(){},deactivate:function(){}});var e=t.current,i=!1,o=[],a=[];r.current={activate:function(){if(!i){i=!0;var t=e.parentNode;document.querySelectorAll("body > *").forEach((function(e){if(e!==t){var n=e.getAttribute("aria-hidden");null!==n&&"false"!==n||(o.push(n),a.push(e),e.setAttribute("aria-hidden","true"))}}))}},deactivate:function(){i&&(i=!1,a.forEach((function(e,t){var n=o[t];null===n?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n)})),o=[],a=[])}}}),[t,n]),r}({targetRef:z,enabled:N&&y}),ee=function(e){var t=e.targetRef,n=e.fallbackRef,r=e.initialFocusRef,i=e.enabled,o=(0,bn.useRef)({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return(0,bn.useDebugValue)(i?"Enabled":"Disabled"),(0,bn.useEffect)((function(){if(!i)return o.current.deactivate(),void(o.current={activate:function(){},deactivate:function(){}});var e=n.current,a=function(e,t){var n,r=(null==t?void 0:t.document)||document,i=wN({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a=function(e,t,n){return e&&void 0!==e[t]?e[t]:i[n||t]},s=function(e){return o.containerGroups.findIndex((function(t){var n=t.container,r=t.tabbableNodes;return n.contains(e)||r.find((function(t){return t===e}))}))},c=function(e){var t=i[e];if("function"==typeof t){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=r.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},l=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e)if(s(r.activeElement)>=0)e=r.activeElement;else{var t=o.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},u=function(){if(o.containerGroups=o.containers.map((function(e){var t=bN(e,i.tabbableOptions),n=function(e,t){return(t=t||{}).getShadowRoot?uN([e],t.includeContainer,{filter:mN.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):lN(e,t.includeContainer,mN.bind(null,t))}(e,i.tabbableOptions);return{container:e,tabbableNodes:t,focusableNodes:n,firstTabbableNode:t.length>0?t[0]:null,lastTabbableNode:t.length>0?t[t.length-1]:null,nextTabbableNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n.findIndex((function(t){return t===e}));if(!(r<0))return t?n.slice(r+1).find((function(e){return EN(e,i.tabbableOptions)})):n.slice(0,r).reverse().find((function(e){return EN(e,i.tabbableOptions)}))}}})),o.tabbableGroups=o.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function e(t){!1!==t&&t!==r.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(l()))},h=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},p=function(e){var t=NN(e);s(t)>=0||(kN(i.clickOutsideDeactivates,e)?n.deactivate({returnFocus:i.returnFocusOnDeactivate&&!SN(t,i.tabbableOptions)}):kN(i.allowOutsideClick,e)||e.preventDefault())},f=function(e){var t=NN(e),n=s(t)>=0;n||t instanceof Document?n&&(o.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),d(o.mostRecentlyFocusedNode||l()))},m=function(e){if(function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&!1!==kN(i.escapeDeactivates,e))return e.preventDefault(),void n.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){var t=NN(e);u();var n=null;if(o.tabbableGroups.length>0){var r=s(t),a=r>=0?o.containerGroups[r]:void 0;if(r<0)n=e.shiftKey?o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:o.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var l=ON(o.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(l<0&&(a.container===t||SN(t,i.tabbableOptions)&&!EN(t,i.tabbableOptions)&&!a.nextTabbableNode(t,!1))&&(l=r),l>=0){var h=0===l?o.tabbableGroups.length-1:l-1;n=o.tabbableGroups[h].lastTabbableNode}}else{var p=ON(o.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(p<0&&(a.container===t||SN(t,i.tabbableOptions)&&!EN(t,i.tabbableOptions)&&!a.nextTabbableNode(t))&&(p=r),p>=0){var f=p===o.tabbableGroups.length-1?0:p+1;n=o.tabbableGroups[f].firstTabbableNode}}}else n=c("fallbackFocus");n&&(e.preventDefault(),d(n))}(e)},v=function(e){var t=NN(e);s(t)>=0||kN(i.clickOutsideDeactivates,e)||kN(i.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},g=function(){if(o.active)return RN.activateTrap(n),o.delayInitialFocusTimer=i.delayInitialFocus?IN((function(){d(l())})):d(l()),r.addEventListener("focusin",f,!0),r.addEventListener("mousedown",p,{capture:!0,passive:!1}),r.addEventListener("touchstart",p,{capture:!0,passive:!1}),r.addEventListener("click",v,{capture:!0,passive:!1}),r.addEventListener("keydown",m,{capture:!0,passive:!1}),n},y=function(){if(o.active)return r.removeEventListener("focusin",f,!0),r.removeEventListener("mousedown",p,!0),r.removeEventListener("touchstart",p,!0),r.removeEventListener("click",v,!0),r.removeEventListener("keydown",m,!0),n};return n={get active(){return o.active},get paused(){return o.paused},activate:function(e){if(o.active)return this;var t=a(e,"onActivate"),n=a(e,"onPostActivate"),i=a(e,"checkCanFocusTrap");i||u(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,t&&t();var s=function(){i&&u(),g(),n&&n()};return i?(i(o.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(e){if(!o.active)return this;var t=wN({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},e);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,y(),o.active=!1,o.paused=!1,RN.deactivateTrap(n);var r=a(t,"onDeactivate"),s=a(t,"onPostDeactivate"),c=a(t,"checkCanReturnFocus"),l=a(t,"returnFocus","returnFocusOnDeactivate");r&&r();var u=function(){IN((function(){l&&d(h(o.nodeFocusedBeforeActivation)),s&&s()}))};return l&&c?(c(h(o.nodeFocusedBeforeActivation)).then(u,u),this):(u(),this)},pause:function(){return o.paused||!o.active||(o.paused=!0,y()),this},unpause:function(){return o.paused&&o.active?(o.paused=!1,u(),g(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return o.containers=t.map((function(e){return"string"==typeof e?r.querySelector(e):e})),o.active&&u(),this}},n.updateContainerElements(e),n}(t.current,{onActivate:void 0,initialFocus:r?function(){return(null==r?void 0:r.current)||e}:void 0,fallbackFocus:e,escapeDeactivates:!1,clickOutsideDeactivates:!1}),s=!1;o.current={activate:function(){try{return s?Promise.resolve():(s=!0,Promise.resolve(a.activate()).then((function(){return Promise.resolve(new Promise((function(e){return setTimeout((function(){return e(void 0)}),0)}))).then((function(){}))})))}catch(e){return Promise.reject(e)}},deactivate:function(){s&&(s=!1,a.deactivate())}}}),[i,n,r,t]),o}({targetRef:z,fallbackRef:Z,initialFocusRef:u||void 0,enabled:N&&y&&!1!==u}),te=function(e){var t=e.getSnapPoints,n=e.heightRef,r=e.lastSnapRef,i=e.ready,o=function(e){var t=e.contentRef,n=e.controlledMaxHeight,r=e.footerEnabled,i=e.footerRef,o=e.headerEnabled,a=e.headerRef,s=e.registerReady,c=e.resizeSourceRef,l=(0,bn.useMemo)((function(){return s("contentHeight")}),[s]),u=function(e,t,n){var r=(0,bn.useMemo)((function(){return t("maxHeight")}),[t]),i=(0,bn.useState)((function(){return Fx(e)||"undefined"!=typeof window?window.innerHeight:0})),o=i[0],a=i[1],s=o>0,c=(0,bn.useRef)(0);return(0,bn.useDebugValue)(e?"controlled":"auto"),(0,bn.useEffect)((function(){s&&r()}),[s,r]),Lx((function(){if(e)return a(Fx(e)),void(n.current="maxheightprop");var t=function(){c.current||(c.current=requestAnimationFrame((function(){a(window.innerHeight),n.current="window",c.current=0})))};return window.addEventListener("resize",t),a(window.innerHeight),n.current="window",r(),function(){window.removeEventListener("resize",t),cancelAnimationFrame(c.current)}}),[e,r,n]),o}(n,s,c),d=jx(a,{label:"headerHeight",enabled:o,resizeSourceRef:c}),h=jx(t,{label:"contentHeight",enabled:!0,resizeSourceRef:c}),p=jx(i,{label:"footerHeight",enabled:r,resizeSourceRef:c}),f=Math.min(u-d-p,h)+d+p;(0,bn.useDebugValue)("minHeight: "+f);var m=h>0;return(0,bn.useEffect)((function(){m&&l()}),[m,l]),{maxHeight:u,minHeight:f,headerHeight:d,footerHeight:p}}({contentRef:e.contentRef,controlledMaxHeight:e.controlledMaxHeight,footerEnabled:e.footerEnabled,footerRef:e.footerRef,headerEnabled:e.headerEnabled,headerRef:e.headerRef,registerReady:e.registerReady,resizeSourceRef:e.resizeSourceRef}),a=o.maxHeight,s=o.minHeight,c=o.headerHeight,l=o.footerHeight,u=function(e,t){var n=[].concat(e).map(Fx).reduce((function(e,n){return e.add(Mx(n,0,t)),e}),new Set),r=Array.from(n),i=Math.min.apply(Math,r);if(Number.isNaN(i))throw new TypeError("minSnap is NaN");var o=Math.max.apply(Math,r);if(Number.isNaN(o))throw new TypeError("maxSnap is NaN");return{snapPoints:r,minSnap:i,maxSnap:o}}(i?t({height:n.current,footerHeight:l,headerHeight:c,minHeight:s,maxHeight:a}):[0],a),d=u.snapPoints,h=u.minSnap,p=u.maxSnap;return(0,bn.useDebugValue)("minSnap: "+h+", maxSnap:"+p),{minSnap:h,maxSnap:p,findSnap:function(e){var t=Fx("function"==typeof e?e({footerHeight:l,headerHeight:c,height:n.current,minHeight:s,maxHeight:a,snapPoints:d,lastSnap:r.current}):e);return d.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}),h)},maxHeight:a}}({contentRef:H,controlledMaxHeight:h,footerEnabled:!!o,footerRef:W,getSnapPoints:v,headerEnabled:!1!==a,headerRef:q,heightRef:K,lastSnapRef:l,ready:N,registerReady:x,resizeSourceRef:Y}),ne=te.minSnap,re=te.maxSnap,ie=te.maxHeight,oe=te.findSnap,ae=(0,bn.useRef)(ie),se=(0,bn.useRef)(ne),ce=(0,bn.useRef)(re),le=(0,bn.useRef)(oe),ue=(0,bn.useRef)(0);Lx((function(){ae.current=ie,ce.current=re,se.current=ne,le.current=oe,ue.current=oe(f)}),[oe,f,ie,re,ne]);var de=(0,bn.useCallback)((function(e){var t=e.onRest,n=e.config,r=(n=void 0===n?{}:n).velocity,i=void 0===r?1:r,o=Dx(n,Wx),a=Dx(e,Zx);return new Promise((function(e){return B(Px({},a,{config:Px({velocity:i},o,{mass:1,tension:Kx,friction:Math.max(Yx,Yx+(Yx-Yx*i))}),onRest:function(){var n=[].slice.call(arguments);e.apply(void 0,n),null==t||t.apply(void 0,n)}}))}))}),[B]),he=uO(Hx,{devTools:!1,actions:{onOpenCancel:(0,bn.useCallback)((function(){return null==L.current?void 0:L.current({type:"OPEN"})}),[]),onSnapCancel:(0,bn.useCallback)((function(e){return null==L.current?void 0:L.current({type:"SNAP",source:e.snapSource})}),[]),onCloseCancel:(0,bn.useCallback)((function(){return null==L.current?void 0:L.current({type:"CLOSE"})}),[]),onResizeCancel:(0,bn.useCallback)((function(){return null==L.current?void 0:L.current({type:"RESIZE",source:Y.current})}),[]),onOpenEnd:(0,bn.useCallback)((function(){return null==M.current?void 0:M.current({type:"OPEN"})}),[]),onSnapEnd:(0,bn.useCallback)((function(e,t){return null==M.current?void 0:M.current({type:"SNAP",source:e.snapSource})}),[]),onResizeEnd:(0,bn.useCallback)((function(){return null==M.current?void 0:M.current({type:"RESIZE",source:Y.current})}),[])},context:{initialState:c},services:{onSnapStart:(0,bn.useCallback)((function(e,t){try{return Promise.resolve(null==D.current?void 0:D.current({type:"SNAP",source:t.payload.source||"custom"}))}catch(e){return Promise.reject(e)}}),[]),onOpenStart:(0,bn.useCallback)((function(){try{return Promise.resolve(null==D.current?void 0:D.current({type:"OPEN"}))}catch(e){return Promise.reject(e)}}),[]),onCloseStart:(0,bn.useCallback)((function(){try{return Promise.resolve(null==D.current?void 0:D.current({type:"CLOSE"}))}catch(e){return Promise.reject(e)}}),[]),onResizeStart:(0,bn.useCallback)((function(){try{return Promise.resolve(null==D.current?void 0:D.current({type:"RESIZE",source:Y.current}))}catch(e){return Promise.reject(e)}}),[]),onSnapEnd:(0,bn.useCallback)((function(e,t){try{return Promise.resolve(null==M.current?void 0:M.current({type:"SNAP",source:e.snapSource}))}catch(e){return Promise.reject(e)}}),[]),onOpenEnd:(0,bn.useCallback)((function(){try{return Promise.resolve(null==M.current?void 0:M.current({type:"OPEN"}))}catch(e){return Promise.reject(e)}}),[]),onCloseEnd:(0,bn.useCallback)((function(){try{return Promise.resolve(null==M.current?void 0:M.current({type:"CLOSE"}))}catch(e){return Promise.reject(e)}}),[]),onResizeEnd:(0,bn.useCallback)((function(){try{return Promise.resolve(null==M.current?void 0:M.current({type:"RESIZE",source:Y.current}))}catch(e){return Promise.reject(e)}}),[]),renderVisuallyHidden:(0,bn.useCallback)((function(e,t){try{return Promise.resolve(de({y:ue.current,ready:0,maxHeight:ae.current,maxSnap:ce.current,minSnap:ue.current,immediate:!0})).then((function(){}))}catch(e){return Promise.reject(e)}}),[de]),activate:(0,bn.useCallback)((function(e,t){try{return P.current=!0,Promise.resolve(Promise.all([X.current.activate(),ee.current.activate(),$.current.activate()])).then((function(){}))}catch(e){return Promise.reject(e)}}),[$,ee,X]),deactivate:(0,bn.useCallback)((function(){try{return X.current.deactivate(),ee.current.deactivate(),$.current.deactivate(),P.current=!1,Promise.resolve()}catch(e){return Promise.reject(e)}}),[$,ee,X]),openImmediately:(0,bn.useCallback)((function(){try{return K.current=ue.current,Promise.resolve(de({y:ue.current,ready:1,maxHeight:ae.current,maxSnap:ce.current,minSnap:ue.current,immediate:!0})).then((function(){}))}catch(e){return Promise.reject(e)}}),[de]),openSmoothly:(0,bn.useCallback)((function(){try{return Promise.resolve(de({y:0,ready:1,maxHeight:ae.current,maxSnap:ce.current,minSnap:ue.current,immediate:!0})).then((function(){return K.current=ue.current,Promise.resolve(de({y:ue.current,ready:1,maxHeight:ae.current,maxSnap:ce.current,minSnap:ue.current,immediate:J.current})).then((function(){}))}))}catch(e){return Promise.reject(e)}}),[de,J]),snapSmoothly:(0,bn.useCallback)((function(e,t){try{var n=le.current(e.y);return K.current=n,l.current=n,Promise.resolve(de({y:n,ready:1,maxHeight:ae.current,maxSnap:ce.current,minSnap:se.current,immediate:J.current,config:{velocity:e.velocity}})).then((function(){}))}catch(e){return Promise.reject(e)}}),[de,l,J]),resizeSmoothly:(0,bn.useCallback)((function(){try{var e=le.current(K.current);return K.current=e,l.current=e,Promise.resolve(de({y:e,ready:1,maxHeight:ae.current,maxSnap:ce.current,minSnap:se.current,immediate:"element"!==Y.current||J.current})).then((function(){}))}catch(e){return Promise.reject(e)}}),[de,l,J]),closeSmoothly:(0,bn.useCallback)((function(e,t){try{return de({minSnap:K.current,immediate:!0}),K.current=0,Promise.resolve(de({y:0,maxHeight:ae.current,maxSnap:ce.current,immediate:J.current})).then((function(){return Promise.resolve(de({ready:0,immediate:!0})).then((function(){}))}))}catch(e){return Promise.reject(e)}}),[de,J])}}),pe=he[0],fe=he[1];(0,bn.useEffect)((function(){N&&fe(s?"OPEN":"CLOSE")}),[s,fe,N]),Lx((function(){(ie||re||ne)&&fe("RESIZE")}),[ie,re,ne,fe]),(0,bn.useEffect)((function(){return function(){X.current.deactivate(),ee.current.deactivate(),$.current.deactivate()}}),[$,ee,X]),(0,bn.useImperativeHandle)(t,(function(){return{snapTo:function(e,t){var n=void 0===t?{}:t,r=n.velocity,i=void 0===r?1:r,o=n.source,a=void 0===o?"custom":o;fe("SNAP",{payload:{y:le.current(e),velocity:i,source:a}})},get height(){return K.current}}}),[fe]),(0,bn.useEffect)((function(){var e=G.current,t=function(e){Q.current&&e.preventDefault()},n=function(t){e.scrollTop<0&&(requestAnimationFrame((function(){e.style.overflow="hidden",e.scrollTop=0,e.style.removeProperty("overflow")})),t.preventDefault())};return I&&(e.addEventListener("scroll",t),e.addEventListener("touchmove",t),e.addEventListener("touchstart",n)),function(){e.removeEventListener("scroll",t),e.removeEventListener("touchmove",t),e.removeEventListener("touchstart",n)}}),[I,G]);var me=function(e,t){void 0===t&&(t={}),jk.set("drag",tN);var n=(0,bn.useRef)();return n.current||(n.current=function(e,t){var n,r,i=[],o=!1;return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}}(Mk,rN)),function(e,t,n){void 0===n&&(n={});var r=function(e){var t=new Set;return e.drag&&t.add(jk.get("drag")),e.wheel&&t.add(jk.get("wheel")),e.scroll&&t.add(jk.get("scroll")),e.move&&t.add(jk.get("move")),e.pinch&&t.add(jk.get("pinch")),e.hover&&t.add(jk.get("hover")),t}(e),i=bn.useMemo((function(){return new qk(r)}),[]);return i.config=t,i.handlers=e,i.nativeRefs=n,bn.useEffect(i.effect,[]),i.config.domTarget?Jk:i.bind}({drag:function(e){var t=e.args,n=(t=void 0===t?[]:t)[0],r=(n=void 0===n?{}:n).closeOnTap,i=void 0!==r&&r,o=n.isContentDragging,a=void 0!==o&&o,s=e.cancel,c=e.direction[1],l=e.down,u=e.first,h=e.last,p=e.memo,f=void 0===p?V.y.getValue():p,m=e.tap,v=e.velocity,g=-1*e.movement[1];if(!P.current)return s(),f;if(d&&i&&m)return s(),setTimeout((function(){return d()}),0),f;if(m)return f;var y=f+g,b=g*v,E=Math.max(se.current,Math.min(ce.current,y+2*b));if(!l&&d&&c>0&&y+b<se.current/2)return s(),d(),f;var _=l?d||se.current!==ce.current?Ek(y,d?0:se.current,ce.current,.55):y<se.current?Ek(y,se.current,2*ce.current,.55):Ek(y,se.current/2,ce.current,.55):E;return I&&a?(_>=ce.current&&(_=ce.current),f===ce.current&&G.current.scrollTop>0&&(_=ce.current),Q.current=_<ce.current):Q.current=!1,u&&fe("DRAG"),h?(fe("SNAP",{payload:{y:_,velocity:v>.05?v:1,source:"dragging"}}),f):(B({y:_,ready:1,maxHeight:ae.current,maxSnap:ce.current,minSnap:se.current,immediate:!0,config:{velocity:v}}),f)}},n.current(t))}(0,{filterTaps:!0});if(Number.isNaN(ce.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(se.current))throw new TypeError("minSnapRef is NaN!!");var ve=function(e){var t,n=e.spring,r=xO([n.y,n.maxHeight],(function(e,t){return Math.round(Mx(t-e,0,16))+"px"})),i=xO([n.y,n.minSnap,n.maxSnap],(function(e,t,n){return Mx(e,t,n)+"px"})),o=xO([n.y,n.minSnap,n.maxSnap],(function(e,t,n){return e<t?t-e+"px":e>n?n-e+"px":"0px"})),a=xO([n.y,n.maxSnap],(function(e,t){return e>=t?Math.ceil(e-t):0})),s=xO([n.y,n.minSnap],(function(e,t){if(!t)return 0;var n=Math.max(t/2-45,0);return Mx((e-n)*(1/(Math.min(t/2+45,t)-n)+0),0,1)})),c=xO([n.y,n.minSnap],(function(e,t){return t?Mx(e/t,0,1):0}));return(t={})["--rsbs-content-opacity"]=s,t["--rsbs-backdrop-opacity"]=c,t["--rsbs-antigap-scale-y"]=a,t["--rsbs-overlay-translate-y"]=o,t["--rsbs-overlay-rounded"]=r,t["--rsbs-overlay-h"]=i,t}({spring:V});return bn.createElement(fk.div,Px({},O,{"data-rsbs-root":!0,"data-rsbs-state":Jx.find(pe.matches),"data-rsbs-is-blocking":y,"data-rsbs-is-dismissable":!!d,"data-rsbs-has-header":!!a,"data-rsbs-has-footer":!!o,className:i,ref:z,style:Px({},ve,_,{opacity:V.ready})}),r,y&&bn.createElement("div",Px({key:"backdrop","data-rsbs-backdrop":!0},me({closeOnTap:!0}))),bn.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:Z,onKeyDown:function(e){"Escape"===e.key&&(e.stopPropagation(),d&&d())}},!1!==a&&bn.createElement("div",Px({key:"header","data-rsbs-header":!0,ref:q},me()),a),bn.createElement("div",Px({key:"scroll","data-rsbs-scroll":!0,ref:G},I?me({isContentDragging:!0}):{}),bn.createElement("div",{"data-rsbs-content":!0,ref:H},n)),o&&bn.createElement("div",Px({key:"footer",ref:W,"data-rsbs-footer":!0},me()),o)))})),Jx=["closed","opening","open","closing","dragging","snapping","resizing"];function Xx(e){var t=e.lastSnap;return null!=t?t:Math.min.apply(Math,e.snapPoints)}function $x(e){return e.minHeight}var eP=["onSpringStart","onSpringEnd","skipInitialTransition"],tP=(0,bn.forwardRef)((function(e,t){var n=e.onSpringStart,r=e.onSpringEnd,i=e.skipInitialTransition,o=Dx(e,eP),a=(0,bn.useState)(!1),s=a[0],c=a[1],l=(0,bn.useRef)(),u=(0,bn.useRef)(null),d=(0,bn.useRef)(i&&o.open?"OPEN":"CLOSED");Lx((function(){if(o.open)return cancelAnimationFrame(l.current),c(!0),function(){d.current="CLOSED"}}),[o.open]);var h=(0,bn.useCallback)((function(e){return Promise.resolve(null==n?void 0:n(e)).then((function(){"OPEN"===e.type&&cancelAnimationFrame(l.current)}))}),[n]),p=(0,bn.useCallback)((function(e){return Promise.resolve(null==r?void 0:r(e)).then((function(){"CLOSE"===e.type&&(l.current=requestAnimationFrame((function(){return c(!1)})))}))}),[r]);return s?bn.createElement(pR,{"data-rsbs-portal":!0},bn.createElement(Qx,Px({},o,{lastSnapRef:u,ref:t,initialState:d.current,onSpringStart:h,onSpringEnd:p}))):null})),nP=__webpack_require__(3379),rP=__webpack_require__.n(nP),iP=__webpack_require__(7795),oP=__webpack_require__.n(iP),aP=__webpack_require__(569),sP=__webpack_require__.n(aP),cP=__webpack_require__(3565),lP=__webpack_require__.n(cP),uP=__webpack_require__(9216),dP=__webpack_require__.n(uP),hP=__webpack_require__(4589),pP=__webpack_require__.n(hP),fP=__webpack_require__(5094),mP={};mP.styleTagTransform=pP(),mP.setAttributes=lP(),mP.insert=sP().bind(null,"head"),mP.domAPI=oP(),mP.insertStyleElement=dP(),rP()(fP.Z,mP),fP.Z&&fP.Z.locals&&fP.Z.locals,du.Z.create({});const vP=e=>{const{setSidePanel:t,sidePanel:n}=Zf(),{showToolTip:r=!1,showLabel:i=!0,disabled:o=!1,isOnActionSheet:a=!1,isMobileView:s=!1}=e,{start:c,restart:l,isAuthorizedSTTUser:u}=wT(),{isSTTActive:d,language:h}=hT(),p=!u(),[f,m]=bn.useState(!1),v=bn.useRef(!1),g=n===Hf.Transcript,y=g?"Hide Transcript":"Show Transcript",b={onPress:()=>{d?t(g?Hf.None:Hf.Transcript):(v.current=!0,m(!0))},iconProps:{name:"transcript",iconBackgroundColor:g?"#099DFD":"",tintColor:p?"#808080":"#FFFFFF"},disabled:p,btnTextProps:{text:i?y:"",textColor:"#FFFFFF"}};return b.isOnActionSheet=a,a||(b.toolTipMessage=y),bn.createElement(Sn.Z,null,bn.createElement(AS,b),bn.createElement(ST,{modalVisible:f,setModalVisible:m,onConfirm:async(e,n)=>{m(!1),v.current=!1;const r=g?"stop":"start";if("stop"!==r&&("start"!==r||!0!==d)){t(g?Hf.None:Hf.Transcript);try{const e=await c(n);null!=e&&e.message.includes("STARTED")&&await l(n)}catch(e){console.log("eror in starting stt",e)}}},isFirstTimePopupOpen:v.current}))},{width:gP}=(du.Z.create({}),nu.Z.get("window")),yP=du.Z.create({container:{flex:1},item:{},indicatorContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"absolute",bottom:10,width:"100%"},dot:{width:8,height:8,borderRadius:4,backgroundColor:"#808080",marginHorizontal:5},activeDot:{backgroundColor:"#FFFFFF"},pressedDot:{backgroundColor:"#099DFD"}}),bP=({data:e})=>{const[t,n]=(0,bn.useState)(0),r=bn.useRef(null);return bn.createElement(Sn.Z,{style:yP.container},bn.createElement(pT.Z,{ref:r,data:e,renderItem:({item:e})=>bn.createElement(Sn.Z,{style:[yP.item,{width:gP}]},e.component),horizontal:!0,pagingEnabled:!0,showsHorizontalScrollIndicator:!1,keyExtractor:(e,t)=>t.toString(),onScroll:e=>{const{contentOffset:t}=e.nativeEvent,r=Math.round(t.x/gP);n(r)}}),bn.createElement(Sn.Z,{style:yP.indicatorContainer},e.map(((e,i)=>bn.createElement(Rm.Z,{key:i,onPress:()=>{(e=>{r.current&&r.current.scrollToOffset({offset:e*gP,animated:!0})})(i),n(i)},hitSlop:5},(({pressed:e})=>bn.createElement(Sn.Z,{style:[yP.dot,i===t&&yP.activeDot,e&&yP.pressedDot]})))))))},EP=e=>{const{isExpanded:t,onPress:n,showNotification:r}=e;return bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(cu.Z,{onPress:n},bn.createElement(pm,{name:t?"arrow-down":"more-menu",tintColor:"#099DFD"})),r&&bn.createElement(Sn.Z,{style:LP.notification})))},_P=e=>{const{isHandRaised:t,showLabel:n=!0}=e;return bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(jC,{showControls:!0,isDesktop:!1,showLabel:!1})),n&&bn.createElement(lu.Z,{style:LP.iconText},t?"Lower\nHand":"Raise\nHand"))},SP=e=>{const{showLabel:t=!0}=e;return bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(dC,{isOnActionSheet:!0})),t&&bn.createElement(lu.Z,{style:LP.iconText},"Chat"))},AP=e=>{const{showNotification:t}=e;return bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(uC,{isOnActionSheet:!0})),bn.createElement(lu.Z,{style:LP.iconText},"People"))},wP=e=>{const{disabled:t}=e;return bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(MC,{showLabel:!1,disabled:t})),bn.createElement(Sn.Z,null,bn.createElement(lu.Z,{style:[LP.iconText,{color:t?"#808080":"#FFFFFF"}]},"Switch"),bn.createElement(lu.Z,{style:[LP.iconText,{color:t?"#808080":"#FFFFFF",marginTop:0}]},"Camera")))},TP=e=>{const{onPress:t}=e;return bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(cu.Z,{style:LP.iconContainer,onPress:t},bn.createElement(pm,{name:"settings",tintColor:"#FFFFFF"})),bn.createElement(lu.Z,{style:LP.iconText},"Settings"))},CP=()=>bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(XT,{showLabel:!1,isOnActionSheet:!0})),bn.createElement(lu.Z,{style:LP.iconText},"Invite")),RP=e=>bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(Gw,e))),IP=e=>bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(zw,e))),OP=e=>bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:[LP.iconContainer,{backgroundColor:"#FF414D"}]},bn.createElement(eR,e))),kP=e=>{const{showLabel:t=!0}=e;return bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(oC,{showLabel:!1})),t&&bn.createElement(lu.Z,{style:LP.iconText},"Layout"))},NP=e=>{const{showLabel:t=!0}=e,{sidePanel:n}=Zf(),r=n===Hf.Transcript,{isSTTActive:i}=hT(),{data:{isHost:o}}=rf();return bn.createElement(Sn.Z,{style:LP.iconWithText},bn.createElement(Sn.Z,{style:LP.iconContainer},bn.createElement(vP,{isOnActionSheet:!0,showLabel:!1})),t&&bn.createElement(Sn.Z,null,bn.createElement(lu.Z,{style:[LP.iconText,{color:"#808080"}]},r?"Hide":"Show"),bn.createElement(lu.Z,{style:[LP.iconText,{color:"#808080",marginTop:0}]},"Transcript")))},xP=({color:e})=>bn.createElement(Sn.Z,{style:{marginRight:12,alignSelf:"center",width:24,height:24}},bn.createElement(pm,{iconType:"plain",tintColor:e,name:"lang-select"})),PP=({isPaginationRequired:e,children:t,native:n})=>e?bn.createElement(Sn.Z,{style:{flexDirection:"row"}},bn.createElement(bP,{data:[{id:"slide_1",component:bn.createElement(Sn.Z,{style:LP.row},t)},{id:"slide_2",component:bn.createElement(Sn.Z,{style:LP.row},bn.createElement(NP,null))}]})):bn.createElement(Sn.Z,{style:LP.row},t),DP=e=>{var t;const{handleSheetChanges:n,isExpanded:r,native:i=!1}=e,{localUid:o}=(0,bn.useContext)(jp),{isScreenshareActive:a}=CS(),{rtcProps:s}=(0,bn.useContext)(fh),{setSidePanel:c}=Zf(),{data:{isHost:l}}=rf(),{isPendingRequestToReview:u,raiseHandList:d}=(0,bn.useContext)(Ew),{totalUnreadCount:h}=Gf(),{setIsSTTActive:p,setLanguage:f,setMeetingTranscript:m}=hT(),{renderList:v}=nm();bn.useEffect((()=>{i||Fp.on(Cp,(e=>{const t=JSON.parse(null==e?void 0:e.payload);p(t.active)}))}),[]),bn.useEffect((()=>{i||Fp.on(Rp,(e=>{var t;const{username:n,prevLang:r,newLang:i,uid:o}=JSON.parse(null==e?void 0:e.payload),a=-1!==r.indexOf("")?`has set the spoken language to  "${vT(i)}" `:`changed the spoken language from "${vT(r)}" to "${vT(i)}" `,s=`${(null===(t=v[o])||void 0===t?void 0:t.name)||n} ${a} `;Bu.show({type:"info",leadingIcon:bn.createElement(xP,{color:"#FFFFFF"}),text1:"Spoken Language "+(-1!==r.indexOf("")?"Set":"Changed"),visibilityTime:3e3,text2:s,primaryBtn:null,secondaryBtn:null}),i&&f(i),m((e=>[...e,{name:"langUpdate",time:(new Date).getTime(),uid:`langUpdate-${o}`,text:a}]))}))}),[]);const g=(null==s?void 0:s.role)===ah.Audience,y=(null==s?void 0:s.role)===ah.Broadcaster,b=(null===(t=d[o])||void 0===t?void 0:t.raised)===pw.TRUE,E=g&&!1,_=Af(),S=i?_.video===ch.disabled||a:_.video===ch.disabled;return bn.createElement(Sn.Z,null,bn.createElement(Sn.Z,{style:[LP.row,{borderBottomWidth:1,paddingTop:4,justifyContent:"center"}]},E?null:bn.createElement(RP,{isMobileView:!0,isOnActionSheet:!0,showLabel:!1,disabled:g&&!y}),!1,null,E?null:bn.createElement(IP,{isOnActionSheet:!0,isMobileView:!0,showLabel:!1,disabled:g&&!y}),bn.createElement(OP,{showLabel:!1,isOnActionSheet:!0}),bn.createElement(EP,{showNotification:!r&&0!==h||u,isExpanded:r,onPress:()=>n(r?0:1)})),bn.createElement(PP,{isPaginationRequired:!1,native:i},bn.createElement(bn.Fragment,null,g||y&&!l?bn.createElement(_P,{isHandRaised:b}):null,bn.createElement(kP,null),bn.createElement(SP,null),bn.createElement(AP,{showNotification:u}),null,E?null:bn.createElement(wP,{disabled:g&&!y||S}),bn.createElement(TP,{onPress:()=>{c(Hf.Settings)}}),bn.createElement(CP,null),bn.createElement(bn.Fragment,null))))},LP=du.Z.create({row:{flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",paddingTop:24,borderColor:"#2D2D2D",flexWrap:"wrap"},iconContainer:{backgroundColor:"#262626",width:52,height:52,borderRadius:26,justifyContent:"center",alignItems:"center"},iconWithText:{justifyContent:"center",alignItems:"center",flexBasis:"25%",paddingBottom:24},iconText:{color:"#FFFFFF",marginTop:8,fontSize:12,fontWeight:"400",fontFamily:"Source Sans Pro",textAlign:"center"},notification:{position:"absolute",width:12,height:12,backgroundColor:"#FF414D",borderRadius:6,top:-1,right:5}});var MP=__webpack_require__(177);const FP=du.Z.create({check:{width:15,height:15}}),UP=e=>{const{primaryColor:t}=(0,bn.useContext)(eu),n=e.value,r=e.onValueChange;return bn.createElement(MP.Z,{disabled:null==e?void 0:e.disabled,value:n,onValueChange:r,color:e.color??t,style:{...FP.check,...e.style}})};function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jP.apply(this,arguments)}function VP({leadingIcon:e,trailingIcon:t,text1:n,text2:r,onPress:i,style:o,contentContainerStyle:a,text1Style:s,text2Style:c,subTextStyle:l,activeOpacity:u,text1NumberOfLines:d,text2NumberOfLines:h,primaryBtn:p,secondaryBtn:f,checkbox:m}){const[v,g]=(0,bn.useState)(!1);return bn.createElement(cu.Z,{testID:"rootView",style:[yu.base,yu.borderTop,o],onPress:i,activeOpacity:i?u:1},bn.createElement(Sn.Z,{testID:"contentContainer",style:[yu.contentContainer,a]},(n||(null==n?void 0:n.length)>0)&&bn.createElement(Sn.Z,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"}},bn.createElement(Sn.Z,{style:{flexDirection:"row",flex:1}},e||bn.createElement(bn.Fragment,null),bn.createElement(lu.Z,{testID:"text1",style:[yu.text1,s],numberOfLines:d},n)),bn.createElement(Sn.Z,{style:{justifyContent:"flex-start",alignSelf:"center"}},t||bn.createElement(bn.Fragment,null))),(r||(null==r?void 0:r.length)>0)&&bn.createElement(Sn.Z,null,bn.createElement(lu.Z,{testID:"text2",style:[yu.text2,c],numberOfLines:h},r)),m&&bn.createElement(Rm.Z,{style:{flex:1,flexDirection:"row",paddingTop:16,paddingBottom:8,marginLeft:4},onPress:()=>{g((e=>!e))}},bn.createElement(UP,jP({},m,{value:v,onValueChange:g,style:{marginRight:8}})),bn.createElement(lu.Z,{style:l},m.text)),p||f?bn.createElement(Sn.Z,{style:{flex:1,flexDirection:"row",paddingTop:16,paddingBottom:24}},p&&bn.createElement(vm,jP({textStyle:{fontWeight:"600",fontSize:16,paddingLeft:0},containerStyle:{height:40,borderRadius:4,paddingVertical:0,paddingHorizontal:12,minWidth:"unset"}},p,{onPress:e=>{p.onPress(v,e),g(!1)}})),f&&bn.createElement(nA,jP({textStyle:{fontWeight:"600",fontSize:16,paddingLeft:0},containerStyle:{height:40,marginLeft:16,paddingVertical:0}},f,{onPress:e=>{f.onPress(v,e),g(!1)}}))):bn.createElement(bn.Fragment,null)))}VP.HEIGHT=105,VP.propTypes={leadingIcon:Mn().node,trailingIcon:Mn().node,text1:Mn().string,text2:Mn().string||Mn().element||Mn().any,onPress:Mn().func,style:uu,contentContainerStyle:uu,text1Style:uu,text2Style:uu,activeOpacity:Mn().number,text1NumberOfLines:Mn().number,text2NumberOfLines:Mn().number},VP.defaultProps={leadingIcon:null,trailingIcon:null,text1:void 0,text2:void 0,onPress:void 0,style:void 0,contentContainerStyle:void 0,text1Style:void 0,text2Style:void 0,activeOpacity:.8,text1NumberOfLines:1,text2NumberOfLines:2};const BP=VP;function zP(){return zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zP.apply(this,arguments)}const GP=bn.createElement(cu.Z,{onPress:()=>Bu.hide(),style:{alignSelf:"flex-end"}},bn.createElement(Sn.Z,{style:{width:26,height:26}},bn.createElement(pm,{iconType:"plain",tintColor:"#FFFFFF",name:"close",iconSize:26}))),HP=(e,t)=>bn.createElement(Sn.Z,{style:{marginRight:4,alignSelf:"center",width:26,height:26}},bn.createElement(pm,{iconType:"plain",tintColor:t,name:e})),qP={success:({text1:e,text2:t,props:n,...r})=>bn.createElement(Eu,zP({},r,{leadingIcon:HP("tick-fill","#36B37E"),trailingIcon:GP,style:{borderRadius:4,borderTopWidth:6,backgroundColor:"#333333",width:"100%",borderTopColor:"#36B37E"},contentContainerStyle:WP.contentContainerStyle,text1Style:WP.text1Style,text2Style:WP.text2Style,text1:e,text2:t,primaryBtn:null,secondaryBtn:null})),error:({text1:e,text2:t,props:n,...r})=>bn.createElement(Eu,zP({},r,{leadingIcon:HP("alert","#FF414D"),trailingIcon:GP,style:{borderRadius:4,borderTopWidth:6,backgroundColor:"#333333",width:"100%",borderTopColor:"#FF414D"},contentContainerStyle:WP.contentContainerStyle,text1Style:WP.text1Style,text2Style:WP.text2Style,text1:e,text2:t,primaryBtn:null,secondaryBtn:null})),info:({text1:e,text2:t,props:n,primaryBtn:r,secondaryBtn:i,...o})=>bn.createElement(Eu,zP({},o,{trailingIcon:GP,style:{height:"auto",borderRadius:cm.small,borderTopWidth:6,backgroundColor:"#333333",width:"100%",borderTopColor:"#099DFD"},contentContainerStyle:WP.contentContainerStyle,text1Style:WP.text1Style,text2Style:WP.text2Style,text1:e,text2:t,primaryBtn:r||null,secondaryBtn:i||null})),checked:({text1:e,text2:t,props:n,primaryBtn:r,secondaryBtn:i,checkbox:o,...a})=>bn.createElement(BP,zP({},a,{trailingIcon:GP,style:{height:r||i?185:e&&t?105:70,borderRadius:4,borderTopWidth:6,backgroundColor:"#333333",width:"100%",borderTopColor:"#099DFD"},contentContainerStyle:WP.contentContainerStyle,text1Style:WP.text1Style,text2Style:WP.text2Style,subTextStyle:WP.subTextStyle,text1:e,text2:t,primaryBtn:r||null,secondaryBtn:i||null,checkbox:o}))},WP=du.Z.create({text1Style:{fontSize:am.normal,lineHeight:22,fontFamily:sm.sansPro,fontWeight:"600",color:"#FFFFFF",alignSelf:"center"},text2Style:{fontSize:am.normal,lineHeight:22,fontFamily:sm.sansPro,fontWeight:"400",color:"#FFFFFF"+om.medium,marginTop:11,alignSelf:"center"},subTextStyle:{color:"#FFFFFF"+om.medium},contentContainerStyle:{paddingHorizontal:15,paddingTop:20,paddingBottom:25,overflow:"hidden",flexDirection:"column",justifyContent:"flex-start"},containerStyle:{}}),ZP=()=>bn.createElement(Bu,{ref:e=>Bu.setRef(e),config:qP}),KP=bn.createContext({isActionSheetVisible:!1,setActionSheetVisible:()=>{}}),YP=e=>{const[t,n]=(0,bn.useState)(!1);return bn.createElement(KP.Provider,{value:{isActionSheetVisible:t,setActionSheetVisible:n}},e.children)},QP=Zu(KP),JP=e=>{const{sidePanel:t}=e;return bn.createElement(Sn.Z,{style:XP.container},bn.createElement(Sn.Z,{style:XP.handleIndicatorStyle}),t===Hf.Participants&&bn.createElement(RT,null),t===Hf.Chat&&bn.createElement(IT,null),t===Hf.Settings&&bn.createElement(CT,null),t===Hf.Transcript&&bn.createElement(OT,null))},XP=du.Z.create({container:{paddingVertical:0},handleIndicatorStyle:{backgroundColor:"#808080",width:40,height:4,alignSelf:"center",borderRadius:4,marginTop:12}});var $P=__webpack_require__(3298);const eD=({user:e,time:t,value:n,searchQuery:r=""})=>{const i=t?fT(Number(t)):"",o=r?new RegExp(`(${r})`,"gi"):" ",a=n.split(o);return bn.createElement(Sn.Z,{key:e,style:tD.transcriptTextContainer},bn.createElement(Sn.Z,{style:tD.nameTimeContainer},bn.createElement(lu.Z,{numberOfLines:1,textBreakStrategy:"simple",ellipsizeMode:"tail",style:[tD.transcriptName]},e),bn.createElement(lu.Z,{style:tD.timestamp},i)),bn.createElement(Sn.Z,null,bn.createElement(lu.Z,{style:[tD.transciptText]},a.map(((e,t)=>e.toLowerCase()===r.toLowerCase()&&""!==r?bn.createElement(lu.Z,{key:t,style:tD.highlightedText},r?e:e+" "):bn.createElement(lu.Z,{key:t},r?e:e+" "))))))},tD=du.Z.create({nameTimeContainer:{flexDirection:"row",alignItems:"baseline",marginBottom:4,justifyContent:"flex-start"},transcriptTextContainer:{alignItems:"flex-start",marginBottom:20},transciptText:{fontSize:16,lineHeight:22,fontFamily:sm.sansPro,fontWeight:"400",color:"#FFFFFF"+rm["70%"]},transcriptName:{fontSize:16,lineHeight:19,fontWeight:"600",fontFamily:sm.sansPro,color:"#FFFFFF",maxWidth:160},timestamp:{fontSize:12,lineHeight:16,marginLeft:8,color:"#FFFFFF"+rm["40%"],fontFamily:sm.sansPro,fontWeight:"400"},highlightedText:{backgroundColor:"#808080"}});var nD=__webpack_require__(4887),rD=__webpack_require__.n(nD),iD=__webpack_require__(6729);class oD extends Error{constructor(e){super(e),this.name="TimeoutError"}}class aD extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const sD=e=>void 0===globalThis.DOMException?new aD(e):new DOMException(e),cD=e=>{const t=void 0===e.reason?sD("This operation was aborted."):e.reason;return t instanceof Error?t:sD(t)};var lD,uD=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class dD{constructor(){lD.set(this,[])}enqueue(e,t){const n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&uD(this,lD,"f")[this.size-1].priority>=t.priority)return void uD(this,lD,"f").push(n);const r=function(e,t,n){let r=0,i=e.length;for(;i>0;){const n=Math.trunc(i/2);let a=r+n;o=e[a],t.priority-o.priority<=0?(r=++a,i-=n+1):i=n}var o;return r}(uD(this,lD,"f"),n);uD(this,lD,"f").splice(r,0,n)}dequeue(){const e=uD(this,lD,"f").shift();return null==e?void 0:e.run}filter(e){return uD(this,lD,"f").filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return uD(this,lD,"f").length}}lD=new WeakMap;var hD,pD,fD,mD,vD,gD,yD,bD,ED,_D,SD,AD,wD,TD,CD,RD,ID,OD,kD,ND,xD,PD,DD,LD,MD,FD,UD=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},jD=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class VD extends Error{}class BD extends iD{constructor(e){var t,n,r,i;if(super(),hD.add(this),pD.set(this,void 0),fD.set(this,void 0),mD.set(this,0),vD.set(this,void 0),gD.set(this,void 0),yD.set(this,0),bD.set(this,void 0),ED.set(this,void 0),_D.set(this,void 0),SD.set(this,void 0),AD.set(this,0),wD.set(this,void 0),TD.set(this,void 0),CD.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:dD,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);UD(this,pD,e.carryoverConcurrencyCount,"f"),UD(this,fD,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),UD(this,vD,e.intervalCap,"f"),UD(this,gD,e.interval,"f"),UD(this,_D,new e.queueClass,"f"),UD(this,SD,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,UD(this,CD,!0===e.throwOnTimeout,"f"),UD(this,TD,!1===e.autoStart,"f")}get concurrency(){return jD(this,wD,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);UD(this,wD,e,"f"),jD(this,hD,"m",LD).call(this)}async add(e,t={}){return t={timeout:this.timeout,throwOnTimeout:jD(this,CD,"f"),...t},new Promise(((n,r)=>{jD(this,_D,"f").enqueue((async()=>{var i,o,a;UD(this,AD,(o=jD(this,AD,"f"),++o),"f"),UD(this,mD,(a=jD(this,mD,"f"),++a),"f");try{if(null===(i=t.signal)||void 0===i?void 0:i.aborted)throw new VD("The task was aborted.");let r=e({signal:t.signal});t.timeout&&(r=function(e,t,n,r){let i;const o=new Promise(((o,a)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((r={customTimers:{setTimeout,clearTimeout},...r}).signal){const{signal:e}=r;e.aborted&&a(cD(e)),e.addEventListener("abort",(()=>{a(cD(e))}))}i=r.customTimers.setTimeout.call(void 0,(()=>{const r=n instanceof Error?n:new oD(`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),a(r)}),t),(async()=>{try{o(await e)}catch(e){a(e)}finally{r.customTimers.clearTimeout.call(void 0,i)}})()}else o(e)}));return o.clear=()=>{clearTimeout(i),i=void 0},o}(Promise.resolve(r),t.timeout)),t.signal&&(r=Promise.race([r,jD(this,hD,"m",MD).call(this,t.signal)]));const o=await r;n(o),this.emit("completed",o)}catch(e){if(e instanceof oD&&!t.throwOnTimeout)return void n();r(e),this.emit("error",e)}finally{jD(this,hD,"m",OD).call(this)}}),t),this.emit("add"),jD(this,hD,"m",xD).call(this)}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return jD(this,TD,"f")?(UD(this,TD,!1,"f"),jD(this,hD,"m",LD).call(this),this):this}pause(){UD(this,TD,!0,"f")}clear(){UD(this,_D,new(jD(this,SD,"f")),"f")}async onEmpty(){0!==jD(this,_D,"f").size&&await jD(this,hD,"m",FD).call(this,"empty")}async onSizeLessThan(e){jD(this,_D,"f").size<e||await jD(this,hD,"m",FD).call(this,"next",(()=>jD(this,_D,"f").size<e))}async onIdle(){0===jD(this,AD,"f")&&0===jD(this,_D,"f").size||await jD(this,hD,"m",FD).call(this,"idle")}get size(){return jD(this,_D,"f").size}sizeBy(e){return jD(this,_D,"f").filter(e).length}get pending(){return jD(this,AD,"f")}get isPaused(){return jD(this,TD,"f")}}pD=new WeakMap,fD=new WeakMap,mD=new WeakMap,vD=new WeakMap,gD=new WeakMap,yD=new WeakMap,bD=new WeakMap,ED=new WeakMap,_D=new WeakMap,SD=new WeakMap,AD=new WeakMap,wD=new WeakMap,TD=new WeakMap,CD=new WeakMap,hD=new WeakSet,RD=function(){return jD(this,fD,"f")||jD(this,mD,"f")<jD(this,vD,"f")},ID=function(){return jD(this,AD,"f")<jD(this,wD,"f")},OD=function(){var e;UD(this,AD,(e=jD(this,AD,"f"),--e),"f"),jD(this,hD,"m",xD).call(this),this.emit("next")},kD=function(){jD(this,hD,"m",DD).call(this),jD(this,hD,"m",PD).call(this),UD(this,ED,void 0,"f")},ND=function(){const e=Date.now();if(void 0===jD(this,bD,"f")){const t=jD(this,yD,"f")-e;if(!(t<0))return void 0===jD(this,ED,"f")&&UD(this,ED,setTimeout((()=>{jD(this,hD,"m",kD).call(this)}),t),"f"),!0;UD(this,mD,jD(this,pD,"f")?jD(this,AD,"f"):0,"f")}return!1},xD=function(){if(0===jD(this,_D,"f").size)return jD(this,bD,"f")&&clearInterval(jD(this,bD,"f")),UD(this,bD,void 0,"f"),this.emit("empty"),0===jD(this,AD,"f")&&this.emit("idle"),!1;if(!jD(this,TD,"f")){const e=!jD(this,hD,"a",ND);if(jD(this,hD,"a",RD)&&jD(this,hD,"a",ID)){const t=jD(this,_D,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&jD(this,hD,"m",PD).call(this),!0)}}return!1},PD=function(){jD(this,fD,"f")||void 0!==jD(this,bD,"f")||(UD(this,bD,setInterval((()=>{jD(this,hD,"m",DD).call(this)}),jD(this,gD,"f")),"f"),UD(this,yD,Date.now()+jD(this,gD,"f"),"f"))},DD=function(){0===jD(this,mD,"f")&&0===jD(this,AD,"f")&&jD(this,bD,"f")&&(clearInterval(jD(this,bD,"f")),UD(this,bD,void 0,"f")),UD(this,mD,jD(this,pD,"f")?jD(this,AD,"f"):0,"f"),jD(this,hD,"m",LD).call(this)},LD=function(){for(;jD(this,hD,"m",xD).call(this););},MD=async function(e){return new Promise(((t,n)=>{e.addEventListener("abort",(()=>{n(new VD("The task was aborted."))}),{once:!0})}))},FD=async function(e,t){return new Promise((n=>{const r=()=>{t&&!t()||(this.off(e,r),n())};this.on(e,r)}))};const zD=()=>{const{setCaptionObj:e,setMeetingTranscript:t,activeSpeakerRef:n,prevSpeakerRef:r}=hT();let i=0;const o={},a={},s=new BD({concurrency:1});return{streamMessageCallback:c=>{(async()=>{await s.add((()=>(s=>{var c;const[,l]=s;let u="",d="",h="",p=!1;const f=rD().lookupType("Text").decode(l),m=f.words.filter((e=>!0===e.isFinal));f.uid===n.current||m.length>0&&f.uid===r.current||(""!==r.current&&(o[r.current]=[],p=!0),r.current=n.current,n.current=f.uid),o[f.uid]||(o[f.uid]=[],a[f.uid]=[]);const v=f.words;for(const e of v)e.isFinal?d+=e.text:(u="."!==e.text?u+e.text:u,i||(i=performance.now()));if(d){o[f.uid].push(d),a[f.uid].push(d),h=d;const e=performance.now()-i;console.log(`stt-Time taken to finalize caption ${h}: ${e}ms`),i=null}h.length&&t((e=>{const t=e.length-1,n=t>=0?e[t]:null;if(n&&n.uid===f.uid){const r={...n,text:a[f.uid].join(" ")};return[...e.slice(0,t),r]}return a[f.uid]=[h],[...e,{uid:f.uid,time:(new Date).getTime(),text:h}]}));const g=p?"":null===(c=o[f.uid])||void 0===c?void 0:c.join(" "),y=u,b=g.length>0?g+" "+y:y;b&&e((e=>({...e,[f.uid]:{text:b,lastUpdated:(new Date).getTime()}})))})(c))),console.log("stt- using pq queue")})()}}},GD=e=>{const t=ei(),{currentLayout:n}=Cf(),{showHeader:r=!0}=e,{meetingTranscript:i,isLangChangeInProgress:o,isSTTListenerAdded:a,setIsSTTListenerAdded:s}=hT(),c=i,[l,u]=bn.useState(!1),d=bn.useRef(0),h=(bn.useRef(0),bn.useRef(null)),[p,f]=bn.useState(""),[m,v]=bn.useState([]),{RtcEngine:g}=tm(),{renderList:y}=nm(),{streamMessageCallback:b}=zD(),{downloadTranscript:E}=TT(),[_,S]=bn.useState(!1),{transcriptHeight:A}=xT(),w=bn.useRef(!1),T=e=>{if(w.current)return void(w.current=!1);const{contentOffset:t,contentSize:n,layoutMeasurement:r}=e.nativeEvent,i=t.y+r.height>=n.height-1;u(!i)},C=p?m:c,R=()=>bn.createElement(lu.Z,{style:HD.emptyMsg},"No search results found"),I=(...e)=>{if(s(!0),qr())b(e);else{const[t,,n]=e,r=Object.values(n);b([t,new Uint8Array(r)])}};return bn.useEffect((()=>{a||g.addListener("StreamMessage",I)}),[]),bn.createElement(Sn.Z,{style:[Zr()?aT.sidePanelContainerNative:t()?aT.sidePanelContainerWebMinimzed:aT.sidePanelContainerWeb,qr()&&!t()&&n===ow()?{marginVertical:4}:{},A&&!Zr()&&{height:A},{paddingBottom:20}]},r&&bn.createElement(OT,null),bn.createElement(Sn.Z,{style:[HD.searchContainer,_&&HD.inputFocused]},!p&&bn.createElement(bn.Fragment,null,bn.createElement(pm,{name:"search",iconSize:20,iconType:"plain",tintColor:"#FFFFFF"+rm["30%"]}),bn.createElement(QS,{size:4,horizontal:!0})),bn.createElement(ym.Z,{style:HD.searchInput,placeholder:"Search",value:p,onChangeText:e=>{f(e);const t=i.filter((t=>t.text.toLowerCase().includes(e.toLowerCase())));u(!1),v(t),h.current.scrollToOffset({offset:0,animated:!1})},placeholderTextColor:"#FFFFFF"+rm["30%"],onFocus:()=>{S(!0)},onBlur:()=>{S(!1)}}),p?bn.createElement(cu.Z,{onPress:()=>{f("")}},bn.createElement(pm,{name:"close",iconSize:20,iconType:"plain",tintColor:"#FFFFFF"+rm["30%"]})):null),o?bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(_A,{text:"Setting Spoken Language",background:"transparent",indicatorColor:"#FFFFFF"+rm["70%"],textColor:"#FFFFFF"+rm["70%"]})):bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement($P.Z,{ref:h,style:HD.contentContainer,data:C,renderItem:({item:e})=>{var t;return-1!==e.uid.toString().indexOf("langUpdate")?bn.createElement(Sn.Z,{style:HD.langChangeContainer},bn.createElement(pm,{iconType:"plain",iconSize:20,tintColor:"#099DFD",name:"lang-select"}),bn.createElement(lu.Z,{style:HD.langChange},y[null==e||null===(t=e.uid)||void 0===t?void 0:t.split("-")[1]].name+" "+e.text)):bn.createElement(eD,{user:y[e.uid].name,time:e.time,value:e.text,searchQuery:p})},keyExtractor:e=>e.uid+"-"+e.time,onContentSizeChange:(e,t)=>{d.current=t,l||0!==p.length||(h.current.scrollToOffset({offset:d.current,animated:!1}),w.current=!0)},onScroll:qr()?ni(T,Zr()?500:300):T,onLayout:e=>{h.current&&!qr()&&(h.current.scrollToOffset({offset:d.current,animated:!1}),w.current=!0)},ListEmptyComponent:p&&bn.createElement(R,null),ListFooterComponent:VC,ListFooterComponentStyle:HD.footer,contentContainerStyle:HD.content,getItemCount:()=>C.length,getItem:(e,t)=>C[t]}),l?bn.createElement(Sn.Z,{style:{position:"absolute",bottom:0,left:0,right:0,alignItems:"center",zIndex:9999}},bn.createElement(vm,{iconName:"view-last",containerStyle:HD.showLatestBtn,textStyle:HD.textStyleBtn,onPress:()=>{h.current&&(u(!1),h.current.scrollToEnd({animated:!1}),w.current=!0)},iconSize:20,text:"View Latest"})):null)))},HD=du.Z.create({contentContainer:{paddingHorizontal:20},container:{alignItems:"flex-start"},btnContainerStyle:{paddingVertical:0,paddingHorizontal:0,backgroundColor:"transparent",borderRadius:4},btnContainer:{},btnTxtStyle:{fontSize:am.small,lineHeight:am.small,fontWeight:"600",textTransform:"capitalize"},showLatestBtn:{backgroundColor:"#808080",paddingVertical:8,paddingLeft:12,paddingRight:16,minWidth:"auto",borderRadius:28},textStyleBtn:{color:"#FFFFFF",fontFamily:sm.sansPro,fontSize:am.small,lineHeight:19,fontWeight:"400",textTransform:"capitalize"},searchContainer:{flexDirection:"row",alignItems:"center",padding:10,marginHorizontal:20,marginVertical:16,borderRadius:4,height:40,borderWidth:1,borderColor:"#262626",backgroundColor:"#181818"},searchInput:{flex:1,height:40,borderRadius:4,marginRight:10,color:"#FFFFFF",fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,lineHeight:am.medium,width:"100%",borderWidth:0,...En.Z.select({web:{outlineStyle:"none"}})},inputFocused:{borderColor:"#099DFD"},searchButton:{backgroundColor:"#099DFD",borderRadius:4,paddingVertical:8,paddingHorizontal:12},searchButtonText:{color:"#FFFFFF",fontSize:14},emptyMsg:{color:"#FFFFFF"+rm["40%"],alignSelf:"center",fontSize:14,fontStyle:"italic"},langChange:{marginLeft:4,color:"#099DFD",fontFamily:sm.sansPro,fontWeight:"400",fontSize:12,lineHeight:16,fontStyle:"italic"},langChangeContainer:{marginBottom:20,flexDirection:"row"},footer:{borderWidth:1,paddingVertical:8,borderColor:"#FFFFFF",borderRadius:4,marginTop:"auto"},content:{flexGrow:1}}),qD=()=>{const{setActionSheetVisible:e}=QP(),[t,n]=bn.useState(!1),[r,i]=bn.useState(!1),[o,a]=bn.useState(!1),[s,c]=bn.useState(!1),[l,u]=bn.useState(!1),d=(0,bn.useRef)(null),h=(0,bn.useRef)(null),p=(0,bn.useRef)(null),f=(0,bn.useRef)(null),m=(0,bn.useRef)(null),v=Zr()&&(r||o||s||l)?bn.createElement(ZP,null):bn.createElement(bn.Fragment,null),{sidePanel:g,setSidePanel:y}=Zf(),[b,E]=bn.useState(!1),_=(0,bn.useCallback)((e=>{var t;null===(t=d.current)||void 0===t||t.snapTo((({snapPoints:t})=>t[e])),n(0!==e)}),[]),S=document.documentElement;function A(){y(Hf.None)}return(0,bn.useEffect)((()=>{S.style.setProperty("--sheet-background","#1D1D1D"),S.style.setProperty("--handle-background","#808080")}),[]),(0,bn.useEffect)((()=>{e(!!(r||o||s||l))}),[r,o,s,l]),(0,bn.useEffect)((()=>{switch(g){case Hf.Participants:c(!0);break;case Hf.Chat:i(!0);break;case Hf.Settings:a(!0);break;case Hf.Transcript:u(!0);break;case Hf.None:i(!1),c(!1),a(!1),u(!1),_(0)}}),[g]),bn.createElement(bn.Fragment,null,b&&bn.createElement(YS.Z,{onPress:()=>{_(0)}},bn.createElement(Sn.Z,{style:[WD.backDrop]})),bn.createElement(Sn.Z,null,bn.createElement(tP,{scrollLocking:!1,ref:d,open:!0,onSpringStart:e=>{"SNAP"==e.type&&E(!0)},onSpringEnd:e=>{if("SNAP"==e.type){const t=100===d.current.height;t&&E(!1),"dragging"===e.source&&n(!t)}},expandOnContentDrag:!0,snapPoints:({maxHeight:e})=>[100,350],defaultSnap:({lastSnap:e,snapPoints:t})=>e??Math.min(...t),header:bn.createElement(bn.Fragment,null,bn.createElement(JP,{sidePanel:Hf.None}),bn.createElement(QS,{size:12})),blocking:!1},bn.createElement(DP,{handleSheetChanges:_,isExpanded:t,native:!1})),bn.createElement(tP,{sibling:v,ref:h,onDismiss:A,scrollLocking:!1,open:r,blocking:!1,expandOnContentDrag:!1,snapPoints:({maxHeight:e})=>[1*e],header:bn.createElement(JP,{sidePanel:Hf.Chat}),defaultSnap:({lastSnap:e,snapPoints:t})=>t[0]},bn.createElement(YT,{showHeader:!1})),bn.createElement(tP,{sibling:v,ref:p,onDismiss:A,open:s,expandOnContentDrag:!1,snapPoints:({maxHeight:e})=>[1*e],defaultSnap:({lastSnap:e,snapPoints:t})=>t[0],scrollLocking:!1,header:bn.createElement(JP,{sidePanel:Hf.Participants}),blocking:!1},bn.createElement(DT,{showHeader:!1})),bn.createElement(tP,{sibling:v,ref:f,onDismiss:A,open:o,expandOnContentDrag:!1,snapPoints:({maxHeight:e})=>[1*e],defaultSnap:({lastSnap:e,snapPoints:t})=>t[0],header:bn.createElement(JP,{sidePanel:Hf.Settings}),blocking:!1},bn.createElement(LC,{showHeader:!1})),bn.createElement(tP,{sibling:v,ref:m,onDismiss:A,open:l,expandOnContentDrag:!1,snapPoints:({maxHeight:e})=>[1*e],defaultSnap:({lastSnap:e,snapPoints:t})=>t[0],header:bn.createElement(JP,{sidePanel:Hf.Transcript}),scrollLocking:!1,blocking:!1},bn.createElement(GD,{showHeader:!1}))))},WD=du.Z.create({container:{borderWidth:1,borderColor:"red"},content:{borderWidth:1,borderColor:"yellow",flex:1},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"#1D1D1D",opacity:.5}}),ZD=({user:e,value:t,activeSpeakersCount:n,isActiveSpeaker:r=!1,activelinesAvailable:i,setActiveLinesAvailable:o,inActiveLinesAvailable:a,setInActiveLinesAvaialble:s})=>{const c=Zr(),l=c?21:28;return bn.createElement(Sn.Z,{style:[KD.captionContainer,{borderColor:r?"yellow":"white"},{flex:1===n?1:r?3===i?1:.2*(i+1):3===i?0:1-.2*(i+1)},!r&&3===i&&{height:0}]},bn.createElement(lu.Z,{style:[KD.captionUserName,c?KD.mobileNameFontSize:KD.desktopNameFontSize],numberOfLines:1,textBreakStrategy:"simple",ellipsizeMode:"tail"},e),bn.createElement(Sn.Z,{style:[KD.captionTextContainerStyle,{height:(r?i:Math.min(a,3-i))*l}]},bn.createElement(lu.Z,{onLayout:e=>{let t=e.nativeEvent.layout.height;const n=t%l,i=n>1?n<15?-n:l-n:0,a=Math.floor((t+i)/l),c=Math.min(a,3);r?o(c):s(c)},style:[KD.captionText,c?KD.mobileCaptionFontSize:KD.desktopCaptionFontSize,!1]},t)))},KD=du.Z.create({captionContainer:{alignItems:"flex-start",alignSelf:"center",width:"100%",maxWidth:620,justifyContent:"flex-end",borderStyle:"dotted"},captionTextContainerStyle:{overflow:"hidden",width:"100%",position:"relative"},captionText:{fontFamily:sm.sansPro,fontWeight:"400",color:"#FFFFFF",position:"absolute",bottom:0},captionUserName:{fontWeight:"600",fontFamily:sm.sansPro,color:"#FFFFFF"+rm["70%"],fontSize:am.medium,maxWidth:200},mobileNameFontSize:{fontSize:16,lineHeight:19},desktopNameFontSize:{fontSize:18,lineHeight:22},mobileCaptionFontSize:{fontSize:16,lineHeight:21},desktopCaptionFontSize:{fontSize:24,lineHeight:28}}),YD=()=>{const{RtcEngine:e}=tm(),{isLangChangeInProgress:t,captionObj:n,isSTTListenerAdded:r,setIsSTTListenerAdded:i,activeSpeakerRef:o,prevSpeakerRef:a}=hT(),{streamMessageCallback:s}=zD(),{renderList:c}=nm(),[l,u]=bn.useState(0),[d,h]=bn.useState(0),p=(...e)=>{if(i(!0),qr())s(e);else{const[t,,n]=e,r=Object.values(n);s([t,new Uint8Array(r)])}};if(bn.useEffect((()=>{!r&&e.addListener("StreamMessage",p)}),[]),t)return bn.createElement(_A,{text:"Setting Spoken Language",background:"transparent",indicatorColor:"#FFFFFF"+rm["70%"],textColor:"#FFFFFF"+rm["70%"]});console.log("current speaker uid",o.current),console.log("prev current uid ",a.current);const f=""===a.current?1:2;return bn.createElement(Sn.Z,{style:QD.captionContainer},bn.createElement(bn.Fragment,null,n[a.current]&&n[a.current].text?bn.createElement(ZD,{user:c[a.current].name||"Speaker",value:n[a.current].text,activeSpeakersCount:f,isActiveSpeaker:!1,activelinesAvailable:l,setActiveLinesAvailable:u,inActiveLinesAvailable:d,setInActiveLinesAvaialble:h}):bn.createElement(bn.Fragment,null),n[o.current]&&n[o.current].text?bn.createElement(ZD,{user:c[o.current].name||"Speaker",value:n[o.current].text,activeSpeakersCount:f,isActiveSpeaker:!0,activelinesAvailable:l,setActiveLinesAvailable:u,inActiveLinesAvailable:d,setInActiveLinesAvaialble:h}):bn.createElement(bn.Fragment,null)))},QD=du.Z.create({captionContainer:{width:"100%",height:"100%"}}),JD=bn.memo(YD),XD=({children:e,setIsHovered:t,isHovered:n})=>qr()&&!Zr()?bn.createElement("div",{onMouseOver:()=>{!n&&t(!0)},onMouseLeave:()=>{t(!1)}},e):bn.createElement(bn.Fragment,null,e),$D=bn.forwardRef(((e,t)=>{const{setActionMenuVisible:n}=e,r=Zr();return bn.createElement(Sn.Z,{ref:t,collapsable:!1,style:{width:32,height:32,alignSelf:"center",justifyContent:"center",alignItems:"center",borderRadius:20,position:"absolute",right:r?3:8,top:r?3:8,zIndex:999}},bn.createElement(AS,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#808080"+rm["25%"],borderRadius:20},iconProps:{iconType:"plain",name:"more-menu",iconSize:r?18:20,tintColor:"#FFFFFF",iconContainerStyle:{padding:r?6:8,borderRadius:20,backgroundColor:r?"#808080"+rm["25%"]:"transparent"}},onPress:()=>{n(!0)}}))})),eL=e=>{const{actionMenuVisible:t,setActionMenuVisible:n,btnRef:r}=e,{setIsCaptionON:i,language:o,isLangChangeInProgress:a,setLanguage:s}=hT(),c=[],[l,u]=bn.useState({}),[d,h]=bn.useState(!1),{width:p,height:f}=(0,Br.Z)(),[m,v]=bn.useState(!1),{restart:g}=wT(),{data:{isHost:y}}=(Hp(),rf());return y&&c.push({icon:"lang-select",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Change Spoken Language ",disabled:a,callback:()=>{n(!1),v(!0)}}),c.push({icon:"captions-off",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Hide Caption",callback:()=>{n(!1),i(!1)}}),bn.useEffect((()=>{var e;t&&(null==r||null===(e=r.current)||void 0===e||e.measure(((e,t,n,r,i,o)=>{const a=Yr({px:i,py:o,localWidth:n,localHeight:r,globalHeight:f,globalWidth:p});u(a),h(!0)})))}),[t]),bn.createElement(bn.Fragment,null,bn.createElement(dw,{from:"caption",actionMenuVisible:t&&d,setActionMenuVisible:n,modalPosition:l,items:c}),bn.createElement(ST,{modalVisible:m,setModalVisible:v,onConfirm:(e=!1,t)=>{v(!1),e&&g(t).then((()=>{console.log("stt restarted successfully")})).catch((e=>{console.log("Error in restarting",e)}))}}))},tL=()=>{const e=bn.useRef(null),[t,n]=bn.useState(!1),[r,i]=bn.useState(!1),o=$r(),a=ei(),{isLangChangeInProgress:s,isCaptionON:c}=hT(),{width:l,height:u}=(0,Br.Z)(),{isCaptionNotFullWidth:d}=xT();return c?bn.createElement(XD,{isHovered:r,setIsHovered:i},bn.createElement(Sn.Z,{style:[{paddingLeft:Zr()?0:o()?32:10,paddingRight:Zr()?0:o()?l>1700&&d?20:32:10},d&&{maxWidth:"calc(100% - 20% - 8px )",width:"calc(100% - 338px - 8px )"}]},bn.createElement(Sn.Z,{style:[Zr()?nL.mobileContainer:nL.container,Zr()&&{marginHorizontal:0},!Zr()&&a()&&{marginTop:0}]},bn.createElement(eL,{actionMenuVisible:t,setActionMenuVisible:n,btnRef:e}),(r||Zr())&&!s&&bn.createElement($D,{ref:e,setActionMenuVisible:n}),bn.createElement(JD,null)))):bn.createElement(bn.Fragment,null)},nL=du.Z.create({container:{paddingVertical:4,paddingHorizontal:20,height:144,justifyContent:"center",alignItems:"center",backgroundColor:"#1D1D1D",borderRadius:cm.small,marginTop:8},mobileContainer:{paddingVertical:4,paddingHorizontal:8,height:115,backgroundColor:"#1D1D1D",borderRadius:cm.small,marginTop:8}});var rL=__webpack_require__(7878);const iL=bn.memo((()=>bn.createElement(Sn.Z,{style:sL.container},bn.createElement(oL,null),bn.createElement(QS,{size:16}),bn.createElement(Sn.Z,{style:sL.videoView},bn.createElement(iR,null),bn.createElement(tL,null)),bn.createElement(qD,null)))),oL=()=>{const{data:{meetingTitle:e}}=rf(),{isRecordingActive:t}=Ff();return bn.createElement(Sn.Z,{style:sL.titleBar},bn.createElement(lu.Z,{style:sL.title},Gr(e)),bn.createElement(QS,{size:8,horizontal:!1}),bn.createElement(Sn.Z,{style:sL.countView},bn.createElement(Sn.Z,{style:{width:45,height:35,justifyContent:"center",alignItems:"center",alignSelf:"center",zIndex:qr()?3:0}},bn.createElement(aC,null)),t?bn.createElement(cC,{recordingLabel:"Recording"}):bn.createElement(bn.Fragment,null)))},aL=()=>{var e,t;const{isScreenShareOnFullView:n,screenShareData:r}=xf(),{RtcEngine:i,dispatch:o}=(0,bn.useContext)(oh),a=Af(),{renderList:s}=nm(),c=VA(r,(([e,t])=>!0===(null==t?void 0:t.isExpanded))),l=null!==(e=Object.keys(c))&&void 0!==e&&e.length?Object.keys(c)[0]:null,{isScreenshareActive:u}=CS(),d=(()=>{const[e,t]=(0,bn.useState)(rL.Z.currentState);return(0,bn.useEffect)((()=>{const e=rL.Z.addEventListener("change",(e=>{t(e)}));return()=>{null==e||e.remove()}}),[]),e})(),h=(0,bn.useRef)(a.video);return(0,bn.useRef)(u),(0,bn.useEffect)((()=>{Zr()&&("background"===d&&(h.current=a.video,h.current&&(qr()?i.muteLocalVideoStream(!0):i.enableLocalVideo(!1),o({type:"LocalMuteVideo",value:[0]}))),"active"===d&&h.current&&(qr()?i.muteLocalVideoStream(!1):i.enableLocalVideo(!0),o({type:"LocalMuteVideo",value:[1]})))}),[d,u]),n&&l&&s[l]&&null!==(t=s[l])&&void 0!==t&&t.video?bn.createElement(QA,{user:s[l]}):bn.createElement(iL,null)},sL=du.Z.create({container:{paddingHorizontal:16,paddingVertical:20,flex:1},title:{fontSize:am.normal,lineHeight:am.normal,color:"#FFFFFF",fontWeight:"600",fontFamily:sm.sansPro,paddingVertical:2},videoView:{flex:.85,zIndex:0,elevation:0},titleBar:{flexDirection:"column",alignItems:"flex-start"},countView:{flexDirection:"row"}}),cL=()=>{const{sidePanel:e}=Zf(),[t]=em(),{data:{meetingTitle:n,isHost:r}}=(tm(),rf()),{ChatComponent:i,VideocallComponent:o,BottombarComponent:a,ParticipantsComponent:s,SettingsComponent:c,TopbarComponent:l,VideocallBeforeView:u,VideocallAfterView:d}=hL((e=>{var t,n,r,i,o;let a={BottombarComponent:rR,TopbarComponent:fC,ChatComponent:YT,ParticipantsComponent:DT,SettingsComponent:LC,VideocallAfterView:bn.Fragment,VideocallBeforeView:bn.Fragment};var s,c,l,u,d,h,p,f,m,v,g,y,b;(null!=e&&null!==(t=e.components)&&void 0!==t&&t.videoCall&&"object"!=typeof(null==e||null===(n=e.components)||void 0===n?void 0:n.videoCall)&&Hr(null==e||null===(r=e.components)||void 0===r?void 0:r.videoCall)&&(a.VideocallComponent=null==e||null===(s=e.components)||void 0===s?void 0:s.videoCall),null!=e&&null!==(i=e.components)&&void 0!==i&&i.videoCall&&"object"==typeof(null==e||null===(o=e.components)||void 0===o?void 0:o.videoCall))&&(null!=e&&null!==(c=e.components)&&void 0!==c&&c.videoCall.bottomBar&&"object"!=typeof(null==e||null===(l=e.components)||void 0===l?void 0:l.videoCall.bottomBar)&&Hr(null==e||null===(u=e.components)||void 0===u?void 0:u.videoCall.bottomBar)&&(a.BottombarComponent=null==e||null===(g=e.components)||void 0===g?void 0:g.videoCall.bottomBar),null!=e&&null!==(d=e.components)&&void 0!==d&&d.videoCall.topBar&&"object"!=typeof(null==e||null===(h=e.components)||void 0===h?void 0:h.videoCall.topBar)&&Hr(null==e||null===(p=e.components)||void 0===p?void 0:p.videoCall.topBar)&&(a.TopbarComponent=null==e||null===(y=e.components)||void 0===y?void 0:y.videoCall.topBar),null!=e&&null!==(f=e.components)&&void 0!==f&&f.videoCall.participantsPanel&&"object"!=typeof(null==e||null===(m=e.components)||void 0===m?void 0:m.videoCall.participantsPanel)&&Hr(null==e||null===(v=e.components)||void 0===v?void 0:v.videoCall.participantsPanel)&&(a.ParticipantsComponent=null==e||null===(b=e.components)||void 0===b?void 0:b.videoCall.participantsPanel));return a})),h=$r(),p=ei();return o?bn.createElement(o,null):Zr()?bn.createElement(aL,null):bn.createElement(bn.Fragment,null,bn.createElement(u,null),bn.createElement(Sn.Z,{style:lL.full},bn.createElement(sR,{value:{buttonTemplateName:oR.topBar}},bn.createElement(l,null)),bn.createElement(QS,{size:10}),bn.createElement(Sn.Z,{style:[lL.videoView,{paddingHorizontal:h()?32:10},{paddingVertical:p()?10:0}]},bn.createElement(iR,null),e===Hf.Participants?bn.createElement(s,null):bn.createElement(bn.Fragment,null),e===Hf.Chat?bn.createElement(i,null):bn.createElement(bn.Fragment,null),e===Hf.Settings?bn.createElement(c,null):bn.createElement(bn.Fragment,null),e===Hf.Transcript?bn.createElement(GD,null):bn.createElement(bn.Fragment,null)),qr()||e!==Hf.Chat?bn.createElement(sR,{value:{buttonTemplateName:oR.bottomBar}},bn.createElement(tL,null),bn.createElement(QS,{size:10}),bn.createElement(a,null)):bn.createElement(bn.Fragment,null)),bn.createElement(d,null))},lL=du.Z.create({full:{flex:1,flexDirection:"column",overflow:"hidden"},videoView:{flex:12,flexDirection:"row"}});du.Z.create({remoteButton:{width:30,height:25,borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderWidth:0,borderRightWidth:0,borderLeftWidth:0,marginHorizontal:0,backgroundColor:"#FFFFFF"}});const uL=((null==(vL={})?void 0:vL.components)&&$u(vL.components),(null==vL?void 0:vL.i18n)&&function(e){e&&(Array.isArray(e)?e.map((e=>{const t=e.data;for(const n in t){const r=t[n];r&&(Ku(r)||Yu(r)||console.error(`Customize:Error ${e.locale} ${n} should be a string or function`))}})):console.error("Customize:Error i18n should be an array"))}(vL.i18n),vL),dL=uL,hL=Zu(bn.createContext(dL)),pL=e=>null!=e&&e.bg?bn.createElement(Jl.Z,{source:{uri:e.bg},style:{flex:1},resizeMode:"cover"},e.children):null!=e&&e.color?bn.createElement(Sn.Z,{style:{flex:1,backgroundColor:e.color}},e.children):bn.createElement(bn.Fragment,null,e.children),fL=e=>{const t=hL((e=>{var t,n;return null!=e&&null!==(t=e.components)&&void 0!==t&&t.appRoot&&Hr(null==e||null===(n=e.components)||void 0===n?void 0:n.appRoot)?e.components.appRoot:bn.Fragment})),{join:n}=(0,bn.useContext)(sf);return bn.createElement(t,null,bn.createElement(pL,{bg:"",color:"#171717"},bn.createElement(Xl.Z,{style:[{flex:1},En.Z.select({web:{textAlign:"left"}})]},bn.createElement($l.Z,{hidden:!0}),bn.createElement(YP,null,bn.createElement(KP.Consumer,null,(({isActionSheetVisible:e})=>e?null:bn.createElement(ZP,null))),bn.createElement(ui,null,bn.createElement(Wl,null,bn.createElement(Tr,{initialEntries:[ii&&n.phrase?`/${n.phrase}`:""]},bn.createElement(CA,null,bn.createElement(Ql,null,bn.createElement(tu,null,bn.createElement(iu,null,bn.createElement(Xh,null,bn.createElement(Gu,null,bn.createElement(Hu,null),bn.createElement(Dr,null),e.children)))))))))))))},mL=(Gd`
  mutation logoutSession($token: String!) {
    logoutSession(token: $token)
  }
`,du.Z.create({btn:{width:"60%",maxWidth:400,minHeight:45,marginBottom:15},btnText:{width:"100%",height:45,lineHeight:45,fontSize:16,fontWeight:"500",textAlign:"center",textAlignVertical:"center",color:"#FFFFFF",textDecorationLine:"underline"}}),e=>{const{resetError:t}=(0,bn.useContext)(zu),n=dr();return bn.createElement(Sn.Z,{style:{position:"absolute",backgroundColor:"#F7E5EC",paddingHorizontal:10,paddingVertical:4,maxWidth:250,width:"65%",left:0,right:0,top:"30%",marginHorizontal:"auto",zIndex:55,borderRadius:10}},bn.createElement(lu.Z,{style:{fontWeight:"500",color:"#FD0845",textAlign:"center",fontSize:16}},e.error.name),bn.createElement(lu.Z,{style:{textAlign:"center",padding:4}},e.error.message),e.showBack?bn.createElement(cu.Z,{style:{alignSelf:"center"},onPress:()=>{t&&t(),n.replace("./")}},bn.createElement(lu.Z,{style:{fontWeight:"500",textAlign:"center",textDecorationLine:"underline"}},"Go back")):null)});var vL;function gL(){return gL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gL.apply(this,arguments)}const yL=e=>{const{style:t,labelStyle:n,helpText:r,label:i,autoFocus:o,...a}=e,[s,c]=bn.useState((()=>!!o));return bn.createElement(bn.Fragment,null,i?bn.createElement(bn.Fragment,null,bn.createElement(lu.Z,{style:[bL.label,n]},i),bn.createElement(QS,{size:8})):bn.createElement(bn.Fragment,null),bn.createElement(ym.Z,gL({style:[bL.input,t],placeholderTextColor:"#FFFFFF"+om.disabled,autoCorrect:!1},a)))},bL=du.Z.create({input:{width:"100%",borderWidth:1,paddingVertical:21,paddingHorizontal:16,borderColor:"#262626",color:"#FFFFFF",backgroundColor:"#181818",fontFamily:sm.sansPro,fontSize:am.medium,borderRadius:cm.medium,...En.Z.select({web:{outlineStyle:"none"}})},label:{fontWeight:"600",fontSize:am.medium,color:"#FFFFFF"+om.medium,fontFamily:sm.sansPro},helpText:{color:"#FFFFFF",fontFamily:sm.sansPro}}),EL=(Pu(),du.Z.create({btnContainer:{width:"100%",alignItems:"center"},labelStyle:{paddingLeft:8},root:{flex:1},main:{flexGrow:1,flexDirection:"row",justifyContent:"center"},heading:{fontSize:am.extraLarge,fontWeight:"700",lineHeight:am.extraLarge,color:"#FFFFFF",fontFamily:sm.sansPro}})),_L=()=>{const e=dr(),[t,n]=(0,bn.useState)(""),[r,i]=(0,bn.useState)(null),o=Zp(),{setMeetingInfo:a}=$d(),s=async()=>{o(t).then((()=>{a(ef),e.push(t)})).catch((e=>{const t="invalid url"===(null==e?void 0:e.message.toLowerCase().trim())||!1;Bu.show({type:"error",text1:t?"Meeting ID Invalid.":"Some Error Occured.",text2:t?"Please enter a valid Meeting ID":"Please try again",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null,leadingIcon:null})}))},{JoinComponent:c}=hL((e=>({})));return c?bn.createElement(c,null):bn.createElement(Sn.Z,{style:EL.root},Zr()?bn.createElement(bn.Fragment,null):bn.createElement(IA,{containerStyle:{marginBottom:-100}}),bn.createElement(Sm.Z,{contentContainerStyle:EL.main},r?bn.createElement(mL,{error:r}):bn.createElement(bn.Fragment,null),bn.createElement(oA,null,bn.createElement(Sn.Z,null,bn.createElement(Sn.Z,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},bn.createElement(Wu,null),Zr()?bn.createElement(IA,{containerStyle:{marginTop:0,marginRight:0}}):bn.createElement(bn.Fragment,null)),bn.createElement(QS,{size:20}),bn.createElement(lu.Z,{style:EL.heading},"Join a Stream"),bn.createElement(QS,{size:40}),bn.createElement(yL,{labelStyle:EL.labelStyle,label:"Stream ID",autoFocus:!0,value:t,helpText:"Enter the stream ID here for the meeting youâd like to join",placeholder:"Enter Stream ID",onChangeText:e=>n(e),onSubmitEditing:()=>s()}),bn.createElement(QS,{size:60})),bn.createElement(Sn.Z,{style:EL.btnContainer},bn.createElement(vm,{iconName:"video-on",disabled:""===t,onPress:()=>s(),text:"Join Stream",containerStyle:Zr()&&{width:"100%"}}),bn.createElement(QS,{size:16}),bn.createElement(sA,{text:"Create a Stream",onPress:()=>{e.push("/create")}}),bn.createElement(bn.Fragment,null)))))},SL={temp:{width:"100%",height:"100%",borderRadius:0,borderWidth:0},bottomBar:{flex:qr()?1.3:1.6,paddingHorizontal:qr()?"20%":"1%",backgroundColor:"#FFFFFF"+rm["80%"],flexDirection:"row",justifyContent:"space-evenly",position:"relative",margin:0,bottom:0},localButton:{display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center"},actionSheetButton:{width:25,height:25},localButtonSmall:{display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center"},localButtonText:{fontFamily:"Source Sans Pro",fontSize:12,marginTop:4,fontWeight:"400"},localButtonWithoutBG:{borderRadius:23,borderColor:"#099DFD",borderWidth:0,width:40,height:40,padding:3,display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center"},fullWidthButton:{width:"100%",height:"100%",resizeMode:"contain"},endCall:{width:20,height:20},endCallContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:8,paddingHorizontal:16,backgroundColor:"#FF414D",borderRadius:8},endCallText:{color:"#FFFFFF",fontFamily:sm.sansPro,fontSize:12,marginLeft:8,fontWeight:"700"},remoteButton:{width:25,height:25,borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderWidth:0,borderRightWidth:0,borderLeftWidth:0,marginHorizontal:0,backgroundColor:"#FFFFFF"},liveStreamHostControlBtns:{width:20,height:20,borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderWidth:0,borderRightWidth:0,borderLeftWidth:0,marginHorizontal:0,backgroundColor:"#FFFFFF"},minCloseBtn:{alignItems:"center",justifyContent:"center",width:25,height:25,borderRadius:0,position:"absolute",right:5,top:5}};var AL=__webpack_require__(4414);let wL=function(e){return e.ScreenShare="screenshare",e}({});const TL=e=>{const t=(new Date).getTime(),n=Uh(),{callActive:r}=e,{rtcProps:i}=(0,bn.useContext)(fh),{RtcEngine:o,dispatch:a}=tm(),{renderList:s,activeUids:c}=nm(),l=(0,bn.useRef)({renderList:s}),u=(0,bn.useRef)({activeUids:c});(0,bn.useEffect)((()=>{u.current.activeUids=c}),[c]),(0,bn.useEffect)((()=>{l.current.renderList=s}),[s]);const[d,h]=(0,bn.useState)(!1),[p,f]=(0,bn.useState)(!1),[m,v]=(0,bn.useState)(0);ep("pstnUserLabel")();let g=(0,bn.useRef)(null);const y=(0,bn.useRef)(5);bn.useEffect((()=>{v(Object.keys(VA(s,(([e,t])=>"rtc"===(null==t?void 0:t.type)&&!t.offline))).length)}),[s]),bn.useEffect((()=>{const e=e=>(e.preventDefault(),e.returnValue="Are you sure you want to exit?"),t=()=>{g.current.leaveChannel(i.channel)};if(qr())return window.addEventListener("beforeunload",Wr()?e:()=>{}),window.addEventListener("pagehide",t),()=>{window.removeEventListener("beforeunload",Wr()?e:()=>{}),window.removeEventListener("pagehide",t)}}),[]);const b=async()=>{try{await g.current.login({uid:n.toString(),token:i.rtm}),sp.getInstance().setLocalUID(n.toString()),y.current=5,await E()}catch(e){setTimeout((async()=>{y.current=y.current+y.current,b()}),1e3*y.current)}},E=async()=>{const e=[{key:"screenUid",value:String(i.screenShareUid)}];try{await g.current.setLocalUserAttributes(e),y.current=5,await _(),f(!0),await w()}catch(e){setTimeout((async()=>{y.current=y.current+y.current,E()}),1e3*y.current)}},_=async()=>{try{sp.getInstance().channelUid!==i.channel?(await g.current.joinChannel(i.channel),sp.getInstance().setChannelId(i.channel),console.log("Emitting rtm joined"),th.emit("_rtm-joined",i.channel)):console.log("RTM already joined channel skipping"),y.current=5,await A()}catch(e){setTimeout((async()=>{y.current=y.current+y.current,_()}),1e3*y.current)}},S=(e,t)=>{a({type:"UpdateRenderList",value:[e,t]})},A=async()=>{try{await g.current.getChannelMembersBychannelId(i.channel).then((async e=>{await Promise.all(e.members.map((async e=>{const t=(0,AL.backOff)((async()=>{const t=await g.current.getUserAttributesByUid(e.uid);if(!t||!t.attributes)throw t;for(const e in t.attributes){if(t.attributes.hasOwnProperty(e)&&t.attributes[e])return t;throw t}}),{retry:(t,n)=>(console.log(`[retrying] Attempt ${n}. Fetching ${e.uid}'s name`,t),!0)});try{var n;const r=await t;console.log("[user attributes]:",{attr:r});const i=parseInt(e.uid),o=parseInt(null==r||null===(n=r.attributes)||void 0===n?void 0:n.screenUid);S(i,{screenUid:o,type:"rtc",uid:i,offline:!1,lastMessageTimeStamp:0});const a={type:wL.ScreenShare,parentUid:i};S(o,a);for(const[t,n]of Object.entries(null==r?void 0:r.attributes))if(kp(n)){const r={evt:t,value:n};dp.enqueue({data:r,uid:e.uid,ts:Pp()})}}catch(t){console.error(`Could not retrieve name of ${e.uid}`,t)}}))),h(!0),console.log("RTM init done")})),y.current=5}catch(e){setTimeout((async()=>{y.current=y.current+y.current,await A()}),1e3*y.current)}},w=async()=>{try{for(;!dp.isEmpty();){const e=dp.dequeue();await T(e.data,e.uid,e.ts)}}catch(e){console.log("CUSTOM_EVENT_API:  error while running queue events",e)}},T=async(e,t,n)=>{console.log("CUSTOM_EVENT_API: inside eventDispatcher ",e);const{evt:r,value:i}=e;if((null==i?void 0:i.persistLevel)===Op.LEVEL3){const e={key:r,value:i};await g.current.addOrUpdateLocalUserAttributes([e])}try{const{payload:e,persistLevel:o,source:a}=JSON.parse(i);console.log("CUSTOM_EVENT_API:  emiting event..: "),lp.emitEvent(r,a,{payload:e,persistLevel:o,sender:t,ts:n}),"name"===r&&setTimeout((()=>{lp.emitEvent(r,a,{payload:e,persistLevel:o,sender:t,ts:n})}),200)}catch(e){console.log("CUSTOM_EVENT_API: error while emiting event: ",e)}};return function(e,t){const n=(0,bn.useRef)();(0,bn.useEffect)((()=>{n.current||(n.current=function(){let e,t,n;function r(){if(t){const e=t;t=void 0,e()}}async function i(){if(n){const e=n;n=void 0;try{await e()}catch(e){console.error(e)}}}async function o(t){e=!0,await i();try{n=await t()}catch(e){console.error(e)}e=!1,r()}async function a(){e=!0,await i(),e=!1,r()}return{run:function(n){e?t=()=>o(n):o(n)},dispose:function(){e?t=a:a()}}}());const{run:t,dispose:r}=n.current;return t(e),r}),t)}((async()=>(r?await(async()=>{g.current=sp.getInstance().engine,sp.getInstance(),g.current.on("connectionStateChanged",(e=>{})),g.current.on("error",(e=>{})),g.current.on("channelMemberJoined",(e=>{const t=(0,AL.backOff)((async()=>{const t=await g.current.getUserAttributesByUid(e.uid);if(!t||!t.attributes)throw t;for(const e in t.attributes){if(t.attributes.hasOwnProperty(e)&&t.attributes[e])return t;throw t}}),{retry:(t,n)=>(console.log(`[retrying] Attempt ${n}. Fetching ${e.uid}'s name`,t),!0)});!async function(){try{var n;const r=await t;console.log("[user attributes]:",{attr:r});const i=parseInt(e.uid),o=parseInt(null==r||null===(n=r.attributes)||void 0===n?void 0:n.screenUid);S(i,{screenUid:o,type:"rtc",uid:i,offline:!1,lastMessageTimeStamp:0});const a={type:wL.ScreenShare,parentUid:i};S(o,a)}catch(t){console.error(`Could not retrieve name of ${e.uid}`,t)}}()})),g.current.on("channelMemberLeft",(e=>{console.log("user left",e);const t=null!=e&&e.uid?parseInt(null==e?void 0:e.uid):void 0;t&&S(t,{offline:!0})})),g.current.on("messageReceived",(e=>{console.log("CUSTOM_EVENT_API messageReceived: ",e);const{peerId:t,ts:n,text:r}=e,[i,o]=Np(r);i&&console.log("CUSTOM_EVENT_API: JSON payload incorrect, Error while parsing the payload");const a=Dp(n),s=parseInt(t);try{T(o,s,a)}catch(e){console.log("error while dispacthing",e)}})),g.current.on("channelMessageReceived",(e=>{console.log("CUSTOM_EVENT_API channelMessageReceived: ",e);const{uid:t,channelId:n,text:r,ts:o}=e,[a,s]=Np(r);a&&console.log("CUSTOM_EVENT_API: JSON payload incorrect, Error while parsing the payload");const c=Dp(o),l=En.Z.OS?(e=>{let t=new Int32Array(1);return t[0]=parseInt(e),t[0]})(t):parseInt(t);if(n===i.channel)try{T(s,l,c)}catch(e){console.log("error while dispacthing",e)}})),await b()})():(console.log("waiting to init RTM"),h(!0)),async()=>{await(async()=>{r&&(await sp.getInstance().destroy(),f(!1),console.log("RTM cleanup done"))})()})),[i.channel,i.appId,r]),bn.createElement(jp.Provider,{value:{rtmInitTimstamp:t,hasUserJoinedRTM:p,engine:g.current,localUid:n,onlineUsersCount:m}},d?e.children:bn.createElement(bn.Fragment,null))};du.Z.create({logo:{minWidth:60,minHeight:30},marginAuto:{width:"30%",height:"30%",minWidth:60,minHeight:30}});const CL=(TS.Consumer,e=>{const[t,n]=(0,bn.useState)(!1),r=tm(),{dispatch:i}=r,{renderList:o,activeUids:a,lastJoinedUid:s,pinnedUid:c}=nm(),l=(0,bn.useRef)(0),{isRecordingActive:u}=Ff(),{executeNormalQuery:d,executePresenterQuery:h}=Of(),{setScreenShareData:p,screenShareData:f}=xf(),m=aw(),v=sw(),{currentLayout:g}=Cf(),y=(0,bn.useRef)({currentLayout:g}),{channel:b,appId:E,screenShareUid:_,screenShareToken:S,encryption:A}=(0,bn.useContext)(fh).rtcProps,w=(0,bn.useRef)({renderList:o}),T=(0,bn.useRef)({pinnedUid:c});(0,bn.useEffect)((()=>{T.current.pinnedUid=c}),[c]),(0,bn.useEffect)((()=>{w.current.renderList=o}),[o]),(0,bn.useEffect)((()=>{y.current.currentLayout=g}),[g]),(0,bn.useEffect)((()=>{const e=VA(f,(([e,t])=>null==t?void 0:t.isActive));if(e){const t=Object.keys(e).map((e=>parseInt(e))).sort(((t,n)=>e[t].ts-e[n].ts));null!=t&&t.length&&(t.reverse(),l.current!==t[0]&&-1!==a.indexOf(t[0])&&C(!0,t[0]))}}),[a,f]);const C=(e,t)=>{let n=y.current.currentLayout;e&&t?(l.current=t,i({type:"SwapVideo",value:[t]}),n!==iw()&&m()):(l.current=0,n!==ow()&&v())};(0,bn.useEffect)((()=>{const e=Fp.on(Up.kickScreenshare,(()=>{r.RtcEngine.startScreenshare()})),t=Fp.on(Sp,(e=>{const t=JSON.parse(e.payload),n=t.action,r=t.value;if(null!=e&&e.sender){var i;let o=null===(i=w.current.renderList[null==e?void 0:e.sender])||void 0===i?void 0:i.screenUid;if(o||(o=null==t?void 0:t.screenUidOfUser),o)switch(n){case mp:p((e=>{var t;return{...e,[o]:{name:null===(t=w.current.renderList[o])||void 0===t?void 0:t.name,isActive:!0,ts:r||0}}}));break;case vp:p((e=>{var t;return{...e,[o]:{name:null===(t=w.current.renderList[o])||void 0===t?void 0:t.name,isActive:!1,ts:r||0}}})),T.current.pinnedUid||C(!1)}}}));return()=>{e(),t()}}),[]);const R=()=>{n(!1),console.log("STOPPED SHARING"),d(),Fp.send(Sp,JSON.stringify({action:vp,value:0}),Op.LEVEL2),p((e=>({...e,[_]:{...e[_],isActive:!1,ts:0}}))),T.current.pinnedUid||C(!1)};(0,bn.useEffect)((()=>{r.RtcEngine.addListener("ScreenshareStopped",R)}),[]);const I=async e=>{u&&(e?(console.log("screenshare: Executing presenter query"),h(_)):d()),console.log("screenshare query executed");try{await r.RtcEngine.startScreenshare(S,b,null,_,E,r.RtcEngine,A),e&&n(!0),e&&(p((e=>{var t;return{...e,[_]:{name:null===(t=w.current.renderList[_])||void 0===t?void 0:t.name,isActive:!0,ts:Pp()}}})),Fp.send(Sp,JSON.stringify({action:mp,value:Pp(),screenUidOfUser:_}),Op.LEVEL2))}catch(e){console.error("can't start the screen share",e),d()}};return bn.createElement(TS.Provider,{value:{isScreenshareActive:t,startUserScreenshare:()=>{t||I(!0)},stopUserScreenShare:()=>{t&&I(!1)},ScreenshareStoppedCallback:R}},e.children)}),RL=e=>{const[t,n]=(0,bn.useState)(!1),{isMobileView:r=!0}=e;return bn.createElement(bn.Fragment,null,bn.createElement(XS,{modalVisible:t,setModalVisible:n,title:"",containerStyle:IL.containerStyle,contentContainerStyle:IL.contentContainer,showCloseIcon:!1},bn.createElement(LC,{hideName:!0,handleClose:()=>n(!1)})),bn.createElement(cu.Z,{onPress:()=>n(!0)},bn.createElement(pm,{name:"settings",tintColor:"#FFFFFF"})))},IL=du.Z.create({contentContainer:{backgroundColor:"#1D1D1D",borderWidth:1,borderColor:"#2D2D2D",borderRadius:4,padding:0,width:"100%"},containerStyle:{}}),OL=e=>{const{VideoMute:t,AudioMute:n}=hL((e=>({AudioMute:Gw,VideoMute:zw}))),{isMobileView:r=!1}=e,{deviceList:i}=(0,bn.useContext)(Kp),{setCameraAvailable:o,setMicAvailable:a}=EC(),s=i.filter((e=>{if("audioinput"===e.kind)return!0})),c=i.filter((e=>{if("videoinput"===e.kind)return!0}));return(0,bn.useEffect)((()=>{s&&s.length&&r&&a(!0)}),[s]),(0,bn.useEffect)((()=>{c&&c.length&&r&&o(!0)}),[c]),bn.createElement(Sn.Z,{style:[kL.precallControls,r&&{paddingVertical:10}],testID:"precall-controls"},bn.createElement(Sn.Z,{style:{width:52,height:52}},bn.createElement(n,{isMobileView:r,showLabel:!Zr()||!r,showToolTip:!0})),bn.createElement(bn.Fragment,null,bn.createElement(QS,{size:r?24:16,horizontal:!0}),bn.createElement(Sn.Z,{style:{width:52,height:52}},bn.createElement(t,{isMobileView:r,showLabel:!Zr()||!r,showToolTip:!0}))),r&&bn.createElement(bn.Fragment,null,bn.createElement(QS,{size:r?24:16,horizontal:!0}),bn.createElement(Sn.Z,{style:{width:52,height:52}},bn.createElement(RL,null))))},kL=du.Z.create({precallControls:{flexDirection:"row",paddingVertical:32,justifyContent:"center",alignItems:"center",backgroundColor:"#1D1D1D"}}),NL=()=>{const{isCameraAvailable:e,isMicAvailable:t}=EC(),n=(0,bn.useContext)(qh),r=PL();return bn.createElement(Sn.Z,{style:r.fallbackRootContainer},e||n.permissionStatus===lh.NOT_REQUESTED||n.permissionStatus===lh.REQUESTED?bn.createElement(Sn.Z,{style:r.avatar},bn.createElement(Kh,{name:"profile"})):bn.createElement(Sn.Z,{style:r.fallbackContainer},bn.createElement(lu.Z,{style:r.infoText1},"Canât Find Your"," Camera"),bn.createElement(lu.Z,{style:r.infoText2},"Check your system settings to make sure that a"," camera"," is available. If not, plug one in and restart your browser."),bn.createElement(QS,{size:33}),bn.createElement(cu.Z,{style:{flexDirection:"row",alignSelf:"center"},onPress:()=>{(()=>{try{const e="https://support.google.com/chrome/answer/2693767?hl=en&co=GENIE.Platform%3DDesktop";qr()?window.open(e,"_blank"):lA.Z.openURL(e)}catch(e){console.error("Couldn't open the support url")}})()}},bn.createElement(lu.Z,{style:r.retryBtn},"Learn More"),bn.createElement(QS,{horizontal:!0,size:4}),bn.createElement(Sn.Z,{style:{alignSelf:"center"}},bn.createElement(pm,{iconType:"plain",name:"link-share",tintColor:"#099DFD"}))),bn.createElement(QS,{size:23})))},xL=()=>{const{renderList:e,activeUids:t}=nm(),[n]=t;if(!n)return null;const r=PL();return bn.createElement(Sn.Z,{style:[r.container]},bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(zh,{user:e[n],key:n,fallback:NL,containerStyle:{minHeight:200,width:"100%",height:"100%"}})),bn.createElement(OL,{isMobileView:!!Zr()}))},PL=()=>{const e=ti();return du.Z.create({infoText1:{fontFamily:sm.sansPro,fontWeight:"700",fontSize:20,textAlign:"center",color:"#FFFFFF",paddingTop:24,paddingBottom:12,paddingHorizontal:10},infoText2:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,textAlign:"center",color:"#FFFFFF"+om.disabled,paddingHorizontal:e(48)},fallbackRootContainer:{flex:1,backgroundColor:"#222222",justifyContent:"center",alignItems:"center"},fallbackContainer:{minHeight:200,maxWidth:440,backgroundColor:"#333333",borderRadius:cm.large,justifyContent:"center",alignItems:"center",margin:40},retryBtn:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:am.normal,color:"#099DFD",alignSelf:"center"},container:{flex:1,position:"relative",justifyContent:"space-between",overflow:"hidden"},avatar:{width:100,height:100,margin:40}})},DL=()=>bn.createElement(IC,null);var LL=__webpack_require__(6126),ML=__webpack_require__.n(LL);const FL=()=>{if(Pu()&&qr()){const e=bn.useMemo((()=>new(ML())),[]),[t,n]=bn.useState(e.isEnabled),r=bn.useCallback((()=>{e.enable().then((()=>{console.log("enabled sleep successfully"),n(e.isEnabled)})).catch((e=>{console.log("error enabling sleep",e)}))}),[]);return{awake:t,request:r,release:bn.useCallback((()=>{e.disable(),n(e.isEnabled),console.log("disabled sleep successfully")}),[])}}return{awake:!1,request:()=>{},release:()=>{}}},UL=new Audio("https://dl.dropboxusercontent.com/s/1cdwpm3gca9mlo0/kick.mp3"),jL=e=>{const{rtcProps:t}=(0,bn.useContext)(fh),{setCallActive:n}=EC(),r=Hp(),i=$f(),{isJoinDataFetched:o}=rf(),{awake:a,request:s}=FL(),{saveName:c}=Gp(),l=ep("joinRoomButton"),[u,d]=bn.useState(l({ready:o,role:t.role}));(0,bn.useEffect)((()=>{null!=t&&t.role&&d(l({ready:o,role:t.role}))}),[null==t?void 0:t.role]);const h=u,p=()=>(i(r.trim()),n(!0),c(r.trim()),(qr()||Pu())&&(UL.volume=0,UL.play().then((()=>{UL.pause()}))),void(qr()&&Pu()&&!a&&s())),f=!o||""===(null==r?void 0:r.trim());return null!=e&&e.render?e.render(p,h,f):bn.createElement(vm,{onPress:p,disabled:f,text:h,containerStyle:{minWidth:"100%",paddingHorizontal:10},textStyle:{textAlign:"center"}})},VL=e=>{const t=Hp(),n=$f(),{isJoinDataFetched:r}=rf(),{isDesktop:i=!1}=e;return bn.createElement(yL,{maxLength:60,label:i?"Your Name":"",labelStyle:null!=e&&e.labelStyle?e.labelStyle:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,lineHeight:am.small,color:"#FFFFFF"},value:t,autoFocus:!0,onChangeText:e=>n(e||""),onSubmitEditing:()=>{},placeholder:r?"Luke Skywalker":"Getting name...",editable:r})},BL=e=>{const{data:{meetingTitle:t}}=rf();return bn.createElement(lu.Z,{style:[zL.titleHeading,null!=e&&e.textStyle?e.textStyle:{}]},Gr(t))},zL=du.Z.create({titleHeading:{fontSize:am.normal,lineHeight:am.normal,fontWeight:"600",color:"#FFFFFF",fontFamily:sm.sansPro}}),GL=({isDesktop:e})=>{const{rtcProps:t}=(0,bn.useContext)(fh),{JoinButton:n,Textbox:r}=hL((e=>({Textbox:VL,JoinButton:jL})));return bn.createElement(Sn.Z,{style:HL.lsBtnContainer},bn.createElement(r,{isDesktop:e,labelStyle:HL.labelStyle}),bn.createElement(bn.Fragment,null,t.role==ah.Audience&&bn.createElement(QS,{size:40})),bn.createElement(Sn.Z,{style:t.role==ah.Audience&&{justifyContent:"space-between",flex:1}},bn.createElement(QS,{size:10}),bn.createElement(Sn.Z,{style:e?HL.btnContainerStyle:{width:"100%"}},bn.createElement(n,null))))},HL=du.Z.create({full:{flex:1},labelStyle:{paddingLeft:8},subTextStyle:{marginTop:8,marginLeft:8,fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,lineHeight:18,color:"#808080",textAlign:"left"},btnContainerStyle:{maxWidth:337,alignSelf:"center",marginTop:50},main:{flexGrow:1,padding:32,justifyContent:"center"},mainMobile:{flexGrow:1,flexDirection:"row",paddingHorizontal:16,paddingTop:25,paddingBottom:32,justifyContent:"center"},nav:{flex:1,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},container:{flexDirection:"row",alignItems:"center",minHeight:"80%"},leftContent:{flex:2.5,borderRadius:cm.large,overflow:"hidden"},boxStyle:{borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,elevation:5,height:"100%"},mobileBoxStyle:{marginRight:0,borderRadius:cm.large,flex:3},rightContent:{borderRadius:cm.large,flex:1,paddingHorizontal:0,paddingVertical:0,maxWidth:450,height:"100%",justifyContent:"space-between"},rightInputContent:{padding:32},titleFont:{textAlign:"center",fontSize:20,color:"#FFFFFF"},btnContainer:{flex:1,width:"100%",justifyContent:"center"},lsBtnContainer:{flex:1,width:"100%",justifyContent:"center"},meetingTitleContainer:{marginVertical:10},meetingTitleStyle:{fontFamily:sm.sansPro,fontWeight:"700",fontSize:am.extraLarge,lineHeight:am.extraLarge,color:"#FFFFFF",paddingLeft:0}}),qL=({isDesktop:e})=>{const{rtcProps:t}=(0,bn.useContext)(fh),{JoinButton:n,Textbox:r}=hL((e=>({Textbox:VL,JoinButton:jL})));return bn.createElement(Sn.Z,{style:KL.lsBtnContainer},bn.createElement(r,{isDesktop:e,labelStyle:KL.labelStyle}),bn.createElement(bn.Fragment,null,t.role==ah.Audience&&bn.createElement(QS,{size:40})),bn.createElement(Sn.Z,{style:t.role==ah.Audience&&{justifyContent:"space-between",flex:1}},bn.createElement(QS,{size:10}),bn.createElement(Sn.Z,{style:e?KL.btnContainerStyle:{width:"100%"}},bn.createElement(n,null))))},WL=({isDesktop:e})=>{const{JoinButton:t,Textbox:n}=hL((e=>({Textbox:VL,JoinButton:jL})));return bn.createElement(n,{isDesktop:e})},ZL=()=>{const{JoinButton:e,Textbox:t}=hL((e=>({Textbox:VL,JoinButton:jL})));return bn.createElement(e,null)},KL=du.Z.create({labelStyle:{paddingLeft:8},subTextStyle:{marginTop:8,marginLeft:8,fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,lineHeight:18,color:"#808080",textAlign:"left"},btnContainerStyle:{maxWidth:337,alignSelf:"center",marginTop:50},root:{flex:1},main:{flexGrow:1,flexDirection:"row",justifyContent:"center"},leftContentHorizontal:{flex:2.5,borderRadius:cm.large,overflow:"hidden",borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,elevation:5},leftContentVertical:{width:"100%",borderRadius:cm.large,overflow:"hidden",borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,elevation:5},rightContentHorizontal:{flex:1,borderRadius:cm.large,paddingHorizontal:0,paddingVertical:0,height:"100%",minWidth:350,justifyContent:"space-between",marginHorizontal:0,marginVertical:0},rightContentVertical:{flex:1,borderRadius:cm.large,paddingHorizontal:0,paddingVertical:0,maxWidth:"100%",height:"100%",justifyContent:"space-between",marginHorizontal:0},rightInputContent:{padding:32},titleFont:{textAlign:"center",fontSize:20,color:"#FFFFFF"},btnContainer:{flex:1,width:"100%",justifyContent:"center"},lsBtnContainer:{flex:1,width:"100%",justifyContent:"center"},meetingTitleContainer:{marginVertical:10},meetingTitleStyle:{fontFamily:sm.sansPro,fontWeight:"700",fontSize:am.extraLarge,lineHeight:am.extraLarge,color:"#FFFFFF",paddingLeft:0}}),YL=Zr()?e=>{const{primaryColor:t}=(0,bn.useContext)(eu),{rtcProps:n}=(0,bn.useContext)(fh),{VideoPreview:r,MeetingName:i,DeviceSelect:o,PrecallAfterView:a,PrecallBeforeView:s}=hL((e=>({PrecallAfterView:bn.Fragment,PrecallBeforeView:bn.Fragment,MeetingName:BL,VideoPreview:xL,DeviceSelect:DL}))),{isJoinDataFetched:c,data:{meetingTitle:l}}=rf(),u=tm(),[d,h]=(0,bn.useState)(!1),{store:p}=(0,bn.useContext)(li);(0,bn.useEffect)((()=>{qr()&&l&&(document.title=Gr(l)+" | video app")})),(0,bn.useEffect)((()=>{c&&new Promise((e=>u.RtcEngine.getDevices((function(t){e(t)})))).then((e=>{th.emit("preJoin",l,e)}))}),[c]),(0,bn.useEffect)((()=>{null!=p&&p.permissionPopupSeen?!1===JSON.parse(null==p?void 0:p.permissionPopupSeen)&&h(!0):h(!0)}),[]);const f=hL((e=>{}));return c?f?bn.createElement(f,null):bn.createElement(bn.Fragment,null,bn.createElement(s,null),bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(Sm.Z,{contentContainerStyle:HL.mainMobile,testID:"precall-screen"},n.role==ah.Audience?bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(Sn.Z,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},bn.createElement(i,{textStyle:HL.meetingTitleStyle}),bn.createElement(IA,{containerStyle:{marginTop:0,marginRight:0}})),bn.createElement(QS,{size:24}),bn.createElement(Sn.Z,{testID:"precall-mobile-join",style:{flex:1}},bn.createElement(GL,{isDesktop:!1}))):bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(Sn.Z,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},bn.createElement(i,{textStyle:{textAlign:"center"}}),bn.createElement(IA,{containerStyle:{marginTop:0,marginRight:0}})),bn.createElement(QS,{size:24}),bn.createElement(Sn.Z,{style:{flex:1}},bn.createElement(Sn.Z,{style:{flex:1},testID:"precall-mobile-preview"},bn.createElement(r,{isMobileView:!0})),bn.createElement(QS,{size:40}),bn.createElement(Sn.Z,{testID:"precall-mobile-join",style:{flexDirection:"row"}},bn.createElement(GL,{isDesktop:!1})))))),bn.createElement(a,null)):bn.createElement(lu.Z,{style:HL.titleFont},"Loading..")}:()=>{const{rtcProps:e}=(0,bn.useContext)(fh),{VideoPreview:t,MeetingName:n,DeviceSelect:r,PrecallAfterView:i,PrecallBeforeView:o}=hL((e=>({PrecallAfterView:bn.Fragment,PrecallBeforeView:bn.Fragment,MeetingName:BL,VideoPreview:xL,DeviceSelect:DL}))),{isJoinDataFetched:a,data:{meetingTitle:s}}=rf(),c=tm();(0,bn.useEffect)((()=>{qr()&&s&&(document.title=Gr(s)+" | video app")})),(0,bn.useEffect)((()=>{a&&new Promise((e=>c.RtcEngine.getDevices((function(t){e(t)})))).then((e=>{th.emit("ready-to-join",s,e)}))}),[a]);const l=hL((e=>{var t,n,r,i;if(null!=e&&null!==(t=e.components)&&void 0!==t&&t.precall&&"object"!=typeof(null==e||null===(n=e.components)||void 0===n?void 0:n.precall))return Hr(null==e||null===(r=e.components)||void 0===r?void 0:r.precall)?null==e||null===(i=e.components)||void 0===i?void 0:i.precall:void 0})),u=$r();return ti(),a?l?bn.createElement(l,null):bn.createElement(bn.Fragment,null,bn.createElement(o,null),e.role==ah.Audience?bn.createElement(Sn.Z,{style:KL.root},Zr()?bn.createElement(bn.Fragment,null):bn.createElement(IA,null),bn.createElement(Sm.Z,{contentContainerStyle:KL.main},bn.createElement(oA,null,bn.createElement(Sn.Z,null,bn.createElement(n,{textStyle:KL.meetingTitleStyle})),bn.createElement(QS,{size:32}),bn.createElement(qL,{isDesktop:!0})))):bn.createElement(Sn.Z,{style:KL.root},bn.createElement(Sm.Z,{contentContainerStyle:[KL.main,{padding:32,flexDirection:"column"}],testID:"precall-screen"},bn.createElement(bn.Fragment,null,bn.createElement(Sn.Z,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},bn.createElement(n,{textStyle:{textAlign:"left"}}),Zr()?bn.createElement(bn.Fragment,null):bn.createElement(IA,{containerStyle:{marginRight:0,marginTop:0}})),bn.createElement(QS,{size:32}),bn.createElement(Sn.Z,{style:{flex:1,flexDirection:u()?"row":"column",justifyContent:"space-between"}},bn.createElement(Sn.Z,{testID:"precall-preview",style:u()?KL.leftContentHorizontal:KL.leftContentVertical},bn.createElement(t,null)),bn.createElement(QS,{size:24,horizontal:!!u()}),bn.createElement(oA,{style:u()?KL.rightContentHorizontal:KL.rightContentVertical},bn.createElement(Sn.Z,{style:KL.rightInputContent},bn.createElement(WL,{isDesktop:!0}),bn.createElement(r,null)),bn.createElement(Sn.Z,{style:{width:"100%",padding:32}},bn.createElement(ZL,null))))))),bn.createElement(i,null)):bn.createElement(lu.Z,{style:KL.titleFont},"Loading..")},QL=e=>{const t=hL((e=>{var t,n,r,i,o,a,s,c;return null!=e&&null!==(t=e.components)&&void 0!==t&&t.videoCall&&"object"==typeof(null==e||null===(n=e.components)||void 0===n?void 0:n.videoCall)&&null!=e&&null!==(r=e.components)&&void 0!==r&&null!==(i=r.videoCall)&&void 0!==i&&i.useUserContext&&"function"==typeof(null==e||null===(o=e.components)||void 0===o||null===(a=o.videoCall)||void 0===a?void 0:a.useUserContext)?null==e||null===(s=e.components)||void 0===s||null===(c=s.videoCall)||void 0===c?void 0:c.useUserContext:()=>{}}));return t(),e.children},JL=(0,bn.createContext)({whiteboardData:{},setWhiteboardData:()=>{}}),XL=e=>{const[t,n]=(0,bn.useState)({}),{dispatch:r}=tm();return(0,bn.useEffect)((()=>{const e=VA(t,(([e,t])=>!0===t.active));Object.keys(e).map((t=>{const n=parseInt(t);r({type:"AddCustomContent",value:[n,e[n]]})}))}),[t]),bn.createElement(JL.Provider,{value:{whiteboardData:t,setWhiteboardData:n}},e.children)},$L=(Zu(JL),e=>{const{setStore:t}=(0,bn.useContext)(li),{isScreenshareActive:n,ScreenshareStoppedCallback:r,stopUserScreenShare:i}=CS(),{RtcEngine:o,dispatch:a}=(0,bn.useContext)(oh),{renderList:s}=nm(),c=(0,bn.useRef)({renderList:s}),l=(0,bn.useRef)({isScreenshareActive:n}),{phrase:u}=pr();return(0,bn.useEffect)((()=>{l.current.isScreenshareActive=n}),[n]),(0,bn.useEffect)((()=>{c.current.renderList=s}),[s]),(0,bn.useEffect)((()=>{Fp.on(Up.muteVideo,(async({payload:t,sender:n})=>{Bu.show({type:"info",text1:"The host has muted your video.",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null,leadingIcon:null}),qr()?await o.muteLocalVideoStream(!0):await o.enableLocalVideo(!1),await e(!0),a({type:"LocalMuteVideo",value:[0]})})),Fp.on(Up.muteAudio,(({sender:e})=>{Bu.show({type:"info",text1:"The host has muted your audio.",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null,leadingIcon:null}),o.muteLocalAudioStream(!0),a({type:"LocalMuteAudio",value:[0]})})),Fp.on(Up.kickUser,(()=>{try{var e;null!=l&&null!==(e=l.current)&&void 0!==e&&e.isScreenshareActive&&r&&r()}catch(e){console.log("error on stop the screeshare",e)}Bu.show({type:"info",text1:"The host has removed you from the meeting.",visibilityTime:5e3,primaryBtn:null,secondaryBtn:null}),setTimeout((()=>{a({type:"EndCall",value:[]})}),5e3)})),Fp.on(Up.requestAudio,(()=>{Bu.show({type:"info",text1:"The host has requested you to speak",visibilityTime:3e3,leadingIcon:null,primaryBtn:bn.createElement(vm,{containerStyle:eM.primaryBtn,textStyle:{fontWeight:"600",fontSize:16,paddingLeft:0},text:"UNMUTE",onPress:()=>{o.muteLocalAudioStream(!1),a({type:"LocalMuteAudio",value:[1]}),Bu.hide()}}),secondaryBtn:tM})})),Fp.on(Up.requestVideo,(()=>{Bu.show({type:"info",text1:"The host has asked you to start your video.",visibilityTime:3e3,leadingIcon:null,primaryBtn:bn.createElement(vm,{containerStyle:eM.primaryBtn,textStyle:eM.primaryBtnText,text:"UNMUTE",onPress:async()=>{qr()?await o.muteLocalVideoStream(!1):await o.enableLocalVideo(!0),await e(!1),a({type:"LocalMuteVideo",value:[1]}),Bu.hide()}}),secondaryBtn:tM})}));const e=async e=>{};return()=>{Fp.off(Up.requestAudio),Fp.off(Up.requestVideo),Fp.off(Up.muteVideo),Fp.off(Up.muteAudio),Fp.off(Up.kickUser)}}),[]),bn.createElement(bn.Fragment,null,e.children)}),eM=du.Z.create({secondaryBtn:{marginLeft:16,height:40,paddingVertical:5},primaryBtn:{maxWidth:109,minWidth:109,height:40,borderRadius:4,paddingVertical:5,paddingHorizontal:12},primaryBtnText:{fontWeight:"600",fontSize:16,paddingLeft:0}}),tM=bn.createElement(nA,{containerStyle:eM.secondaryBtn,text:"LATER",onPress:()=>{Bu.hide()}}),nM=__webpack_require__.p+"4654d2832744cc3c1b9f75a433a7d91a.png",rM=du.Z.create({dismissBtn:{fontFamily:sm.sansPro,fontWeight:"600",fontSize:am.normal,color:"#099DFD",paddingVertical:32},infoMessage1:{paddingHorizontal:76,paddingTop:32,paddingBottom:12,fontFamily:sm.sansPro,fontWeight:"700",fontSize:am.large,textAlign:"center",color:"#FFFFFF"},infoMessage2:{fontFamily:sm.sansPro,fontWeight:"400",fontSize:am.small,color:"#FFFFFF"+om.medium},infoMessage2Highlight:{fontWeight:"700",fontFamily:sm.sansPro,fontSize:am.small},modal:{flex:1,flexDirection:"column",maxHeight:386,width:441,borderRadius:20,paddingHorizontal:0,paddingVertical:0,borderWidth:0},modalImageContainer:{minHeight:190},modalImage:{width:"100%",height:"100%"},modalContent:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#1D1D1D",borderBottomLeftRadius:20,borderBottomRightRadius:20}}),iM=()=>{const{dispatch:e}=tm(),{permissionStatus:t}=Af(),[n,r]=(0,bn.useState)(!1),i=()=>{e({type:"LocalPermissionState",value:[lh.CANCELLED]})};return(0,bn.useEffect)((()=>{Promise.all([navigator.permissions.query({name:"camera"}),navigator.permissions.query({name:"microphone"})]).then((([e,t])=>{if("granted"!==e.state||"granted"!==t.state){r(!0);const n=()=>{"granted"===e.state&&"granted"===t.state&&r(!1)};t.onchange=n,e.onchange=n}})).catch((e=>{setTimeout((()=>{r(!0)}),1e3)}))}),[]),n&&bn.createElement(XS,{modalVisible:t===lh.REQUESTED,setModalVisible:i,showCloseIcon:!1,contentContainerStyle:rM.modal},bn.createElement(Sn.Z,{style:rM.modalImageContainer},bn.createElement(qu.Z,{style:rM.modalImage,resizeMode:"contain",source:{uri:nM}})),bn.createElement(Sn.Z,{style:rM.modalContent},bn.createElement(lu.Z,{style:rM.infoMessage1},"Allow access to camera and microphone"),bn.createElement(lu.Z,{style:rM.infoMessage2},"Select",bn.createElement(lu.Z,{style:rM.infoMessage2Highlight}," âAllowâ "),"for others to see and hear you"),bn.createElement(cu.Z,{onPress:()=>{i()}},bn.createElement(lu.Z,{style:rM.dismissBtn},"Dismiss"))))},oM={maxViewStyles:SL.temp,minViewStyles:SL.temp,localBtnContainer:SL.bottomBar,localBtnStyles:{muteLocalAudio:SL.localButton,muteLocalVideo:SL.localButton,switchCamera:SL.localButton,endCall:SL.endCall,fullScreen:SL.localButton,recording:SL.localButton,screenshare:SL.localButton},theme:"#099DFD",remoteBtnStyles:{muteRemoteAudio:SL.remoteButton,muteRemoteVideo:SL.remoteButton,remoteSwap:SL.remoteButton,minCloseBtnStyles:SL.minCloseBtn,liveStreamHostControlBtns:SL.liveStreamHostControlBtns},BtnStyles:SL.remoteButton},aM=du.Z.create({full:{flex:1,flexDirection:"column",overflow:"hidden"},videoView:lm.t_,loader:{flex:1,alignSelf:"center",justifyContent:"center"},loaderLogo:{alignSelf:"center",justifyContent:"center",marginBottom:30},loaderText:{fontWeight:"500",color:"#FFFFFF"}}),sM=()=>{var e,t;const{setGlobalErrorMessage:n}=(0,bn.useContext)(zu),{awake:r,release:i}=FL(),[o,a]=(0,bn.useState)(!1),s=nw(),c=Kr(s)?s[0].name:"",[l,u]=(0,bn.useState)(c),[d,h]=(0,bn.useState)(!1),[p,f]=(0,bn.useState)(!1),[m,v]=(0,bn.useState)(Hf.None),[g,y]=(0,bn.useState)({editName:!1}),{phrase:b}=pr(),{store:E}=(0,bn.useContext)(li),{join:_,microphoneDevice:S,cameraDevice:A,clearState:w}=(0,bn.useContext)(sf),[T,C]=bn.useState({appId:"3011254ab8fa4162abe3adba271813c1",channel:null,uid:null,token:null,rtm:null,screenShareUid:null,screenShareToken:null,profile:"480p_8",dual:!0,encryption:!1,role:ah.Broadcaster,geoFencing:!0,audioRoom:!1,activeSpeaker:!1,preferredCameraId:A.deviceId||(null==E||null===(e=E.activeDeviceId)||void 0===e?void 0:e.videoinput)||null,preferredMicrophoneId:S.deviceId||(null==E||null===(t=E.activeDeviceId)||void 0===t?void 0:t.audioinput)||null}),R=dr(),I=((0,bn.useRef)(R.location.pathname),Zp()),{setMeetingInfo:O}=$d(),{isJoinDataFetched:k,data:N}=rf();bn.useEffect((()=>()=>{console.log("Videocall unmounted"),O(ef),r&&i()}),[]),(0,bn.useEffect)((()=>{_.phrase||I(b).then((()=>{})).catch((e=>{n(e),R.push("/")}))}),[]),(0,bn.useEffect)((()=>{}),[_]),bn.useEffect((()=>{!0!==k||p||(C((e=>({...e,channel:N.channel,uid:N.uid,token:N.token,rtm:N.rtmToken,encryption:!1,screenShareUid:N.screenShareUid,screenShareToken:N.screenShareToken,role:N.isHost?ah.Broadcaster:ah.Audience}))),f(!0))}),[k,N,p]);const x={EndCall:()=>{w("join"),setTimeout((()=>{th.emit("leave"),R.push("/")}),0)},UserJoined:e=>{console.log("UIKIT Callback: UserJoined",e),th.emit("rtc-user-joined",e)},UserOffline:e=>{console.log("UIKIT Callback: UserOffline",e),th.emit("rtc-user-joined",e)},RemoteAudioStateChanged:(e,t)=>{console.log("UIKIT Callback: RemoteAudioStateChanged",e,t),0===t?th.emit("rtc-user-unpublished",e,"audio"):th.emit("rtc-user-published",e,"audio")},RemoteVideoStateChanged:(e,t)=>{console.log("UIKIT Callback: RemoteVideoStateChanged",e,t),0===t?th.emit("rtc-user-unpublished",e,"video"):th.emit("rtc-user-published",e,"video")}},[P,D]=(0,bn.useState)(!1),[L,M]=(0,bn.useState)(!1),[F,U]=(0,bn.useState)(!1),[j,V]=(0,bn.useState)(!1);return bn.createElement(bn.Fragment,null,p?p||!o?bn.createElement(bn.Fragment,null,bn.createElement(ph,{value:{rtcProps:{...T,callActive:o},callbacks:x,styleProps:oM,mode:sh.LiveBroadcasting}},bn.createElement(jh,null,bn.createElement(Qp,null,bn.createElement(jf,null,bn.createElement(zf,null,bn.createElement(Tf,{value:{currentLayout:l,setLayout:u}},bn.createElement(kw,{value:{currentFocus:g,setFocus:y}},bn.createElement(Wf,{value:{sidePanel:m,setSidePanel:v}},bn.createElement(Jf,null,bn.createElement(Nf,null,bn.createElement(TL,{setRecordingActive:h,callActive:o},bn.createElement(zp,null,bn.createElement(XL,null,bn.createElement(Mf,{value:{setRecordingActive:h,isRecordingActive:d}},bn.createElement(CL,null,bn.createElement($L,null,bn.createElement(gw,{value:{setRtcProps:C,rtcProps:T,callActive:o}},bn.createElement(Sw,null,bn.createElement(Wh,{localUid:null==T?void 0:T.uid},bn.createElement(QL,null,bn.createElement(DS,null,!Zr()&&bn.createElement(iM,null),bn.createElement(mf,null,o?bn.createElement(Kw,null,bn.createElement(HA,null,bn.createElement(dT,null,bn.createElement(cL,null)))):bn.createElement(bC,{value:{callActive:o,setCallActive:a,isCameraAvailable:P,isMicAvailable:L,setCameraAvailable:D,setMicAvailable:M,isPermissionRequested:j,setIsPermissionRequested:V,isSpeakerAvailable:F,setSpeakerAvailable:U}},bn.createElement(YL,null))))))))))))))))))))))))):bn.createElement(Sn.Z,{style:aM.loader},bn.createElement(Sn.Z,{style:aM.loaderLogo},!1),bn.createElement(lu.Z,{style:aM.loaderText},"Starting Call. Just a second.")):bn.createElement(bn.Fragment,null))},cM=(0,bn.createContext)({showShareScreen:()=>{}}),lM=e=>bn.createElement(cM.Provider,{value:{...e.value}},e.children);function uM(){return uM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uM.apply(this,arguments)}function dM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Zu(cM);class hM extends bn.Component{constructor(e,t){super(e,t),dM(this,"handleSwitch",(()=>{const{value:e}=this.state,{onValueChange:t,disabled:n,changeValueImmediately:r,value:i}=this.props;n||(this.props.value!==this.state.value?r?(this.animateSwitch(!i),t(!i)):this.animateSwitch(!e,(()=>this.setState({value:!e},(()=>t(this.state.value))))):t(!this.state.value))})),dM(this,"animateSwitch",((e,t=(()=>{}))=>{ou.Z.parallel([ou.Z.spring(this.state.transformSwitch,{toValue:e?this.props.switchWidth/this.props.switchLeftPx:-this.props.switchWidth/this.props.switchRightPx,useNativeDriver:!1}),ou.Z.timing(this.state.backgroundColor,{toValue:e?75:-75,duration:200,useNativeDriver:!1}),ou.Z.timing(this.state.circleColor,{toValue:e?75:-75,duration:200,useNativeDriver:!1}),ou.Z.timing(this.state.circleBorderColor,{toValue:e?75:-75,duration:200,useNativeDriver:!1})]).start(t)})),this.state={value:e.value,transformSwitch:new ou.Z.Value(e.value?e.switchWidth/e.switchLeftPx:-e.switchWidth/e.switchRightPx),backgroundColor:new ou.Z.Value(e.value?75:-75),circleColor:new ou.Z.Value(e.value?75:-75),circleBorderColor:new ou.Z.Value(e.value?75:-75)}}componentDidUpdate(e){const{value:t,disabled:n}=this.props;e.value!==t&&(e.disabled&&n===e.disabled||this.animateSwitch(t,(()=>this.setState({value:t}))))}render(){const{transformSwitch:e,backgroundColor:t,circleColor:n,circleBorderColor:r}=this.state,{backgroundActive:i,backgroundInactive:o,circleActiveColor:a,circleInActiveColor:s,activeText:c,inActiveText:l,switchWidth:u,switchHeight:d,containerStyle:h,activeTextStyle:p,inactiveTextStyle:f,barHeight:m,circleBorderInactiveColor:v,circleBorderActiveColor:g,circleBorderWidth:y,innerCircleStyle:b,outerCircleStyle:E,renderActiveText:_,renderInActiveText:S,renderInsideCircle:A,switchWidthMultiplier:w,switchBorderRadius:T,value:C,...R}=this.props,I=t.interpolate({inputRange:[-75,75],outputRange:[o,i]}),O=n.interpolate({inputRange:[-75,75],outputRange:[s,a]}),k=r.interpolate({inputRange:[-75,75],outputRange:[v,g]});return bn.createElement(cu.Z,uM({onPress:this.handleSwitch},R),bn.createElement(ou.Z.View,{style:[pM.container,h,{backgroundColor:I,width:u*w,height:m||d,borderRadius:T}]},bn.createElement(ou.Z.View,{style:[pM.animatedContainer,{left:e,width:u*w},E]},C&&_&&bn.createElement(lu.Z,{style:[pM.text,pM.paddingRight,p]},c),bn.createElement(ou.Z.View,{style:[pM.circle,{borderWidth:y,borderColor:k,backgroundColor:O,width:u,height:d,borderRadius:T/2},b]},A()),!C&&S&&bn.createElement(lu.Z,{style:[pM.text,pM.paddingLeft,f]},l))))}}dM(hM,"propTypes",{onValueChange:Mn().func,disabled:Mn().bool,activeText:Mn().string,inActiveText:Mn().string,backgroundActive:Mn().string,backgroundInactive:Mn().string,value:Mn().bool,circleActiveColor:Mn().string,circleInActiveColor:Mn().string,circleBorderActiveColor:Mn().string,circleBorderInactiveColor:Mn().string,activeTextStyle:Mn().object,inactiveTextStyle:Mn().object,containerStyle:Mn().object,barHeight:Mn().number,circleBorderWidth:Mn().number,innerCircleStyle:Mn().object,renderInsideCircle:Mn().func,changeValueImmediately:Mn().bool,outerCircleStyle:Mn().object,renderActiveText:Mn().bool,renderInActiveText:Mn().bool,switchWidth:Mn().number,switchHeight:Mn().number,switchLeftPx:Mn().number,switchRightPx:Mn().number,switchWidthMultiplier:Mn().number,switchBorderRadius:Mn().number}),dM(hM,"defaultProps",{value:!1,onValueChange:()=>null,renderInsideCircle:()=>null,disabled:!1,activeText:"On",inActiveText:"Off",backgroundActive:"green",backgroundInactive:"gray",circleActiveColor:"white",circleInActiveColor:"white",circleBorderActiveColor:"rgb(100, 100, 100)",circleBorderInactiveColor:"rgb(80, 80, 80)",switchWidth:30,switchHeight:30,switchBorderRadius:100,barHeight:null,circleBorderWidth:1,changeValueImmediately:!0,innerCircleStyle:{alignItems:"center",justifyContent:"center"},outerCircleStyle:{},renderActiveText:!0,renderInActiveText:!0,switchLeftPx:4,switchRightPx:4,switchWidthMultiplier:2,testID:null});const pM=du.Z.create({container:{width:71,height:30,borderRadius:30,backgroundColor:"black"},animatedContainer:{flex:1,width:78,flexDirection:"row",justifyContent:"center",alignItems:"center"},circle:{width:30,height:30,borderRadius:15,backgroundColor:"white"},text:{color:"white",backgroundColor:"transparent"},paddingRight:{paddingRight:5},paddingLeft:{paddingLeft:5}}),fM=(du.Z.create({}),du.Z.create({root:{flex:1},inputLabelStyle:{paddingLeft:8},main:{flexGrow:1,flexDirection:"row",justifyContent:"center"},heading:{fontSize:am.extraLarge,fontWeight:"700",lineHeight:am.extraLarge,color:"#FFFFFF",fontFamily:sm.sansPro,opacity:im.high},headline:{fontSize:18,fontWeight:"400",textAlign:"center",color:"#FFFFFF",marginBottom:40},btnContainer:{width:"100%",alignItems:"center"},toggleContainer:{flexDirection:"row",backgroundColor:"#262626",paddingVertical:22,paddingHorizontal:20},upper:{borderTopLeftRadius:cm.medium,borderTopRightRadius:cm.medium},lower:{borderBottomLeftRadius:cm.medium,borderBottomRightRadius:cm.medium},toggleLabel:{color:"#FFFFFF",fontSize:am.normal,marginRight:4,fontFamily:sm.sansPro,fontWeight:"400",alignSelf:"center"},separator:{height:1},infoContainer:{flexDirection:"row",flex:.8},infoToggleContainer:{flex:.2,alignItems:"flex-end",alignSelf:"center"},tooltipActiveBgStyle:{backgroundColor:"#808080"+rm["20%"],borderRadius:14,padding:5},tooltipDefaultBgStyle:{padding:5}})),mM=()=>{const{CreateComponent:e}=hL((e=>({}))),{setStore:t}=(Zp(),(0,bn.useContext)(li)),{setGlobalErrorMessage:n}=(0,bn.useContext)(zu),r=dr(),[i,o]=(0,bn.useState)(!1),[a,s]=(0,bn.useState)(""),[c,l]=(0,bn.useState)(!1),[u,d]=(0,bn.useState)(!1),[h,p]=(0,bn.useState)(!1),f=function(){const[e,{error:t}]=Qd(nh),{setMeetingInfo:n}=$d();return async(r,i,o)=>{var a;const s=await e({variables:{title:r,enablePSTN:i}});if(t&&!ii)throw t;if(!(s&&null!=s&&s.data&&null!=s&&null!==(a=s.data)&&void 0!==a&&a.createChannel))throw new Error("An error occurred in parsing the channel data.");{var c,l,u,d,h,p,f,m;let e={roomId:{attendee:""}};null!=s&&null!==(c=s.data)&&void 0!==c&&null!==(l=c.createChannel)&&void 0!==l&&null!==(u=l.passphrase)&&void 0!==u&&u.view&&(e.roomId.attendee=s.data.createChannel.passphrase.view),null!=s&&null!==(d=s.data)&&void 0!==d&&null!==(h=d.createChannel)&&void 0!==h&&null!==(p=h.passphrase)&&void 0!==p&&p.host&&(e.roomId.host=s.data.createChannel.passphrase.host),!0===i&&null!=s&&null!==(f=s.data)&&void 0!==f&&null!==(m=f.createChannel)&&void 0!==m&&m.pstn&&(e.pstn={number:s.data.createChannel.pstn.number,pin:s.data.createChannel.pstn.dtmf}),n({data:{isHost:!0,isSeparateHostLink:!!o,meetingTitle:r,roomId:null==e?void 0:e.roomId,pstn:null==e?void 0:e.pstn}}),th.emit("create",e.roomId.host,e.roomId.attendee,null==e?void 0:e.pstn)}}}(),{setMeetingInfo:m}=$d(),v=!Zr();(0,bn.useEffect)((()=>(qr()&&!ii&&(document.title="video app"),console.log("[SDKEvents] Join listener registered"),()=>{})),[]);const g=()=>{p(!0)},y=async(e,t,r)=>{if(""!==e){o(!0);try{m(ef),await f(e,t,r),o(!1),Bu.show({type:"success",text1:Gr(e)+" has been created",text2:"Your New meeting is now live",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null,leadingIcon:null}),g()}catch(e){o(!1),n(e)}}};return bn.createElement(lM,{value:{showShareScreen:g}},h?bn.createElement(bn.Fragment,null):e?bn.createElement(e,null):bn.createElement(Sn.Z,{style:fM.root},Zr()?bn.createElement(bn.Fragment,null):bn.createElement(IA,{containerStyle:{marginBottom:-100}}),bn.createElement(Sm.Z,{contentContainerStyle:fM.main},bn.createElement(oA,null,bn.createElement(Sn.Z,null,bn.createElement(Sn.Z,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},bn.createElement(Wu,null),Zr()?bn.createElement(IA,{containerStyle:{marginTop:0,marginRight:0}}):bn.createElement(bn.Fragment,null)),bn.createElement(QS,{size:v?20:16}),bn.createElement(lu.Z,{style:fM.heading},"Create a Online Video Conference"),bn.createElement(QS,{size:40}),bn.createElement(yL,{maxLength:60,labelStyle:fM.inputLabelStyle,label:"Meeting Name",value:a,placeholder:"Enter Meeting Name ",onChangeText:e=>s(e),onSubmitEditing:()=>{null!=a&&a.trim()&&y(null==a?void 0:a.trim(),c,!u)}}),bn.createElement(QS,{size:40}),bn.createElement(bn.Fragment,null),bn.createElement(bn.Fragment,null),bn.createElement(QS,{size:v?60:125})),bn.createElement(Sn.Z,{style:[fM.btnContainer]},bn.createElement(vm,{iconName:"video-plus",disabled:i||!(null!=a&&a.trim()),containerStyle:!v&&{width:"100%"},onPress:()=>{y(null==a?void 0:a.trim(),c,!u)},text:i?"Loading...":"CREATE A Meeting"}),bn.createElement(QS,{size:16}),bn.createElement(sA,{text:"Join with a meeting ID",onPress:()=>r.push("/join")}))))),h?bn.createElement(xA,null):bn.createElement(bn.Fragment,null))},vM=e=>{const t=(0,bn.useRef)(!1),{authenticated:n}=RA();return(0,bn.useEffect)((()=>{t.current&&(n||Bu.show({type:"error",text1:"Authentication failed",visibilityTime:1e3}),t.current=!0)}),[n]),n?bn.createElement(bn.Fragment,null,bn.createElement(cr,e)):bn.createElement(_A,{text:"Loading..."})},gM=()=>{const{setIsAuthenticated:e,authLogin:t}=RA(),n=dr(),{token:r}=pr(),{enableTokenAuth:i}=(Yd(),gA());return(0,bn.useEffect)((()=>{const o=((e,t)=>{if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]})(n.location.search,"token");o?i(o).then((()=>{e(!0),r&&-1===r.indexOf("authorize")?n.push("/"+r):n.push("/")})).catch((()=>{e(!1),console.log("debugging error on IDP token setting")})):(e(!1),Bu.show({type:"error",text1:"Error occured on Login, Please login again.",visibilityTime:3e3}),setTimeout((()=>{t()}),3e3))}),[]),bn.createElement(_A,{text:"Authorizing app..."})},yM=function(){return bn.createElement(lr,null,bn.createElement(cr,{exact:!0,path:"/"},bn.createElement(ir,{to:"/create"})),bn.createElement(cr,{exact:!0,path:"/authorize/:token?"},bn.createElement(gM,null)),bn.createElement(vM,{exact:!0,path:"/join"},bn.createElement(_L,null)),bn.createElement(vM,{exact:!0,path:"/create"},bn.createElement(mM,null)),bn.createElement(vM,{path:"/:phrase"},bn.createElement(sM,null)),bn.createElement(cr,{path:"*"},bn.createElement(lu.Z,null,"Page not found")))};"ios"===En.Z.OS&&(Tn.setEnable(!0),Tn.setEnableAutoToolbar(!1),Tn.setShouldShowToolbarPlaceholder(!1),Tn.setShouldResignOnTouchOutside(!0));const bM=()=>{const[e,t]=(0,bn.useState)(ef);return bn.createElement(fL,null,bn.createElement(Xd,{value:{setMeetingInfo:t}},bn.createElement(nf,{value:{...e}},bn.createElement(WS,null,bn.createElement(yM,null)))))};var EM=__webpack_require__(1008),_M={};_M.styleTagTransform=pP(),_M.setAttributes=lP(),_M.insert=sP().bind(null,"head"),_M.domAPI=oP(),_M.insertStyleElement=dP(),rP()(EM.Z,_M),EM.Z&&EM.Z.locals&&EM.Z.locals,function(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=gn),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),yt.SENTRY_RELEASE&&yt.SENTRY_RELEASE.id&&(e.release=yt.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||cn,Array.isArray(n)?ge(...n):n),integrations:se(e),transport:e.transport||(_e()?mn:vn)};var n;!function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?V.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=re();n.getScope().update(t.initialScope);const r=new e(t);n.bindClient(r)}(kt,t),e.autoSessionTracking&&function(){if(void 0===yt.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&V.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=re();e.captureSession&&(yn(e),Ie("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&yn(re())})))}()}({dsn:"https://b5df0450fe284baa8376e62ace331580@o615358.ingest.sentry.io/5749898"}),t.Z.registerComponent("App",(()=>bM)),t.Z.runApplication("App",{initialProps:{},rootTag:document.getElementById("react-app")})})()})();